var qD=Object.defineProperty;var GD=(e,t,r)=>t in e?qD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Br=(e,t,r)=>(GD(e,typeof t!="symbol"?t+"":t,r),r);import eI from"https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";import WD from".prisma/client/index-browser";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();eI.initialize({startOnLoad:!1,theme:"default",securityLevel:"loose",themeVariables:{primaryColor:"#dc2626",primaryTextColor:"#fff",primaryBorderColor:"#b91c1c",lineColor:"#dc2626",secondaryColor:"#fef2f2",tertiaryColor:"#fee2e2"}});window.mermaid=eI;console.log("âœ… Mermaid.js loaded and initialized");var la=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ch(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function $D(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var tI={exports:{}},by={},rI={exports:{}},Xr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tp=Symbol.for("react.element"),VD=Symbol.for("react.portal"),XD=Symbol.for("react.fragment"),YD=Symbol.for("react.strict_mode"),JD=Symbol.for("react.profiler"),ZD=Symbol.for("react.provider"),e8=Symbol.for("react.context"),t8=Symbol.for("react.forward_ref"),r8=Symbol.for("react.suspense"),n8=Symbol.for("react.memo"),i8=Symbol.for("react.lazy"),OC=Symbol.iterator;function s8(e){return e===null||typeof e!="object"?null:(e=OC&&e[OC]||e["@@iterator"],typeof e=="function"?e:null)}var nI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},iI=Object.assign,sI={};function Ah(e,t,r){this.props=e,this.context=t,this.refs=sI,this.updater=r||nI}Ah.prototype.isReactComponent={};Ah.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ah.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function aI(){}aI.prototype=Ah.prototype;function g5(e,t,r){this.props=e,this.context=t,this.refs=sI,this.updater=r||nI}var y5=g5.prototype=new aI;y5.constructor=g5;iI(y5,Ah.prototype);y5.isPureReactComponent=!0;var PC=Array.isArray,oI=Object.prototype.hasOwnProperty,w5={current:null},lI={key:!0,ref:!0,__self:!0,__source:!0};function cI(e,t,r){var n,i={},s=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)oI.call(t,n)&&!lI.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var c=Array(o),A=0;A<o;A++)c[A]=arguments[A+2];i.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Tp,type:e,key:s,ref:a,props:i,_owner:w5.current}}function a8(e,t){return{$$typeof:Tp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function b5(e){return typeof e=="object"&&e!==null&&e.$$typeof===Tp}function o8(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var QC=/\/+/g;function Sw(e,t){return typeof e=="object"&&e!==null&&e.key!=null?o8(""+e.key):t.toString(36)}function Kg(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Tp:case VD:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+Sw(a,0):n,PC(i)?(r="",e!=null&&(r=e.replace(QC,"$&/")+"/"),Kg(i,t,r,"",function(A){return A})):i!=null&&(b5(i)&&(i=a8(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(QC,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",PC(e))for(var o=0;o<e.length;o++){s=e[o];var c=n+Sw(s,o);a+=Kg(s,t,r,c,i)}else if(c=s8(e),typeof c=="function")for(e=c.call(e),o=0;!(s=e.next()).done;)s=s.value,c=n+Sw(s,o++),a+=Kg(s,t,r,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function pm(e,t,r){if(e==null)return e;var n=[],i=0;return Kg(e,n,"","",function(s){return t.call(r,s,i++)}),n}function l8(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ua={current:null},qg={transition:null},c8={ReactCurrentDispatcher:ua,ReactCurrentBatchConfig:qg,ReactCurrentOwner:w5};function AI(){throw Error("act(...) is not supported in production builds of React.")}Xr.Children={map:pm,forEach:function(e,t,r){pm(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return pm(e,function(){t++}),t},toArray:function(e){return pm(e,function(t){return t})||[]},only:function(e){if(!b5(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Xr.Component=Ah;Xr.Fragment=XD;Xr.Profiler=JD;Xr.PureComponent=g5;Xr.StrictMode=YD;Xr.Suspense=r8;Xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c8;Xr.act=AI;Xr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=iI({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=w5.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)oI.call(t,c)&&!lI.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var A=0;A<c;A++)o[A]=arguments[A+2];n.children=o}return{$$typeof:Tp,type:e.type,key:i,ref:s,props:n,_owner:a}};Xr.createContext=function(e){return e={$$typeof:e8,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ZD,_context:e},e.Consumer=e};Xr.createElement=cI;Xr.createFactory=function(e){var t=cI.bind(null,e);return t.type=e,t};Xr.createRef=function(){return{current:null}};Xr.forwardRef=function(e){return{$$typeof:t8,render:e}};Xr.isValidElement=b5;Xr.lazy=function(e){return{$$typeof:i8,_payload:{_status:-1,_result:e},_init:l8}};Xr.memo=function(e,t){return{$$typeof:n8,type:e,compare:t===void 0?null:t}};Xr.startTransition=function(e){var t=qg.transition;qg.transition={};try{e()}finally{qg.transition=t}};Xr.unstable_act=AI;Xr.useCallback=function(e,t){return ua.current.useCallback(e,t)};Xr.useContext=function(e){return ua.current.useContext(e)};Xr.useDebugValue=function(){};Xr.useDeferredValue=function(e){return ua.current.useDeferredValue(e)};Xr.useEffect=function(e,t){return ua.current.useEffect(e,t)};Xr.useId=function(){return ua.current.useId()};Xr.useImperativeHandle=function(e,t,r){return ua.current.useImperativeHandle(e,t,r)};Xr.useInsertionEffect=function(e,t){return ua.current.useInsertionEffect(e,t)};Xr.useLayoutEffect=function(e,t){return ua.current.useLayoutEffect(e,t)};Xr.useMemo=function(e,t){return ua.current.useMemo(e,t)};Xr.useReducer=function(e,t,r){return ua.current.useReducer(e,t,r)};Xr.useRef=function(e){return ua.current.useRef(e)};Xr.useState=function(e){return ua.current.useState(e)};Xr.useSyncExternalStore=function(e,t,r){return ua.current.useSyncExternalStore(e,t,r)};Xr.useTransition=function(){return ua.current.useTransition()};Xr.version="18.3.1";rI.exports=Xr;var Se=rI.exports;const v5=ch(Se);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A8=Se,u8=Symbol.for("react.element"),d8=Symbol.for("react.fragment"),h8=Object.prototype.hasOwnProperty,f8=A8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p8={key:!0,ref:!0,__self:!0,__source:!0};function uI(e,t,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)h8.call(t,n)&&!p8.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:u8,type:e,key:s,ref:a,props:i,_owner:f8.current}}by.Fragment=d8;by.jsx=uI;by.jsxs=uI;tI.exports=by;var l=tI.exports,ix={},dI={exports:{}},oo={},hI={exports:{}},fI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(fe,le){var ne=fe.length;fe.push(le);e:for(;0<ne;){var ae=ne-1>>>1,_=fe[ae];if(0<i(_,le))fe[ae]=le,fe[ne]=_,ne=ae;else break e}}function r(fe){return fe.length===0?null:fe[0]}function n(fe){if(fe.length===0)return null;var le=fe[0],ne=fe.pop();if(ne!==le){fe[0]=ne;e:for(var ae=0,_=fe.length,O=_>>>1;ae<O;){var G=2*(ae+1)-1,oe=fe[G],Ae=G+1,U=fe[Ae];if(0>i(oe,ne))Ae<_&&0>i(U,oe)?(fe[ae]=U,fe[Ae]=ne,ae=Ae):(fe[ae]=oe,fe[G]=ne,ae=G);else if(Ae<_&&0>i(U,ne))fe[ae]=U,fe[Ae]=ne,ae=Ae;else break e}}return le}function i(fe,le){var ne=fe.sortIndex-le.sortIndex;return ne!==0?ne:fe.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],A=[],d=1,h=null,f=3,u=!1,g=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(fe){for(var le=r(A);le!==null;){if(le.callback===null)n(A);else if(le.startTime<=fe)n(A),le.sortIndex=le.expirationTime,t(c,le);else break;le=r(A)}}function b(fe){if(m=!1,w(fe),!g)if(r(c)!==null)g=!0,ge(I);else{var le=r(A);le!==null&&Y(b,le.startTime-fe)}}function I(fe,le){g=!1,m&&(m=!1,p(Q),Q=-1),u=!0;var ne=f;try{for(w(le),h=r(c);h!==null&&(!(h.expirationTime>le)||fe&&!q());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,f=h.priorityLevel;var _=ae(h.expirationTime<=le);le=e.unstable_now(),typeof _=="function"?h.callback=_:h===r(c)&&n(c),w(le)}else n(c);h=r(c)}if(h!==null)var O=!0;else{var G=r(A);G!==null&&Y(b,G.startTime-le),O=!1}return O}finally{h=null,f=ne,u=!1}}var F=!1,R=null,Q=-1,k=5,$=-1;function q(){return!(e.unstable_now()-$<k)}function T(){if(R!==null){var fe=e.unstable_now();$=fe;var le=!0;try{le=R(!0,fe)}finally{le?K():(F=!1,R=null)}}else F=!1}var K;if(typeof y=="function")K=function(){y(T)};else if(typeof MessageChannel<"u"){var v=new MessageChannel,re=v.port2;v.port1.onmessage=T,K=function(){re.postMessage(null)}}else K=function(){x(T,0)};function ge(fe){R=fe,F||(F=!0,K())}function Y(fe,le){Q=x(function(){fe(e.unstable_now())},le)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(fe){fe.callback=null},e.unstable_continueExecution=function(){g||u||(g=!0,ge(I))},e.unstable_forceFrameRate=function(fe){0>fe||125<fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<fe?Math.floor(1e3/fe):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(fe){switch(f){case 1:case 2:case 3:var le=3;break;default:le=f}var ne=f;f=le;try{return fe()}finally{f=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(fe,le){switch(fe){case 1:case 2:case 3:case 4:case 5:break;default:fe=3}var ne=f;f=fe;try{return le()}finally{f=ne}},e.unstable_scheduleCallback=function(fe,le,ne){var ae=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ae+ne:ae):ne=ae,fe){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=ne+_,fe={id:d++,callback:le,priorityLevel:fe,startTime:ne,expirationTime:_,sortIndex:-1},ne>ae?(fe.sortIndex=ne,t(A,fe),r(c)===null&&fe===r(A)&&(m?(p(Q),Q=-1):m=!0,Y(b,ne-ae))):(fe.sortIndex=_,t(c,fe),g||u||(g=!0,ge(I))),fe},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(fe){var le=f;return function(){var ne=f;f=le;try{return fe.apply(this,arguments)}finally{f=ne}}}})(fI);hI.exports=fI;var m8=hI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g8=Se,ao=m8;function Ut(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pI=new Set,Xf={};function Bu(e,t){Hd(e,t),Hd(e+"Capture",t)}function Hd(e,t){for(Xf[e]=t,e=0;e<t.length;e++)pI.add(t[e])}var vc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sx=Object.prototype.hasOwnProperty,y8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,MC={},HC={};function w8(e){return sx.call(HC,e)?!0:sx.call(MC,e)?!1:y8.test(e)?HC[e]=!0:(MC[e]=!0,!1)}function b8(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function v8(e,t,r,n){if(t===null||typeof t>"u"||b8(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function da(e,t,r,n,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Cs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Cs[e]=new da(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Cs[t]=new da(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Cs[e]=new da(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Cs[e]=new da(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Cs[e]=new da(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Cs[e]=new da(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Cs[e]=new da(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Cs[e]=new da(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Cs[e]=new da(e,5,!1,e.toLowerCase(),null,!1,!1)});var x5=/[\-:]([a-z])/g;function B5(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(x5,B5);Cs[t]=new da(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(x5,B5);Cs[t]=new da(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(x5,B5);Cs[t]=new da(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Cs[e]=new da(e,1,!1,e.toLowerCase(),null,!1,!1)});Cs.xlinkHref=new da("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Cs[e]=new da(e,1,!1,e.toLowerCase(),null,!0,!0)});function C5(e,t,r,n){var i=Cs.hasOwnProperty(t)?Cs[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(v8(t,r,i,n)&&(r=null),n||i===null?w8(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Sc=g8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mm=Symbol.for("react.element"),id=Symbol.for("react.portal"),sd=Symbol.for("react.fragment"),E5=Symbol.for("react.strict_mode"),ax=Symbol.for("react.profiler"),mI=Symbol.for("react.provider"),gI=Symbol.for("react.context"),S5=Symbol.for("react.forward_ref"),ox=Symbol.for("react.suspense"),lx=Symbol.for("react.suspense_list"),_5=Symbol.for("react.memo"),Vc=Symbol.for("react.lazy"),yI=Symbol.for("react.offscreen"),zC=Symbol.iterator;function _h(e){return e===null||typeof e!="object"?null:(e=zC&&e[zC]||e["@@iterator"],typeof e=="function"?e:null)}var ai=Object.assign,_w;function cf(e){if(_w===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);_w=t&&t[1]||""}return`
`+_w+e}var Nw=!1;function kw(e,t){if(!e||Nw)return"";Nw=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(A){var n=A}Reflect.construct(e,[],t)}else{try{t.call()}catch(A){n=A}e.call(t.prototype)}else{try{throw Error()}catch(A){n=A}e()}}catch(A){if(A&&n&&typeof A.stack=="string"){for(var i=A.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=o);break}}}finally{Nw=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?cf(e):""}function x8(e){switch(e.tag){case 5:return cf(e.type);case 16:return cf("Lazy");case 13:return cf("Suspense");case 19:return cf("SuspenseList");case 0:case 2:case 15:return e=kw(e.type,!1),e;case 11:return e=kw(e.type.render,!1),e;case 1:return e=kw(e.type,!0),e;default:return""}}function cx(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case sd:return"Fragment";case id:return"Portal";case ax:return"Profiler";case E5:return"StrictMode";case ox:return"Suspense";case lx:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case gI:return(e.displayName||"Context")+".Consumer";case mI:return(e._context.displayName||"Context")+".Provider";case S5:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _5:return t=e.displayName||null,t!==null?t:cx(e.type)||"Memo";case Vc:t=e._payload,e=e._init;try{return cx(e(t))}catch{}}return null}function B8(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cx(t);case 8:return t===E5?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xA(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wI(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function C8(e){var t=wI(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gm(e){e._valueTracker||(e._valueTracker=C8(e))}function bI(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=wI(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function v0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ax(e,t){var r=t.checked;return ai({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function KC(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=xA(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vI(e,t){t=t.checked,t!=null&&C5(e,"checked",t,!1)}function ux(e,t){vI(e,t);var r=xA(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?dx(e,t.type,r):t.hasOwnProperty("defaultValue")&&dx(e,t.type,xA(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qC(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function dx(e,t,r){(t!=="number"||v0(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Af=Array.isArray;function Bd(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+xA(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function hx(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ut(91));return ai({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function GC(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ut(92));if(Af(r)){if(1<r.length)throw Error(Ut(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:xA(r)}}function xI(e,t){var r=xA(t.value),n=xA(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function WC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function BI(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fx(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?BI(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ym,CI=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ym=ym||document.createElement("div"),ym.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ym.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Yf(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Cf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},E8=["Webkit","ms","Moz","O"];Object.keys(Cf).forEach(function(e){E8.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cf[t]=Cf[e]})});function EI(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Cf.hasOwnProperty(e)&&Cf[e]?(""+t).trim():t+"px"}function SI(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=EI(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var S8=ai({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function px(e,t){if(t){if(S8[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ut(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ut(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ut(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ut(62))}}function mx(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gx=null;function N5(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yx=null,Cd=null,Ed=null;function $C(e){if(e=Up(e)){if(typeof yx!="function")throw Error(Ut(280));var t=e.stateNode;t&&(t=Ey(t),yx(e.stateNode,e.type,t))}}function _I(e){Cd?Ed?Ed.push(e):Ed=[e]:Cd=e}function NI(){if(Cd){var e=Cd,t=Ed;if(Ed=Cd=null,$C(e),t)for(e=0;e<t.length;e++)$C(t[e])}}function kI(e,t){return e(t)}function II(){}var Iw=!1;function TI(e,t,r){if(Iw)return e(t,r);Iw=!0;try{return kI(e,t,r)}finally{Iw=!1,(Cd!==null||Ed!==null)&&(II(),NI())}}function Jf(e,t){var r=e.stateNode;if(r===null)return null;var n=Ey(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ut(231,t,typeof r));return r}var wx=!1;if(vc)try{var Nh={};Object.defineProperty(Nh,"passive",{get:function(){wx=!0}}),window.addEventListener("test",Nh,Nh),window.removeEventListener("test",Nh,Nh)}catch{wx=!1}function _8(e,t,r,n,i,s,a,o,c){var A=Array.prototype.slice.call(arguments,3);try{t.apply(r,A)}catch(d){this.onError(d)}}var Ef=!1,x0=null,B0=!1,bx=null,N8={onError:function(e){Ef=!0,x0=e}};function k8(e,t,r,n,i,s,a,o,c){Ef=!1,x0=null,_8.apply(N8,arguments)}function I8(e,t,r,n,i,s,a,o,c){if(k8.apply(this,arguments),Ef){if(Ef){var A=x0;Ef=!1,x0=null}else throw Error(Ut(198));B0||(B0=!0,bx=A)}}function Cu(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function FI(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function VC(e){if(Cu(e)!==e)throw Error(Ut(188))}function T8(e){var t=e.alternate;if(!t){if(t=Cu(e),t===null)throw Error(Ut(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return VC(i),e;if(s===n)return VC(i),t;s=s.sibling}throw Error(Ut(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(Ut(189))}}if(r.alternate!==n)throw Error(Ut(190))}if(r.tag!==3)throw Error(Ut(188));return r.stateNode.current===r?e:t}function jI(e){return e=T8(e),e!==null?UI(e):null}function UI(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=UI(e);if(t!==null)return t;e=e.sibling}return null}var LI=ao.unstable_scheduleCallback,XC=ao.unstable_cancelCallback,F8=ao.unstable_shouldYield,j8=ao.unstable_requestPaint,Bi=ao.unstable_now,U8=ao.unstable_getCurrentPriorityLevel,k5=ao.unstable_ImmediatePriority,DI=ao.unstable_UserBlockingPriority,C0=ao.unstable_NormalPriority,L8=ao.unstable_LowPriority,RI=ao.unstable_IdlePriority,vy=null,Ul=null;function D8(e){if(Ul&&typeof Ul.onCommitFiberRoot=="function")try{Ul.onCommitFiberRoot(vy,e,void 0,(e.current.flags&128)===128)}catch{}}var rl=Math.clz32?Math.clz32:P8,R8=Math.log,O8=Math.LN2;function P8(e){return e>>>=0,e===0?32:31-(R8(e)/O8|0)|0}var wm=64,bm=4194304;function uf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function E0(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=uf(o):(s&=a,s!==0&&(n=uf(s)))}else a=r&~i,a!==0?n=uf(a):s!==0&&(n=uf(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-rl(t),i=1<<r,n|=e[r],t&=~i;return n}function Q8(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function M8(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-rl(s),o=1<<a,c=i[a];c===-1?(!(o&r)||o&n)&&(i[a]=Q8(o,t)):c<=t&&(e.expiredLanes|=o),s&=~o}}function vx(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function OI(){var e=wm;return wm<<=1,!(wm&4194240)&&(wm=64),e}function Tw(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Fp(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rl(t),e[t]=r}function H8(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-rl(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function I5(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-rl(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var _n=0;function PI(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var QI,T5,MI,HI,zI,xx=!1,vm=[],cA=null,AA=null,uA=null,Zf=new Map,ep=new Map,Jc=[],z8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function YC(e,t){switch(e){case"focusin":case"focusout":cA=null;break;case"dragenter":case"dragleave":AA=null;break;case"mouseover":case"mouseout":uA=null;break;case"pointerover":case"pointerout":Zf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ep.delete(t.pointerId)}}function kh(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Up(t),t!==null&&T5(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function K8(e,t,r,n,i){switch(t){case"focusin":return cA=kh(cA,e,t,r,n,i),!0;case"dragenter":return AA=kh(AA,e,t,r,n,i),!0;case"mouseover":return uA=kh(uA,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return Zf.set(s,kh(Zf.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,ep.set(s,kh(ep.get(s)||null,e,t,r,n,i)),!0}return!1}function KI(e){var t=YA(e.target);if(t!==null){var r=Cu(t);if(r!==null){if(t=r.tag,t===13){if(t=FI(r),t!==null){e.blockedOn=t,zI(e.priority,function(){MI(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Bx(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);gx=n,r.target.dispatchEvent(n),gx=null}else return t=Up(r),t!==null&&T5(t),e.blockedOn=r,!1;t.shift()}return!0}function JC(e,t,r){Gg(e)&&r.delete(t)}function q8(){xx=!1,cA!==null&&Gg(cA)&&(cA=null),AA!==null&&Gg(AA)&&(AA=null),uA!==null&&Gg(uA)&&(uA=null),Zf.forEach(JC),ep.forEach(JC)}function Ih(e,t){e.blockedOn===t&&(e.blockedOn=null,xx||(xx=!0,ao.unstable_scheduleCallback(ao.unstable_NormalPriority,q8)))}function tp(e){function t(i){return Ih(i,e)}if(0<vm.length){Ih(vm[0],e);for(var r=1;r<vm.length;r++){var n=vm[r];n.blockedOn===e&&(n.blockedOn=null)}}for(cA!==null&&Ih(cA,e),AA!==null&&Ih(AA,e),uA!==null&&Ih(uA,e),Zf.forEach(t),ep.forEach(t),r=0;r<Jc.length;r++)n=Jc[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Jc.length&&(r=Jc[0],r.blockedOn===null);)KI(r),r.blockedOn===null&&Jc.shift()}var Sd=Sc.ReactCurrentBatchConfig,S0=!0;function G8(e,t,r,n){var i=_n,s=Sd.transition;Sd.transition=null;try{_n=1,F5(e,t,r,n)}finally{_n=i,Sd.transition=s}}function W8(e,t,r,n){var i=_n,s=Sd.transition;Sd.transition=null;try{_n=4,F5(e,t,r,n)}finally{_n=i,Sd.transition=s}}function F5(e,t,r,n){if(S0){var i=Bx(e,t,r,n);if(i===null)Mw(e,t,n,_0,r),YC(e,n);else if(K8(i,e,t,r,n))n.stopPropagation();else if(YC(e,n),t&4&&-1<z8.indexOf(e)){for(;i!==null;){var s=Up(i);if(s!==null&&QI(s),s=Bx(e,t,r,n),s===null&&Mw(e,t,n,_0,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Mw(e,t,n,null,r)}}var _0=null;function Bx(e,t,r,n){if(_0=null,e=N5(n),e=YA(e),e!==null)if(t=Cu(e),t===null)e=null;else if(r=t.tag,r===13){if(e=FI(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _0=e,null}function qI(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(U8()){case k5:return 1;case DI:return 4;case C0:case L8:return 16;case RI:return 536870912;default:return 16}default:return 16}}var tA=null,j5=null,Wg=null;function GI(){if(Wg)return Wg;var e,t=j5,r=t.length,n,i="value"in tA?tA.value:tA.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[s-n];n++);return Wg=i.slice(e,1<n?1-n:void 0)}function $g(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xm(){return!0}function ZC(){return!1}function lo(e){function t(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?xm:ZC,this.isPropagationStopped=ZC,this}return ai(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=xm)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=xm)},persist:function(){},isPersistent:xm}),t}var uh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},U5=lo(uh),jp=ai({},uh,{view:0,detail:0}),$8=lo(jp),Fw,jw,Th,xy=ai({},jp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:L5,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Th&&(Th&&e.type==="mousemove"?(Fw=e.screenX-Th.screenX,jw=e.screenY-Th.screenY):jw=Fw=0,Th=e),Fw)},movementY:function(e){return"movementY"in e?e.movementY:jw}}),eE=lo(xy),V8=ai({},xy,{dataTransfer:0}),X8=lo(V8),Y8=ai({},jp,{relatedTarget:0}),Uw=lo(Y8),J8=ai({},uh,{animationName:0,elapsedTime:0,pseudoElement:0}),Z8=lo(J8),eR=ai({},uh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tR=lo(eR),rR=ai({},uh,{data:0}),tE=lo(rR),nR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sR[e])?!!t[e]:!1}function L5(){return aR}var oR=ai({},jp,{key:function(e){if(e.key){var t=nR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$g(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?iR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:L5,charCode:function(e){return e.type==="keypress"?$g(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$g(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lR=lo(oR),cR=ai({},xy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rE=lo(cR),AR=ai({},jp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:L5}),uR=lo(AR),dR=ai({},uh,{propertyName:0,elapsedTime:0,pseudoElement:0}),hR=lo(dR),fR=ai({},xy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pR=lo(fR),mR=[9,13,27,32],D5=vc&&"CompositionEvent"in window,Sf=null;vc&&"documentMode"in document&&(Sf=document.documentMode);var gR=vc&&"TextEvent"in window&&!Sf,WI=vc&&(!D5||Sf&&8<Sf&&11>=Sf),nE=String.fromCharCode(32),iE=!1;function $I(e,t){switch(e){case"keyup":return mR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function VI(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ad=!1;function yR(e,t){switch(e){case"compositionend":return VI(t);case"keypress":return t.which!==32?null:(iE=!0,nE);case"textInput":return e=t.data,e===nE&&iE?null:e;default:return null}}function wR(e,t){if(ad)return e==="compositionend"||!D5&&$I(e,t)?(e=GI(),Wg=j5=tA=null,ad=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return WI&&t.locale!=="ko"?null:t.data;default:return null}}var bR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bR[e.type]:t==="textarea"}function XI(e,t,r,n){_I(n),t=N0(t,"onChange"),0<t.length&&(r=new U5("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var _f=null,rp=null;function vR(e){oT(e,0)}function By(e){var t=cd(e);if(bI(t))return e}function xR(e,t){if(e==="change")return t}var YI=!1;if(vc){var Lw;if(vc){var Dw="oninput"in document;if(!Dw){var aE=document.createElement("div");aE.setAttribute("oninput","return;"),Dw=typeof aE.oninput=="function"}Lw=Dw}else Lw=!1;YI=Lw&&(!document.documentMode||9<document.documentMode)}function oE(){_f&&(_f.detachEvent("onpropertychange",JI),rp=_f=null)}function JI(e){if(e.propertyName==="value"&&By(rp)){var t=[];XI(t,rp,e,N5(e)),TI(vR,t)}}function BR(e,t,r){e==="focusin"?(oE(),_f=t,rp=r,_f.attachEvent("onpropertychange",JI)):e==="focusout"&&oE()}function CR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return By(rp)}function ER(e,t){if(e==="click")return By(t)}function SR(e,t){if(e==="input"||e==="change")return By(t)}function _R(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sl=typeof Object.is=="function"?Object.is:_R;function np(e,t){if(sl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!sx.call(t,i)||!sl(e[i],t[i]))return!1}return!0}function lE(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cE(e,t){var r=lE(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lE(r)}}function ZI(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ZI(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function eT(){for(var e=window,t=v0();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=v0(e.document)}return t}function R5(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function NR(e){var t=eT(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ZI(r.ownerDocument.documentElement,r)){if(n!==null&&R5(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=cE(r,s);var a=cE(r,n);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kR=vc&&"documentMode"in document&&11>=document.documentMode,od=null,Cx=null,Nf=null,Ex=!1;function AE(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ex||od==null||od!==v0(n)||(n=od,"selectionStart"in n&&R5(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Nf&&np(Nf,n)||(Nf=n,n=N0(Cx,"onSelect"),0<n.length&&(t=new U5("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=od)))}function Bm(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ld={animationend:Bm("Animation","AnimationEnd"),animationiteration:Bm("Animation","AnimationIteration"),animationstart:Bm("Animation","AnimationStart"),transitionend:Bm("Transition","TransitionEnd")},Rw={},tT={};vc&&(tT=document.createElement("div").style,"AnimationEvent"in window||(delete ld.animationend.animation,delete ld.animationiteration.animation,delete ld.animationstart.animation),"TransitionEvent"in window||delete ld.transitionend.transition);function Cy(e){if(Rw[e])return Rw[e];if(!ld[e])return e;var t=ld[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in tT)return Rw[e]=t[r];return e}var rT=Cy("animationend"),nT=Cy("animationiteration"),iT=Cy("animationstart"),sT=Cy("transitionend"),aT=new Map,uE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function SA(e,t){aT.set(e,t),Bu(t,[e])}for(var Ow=0;Ow<uE.length;Ow++){var Pw=uE[Ow],IR=Pw.toLowerCase(),TR=Pw[0].toUpperCase()+Pw.slice(1);SA(IR,"on"+TR)}SA(rT,"onAnimationEnd");SA(nT,"onAnimationIteration");SA(iT,"onAnimationStart");SA("dblclick","onDoubleClick");SA("focusin","onFocus");SA("focusout","onBlur");SA(sT,"onTransitionEnd");Hd("onMouseEnter",["mouseout","mouseover"]);Hd("onMouseLeave",["mouseout","mouseover"]);Hd("onPointerEnter",["pointerout","pointerover"]);Hd("onPointerLeave",["pointerout","pointerover"]);Bu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var df="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FR=new Set("cancel close invalid load scroll toggle".split(" ").concat(df));function dE(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,I8(n,t,void 0,e),e.currentTarget=null}function oT(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],c=o.instance,A=o.currentTarget;if(o=o.listener,c!==s&&i.isPropagationStopped())break e;dE(i,o,A),s=c}else for(a=0;a<n.length;a++){if(o=n[a],c=o.instance,A=o.currentTarget,o=o.listener,c!==s&&i.isPropagationStopped())break e;dE(i,o,A),s=c}}}if(B0)throw e=bx,B0=!1,bx=null,e}function Wn(e,t){var r=t[Ix];r===void 0&&(r=t[Ix]=new Set);var n=e+"__bubble";r.has(n)||(lT(t,e,2,!1),r.add(n))}function Qw(e,t,r){var n=0;t&&(n|=4),lT(r,e,n,t)}var Cm="_reactListening"+Math.random().toString(36).slice(2);function ip(e){if(!e[Cm]){e[Cm]=!0,pI.forEach(function(r){r!=="selectionchange"&&(FR.has(r)||Qw(r,!1,e),Qw(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cm]||(t[Cm]=!0,Qw("selectionchange",!1,t))}}function lT(e,t,r,n){switch(qI(t)){case 1:var i=G8;break;case 4:i=W8;break;default:i=F5}r=i.bind(null,t,r,e),i=void 0,!wx||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Mw(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;o!==null;){if(a=YA(o),a===null)return;if(c=a.tag,c===5||c===6){n=s=a;continue e}o=o.parentNode}}n=n.return}TI(function(){var A=s,d=N5(r),h=[];e:{var f=aT.get(e);if(f!==void 0){var u=U5,g=e;switch(e){case"keypress":if($g(r)===0)break e;case"keydown":case"keyup":u=lR;break;case"focusin":g="focus",u=Uw;break;case"focusout":g="blur",u=Uw;break;case"beforeblur":case"afterblur":u=Uw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=eE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=X8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=uR;break;case rT:case nT:case iT:u=Z8;break;case sT:u=hR;break;case"scroll":u=$8;break;case"wheel":u=pR;break;case"copy":case"cut":case"paste":u=tR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=rE}var m=(t&4)!==0,x=!m&&e==="scroll",p=m?f!==null?f+"Capture":null:f;m=[];for(var y=A,w;y!==null;){w=y;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,p!==null&&(b=Jf(y,p),b!=null&&m.push(sp(y,b,w)))),x)break;y=y.return}0<m.length&&(f=new u(f,g,null,r,d),h.push({event:f,listeners:m}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",u=e==="mouseout"||e==="pointerout",f&&r!==gx&&(g=r.relatedTarget||r.fromElement)&&(YA(g)||g[xc]))break e;if((u||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,u?(g=r.relatedTarget||r.toElement,u=A,g=g?YA(g):null,g!==null&&(x=Cu(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(u=null,g=A),u!==g)){if(m=eE,b="onMouseLeave",p="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=rE,b="onPointerLeave",p="onPointerEnter",y="pointer"),x=u==null?f:cd(u),w=g==null?f:cd(g),f=new m(b,y+"leave",u,r,d),f.target=x,f.relatedTarget=w,b=null,YA(d)===A&&(m=new m(p,y+"enter",g,r,d),m.target=w,m.relatedTarget=x,b=m),x=b,u&&g)t:{for(m=u,p=g,y=0,w=m;w;w=Tu(w))y++;for(w=0,b=p;b;b=Tu(b))w++;for(;0<y-w;)m=Tu(m),y--;for(;0<w-y;)p=Tu(p),w--;for(;y--;){if(m===p||p!==null&&m===p.alternate)break t;m=Tu(m),p=Tu(p)}m=null}else m=null;u!==null&&hE(h,f,u,m,!1),g!==null&&x!==null&&hE(h,x,g,m,!0)}}e:{if(f=A?cd(A):window,u=f.nodeName&&f.nodeName.toLowerCase(),u==="select"||u==="input"&&f.type==="file")var I=xR;else if(sE(f))if(YI)I=SR;else{I=CR;var F=BR}else(u=f.nodeName)&&u.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(I=ER);if(I&&(I=I(e,A))){XI(h,I,r,d);break e}F&&F(e,f,A),e==="focusout"&&(F=f._wrapperState)&&F.controlled&&f.type==="number"&&dx(f,"number",f.value)}switch(F=A?cd(A):window,e){case"focusin":(sE(F)||F.contentEditable==="true")&&(od=F,Cx=A,Nf=null);break;case"focusout":Nf=Cx=od=null;break;case"mousedown":Ex=!0;break;case"contextmenu":case"mouseup":case"dragend":Ex=!1,AE(h,r,d);break;case"selectionchange":if(kR)break;case"keydown":case"keyup":AE(h,r,d)}var R;if(D5)e:{switch(e){case"compositionstart":var Q="onCompositionStart";break e;case"compositionend":Q="onCompositionEnd";break e;case"compositionupdate":Q="onCompositionUpdate";break e}Q=void 0}else ad?$I(e,r)&&(Q="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Q="onCompositionStart");Q&&(WI&&r.locale!=="ko"&&(ad||Q!=="onCompositionStart"?Q==="onCompositionEnd"&&ad&&(R=GI()):(tA=d,j5="value"in tA?tA.value:tA.textContent,ad=!0)),F=N0(A,Q),0<F.length&&(Q=new tE(Q,e,null,r,d),h.push({event:Q,listeners:F}),R?Q.data=R:(R=VI(r),R!==null&&(Q.data=R)))),(R=gR?yR(e,r):wR(e,r))&&(A=N0(A,"onBeforeInput"),0<A.length&&(d=new tE("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:A}),d.data=R))}oT(h,t)})}function sp(e,t,r){return{instance:e,listener:t,currentTarget:r}}function N0(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Jf(e,r),s!=null&&n.unshift(sp(e,s,i)),s=Jf(e,t),s!=null&&n.push(sp(e,s,i))),e=e.return}return n}function Tu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hE(e,t,r,n,i){for(var s=t._reactName,a=[];r!==null&&r!==n;){var o=r,c=o.alternate,A=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&A!==null&&(o=A,i?(c=Jf(r,s),c!=null&&a.unshift(sp(r,c,o))):i||(c=Jf(r,s),c!=null&&a.push(sp(r,c,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var jR=/\r\n?/g,UR=/\u0000|\uFFFD/g;function fE(e){return(typeof e=="string"?e:""+e).replace(jR,`
`).replace(UR,"")}function Em(e,t,r){if(t=fE(t),fE(e)!==t&&r)throw Error(Ut(425))}function k0(){}var Sx=null,_x=null;function Nx(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var kx=typeof setTimeout=="function"?setTimeout:void 0,LR=typeof clearTimeout=="function"?clearTimeout:void 0,pE=typeof Promise=="function"?Promise:void 0,DR=typeof queueMicrotask=="function"?queueMicrotask:typeof pE<"u"?function(e){return pE.resolve(null).then(e).catch(RR)}:kx;function RR(e){setTimeout(function(){throw e})}function Hw(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),tp(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);tp(t)}function dA(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var dh=Math.random().toString(36).slice(2),_l="__reactFiber$"+dh,ap="__reactProps$"+dh,xc="__reactContainer$"+dh,Ix="__reactEvents$"+dh,OR="__reactListeners$"+dh,PR="__reactHandles$"+dh;function YA(e){var t=e[_l];if(t)return t;for(var r=e.parentNode;r;){if(t=r[xc]||r[_l]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=mE(e);e!==null;){if(r=e[_l])return r;e=mE(e)}return t}e=r,r=e.parentNode}return null}function Up(e){return e=e[_l]||e[xc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function cd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ut(33))}function Ey(e){return e[ap]||null}var Tx=[],Ad=-1;function _A(e){return{current:e}}function Vn(e){0>Ad||(e.current=Tx[Ad],Tx[Ad]=null,Ad--)}function Pn(e,t){Ad++,Tx[Ad]=e.current,e.current=t}var BA={},Hs=_A(BA),_a=_A(!1),fu=BA;function zd(e,t){var r=e.type.contextTypes;if(!r)return BA;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Na(e){return e=e.childContextTypes,e!=null}function I0(){Vn(_a),Vn(Hs)}function gE(e,t,r){if(Hs.current!==BA)throw Error(Ut(168));Pn(Hs,t),Pn(_a,r)}function cT(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Ut(108,B8(e)||"Unknown",i));return ai({},r,n)}function T0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||BA,fu=Hs.current,Pn(Hs,e),Pn(_a,_a.current),!0}function yE(e,t,r){var n=e.stateNode;if(!n)throw Error(Ut(169));r?(e=cT(e,t,fu),n.__reactInternalMemoizedMergedChildContext=e,Vn(_a),Vn(Hs),Pn(Hs,e)):Vn(_a),Pn(_a,r)}var Ac=null,Sy=!1,zw=!1;function AT(e){Ac===null?Ac=[e]:Ac.push(e)}function QR(e){Sy=!0,AT(e)}function NA(){if(!zw&&Ac!==null){zw=!0;var e=0,t=_n;try{var r=Ac;for(_n=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ac=null,Sy=!1}catch(i){throw Ac!==null&&(Ac=Ac.slice(e+1)),LI(k5,NA),i}finally{_n=t,zw=!1}}return null}var ud=[],dd=0,F0=null,j0=0,xo=[],Bo=0,pu=null,pc=1,mc="";function MA(e,t){ud[dd++]=j0,ud[dd++]=F0,F0=e,j0=t}function uT(e,t,r){xo[Bo++]=pc,xo[Bo++]=mc,xo[Bo++]=pu,pu=e;var n=pc;e=mc;var i=32-rl(n)-1;n&=~(1<<i),r+=1;var s=32-rl(t)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,pc=1<<32-rl(t)+i|r<<i|n,mc=s+e}else pc=1<<s|r<<i|n,mc=e}function O5(e){e.return!==null&&(MA(e,1),uT(e,1,0))}function P5(e){for(;e===F0;)F0=ud[--dd],ud[dd]=null,j0=ud[--dd],ud[dd]=null;for(;e===pu;)pu=xo[--Bo],xo[Bo]=null,mc=xo[--Bo],xo[Bo]=null,pc=xo[--Bo],xo[Bo]=null}var ro=null,Xa=null,ti=!1,Zo=null;function dT(e,t){var r=_o(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function wE(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ro=e,Xa=dA(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ro=e,Xa=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=pu!==null?{id:pc,overflow:mc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=_o(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ro=e,Xa=null,!0):!1;default:return!1}}function Fx(e){return(e.mode&1)!==0&&(e.flags&128)===0}function jx(e){if(ti){var t=Xa;if(t){var r=t;if(!wE(e,t)){if(Fx(e))throw Error(Ut(418));t=dA(r.nextSibling);var n=ro;t&&wE(e,t)?dT(n,r):(e.flags=e.flags&-4097|2,ti=!1,ro=e)}}else{if(Fx(e))throw Error(Ut(418));e.flags=e.flags&-4097|2,ti=!1,ro=e}}}function bE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ro=e}function Sm(e){if(e!==ro)return!1;if(!ti)return bE(e),ti=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Nx(e.type,e.memoizedProps)),t&&(t=Xa)){if(Fx(e))throw hT(),Error(Ut(418));for(;t;)dT(e,t),t=dA(t.nextSibling)}if(bE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ut(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Xa=dA(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Xa=null}}else Xa=ro?dA(e.stateNode.nextSibling):null;return!0}function hT(){for(var e=Xa;e;)e=dA(e.nextSibling)}function Kd(){Xa=ro=null,ti=!1}function Q5(e){Zo===null?Zo=[e]:Zo.push(e)}var MR=Sc.ReactCurrentBatchConfig;function Fh(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ut(309));var n=r.stateNode}if(!n)throw Error(Ut(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(Ut(284));if(!r._owner)throw Error(Ut(290,e))}return e}function _m(e,t){throw e=Object.prototype.toString.call(t),Error(Ut(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vE(e){var t=e._init;return t(e._payload)}function fT(e){function t(p,y){if(e){var w=p.deletions;w===null?(p.deletions=[y],p.flags|=16):w.push(y)}}function r(p,y){if(!e)return null;for(;y!==null;)t(p,y),y=y.sibling;return null}function n(p,y){for(p=new Map;y!==null;)y.key!==null?p.set(y.key,y):p.set(y.index,y),y=y.sibling;return p}function i(p,y){return p=mA(p,y),p.index=0,p.sibling=null,p}function s(p,y,w){return p.index=w,e?(w=p.alternate,w!==null?(w=w.index,w<y?(p.flags|=2,y):w):(p.flags|=2,y)):(p.flags|=1048576,y)}function a(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,y,w,b){return y===null||y.tag!==6?(y=Xw(w,p.mode,b),y.return=p,y):(y=i(y,w),y.return=p,y)}function c(p,y,w,b){var I=w.type;return I===sd?d(p,y,w.props.children,b,w.key):y!==null&&(y.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Vc&&vE(I)===y.type)?(b=i(y,w.props),b.ref=Fh(p,y,w),b.return=p,b):(b=t0(w.type,w.key,w.props,null,p.mode,b),b.ref=Fh(p,y,w),b.return=p,b)}function A(p,y,w,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Yw(w,p.mode,b),y.return=p,y):(y=i(y,w.children||[]),y.return=p,y)}function d(p,y,w,b,I){return y===null||y.tag!==7?(y=ou(w,p.mode,b,I),y.return=p,y):(y=i(y,w),y.return=p,y)}function h(p,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Xw(""+y,p.mode,w),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case mm:return w=t0(y.type,y.key,y.props,null,p.mode,w),w.ref=Fh(p,null,y),w.return=p,w;case id:return y=Yw(y,p.mode,w),y.return=p,y;case Vc:var b=y._init;return h(p,b(y._payload),w)}if(Af(y)||_h(y))return y=ou(y,p.mode,w,null),y.return=p,y;_m(p,y)}return null}function f(p,y,w,b){var I=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return I!==null?null:o(p,y,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case mm:return w.key===I?c(p,y,w,b):null;case id:return w.key===I?A(p,y,w,b):null;case Vc:return I=w._init,f(p,y,I(w._payload),b)}if(Af(w)||_h(w))return I!==null?null:d(p,y,w,b,null);_m(p,w)}return null}function u(p,y,w,b,I){if(typeof b=="string"&&b!==""||typeof b=="number")return p=p.get(w)||null,o(y,p,""+b,I);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case mm:return p=p.get(b.key===null?w:b.key)||null,c(y,p,b,I);case id:return p=p.get(b.key===null?w:b.key)||null,A(y,p,b,I);case Vc:var F=b._init;return u(p,y,w,F(b._payload),I)}if(Af(b)||_h(b))return p=p.get(w)||null,d(y,p,b,I,null);_m(y,b)}return null}function g(p,y,w,b){for(var I=null,F=null,R=y,Q=y=0,k=null;R!==null&&Q<w.length;Q++){R.index>Q?(k=R,R=null):k=R.sibling;var $=f(p,R,w[Q],b);if($===null){R===null&&(R=k);break}e&&R&&$.alternate===null&&t(p,R),y=s($,y,Q),F===null?I=$:F.sibling=$,F=$,R=k}if(Q===w.length)return r(p,R),ti&&MA(p,Q),I;if(R===null){for(;Q<w.length;Q++)R=h(p,w[Q],b),R!==null&&(y=s(R,y,Q),F===null?I=R:F.sibling=R,F=R);return ti&&MA(p,Q),I}for(R=n(p,R);Q<w.length;Q++)k=u(R,p,Q,w[Q],b),k!==null&&(e&&k.alternate!==null&&R.delete(k.key===null?Q:k.key),y=s(k,y,Q),F===null?I=k:F.sibling=k,F=k);return e&&R.forEach(function(q){return t(p,q)}),ti&&MA(p,Q),I}function m(p,y,w,b){var I=_h(w);if(typeof I!="function")throw Error(Ut(150));if(w=I.call(w),w==null)throw Error(Ut(151));for(var F=I=null,R=y,Q=y=0,k=null,$=w.next();R!==null&&!$.done;Q++,$=w.next()){R.index>Q?(k=R,R=null):k=R.sibling;var q=f(p,R,$.value,b);if(q===null){R===null&&(R=k);break}e&&R&&q.alternate===null&&t(p,R),y=s(q,y,Q),F===null?I=q:F.sibling=q,F=q,R=k}if($.done)return r(p,R),ti&&MA(p,Q),I;if(R===null){for(;!$.done;Q++,$=w.next())$=h(p,$.value,b),$!==null&&(y=s($,y,Q),F===null?I=$:F.sibling=$,F=$);return ti&&MA(p,Q),I}for(R=n(p,R);!$.done;Q++,$=w.next())$=u(R,p,Q,$.value,b),$!==null&&(e&&$.alternate!==null&&R.delete($.key===null?Q:$.key),y=s($,y,Q),F===null?I=$:F.sibling=$,F=$);return e&&R.forEach(function(T){return t(p,T)}),ti&&MA(p,Q),I}function x(p,y,w,b){if(typeof w=="object"&&w!==null&&w.type===sd&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case mm:e:{for(var I=w.key,F=y;F!==null;){if(F.key===I){if(I=w.type,I===sd){if(F.tag===7){r(p,F.sibling),y=i(F,w.props.children),y.return=p,p=y;break e}}else if(F.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Vc&&vE(I)===F.type){r(p,F.sibling),y=i(F,w.props),y.ref=Fh(p,F,w),y.return=p,p=y;break e}r(p,F);break}else t(p,F);F=F.sibling}w.type===sd?(y=ou(w.props.children,p.mode,b,w.key),y.return=p,p=y):(b=t0(w.type,w.key,w.props,null,p.mode,b),b.ref=Fh(p,y,w),b.return=p,p=b)}return a(p);case id:e:{for(F=w.key;y!==null;){if(y.key===F)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(p,y.sibling),y=i(y,w.children||[]),y.return=p,p=y;break e}else{r(p,y);break}else t(p,y);y=y.sibling}y=Yw(w,p.mode,b),y.return=p,p=y}return a(p);case Vc:return F=w._init,x(p,y,F(w._payload),b)}if(Af(w))return g(p,y,w,b);if(_h(w))return m(p,y,w,b);_m(p,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(p,y.sibling),y=i(y,w),y.return=p,p=y):(r(p,y),y=Xw(w,p.mode,b),y.return=p,p=y),a(p)):r(p,y)}return x}var qd=fT(!0),pT=fT(!1),U0=_A(null),L0=null,hd=null,M5=null;function H5(){M5=hd=L0=null}function z5(e){var t=U0.current;Vn(U0),e._currentValue=t}function Ux(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function _d(e,t){L0=e,M5=hd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ca=!0),e.firstContext=null)}function To(e){var t=e._currentValue;if(M5!==e)if(e={context:e,memoizedValue:t,next:null},hd===null){if(L0===null)throw Error(Ut(308));hd=e,L0.dependencies={lanes:0,firstContext:e}}else hd=hd.next=e;return t}var JA=null;function K5(e){JA===null?JA=[e]:JA.push(e)}function mT(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,K5(t)):(r.next=i.next,i.next=r),t.interleaved=r,Bc(e,n)}function Bc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Xc=!1;function q5(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gT(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function hA(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,An&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Bc(e,r)}return i=n.interleaved,i===null?(t.next=t,K5(n)):(t.next=i.next,i.next=t),n.interleaved=t,Bc(e,r)}function Vg(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,I5(e,r)}}function xE(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function D0(e,t,r,n){var i=e.updateQueue;Xc=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,A=c.next;c.next=null,a===null?s=A:a.next=A,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=A:o.next=A,d.lastBaseUpdate=c))}if(s!==null){var h=i.baseState;a=0,d=A=c=null,o=s;do{var f=o.lane,u=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:u,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,m=o;switch(f=t,u=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){h=g.call(u,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,f=typeof g=="function"?g.call(u,h,f):g,f==null)break e;h=ai({},h,f);break e;case 2:Xc=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else u={eventTime:u,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(A=d=u,c=h):d=d.next=u,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=A,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);gu|=a,e.lanes=a,e.memoizedState=h}}function BE(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Ut(191,i));i.call(n)}}}var Lp={},Ll=_A(Lp),op=_A(Lp),lp=_A(Lp);function ZA(e){if(e===Lp)throw Error(Ut(174));return e}function G5(e,t){switch(Pn(lp,t),Pn(op,e),Pn(Ll,Lp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fx(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fx(t,e)}Vn(Ll),Pn(Ll,t)}function Gd(){Vn(Ll),Vn(op),Vn(lp)}function yT(e){ZA(lp.current);var t=ZA(Ll.current),r=fx(t,e.type);t!==r&&(Pn(op,e),Pn(Ll,r))}function W5(e){op.current===e&&(Vn(Ll),Vn(op))}var ii=_A(0);function R0(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Kw=[];function $5(){for(var e=0;e<Kw.length;e++)Kw[e]._workInProgressVersionPrimary=null;Kw.length=0}var Xg=Sc.ReactCurrentDispatcher,qw=Sc.ReactCurrentBatchConfig,mu=0,si=null,Vi=null,is=null,O0=!1,kf=!1,cp=0,HR=0;function Is(){throw Error(Ut(321))}function V5(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!sl(e[r],t[r]))return!1;return!0}function X5(e,t,r,n,i,s){if(mu=s,si=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xg.current=e===null||e.memoizedState===null?GR:WR,e=r(n,i),kf){s=0;do{if(kf=!1,cp=0,25<=s)throw Error(Ut(301));s+=1,is=Vi=null,t.updateQueue=null,Xg.current=$R,e=r(n,i)}while(kf)}if(Xg.current=P0,t=Vi!==null&&Vi.next!==null,mu=0,is=Vi=si=null,O0=!1,t)throw Error(Ut(300));return e}function Y5(){var e=cp!==0;return cp=0,e}function Bl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return is===null?si.memoizedState=is=e:is=is.next=e,is}function Fo(){if(Vi===null){var e=si.alternate;e=e!==null?e.memoizedState:null}else e=Vi.next;var t=is===null?si.memoizedState:is.next;if(t!==null)is=t,Vi=e;else{if(e===null)throw Error(Ut(310));Vi=e,e={memoizedState:Vi.memoizedState,baseState:Vi.baseState,baseQueue:Vi.baseQueue,queue:Vi.queue,next:null},is===null?si.memoizedState=is=e:is=is.next=e}return is}function Ap(e,t){return typeof t=="function"?t(e):t}function Gw(e){var t=Fo(),r=t.queue;if(r===null)throw Error(Ut(311));r.lastRenderedReducer=e;var n=Vi,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,c=null,A=s;do{var d=A.lane;if((mu&d)===d)c!==null&&(c=c.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),n=A.hasEagerState?A.eagerState:e(n,A.action);else{var h={lane:d,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};c===null?(o=c=h,a=n):c=c.next=h,si.lanes|=d,gu|=d}A=A.next}while(A!==null&&A!==s);c===null?a=n:c.next=o,sl(n,t.memoizedState)||(Ca=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,si.lanes|=s,gu|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ww(e){var t=Fo(),r=t.queue;if(r===null)throw Error(Ut(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);sl(s,t.memoizedState)||(Ca=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function wT(){}function bT(e,t){var r=si,n=Fo(),i=t(),s=!sl(n.memoizedState,i);if(s&&(n.memoizedState=i,Ca=!0),n=n.queue,J5(BT.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||is!==null&&is.memoizedState.tag&1){if(r.flags|=2048,up(9,xT.bind(null,r,n,i,t),void 0,null),os===null)throw Error(Ut(349));mu&30||vT(r,t,i)}return i}function vT(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=si.updateQueue,t===null?(t={lastEffect:null,stores:null},si.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function xT(e,t,r,n){t.value=r,t.getSnapshot=n,CT(t)&&ET(e)}function BT(e,t,r){return r(function(){CT(t)&&ET(e)})}function CT(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!sl(e,r)}catch{return!0}}function ET(e){var t=Bc(e,1);t!==null&&nl(t,e,1,-1)}function CE(e){var t=Bl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ap,lastRenderedState:e},t.queue=e,e=e.dispatch=qR.bind(null,si,e),[t.memoizedState,e]}function up(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=si.updateQueue,t===null?(t={lastEffect:null,stores:null},si.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function ST(){return Fo().memoizedState}function Yg(e,t,r,n){var i=Bl();si.flags|=e,i.memoizedState=up(1|t,r,void 0,n===void 0?null:n)}function _y(e,t,r,n){var i=Fo();n=n===void 0?null:n;var s=void 0;if(Vi!==null){var a=Vi.memoizedState;if(s=a.destroy,n!==null&&V5(n,a.deps)){i.memoizedState=up(t,r,s,n);return}}si.flags|=e,i.memoizedState=up(1|t,r,s,n)}function EE(e,t){return Yg(8390656,8,e,t)}function J5(e,t){return _y(2048,8,e,t)}function _T(e,t){return _y(4,2,e,t)}function NT(e,t){return _y(4,4,e,t)}function kT(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function IT(e,t,r){return r=r!=null?r.concat([e]):null,_y(4,4,kT.bind(null,t,e),r)}function Z5(){}function TT(e,t){var r=Fo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&V5(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function FT(e,t){var r=Fo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&V5(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function jT(e,t,r){return mu&21?(sl(r,t)||(r=OI(),si.lanes|=r,gu|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ca=!0),e.memoizedState=r)}function zR(e,t){var r=_n;_n=r!==0&&4>r?r:4,e(!0);var n=qw.transition;qw.transition={};try{e(!1),t()}finally{_n=r,qw.transition=n}}function UT(){return Fo().memoizedState}function KR(e,t,r){var n=pA(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},LT(e))DT(t,r);else if(r=mT(e,t,r,n),r!==null){var i=Aa();nl(r,e,n,i),RT(r,t,n)}}function qR(e,t,r){var n=pA(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(LT(e))DT(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,sl(o,a)){var c=t.interleaved;c===null?(i.next=i,K5(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=mT(e,t,i,n),r!==null&&(i=Aa(),nl(r,e,n,i),RT(r,t,n))}}function LT(e){var t=e.alternate;return e===si||t!==null&&t===si}function DT(e,t){kf=O0=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function RT(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,I5(e,r)}}var P0={readContext:To,useCallback:Is,useContext:Is,useEffect:Is,useImperativeHandle:Is,useInsertionEffect:Is,useLayoutEffect:Is,useMemo:Is,useReducer:Is,useRef:Is,useState:Is,useDebugValue:Is,useDeferredValue:Is,useTransition:Is,useMutableSource:Is,useSyncExternalStore:Is,useId:Is,unstable_isNewReconciler:!1},GR={readContext:To,useCallback:function(e,t){return Bl().memoizedState=[e,t===void 0?null:t],e},useContext:To,useEffect:EE,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Yg(4194308,4,kT.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Yg(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yg(4,2,e,t)},useMemo:function(e,t){var r=Bl();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Bl();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=KR.bind(null,si,e),[n.memoizedState,e]},useRef:function(e){var t=Bl();return e={current:e},t.memoizedState=e},useState:CE,useDebugValue:Z5,useDeferredValue:function(e){return Bl().memoizedState=e},useTransition:function(){var e=CE(!1),t=e[0];return e=zR.bind(null,e[1]),Bl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=si,i=Bl();if(ti){if(r===void 0)throw Error(Ut(407));r=r()}else{if(r=t(),os===null)throw Error(Ut(349));mu&30||vT(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,EE(BT.bind(null,n,s,e),[e]),n.flags|=2048,up(9,xT.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Bl(),t=os.identifierPrefix;if(ti){var r=mc,n=pc;r=(n&~(1<<32-rl(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=cp++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=HR++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},WR={readContext:To,useCallback:TT,useContext:To,useEffect:J5,useImperativeHandle:IT,useInsertionEffect:_T,useLayoutEffect:NT,useMemo:FT,useReducer:Gw,useRef:ST,useState:function(){return Gw(Ap)},useDebugValue:Z5,useDeferredValue:function(e){var t=Fo();return jT(t,Vi.memoizedState,e)},useTransition:function(){var e=Gw(Ap)[0],t=Fo().memoizedState;return[e,t]},useMutableSource:wT,useSyncExternalStore:bT,useId:UT,unstable_isNewReconciler:!1},$R={readContext:To,useCallback:TT,useContext:To,useEffect:J5,useImperativeHandle:IT,useInsertionEffect:_T,useLayoutEffect:NT,useMemo:FT,useReducer:Ww,useRef:ST,useState:function(){return Ww(Ap)},useDebugValue:Z5,useDeferredValue:function(e){var t=Fo();return Vi===null?t.memoizedState=e:jT(t,Vi.memoizedState,e)},useTransition:function(){var e=Ww(Ap)[0],t=Fo().memoizedState;return[e,t]},useMutableSource:wT,useSyncExternalStore:bT,useId:UT,unstable_isNewReconciler:!1};function Xo(e,t){if(e&&e.defaultProps){t=ai({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Lx(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ai({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ny={isMounted:function(e){return(e=e._reactInternals)?Cu(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Aa(),i=pA(e),s=wc(n,i);s.payload=t,r!=null&&(s.callback=r),t=hA(e,s,i),t!==null&&(nl(t,e,i,n),Vg(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Aa(),i=pA(e),s=wc(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=hA(e,s,i),t!==null&&(nl(t,e,i,n),Vg(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Aa(),n=pA(e),i=wc(r,n);i.tag=2,t!=null&&(i.callback=t),t=hA(e,i,n),t!==null&&(nl(t,e,n,r),Vg(t,e,n))}};function SE(e,t,r,n,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,a):t.prototype&&t.prototype.isPureReactComponent?!np(r,n)||!np(i,s):!0}function OT(e,t,r){var n=!1,i=BA,s=t.contextType;return typeof s=="object"&&s!==null?s=To(s):(i=Na(t)?fu:Hs.current,n=t.contextTypes,s=(n=n!=null)?zd(e,i):BA),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ny,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function _E(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ny.enqueueReplaceState(t,t.state,null)}function Dx(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},q5(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=To(s):(s=Na(t)?fu:Hs.current,i.context=zd(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Lx(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ny.enqueueReplaceState(i,i.state,null),D0(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Wd(e,t){try{var r="",n=t;do r+=x8(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function $w(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Rx(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var VR=typeof WeakMap=="function"?WeakMap:Map;function PT(e,t,r){r=wc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){M0||(M0=!0,Wx=n),Rx(e,t)},r}function QT(e,t,r){r=wc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Rx(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Rx(e,t),typeof n!="function"&&(fA===null?fA=new Set([this]):fA.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function NE(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new VR;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=cO.bind(null,e,t,r),t.then(e,e))}function kE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function IE(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=wc(-1,1),t.tag=2,hA(r,t,1))),r.lanes|=1),e)}var XR=Sc.ReactCurrentOwner,Ca=!1;function oa(e,t,r,n){t.child=e===null?pT(t,null,r,n):qd(t,e.child,r,n)}function TE(e,t,r,n,i){r=r.render;var s=t.ref;return _d(t,i),n=X5(e,t,r,n,s,i),r=Y5(),e!==null&&!Ca?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Cc(e,t,i)):(ti&&r&&O5(t),t.flags|=1,oa(e,t,n,i),t.child)}function FE(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!oB(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,MT(e,t,s,n,i)):(e=t0(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:np,r(a,n)&&e.ref===t.ref)return Cc(e,t,i)}return t.flags|=1,e=mA(s,n),e.ref=t.ref,e.return=t,t.child=e}function MT(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(np(s,n)&&e.ref===t.ref)if(Ca=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(Ca=!0);else return t.lanes=e.lanes,Cc(e,t,i)}return Ox(e,t,r,n,i)}function HT(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pn(pd,$a),$a|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pn(pd,$a),$a|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Pn(pd,$a),$a|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Pn(pd,$a),$a|=n;return oa(e,t,i,r),t.child}function zT(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ox(e,t,r,n,i){var s=Na(r)?fu:Hs.current;return s=zd(t,s),_d(t,i),r=X5(e,t,r,n,s,i),n=Y5(),e!==null&&!Ca?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Cc(e,t,i)):(ti&&n&&O5(t),t.flags|=1,oa(e,t,r,i),t.child)}function jE(e,t,r,n,i){if(Na(r)){var s=!0;T0(t)}else s=!1;if(_d(t,i),t.stateNode===null)Jg(e,t),OT(t,r,n),Dx(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,A=r.contextType;typeof A=="object"&&A!==null?A=To(A):(A=Na(r)?fu:Hs.current,A=zd(t,A));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||c!==A)&&_E(t,a,n,A),Xc=!1;var f=t.memoizedState;a.state=f,D0(t,n,a,i),c=t.memoizedState,o!==n||f!==c||_a.current||Xc?(typeof d=="function"&&(Lx(t,r,d,n),c=t.memoizedState),(o=Xc||SE(t,r,o,n,f,c,A))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=A,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,gT(e,t),o=t.memoizedProps,A=t.type===t.elementType?o:Xo(t.type,o),a.props=A,h=t.pendingProps,f=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=To(c):(c=Na(r)?fu:Hs.current,c=zd(t,c));var u=r.getDerivedStateFromProps;(d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==c)&&_E(t,a,n,c),Xc=!1,f=t.memoizedState,a.state=f,D0(t,n,a,i);var g=t.memoizedState;o!==h||f!==g||_a.current||Xc?(typeof u=="function"&&(Lx(t,r,u,n),g=t.memoizedState),(A=Xc||SE(t,r,A,n,f,g,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),a.props=n,a.state=g,a.context=c,n=A):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Px(e,t,r,n,s,i)}function Px(e,t,r,n,i,s){zT(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return i&&yE(t,r,!1),Cc(e,t,s);n=t.stateNode,XR.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=qd(t,e.child,null,s),t.child=qd(t,null,o,s)):oa(e,t,o,s),t.memoizedState=n.state,i&&yE(t,r,!0),t.child}function KT(e){var t=e.stateNode;t.pendingContext?gE(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gE(e,t.context,!1),G5(e,t.containerInfo)}function UE(e,t,r,n,i){return Kd(),Q5(i),t.flags|=256,oa(e,t,r,n),t.child}var Qx={dehydrated:null,treeContext:null,retryLane:0};function Mx(e){return{baseLanes:e,cachePool:null,transitions:null}}function qT(e,t,r){var n=t.pendingProps,i=ii.current,s=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Pn(ii,i&1),e===null)return jx(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,s?(n=t.mode,s=t.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Ty(a,n,0,null),e=ou(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Mx(r),t.memoizedState=Qx,e):eB(t,a));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return YR(e,t,a,n,o,i,r);if(s){s=n.fallback,a=t.mode,i=e.child,o=i.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=mA(i,c),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=mA(o,s):(s=ou(s,a,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,a=e.child.memoizedState,a=a===null?Mx(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~r,t.memoizedState=Qx,n}return s=e.child,e=s.sibling,n=mA(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function eB(e,t){return t=Ty({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Nm(e,t,r,n){return n!==null&&Q5(n),qd(t,e.child,null,r),e=eB(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function YR(e,t,r,n,i,s,a){if(r)return t.flags&256?(t.flags&=-257,n=$w(Error(Ut(422))),Nm(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=Ty({mode:"visible",children:n.children},i,0,null),s=ou(s,i,a,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&qd(t,e.child,null,a),t.child.memoizedState=Mx(a),t.memoizedState=Qx,s);if(!(t.mode&1))return Nm(e,t,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(Ut(419)),n=$w(s,n,void 0),Nm(e,t,a,n)}if(o=(a&e.childLanes)!==0,Ca||o){if(n=os,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Bc(e,i),nl(n,e,i,-1))}return aB(),n=$w(Error(Ut(421))),Nm(e,t,a,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=AO.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Xa=dA(i.nextSibling),ro=t,ti=!0,Zo=null,e!==null&&(xo[Bo++]=pc,xo[Bo++]=mc,xo[Bo++]=pu,pc=e.id,mc=e.overflow,pu=t),t=eB(t,n.children),t.flags|=4096,t)}function LE(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Ux(e.return,t,r)}function Vw(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function GT(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(oa(e,t,n.children,r),n=ii.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&LE(e,r,t);else if(e.tag===19)LE(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Pn(ii,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&R0(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Vw(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&R0(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Vw(t,!0,r,null,s);break;case"together":Vw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Cc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),gu|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ut(153));if(t.child!==null){for(e=t.child,r=mA(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=mA(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function JR(e,t,r){switch(t.tag){case 3:KT(t),Kd();break;case 5:yT(t);break;case 1:Na(t.type)&&T0(t);break;case 4:G5(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Pn(U0,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Pn(ii,ii.current&1),t.flags|=128,null):r&t.child.childLanes?qT(e,t,r):(Pn(ii,ii.current&1),e=Cc(e,t,r),e!==null?e.sibling:null);Pn(ii,ii.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return GT(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pn(ii,ii.current),n)break;return null;case 22:case 23:return t.lanes=0,HT(e,t,r)}return Cc(e,t,r)}var WT,Hx,$T,VT;WT=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Hx=function(){};$T=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,ZA(Ll.current);var s=null;switch(r){case"input":i=Ax(e,i),n=Ax(e,n),s=[];break;case"select":i=ai({},i,{value:void 0}),n=ai({},n,{value:void 0}),s=[];break;case"textarea":i=hx(e,i),n=hx(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=k0)}px(r,n);var a;r=null;for(A in i)if(!n.hasOwnProperty(A)&&i.hasOwnProperty(A)&&i[A]!=null)if(A==="style"){var o=i[A];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else A!=="dangerouslySetInnerHTML"&&A!=="children"&&A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(Xf.hasOwnProperty(A)?s||(s=[]):(s=s||[]).push(A,null));for(A in n){var c=n[A];if(o=i!=null?i[A]:void 0,n.hasOwnProperty(A)&&c!==o&&(c!=null||o!=null))if(A==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(s||(s=[]),s.push(A,r)),r=c;else A==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(s=s||[]).push(A,c)):A==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(A,""+c):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&(Xf.hasOwnProperty(A)?(c!=null&&A==="onScroll"&&Wn("scroll",e),s||o===c||(s=[])):(s=s||[]).push(A,c))}r&&(s=s||[]).push("style",r);var A=s;(t.updateQueue=A)&&(t.flags|=4)}};VT=function(e,t,r,n){r!==n&&(t.flags|=4)};function jh(e,t){if(!ti)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ts(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function ZR(e,t,r){var n=t.pendingProps;switch(P5(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ts(t),null;case 1:return Na(t.type)&&I0(),Ts(t),null;case 3:return n=t.stateNode,Gd(),Vn(_a),Vn(Hs),$5(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Sm(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Zo!==null&&(Xx(Zo),Zo=null))),Hx(e,t),Ts(t),null;case 5:W5(t);var i=ZA(lp.current);if(r=t.type,e!==null&&t.stateNode!=null)$T(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ut(166));return Ts(t),null}if(e=ZA(Ll.current),Sm(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[_l]=t,n[ap]=s,e=(t.mode&1)!==0,r){case"dialog":Wn("cancel",n),Wn("close",n);break;case"iframe":case"object":case"embed":Wn("load",n);break;case"video":case"audio":for(i=0;i<df.length;i++)Wn(df[i],n);break;case"source":Wn("error",n);break;case"img":case"image":case"link":Wn("error",n),Wn("load",n);break;case"details":Wn("toggle",n);break;case"input":KC(n,s),Wn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Wn("invalid",n);break;case"textarea":GC(n,s),Wn("invalid",n)}px(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Em(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Em(n.textContent,o,e),i=["children",""+o]):Xf.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Wn("scroll",n)}switch(r){case"input":gm(n),qC(n,s,!0);break;case"textarea":gm(n),WC(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=k0)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=BI(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[_l]=t,e[ap]=n,WT(e,t,!1,!1),t.stateNode=e;e:{switch(a=mx(r,n),r){case"dialog":Wn("cancel",e),Wn("close",e),i=n;break;case"iframe":case"object":case"embed":Wn("load",e),i=n;break;case"video":case"audio":for(i=0;i<df.length;i++)Wn(df[i],e);i=n;break;case"source":Wn("error",e),i=n;break;case"img":case"image":case"link":Wn("error",e),Wn("load",e),i=n;break;case"details":Wn("toggle",e),i=n;break;case"input":KC(e,n),i=Ax(e,n),Wn("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=ai({},n,{value:void 0}),Wn("invalid",e);break;case"textarea":GC(e,n),i=hx(e,n),Wn("invalid",e);break;default:i=n}px(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var c=o[s];s==="style"?SI(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&CI(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Yf(e,c):typeof c=="number"&&Yf(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Xf.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Wn("scroll",e):c!=null&&C5(e,s,c,a))}switch(r){case"input":gm(e),qC(e,n,!1);break;case"textarea":gm(e),WC(e);break;case"option":n.value!=null&&e.setAttribute("value",""+xA(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Bd(e,!!n.multiple,s,!1):n.defaultValue!=null&&Bd(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=k0)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ts(t),null;case 6:if(e&&t.stateNode!=null)VT(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ut(166));if(r=ZA(lp.current),ZA(Ll.current),Sm(t)){if(n=t.stateNode,r=t.memoizedProps,n[_l]=t,(s=n.nodeValue!==r)&&(e=ro,e!==null))switch(e.tag){case 3:Em(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Em(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[_l]=t,t.stateNode=n}return Ts(t),null;case 13:if(Vn(ii),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ti&&Xa!==null&&t.mode&1&&!(t.flags&128))hT(),Kd(),t.flags|=98560,s=!1;else if(s=Sm(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(Ut(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ut(317));s[_l]=t}else Kd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ts(t),s=!1}else Zo!==null&&(Xx(Zo),Zo=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ii.current&1?Yi===0&&(Yi=3):aB())),t.updateQueue!==null&&(t.flags|=4),Ts(t),null);case 4:return Gd(),Hx(e,t),e===null&&ip(t.stateNode.containerInfo),Ts(t),null;case 10:return z5(t.type._context),Ts(t),null;case 17:return Na(t.type)&&I0(),Ts(t),null;case 19:if(Vn(ii),s=t.memoizedState,s===null)return Ts(t),null;if(n=(t.flags&128)!==0,a=s.rendering,a===null)if(n)jh(s,!1);else{if(Yi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=R0(e),a!==null){for(t.flags|=128,jh(s,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Pn(ii,ii.current&1|2),t.child}e=e.sibling}s.tail!==null&&Bi()>$d&&(t.flags|=128,n=!0,jh(s,!1),t.lanes=4194304)}else{if(!n)if(e=R0(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),jh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!ti)return Ts(t),null}else 2*Bi()-s.renderingStartTime>$d&&r!==1073741824&&(t.flags|=128,n=!0,jh(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(r=s.last,r!==null?r.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Bi(),t.sibling=null,r=ii.current,Pn(ii,n?r&1|2:r&1),t):(Ts(t),null);case 22:case 23:return sB(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?$a&1073741824&&(Ts(t),t.subtreeFlags&6&&(t.flags|=8192)):Ts(t),null;case 24:return null;case 25:return null}throw Error(Ut(156,t.tag))}function eO(e,t){switch(P5(t),t.tag){case 1:return Na(t.type)&&I0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gd(),Vn(_a),Vn(Hs),$5(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return W5(t),null;case 13:if(Vn(ii),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ut(340));Kd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Vn(ii),null;case 4:return Gd(),null;case 10:return z5(t.type._context),null;case 22:case 23:return sB(),null;case 24:return null;default:return null}}var km=!1,Ms=!1,tO=typeof WeakSet=="function"?WeakSet:Set,rr=null;function fd(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){pi(e,t,n)}else r.current=null}function zx(e,t,r){try{r()}catch(n){pi(e,t,n)}}var DE=!1;function rO(e,t){if(Sx=S0,e=eT(),R5(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,c=-1,A=0,d=0,h=e,f=null;t:for(;;){for(var u;h!==r||i!==0&&h.nodeType!==3||(o=a+i),h!==s||n!==0&&h.nodeType!==3||(c=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(u=h.firstChild)!==null;)f=h,h=u;for(;;){if(h===e)break t;if(f===r&&++A===i&&(o=a),f===s&&++d===n&&(c=a),(u=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=u}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(_x={focusedElem:e,selectionRange:r},S0=!1,rr=t;rr!==null;)if(t=rr,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,rr=e;else for(;rr!==null;){t=rr;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,x=g.memoizedState,p=t.stateNode,y=p.getSnapshotBeforeUpdate(t.elementType===t.type?m:Xo(t.type,m),x);p.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ut(163))}}catch(b){pi(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,rr=e;break}rr=t.return}return g=DE,DE=!1,g}function If(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&zx(t,r,s)}i=i.next}while(i!==n)}}function ky(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Kx(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function XT(e){var t=e.alternate;t!==null&&(e.alternate=null,XT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_l],delete t[ap],delete t[Ix],delete t[OR],delete t[PR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function YT(e){return e.tag===5||e.tag===3||e.tag===4}function RE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||YT(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qx(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=k0));else if(n!==4&&(e=e.child,e!==null))for(qx(e,t,r),e=e.sibling;e!==null;)qx(e,t,r),e=e.sibling}function Gx(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Gx(e,t,r),e=e.sibling;e!==null;)Gx(e,t,r),e=e.sibling}var ms=null,Yo=!1;function Qc(e,t,r){for(r=r.child;r!==null;)JT(e,t,r),r=r.sibling}function JT(e,t,r){if(Ul&&typeof Ul.onCommitFiberUnmount=="function")try{Ul.onCommitFiberUnmount(vy,r)}catch{}switch(r.tag){case 5:Ms||fd(r,t);case 6:var n=ms,i=Yo;ms=null,Qc(e,t,r),ms=n,Yo=i,ms!==null&&(Yo?(e=ms,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ms.removeChild(r.stateNode));break;case 18:ms!==null&&(Yo?(e=ms,r=r.stateNode,e.nodeType===8?Hw(e.parentNode,r):e.nodeType===1&&Hw(e,r),tp(e)):Hw(ms,r.stateNode));break;case 4:n=ms,i=Yo,ms=r.stateNode.containerInfo,Yo=!0,Qc(e,t,r),ms=n,Yo=i;break;case 0:case 11:case 14:case 15:if(!Ms&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&zx(r,t,a),i=i.next}while(i!==n)}Qc(e,t,r);break;case 1:if(!Ms&&(fd(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){pi(r,t,o)}Qc(e,t,r);break;case 21:Qc(e,t,r);break;case 22:r.mode&1?(Ms=(n=Ms)||r.memoizedState!==null,Qc(e,t,r),Ms=n):Qc(e,t,r);break;default:Qc(e,t,r)}}function OE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new tO),t.forEach(function(n){var i=uO.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function qo(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:ms=o.stateNode,Yo=!1;break e;case 3:ms=o.stateNode.containerInfo,Yo=!0;break e;case 4:ms=o.stateNode.containerInfo,Yo=!0;break e}o=o.return}if(ms===null)throw Error(Ut(160));JT(s,a,i),ms=null,Yo=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(A){pi(i,t,A)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ZT(t,e),t=t.sibling}function ZT(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(qo(t,e),yl(e),n&4){try{If(3,e,e.return),ky(3,e)}catch(m){pi(e,e.return,m)}try{If(5,e,e.return)}catch(m){pi(e,e.return,m)}}break;case 1:qo(t,e),yl(e),n&512&&r!==null&&fd(r,r.return);break;case 5:if(qo(t,e),yl(e),n&512&&r!==null&&fd(r,r.return),e.flags&32){var i=e.stateNode;try{Yf(i,"")}catch(m){pi(e,e.return,m)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=r!==null?r.memoizedProps:s,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&vI(i,s),mx(o,a);var A=mx(o,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?SI(i,h):d==="dangerouslySetInnerHTML"?CI(i,h):d==="children"?Yf(i,h):C5(i,d,h,A)}switch(o){case"input":ux(i,s);break;case"textarea":xI(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var u=s.value;u!=null?Bd(i,!!s.multiple,u,!1):f!==!!s.multiple&&(s.defaultValue!=null?Bd(i,!!s.multiple,s.defaultValue,!0):Bd(i,!!s.multiple,s.multiple?[]:"",!1))}i[ap]=s}catch(m){pi(e,e.return,m)}}break;case 6:if(qo(t,e),yl(e),n&4){if(e.stateNode===null)throw Error(Ut(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){pi(e,e.return,m)}}break;case 3:if(qo(t,e),yl(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{tp(t.containerInfo)}catch(m){pi(e,e.return,m)}break;case 4:qo(t,e),yl(e);break;case 13:qo(t,e),yl(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(nB=Bi())),n&4&&OE(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ms=(A=Ms)||d,qo(t,e),Ms=A):qo(t,e),yl(e),n&8192){if(A=e.memoizedState!==null,(e.stateNode.isHidden=A)&&!d&&e.mode&1)for(rr=e,d=e.child;d!==null;){for(h=rr=d;rr!==null;){switch(f=rr,u=f.child,f.tag){case 0:case 11:case 14:case 15:If(4,f,f.return);break;case 1:fd(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){pi(n,r,m)}}break;case 5:fd(f,f.return);break;case 22:if(f.memoizedState!==null){QE(h);continue}}u!==null?(u.return=f,rr=u):QE(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,A?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=EI("display",a))}catch(m){pi(e,e.return,m)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=A?"":h.memoizedProps}catch(m){pi(e,e.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:qo(t,e),yl(e),n&4&&OE(e);break;case 21:break;default:qo(t,e),yl(e)}}function yl(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(YT(r)){var n=r;break e}r=r.return}throw Error(Ut(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Yf(i,""),n.flags&=-33);var s=RE(e);Gx(e,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=RE(e);qx(e,o,a);break;default:throw Error(Ut(161))}}catch(c){pi(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nO(e,t,r){rr=e,e6(e)}function e6(e,t,r){for(var n=(e.mode&1)!==0;rr!==null;){var i=rr,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||km;if(!a){var o=i.alternate,c=o!==null&&o.memoizedState!==null||Ms;o=km;var A=Ms;if(km=a,(Ms=c)&&!A)for(rr=i;rr!==null;)a=rr,c=a.child,a.tag===22&&a.memoizedState!==null?ME(i):c!==null?(c.return=a,rr=c):ME(i);for(;s!==null;)rr=s,e6(s),s=s.sibling;rr=i,km=o,Ms=A}PE(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,rr=s):PE(e)}}function PE(e){for(;rr!==null;){var t=rr;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ms||ky(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ms)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Xo(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&BE(t,s,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}BE(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var A=t.alternate;if(A!==null){var d=A.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&tp(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ut(163))}Ms||t.flags&512&&Kx(t)}catch(f){pi(t,t.return,f)}}if(t===e){rr=null;break}if(r=t.sibling,r!==null){r.return=t.return,rr=r;break}rr=t.return}}function QE(e){for(;rr!==null;){var t=rr;if(t===e){rr=null;break}var r=t.sibling;if(r!==null){r.return=t.return,rr=r;break}rr=t.return}}function ME(e){for(;rr!==null;){var t=rr;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ky(4,t)}catch(c){pi(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){pi(t,i,c)}}var s=t.return;try{Kx(t)}catch(c){pi(t,s,c)}break;case 5:var a=t.return;try{Kx(t)}catch(c){pi(t,a,c)}}}catch(c){pi(t,t.return,c)}if(t===e){rr=null;break}var o=t.sibling;if(o!==null){o.return=t.return,rr=o;break}rr=t.return}}var iO=Math.ceil,Q0=Sc.ReactCurrentDispatcher,tB=Sc.ReactCurrentOwner,Io=Sc.ReactCurrentBatchConfig,An=0,os=null,Qi=null,Bs=0,$a=0,pd=_A(0),Yi=0,dp=null,gu=0,Iy=0,rB=0,Tf=null,Ba=null,nB=0,$d=1/0,cc=null,M0=!1,Wx=null,fA=null,Im=!1,rA=null,H0=0,Ff=0,$x=null,Zg=-1,e0=0;function Aa(){return An&6?Bi():Zg!==-1?Zg:Zg=Bi()}function pA(e){return e.mode&1?An&2&&Bs!==0?Bs&-Bs:MR.transition!==null?(e0===0&&(e0=OI()),e0):(e=_n,e!==0||(e=window.event,e=e===void 0?16:qI(e.type)),e):1}function nl(e,t,r,n){if(50<Ff)throw Ff=0,$x=null,Error(Ut(185));Fp(e,r,n),(!(An&2)||e!==os)&&(e===os&&(!(An&2)&&(Iy|=r),Yi===4&&Zc(e,Bs)),ka(e,n),r===1&&An===0&&!(t.mode&1)&&($d=Bi()+500,Sy&&NA()))}function ka(e,t){var r=e.callbackNode;M8(e,t);var n=E0(e,e===os?Bs:0);if(n===0)r!==null&&XC(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&XC(r),t===1)e.tag===0?QR(HE.bind(null,e)):AT(HE.bind(null,e)),DR(function(){!(An&6)&&NA()}),r=null;else{switch(PI(n)){case 1:r=k5;break;case 4:r=DI;break;case 16:r=C0;break;case 536870912:r=RI;break;default:r=C0}r=l6(r,t6.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function t6(e,t){if(Zg=-1,e0=0,An&6)throw Error(Ut(327));var r=e.callbackNode;if(Nd()&&e.callbackNode!==r)return null;var n=E0(e,e===os?Bs:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=z0(e,n);else{t=n;var i=An;An|=2;var s=n6();(os!==e||Bs!==t)&&(cc=null,$d=Bi()+500,au(e,t));do try{oO();break}catch(o){r6(e,o)}while(1);H5(),Q0.current=s,An=i,Qi!==null?t=0:(os=null,Bs=0,t=Yi)}if(t!==0){if(t===2&&(i=vx(e),i!==0&&(n=i,t=Vx(e,i))),t===1)throw r=dp,au(e,0),Zc(e,n),ka(e,Bi()),r;if(t===6)Zc(e,n);else{if(i=e.current.alternate,!(n&30)&&!sO(i)&&(t=z0(e,n),t===2&&(s=vx(e),s!==0&&(n=s,t=Vx(e,s))),t===1))throw r=dp,au(e,0),Zc(e,n),ka(e,Bi()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Ut(345));case 2:HA(e,Ba,cc);break;case 3:if(Zc(e,n),(n&130023424)===n&&(t=nB+500-Bi(),10<t)){if(E0(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Aa(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=kx(HA.bind(null,e,Ba,cc),t);break}HA(e,Ba,cc);break;case 4:if(Zc(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-rl(n);s=1<<a,a=t[a],a>i&&(i=a),n&=~s}if(n=i,n=Bi()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*iO(n/1960))-n,10<n){e.timeoutHandle=kx(HA.bind(null,e,Ba,cc),n);break}HA(e,Ba,cc);break;case 5:HA(e,Ba,cc);break;default:throw Error(Ut(329))}}}return ka(e,Bi()),e.callbackNode===r?t6.bind(null,e):null}function Vx(e,t){var r=Tf;return e.current.memoizedState.isDehydrated&&(au(e,t).flags|=256),e=z0(e,t),e!==2&&(t=Ba,Ba=r,t!==null&&Xx(t)),e}function Xx(e){Ba===null?Ba=e:Ba.push.apply(Ba,e)}function sO(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!sl(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zc(e,t){for(t&=~rB,t&=~Iy,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-rl(t),n=1<<r;e[r]=-1,t&=~n}}function HE(e){if(An&6)throw Error(Ut(327));Nd();var t=E0(e,0);if(!(t&1))return ka(e,Bi()),null;var r=z0(e,t);if(e.tag!==0&&r===2){var n=vx(e);n!==0&&(t=n,r=Vx(e,n))}if(r===1)throw r=dp,au(e,0),Zc(e,t),ka(e,Bi()),r;if(r===6)throw Error(Ut(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,HA(e,Ba,cc),ka(e,Bi()),null}function iB(e,t){var r=An;An|=1;try{return e(t)}finally{An=r,An===0&&($d=Bi()+500,Sy&&NA())}}function yu(e){rA!==null&&rA.tag===0&&!(An&6)&&Nd();var t=An;An|=1;var r=Io.transition,n=_n;try{if(Io.transition=null,_n=1,e)return e()}finally{_n=n,Io.transition=r,An=t,!(An&6)&&NA()}}function sB(){$a=pd.current,Vn(pd)}function au(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,LR(r)),Qi!==null)for(r=Qi.return;r!==null;){var n=r;switch(P5(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&I0();break;case 3:Gd(),Vn(_a),Vn(Hs),$5();break;case 5:W5(n);break;case 4:Gd();break;case 13:Vn(ii);break;case 19:Vn(ii);break;case 10:z5(n.type._context);break;case 22:case 23:sB()}r=r.return}if(os=e,Qi=e=mA(e.current,null),Bs=$a=t,Yi=0,dp=null,rB=Iy=gu=0,Ba=Tf=null,JA!==null){for(t=0;t<JA.length;t++)if(r=JA[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}JA=null}return e}function r6(e,t){do{var r=Qi;try{if(H5(),Xg.current=P0,O0){for(var n=si.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}O0=!1}if(mu=0,is=Vi=si=null,kf=!1,cp=0,tB.current=null,r===null||r.return===null){Yi=1,dp=t,Qi=null;break}e:{var s=e,a=r.return,o=r,c=t;if(t=Bs,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var A=c,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var u=kE(a);if(u!==null){u.flags&=-257,IE(u,a,o,s,t),u.mode&1&&NE(s,A,t),t=u,c=A;var g=t.updateQueue;if(g===null){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}else{if(!(t&1)){NE(s,A,t),aB();break e}c=Error(Ut(426))}}else if(ti&&o.mode&1){var x=kE(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),IE(x,a,o,s,t),Q5(Wd(c,o));break e}}s=c=Wd(c,o),Yi!==4&&(Yi=2),Tf===null?Tf=[s]:Tf.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=PT(s,c,t);xE(s,p);break e;case 1:o=c;var y=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(fA===null||!fA.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var b=QT(s,o,t);xE(s,b);break e}}s=s.return}while(s!==null)}s6(r)}catch(I){t=I,Qi===r&&r!==null&&(Qi=r=r.return);continue}break}while(1)}function n6(){var e=Q0.current;return Q0.current=P0,e===null?P0:e}function aB(){(Yi===0||Yi===3||Yi===2)&&(Yi=4),os===null||!(gu&268435455)&&!(Iy&268435455)||Zc(os,Bs)}function z0(e,t){var r=An;An|=2;var n=n6();(os!==e||Bs!==t)&&(cc=null,au(e,t));do try{aO();break}catch(i){r6(e,i)}while(1);if(H5(),An=r,Q0.current=n,Qi!==null)throw Error(Ut(261));return os=null,Bs=0,Yi}function aO(){for(;Qi!==null;)i6(Qi)}function oO(){for(;Qi!==null&&!F8();)i6(Qi)}function i6(e){var t=o6(e.alternate,e,$a);e.memoizedProps=e.pendingProps,t===null?s6(e):Qi=t,tB.current=null}function s6(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=eO(r,t),r!==null){r.flags&=32767,Qi=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Yi=6,Qi=null;return}}else if(r=ZR(r,t,$a),r!==null){Qi=r;return}if(t=t.sibling,t!==null){Qi=t;return}Qi=t=e}while(t!==null);Yi===0&&(Yi=5)}function HA(e,t,r){var n=_n,i=Io.transition;try{Io.transition=null,_n=1,lO(e,t,r,n)}finally{Io.transition=i,_n=n}return null}function lO(e,t,r,n){do Nd();while(rA!==null);if(An&6)throw Error(Ut(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ut(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(H8(e,s),e===os&&(Qi=os=null,Bs=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Im||(Im=!0,l6(C0,function(){return Nd(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Io.transition,Io.transition=null;var a=_n;_n=1;var o=An;An|=4,tB.current=null,rO(e,r),ZT(r,e),NR(_x),S0=!!Sx,_x=Sx=null,e.current=r,nO(r),j8(),An=o,_n=a,Io.transition=s}else e.current=r;if(Im&&(Im=!1,rA=e,H0=i),s=e.pendingLanes,s===0&&(fA=null),D8(r.stateNode),ka(e,Bi()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(M0)throw M0=!1,e=Wx,Wx=null,e;return H0&1&&e.tag!==0&&Nd(),s=e.pendingLanes,s&1?e===$x?Ff++:(Ff=0,$x=e):Ff=0,NA(),null}function Nd(){if(rA!==null){var e=PI(H0),t=Io.transition,r=_n;try{if(Io.transition=null,_n=16>e?16:e,rA===null)var n=!1;else{if(e=rA,rA=null,H0=0,An&6)throw Error(Ut(331));var i=An;for(An|=4,rr=e.current;rr!==null;){var s=rr,a=s.child;if(rr.flags&16){var o=s.deletions;if(o!==null){for(var c=0;c<o.length;c++){var A=o[c];for(rr=A;rr!==null;){var d=rr;switch(d.tag){case 0:case 11:case 15:If(8,d,s)}var h=d.child;if(h!==null)h.return=d,rr=h;else for(;rr!==null;){d=rr;var f=d.sibling,u=d.return;if(XT(d),d===A){rr=null;break}if(f!==null){f.return=u,rr=f;break}rr=u}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}rr=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,rr=a;else e:for(;rr!==null;){if(s=rr,s.flags&2048)switch(s.tag){case 0:case 11:case 15:If(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,rr=p;break e}rr=s.return}}var y=e.current;for(rr=y;rr!==null;){a=rr;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,rr=w;else e:for(a=y;rr!==null;){if(o=rr,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ky(9,o)}}catch(I){pi(o,o.return,I)}if(o===a){rr=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,rr=b;break e}rr=o.return}}if(An=i,NA(),Ul&&typeof Ul.onPostCommitFiberRoot=="function")try{Ul.onPostCommitFiberRoot(vy,e)}catch{}n=!0}return n}finally{_n=r,Io.transition=t}}return!1}function zE(e,t,r){t=Wd(r,t),t=PT(e,t,1),e=hA(e,t,1),t=Aa(),e!==null&&(Fp(e,1,t),ka(e,t))}function pi(e,t,r){if(e.tag===3)zE(e,e,r);else for(;t!==null;){if(t.tag===3){zE(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(fA===null||!fA.has(n))){e=Wd(r,e),e=QT(t,e,1),t=hA(t,e,1),e=Aa(),t!==null&&(Fp(t,1,e),ka(t,e));break}}t=t.return}}function cO(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Aa(),e.pingedLanes|=e.suspendedLanes&r,os===e&&(Bs&r)===r&&(Yi===4||Yi===3&&(Bs&130023424)===Bs&&500>Bi()-nB?au(e,0):rB|=r),ka(e,t)}function a6(e,t){t===0&&(e.mode&1?(t=bm,bm<<=1,!(bm&130023424)&&(bm=4194304)):t=1);var r=Aa();e=Bc(e,t),e!==null&&(Fp(e,t,r),ka(e,r))}function AO(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),a6(e,r)}function uO(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ut(314))}n!==null&&n.delete(t),a6(e,r)}var o6;o6=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||_a.current)Ca=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ca=!1,JR(e,t,r);Ca=!!(e.flags&131072)}else Ca=!1,ti&&t.flags&1048576&&uT(t,j0,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Jg(e,t),e=t.pendingProps;var i=zd(t,Hs.current);_d(t,r),i=X5(null,t,n,e,i,r);var s=Y5();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Na(n)?(s=!0,T0(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,q5(t),i.updater=Ny,t.stateNode=i,i._reactInternals=t,Dx(t,n,e,r),t=Px(null,t,n,!0,s,r)):(t.tag=0,ti&&s&&O5(t),oa(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Jg(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=hO(n),e=Xo(n,e),i){case 0:t=Ox(null,t,n,e,r);break e;case 1:t=jE(null,t,n,e,r);break e;case 11:t=TE(null,t,n,e,r);break e;case 14:t=FE(null,t,n,Xo(n.type,e),r);break e}throw Error(Ut(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Xo(n,i),Ox(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Xo(n,i),jE(e,t,n,i,r);case 3:e:{if(KT(t),e===null)throw Error(Ut(387));n=t.pendingProps,s=t.memoizedState,i=s.element,gT(e,t),D0(t,n,null,r);var a=t.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Wd(Error(Ut(423)),t),t=UE(e,t,n,r,i);break e}else if(n!==i){i=Wd(Error(Ut(424)),t),t=UE(e,t,n,r,i);break e}else for(Xa=dA(t.stateNode.containerInfo.firstChild),ro=t,ti=!0,Zo=null,r=pT(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Kd(),n===i){t=Cc(e,t,r);break e}oa(e,t,n,r)}t=t.child}return t;case 5:return yT(t),e===null&&jx(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,Nx(n,i)?a=null:s!==null&&Nx(n,s)&&(t.flags|=32),zT(e,t),oa(e,t,a,r),t.child;case 6:return e===null&&jx(t),null;case 13:return qT(e,t,r);case 4:return G5(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=qd(t,null,n,r):oa(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Xo(n,i),TE(e,t,n,i,r);case 7:return oa(e,t,t.pendingProps,r),t.child;case 8:return oa(e,t,t.pendingProps.children,r),t.child;case 12:return oa(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Pn(U0,n._currentValue),n._currentValue=a,s!==null)if(sl(s.value,a)){if(s.children===i.children&&!_a.current){t=Cc(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=wc(-1,r&-r),c.tag=2;var A=s.updateQueue;if(A!==null){A=A.shared;var d=A.pending;d===null?c.next=c:(c.next=d.next,d.next=c),A.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),Ux(s.return,r,t),o.lanes|=r;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Ut(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Ux(a,r,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}oa(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,_d(t,r),i=To(i),n=n(i),t.flags|=1,oa(e,t,n,r),t.child;case 14:return n=t.type,i=Xo(n,t.pendingProps),i=Xo(n.type,i),FE(e,t,n,i,r);case 15:return MT(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Xo(n,i),Jg(e,t),t.tag=1,Na(n)?(e=!0,T0(t)):e=!1,_d(t,r),OT(t,n,i),Dx(t,n,i,r),Px(null,t,n,!0,e,r);case 19:return GT(e,t,r);case 22:return HT(e,t,r)}throw Error(Ut(156,t.tag))};function l6(e,t){return LI(e,t)}function dO(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _o(e,t,r,n){return new dO(e,t,r,n)}function oB(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hO(e){if(typeof e=="function")return oB(e)?1:0;if(e!=null){if(e=e.$$typeof,e===S5)return 11;if(e===_5)return 14}return 2}function mA(e,t){var r=e.alternate;return r===null?(r=_o(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function t0(e,t,r,n,i,s){var a=2;if(n=e,typeof e=="function")oB(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case sd:return ou(r.children,i,s,t);case E5:a=8,i|=8;break;case ax:return e=_o(12,r,t,i|2),e.elementType=ax,e.lanes=s,e;case ox:return e=_o(13,r,t,i),e.elementType=ox,e.lanes=s,e;case lx:return e=_o(19,r,t,i),e.elementType=lx,e.lanes=s,e;case yI:return Ty(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mI:a=10;break e;case gI:a=9;break e;case S5:a=11;break e;case _5:a=14;break e;case Vc:a=16,n=null;break e}throw Error(Ut(130,e==null?e:typeof e,""))}return t=_o(a,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function ou(e,t,r,n){return e=_o(7,e,n,t),e.lanes=r,e}function Ty(e,t,r,n){return e=_o(22,e,n,t),e.elementType=yI,e.lanes=r,e.stateNode={isHidden:!1},e}function Xw(e,t,r){return e=_o(6,e,null,t),e.lanes=r,e}function Yw(e,t,r){return t=_o(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fO(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tw(0),this.expirationTimes=Tw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tw(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function lB(e,t,r,n,i,s,a,o,c){return e=new fO(e,t,r,o,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=_o(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},q5(s),e}function pO(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:id,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function c6(e){if(!e)return BA;e=e._reactInternals;e:{if(Cu(e)!==e||e.tag!==1)throw Error(Ut(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Na(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ut(171))}if(e.tag===1){var r=e.type;if(Na(r))return cT(e,r,t)}return t}function A6(e,t,r,n,i,s,a,o,c){return e=lB(r,n,!0,e,i,s,a,o,c),e.context=c6(null),r=e.current,n=Aa(),i=pA(r),s=wc(n,i),s.callback=t??null,hA(r,s,i),e.current.lanes=i,Fp(e,i,n),ka(e,n),e}function Fy(e,t,r,n){var i=t.current,s=Aa(),a=pA(i);return r=c6(r),t.context===null?t.context=r:t.pendingContext=r,t=wc(s,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=hA(i,t,a),e!==null&&(nl(e,i,a,s),Vg(e,i,a)),a}function K0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function KE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function cB(e,t){KE(e,t),(e=e.alternate)&&KE(e,t)}function mO(){return null}var u6=typeof reportError=="function"?reportError:function(e){console.error(e)};function AB(e){this._internalRoot=e}jy.prototype.render=AB.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ut(409));Fy(e,t,null,null)};jy.prototype.unmount=AB.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yu(function(){Fy(null,e,null,null)}),t[xc]=null}};function jy(e){this._internalRoot=e}jy.prototype.unstable_scheduleHydration=function(e){if(e){var t=HI();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Jc.length&&t!==0&&t<Jc[r].priority;r++);Jc.splice(r,0,e),r===0&&KI(e)}};function uB(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Uy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qE(){}function gO(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var A=K0(a);s.call(A)}}var a=A6(t,n,e,0,null,!1,!1,"",qE);return e._reactRootContainer=a,e[xc]=a.current,ip(e.nodeType===8?e.parentNode:e),yu(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var A=K0(c);o.call(A)}}var c=lB(e,0,!1,null,null,!1,!1,"",qE);return e._reactRootContainer=c,e[xc]=c.current,ip(e.nodeType===8?e.parentNode:e),yu(function(){Fy(t,c,r,n)}),c}function Ly(e,t,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var c=K0(a);o.call(c)}}Fy(t,a,e,i)}else a=gO(r,t,e,i,n);return K0(a)}QI=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=uf(t.pendingLanes);r!==0&&(I5(t,r|1),ka(t,Bi()),!(An&6)&&($d=Bi()+500,NA()))}break;case 13:yu(function(){var n=Bc(e,1);if(n!==null){var i=Aa();nl(n,e,1,i)}}),cB(e,1)}};T5=function(e){if(e.tag===13){var t=Bc(e,134217728);if(t!==null){var r=Aa();nl(t,e,134217728,r)}cB(e,134217728)}};MI=function(e){if(e.tag===13){var t=pA(e),r=Bc(e,t);if(r!==null){var n=Aa();nl(r,e,t,n)}cB(e,t)}};HI=function(){return _n};zI=function(e,t){var r=_n;try{return _n=e,t()}finally{_n=r}};yx=function(e,t,r){switch(t){case"input":if(ux(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Ey(n);if(!i)throw Error(Ut(90));bI(n),ux(n,i)}}}break;case"textarea":xI(e,r);break;case"select":t=r.value,t!=null&&Bd(e,!!r.multiple,t,!1)}};kI=iB;II=yu;var yO={usingClientEntryPoint:!1,Events:[Up,cd,Ey,_I,NI,iB]},Uh={findFiberByHostInstance:YA,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wO={bundleType:Uh.bundleType,version:Uh.version,rendererPackageName:Uh.rendererPackageName,rendererConfig:Uh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=jI(e),e===null?null:e.stateNode},findFiberByHostInstance:Uh.findFiberByHostInstance||mO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tm.isDisabled&&Tm.supportsFiber)try{vy=Tm.inject(wO),Ul=Tm}catch{}}oo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yO;oo.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uB(t))throw Error(Ut(200));return pO(e,t,null,r)};oo.createRoot=function(e,t){if(!uB(e))throw Error(Ut(299));var r=!1,n="",i=u6;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=lB(e,1,!1,null,null,r,!1,n,i),e[xc]=t.current,ip(e.nodeType===8?e.parentNode:e),new AB(t)};oo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ut(188)):(e=Object.keys(e).join(","),Error(Ut(268,e)));return e=jI(t),e=e===null?null:e.stateNode,e};oo.flushSync=function(e){return yu(e)};oo.hydrate=function(e,t,r){if(!Uy(t))throw Error(Ut(200));return Ly(null,e,t,!0,r)};oo.hydrateRoot=function(e,t,r){if(!uB(e))throw Error(Ut(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=u6;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=A6(t,null,e,1,r??null,i,!1,s,a),e[xc]=t.current,ip(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new jy(t)};oo.render=function(e,t,r){if(!Uy(t))throw Error(Ut(200));return Ly(null,e,t,!1,r)};oo.unmountComponentAtNode=function(e){if(!Uy(e))throw Error(Ut(40));return e._reactRootContainer?(yu(function(){Ly(null,null,e,!1,function(){e._reactRootContainer=null,e[xc]=null})}),!0):!1};oo.unstable_batchedUpdates=iB;oo.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Uy(r))throw Error(Ut(200));if(e==null||e._reactInternals===void 0)throw Error(Ut(38));return Ly(e,t,r,!1,n)};oo.version="18.3.1-next-f1338f8080-20240426";function d6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d6)}catch(e){console.error(e)}}d6(),dI.exports=oo;var h6=dI.exports,GE=h6;ix.createRoot=GE.createRoot,ix.hydrateRoot=GE.hydrateRoot;var f6={exports:{}};const bO={},vO=Object.freeze(Object.defineProperty({__proto__:null,default:bO},Symbol.toStringTag,{value:"Module"})),WE=$D(vO);(function(e,t){var r=void 0,n=function(i){return r||(r=new Promise(function(s,a){var o=typeof i<"u"?i:{},c=o.onAbort;o.onAbort=function(L){a(new Error(L)),c&&c(L)},o.postRun=o.postRun||[],o.postRun.push(function(){s(o)}),e=void 0;var A;A||(A=typeof o<"u"?o:{});var d=typeof window=="object",h=typeof WorkerGlobalScope<"u",f=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";A.onRuntimeInitialized=function(){function L(tt,vt){switch(typeof vt){case"boolean":pl(tt,vt?1:0);break;case"number":yn(tt,vt);break;case"string":ts(tt,vt,-1,-1);break;case"object":if(vt===null)Jn(tt);else if(vt.length!=null){var zt=Ro(vt,Rr);gi(tt,zt,vt.length,-1),jn(zt)}else ga(tt,"Wrong API use : tried to return a value of an unknown type ("+vt+").",-1);break;default:Jn(tt)}}function W(tt,vt){for(var zt=[],Ar=0;Ar<tt;Ar+=1){var mr=Z(vt+4*Ar,"i32"),Vr=Wr(mr);if(Vr===1||Vr===2)mr=Kn(mr);else if(Vr===3)mr=zn(mr);else if(Vr===4){Vr=mr,mr=Nn(Vr),Vr=on(Vr);for(var Ui=new Uint8Array(mr),$r=0;$r<mr;$r+=1)Ui[$r]=$[Vr+$r];mr=Ui}else mr=null;zt.push(mr)}return zt}function pe(tt,vt){this.Qa=tt,this.db=vt,this.Oa=1,this.lb=[]}function Ce(tt,vt){if(this.db=vt,vt=_e(tt)+1,this.eb=yr(vt),this.eb===null)throw Error("Unable to allocate memory for the SQL string");Me(tt,q,this.eb,vt),this.kb=this.eb,this.Za=this.pb=null}function Re(tt){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),tt!=null){var vt=this.filename,zt="/",Ar=vt;if(zt&&(zt=typeof zt=="string"?zt:Tr(zt),Ar=vt?P(zt+"/"+vt):zt),vt=Yt(!0,!0),Ar=Uo(Ar,vt),tt){if(typeof tt=="string"){zt=Array(tt.length);for(var mr=0,Vr=tt.length;mr<Vr;++mr)zt[mr]=tt.charCodeAt(mr);tt=zt}ha(Ar,vt|146),zt=ji(Ar,577),kr(zt,tt,0,tt.length,0),Do(zt),ha(Ar,vt)}}this.handleError(sr(this.filename,rt)),this.db=Z(rt,"i32"),ea(this.db),this.fb={},this.Sa={}}var rt=ci(4),dt=A.cwrap,sr=dt("sqlite3_open","number",["string","number"]),br=dt("sqlite3_close_v2","number",["number"]),vr=dt("sqlite3_exec","number",["number","string","number","number","number"]),dn=dt("sqlite3_changes","number",["number"]),Hn=dt("sqlite3_prepare_v2","number",["number","string","number","number","number"]),pa=dt("sqlite3_sql","string",["number"]),Po=dt("sqlite3_normalized_sql","string",["number"]),uo=dt("sqlite3_prepare_v2","number",["number","number","number","number","number"]),Ic=dt("sqlite3_bind_text","number",["number","number","number","number","number"]),Wl=dt("sqlite3_bind_blob","number",["number","number","number","number","number"]),Js=dt("sqlite3_bind_double","number",["number","number","number"]),Zs=dt("sqlite3_bind_int","number",["number","number","number"]),$l=dt("sqlite3_bind_parameter_index","number",["number","string"]),Qo=dt("sqlite3_step","number",["number"]),ma=dt("sqlite3_errmsg","string",["number"]),Mo=dt("sqlite3_column_count","number",["number"]),z=dt("sqlite3_data_count","number",["number"]),we=dt("sqlite3_column_double","number",["number","number"]),Te=dt("sqlite3_column_text","string",["number","number"]),Pe=dt("sqlite3_column_blob","number",["number","number"]),Ye=dt("sqlite3_column_bytes","number",["number","number"]),ft=dt("sqlite3_column_type","number",["number","number"]),Et=dt("sqlite3_column_name","string",["number","number"]),Ht=dt("sqlite3_reset","number",["number"]),er=dt("sqlite3_clear_bindings","number",["number"]),pr=dt("sqlite3_finalize","number",["number"]),xr=dt("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),Wr=dt("sqlite3_value_type","number",["number"]),Nn=dt("sqlite3_value_bytes","number",["number"]),zn=dt("sqlite3_value_text","string",["number"]),on=dt("sqlite3_value_blob","number",["number"]),Kn=dt("sqlite3_value_double","number",["number"]),yn=dt("sqlite3_result_double","",["number","number"]),Jn=dt("sqlite3_result_null","",["number"]),ts=dt("sqlite3_result_text","",["number","string","number","number"]),gi=dt("sqlite3_result_blob","",["number","number","number","number"]),pl=dt("sqlite3_result_int","",["number","number"]),ga=dt("sqlite3_result_error","",["number","string","number"]),ho=dt("sqlite3_aggregate_context","number",["number","number"]),ea=dt("RegisterExtensionFunctions","number",["number"]),ta=dt("sqlite3_update_hook","number",["number","number","number"]);pe.prototype.bind=function(tt){if(!this.Qa)throw"Statement closed";return this.reset(),Array.isArray(tt)?this.Cb(tt):tt!=null&&typeof tt=="object"?this.Db(tt):!0},pe.prototype.step=function(){if(!this.Qa)throw"Statement closed";this.Oa=1;var tt=Qo(this.Qa);switch(tt){case 100:return!0;case 101:return!1;default:throw this.db.handleError(tt)}},pe.prototype.wb=function(tt){return tt==null&&(tt=this.Oa,this.Oa+=1),we(this.Qa,tt)},pe.prototype.Gb=function(tt){if(tt==null&&(tt=this.Oa,this.Oa+=1),tt=Te(this.Qa,tt),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(tt)},pe.prototype.Hb=function(tt){return tt==null&&(tt=this.Oa,this.Oa+=1),Te(this.Qa,tt)},pe.prototype.getBlob=function(tt){tt==null&&(tt=this.Oa,this.Oa+=1);var vt=Ye(this.Qa,tt);tt=Pe(this.Qa,tt);for(var zt=new Uint8Array(vt),Ar=0;Ar<vt;Ar+=1)zt[Ar]=$[tt+Ar];return zt},pe.prototype.get=function(tt,vt){vt=vt||{},tt!=null&&this.bind(tt)&&this.step(),tt=[];for(var zt=z(this.Qa),Ar=0;Ar<zt;Ar+=1)switch(ft(this.Qa,Ar)){case 1:var mr=vt.useBigInt?this.Gb(Ar):this.wb(Ar);tt.push(mr);break;case 2:tt.push(this.wb(Ar));break;case 3:tt.push(this.Hb(Ar));break;case 4:tt.push(this.getBlob(Ar));break;default:tt.push(null)}return tt},pe.prototype.getColumnNames=function(){for(var tt=[],vt=Mo(this.Qa),zt=0;zt<vt;zt+=1)tt.push(Et(this.Qa,zt));return tt},pe.prototype.getAsObject=function(tt,vt){tt=this.get(tt,vt),vt=this.getColumnNames();for(var zt={},Ar=0;Ar<vt.length;Ar+=1)zt[vt[Ar]]=tt[Ar];return zt},pe.prototype.getSQL=function(){return pa(this.Qa)},pe.prototype.getNormalizedSQL=function(){return Po(this.Qa)},pe.prototype.run=function(tt){return tt!=null&&this.bind(tt),this.step(),this.reset()},pe.prototype.sb=function(tt,vt){vt==null&&(vt=this.Oa,this.Oa+=1),tt=Ze(tt);var zt=Ro(tt,Rr);this.lb.push(zt),this.db.handleError(Ic(this.Qa,vt,zt,tt.length-1,0))},pe.prototype.Bb=function(tt,vt){vt==null&&(vt=this.Oa,this.Oa+=1);var zt=Ro(tt,Rr);this.lb.push(zt),this.db.handleError(Wl(this.Qa,vt,zt,tt.length,0))},pe.prototype.rb=function(tt,vt){vt==null&&(vt=this.Oa,this.Oa+=1),this.db.handleError((tt===(tt|0)?Zs:Js)(this.Qa,vt,tt))},pe.prototype.Eb=function(tt){tt==null&&(tt=this.Oa,this.Oa+=1),Wl(this.Qa,tt,0,0,0)},pe.prototype.tb=function(tt,vt){switch(vt==null&&(vt=this.Oa,this.Oa+=1),typeof tt){case"string":this.sb(tt,vt);return;case"number":this.rb(tt,vt);return;case"bigint":this.sb(tt.toString(),vt);return;case"boolean":this.rb(tt+0,vt);return;case"object":if(tt===null){this.Eb(vt);return}if(tt.length!=null){this.Bb(tt,vt);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+tt+")."},pe.prototype.Db=function(tt){var vt=this;return Object.keys(tt).forEach(function(zt){var Ar=$l(vt.Qa,zt);Ar!==0&&vt.tb(tt[zt],Ar)}),!0},pe.prototype.Cb=function(tt){for(var vt=0;vt<tt.length;vt+=1)this.tb(tt[vt],vt+1);return!0},pe.prototype.reset=function(){return this.freemem(),er(this.Qa)===0&&Ht(this.Qa)===0},pe.prototype.freemem=function(){for(var tt;(tt=this.lb.pop())!==void 0;)jn(tt)},pe.prototype.free=function(){this.freemem();var tt=pr(this.Qa)===0;return delete this.db.fb[this.Qa],this.Qa=0,tt},Ce.prototype.next=function(){if(this.eb===null)return{done:!0};if(this.Za!==null&&(this.Za.free(),this.Za=null),!this.db.db)throw this.mb(),Error("Database closed");var tt=Yn(),vt=ci(4);B(rt),B(vt);try{this.db.handleError(uo(this.db.db,this.kb,-1,rt,vt)),this.kb=Z(vt,"i32");var zt=Z(rt,"i32");return zt===0?(this.mb(),{done:!0}):(this.Za=new pe(zt,this.db),this.db.fb[zt]=this.Za,{value:this.Za,done:!1})}catch(Ar){throw this.pb=S(this.kb),this.mb(),Ar}finally{Ys(tt)}},Ce.prototype.mb=function(){jn(this.eb),this.eb=null},Ce.prototype.getRemainingSQL=function(){return this.pb!==null?this.pb:S(this.kb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(Ce.prototype[Symbol.iterator]=function(){return this}),Re.prototype.run=function(tt,vt){if(!this.db)throw"Database closed";if(vt){tt=this.prepare(tt,vt);try{tt.step()}finally{tt.free()}}else this.handleError(vr(this.db,tt,0,0,rt));return this},Re.prototype.exec=function(tt,vt,zt){if(!this.db)throw"Database closed";var Ar=Yn(),mr=null;try{var Vr=Xs(tt),Ui=ci(4);for(tt=[];Z(Vr,"i8")!==0;){B(rt),B(Ui),this.handleError(uo(this.db,Vr,-1,rt,Ui));var $r=Z(rt,"i32");if(Vr=Z(Ui,"i32"),$r!==0){var qn=null;for(mr=new pe($r,this),vt!=null&&mr.bind(vt);mr.step();)qn===null&&(qn={columns:mr.getColumnNames(),values:[]},tt.push(qn)),qn.values.push(mr.get(null,zt));mr.free()}}return tt}catch(yi){throw mr&&mr.free(),yi}finally{Ys(Ar)}},Re.prototype.each=function(tt,vt,zt,Ar,mr){typeof vt=="function"&&(Ar=zt,zt=vt,vt=void 0),tt=this.prepare(tt,vt);try{for(;tt.step();)zt(tt.getAsObject(null,mr))}finally{tt.free()}if(typeof Ar=="function")return Ar()},Re.prototype.prepare=function(tt,vt){if(B(rt),this.handleError(Hn(this.db,tt,-1,rt,0)),tt=Z(rt,"i32"),tt===0)throw"Nothing to prepare";var zt=new pe(tt,this);return vt!=null&&zt.bind(vt),this.fb[tt]=zt},Re.prototype.iterateStatements=function(tt){return new Ce(tt,this)},Re.prototype.export=function(){Object.values(this.fb).forEach(function(vt){vt.free()}),Object.values(this.Sa).forEach(Xn),this.Sa={},this.handleError(br(this.db));var tt=kc(this.filename);return this.handleError(sr(this.filename,rt)),this.db=Z(rt,"i32"),ea(this.db),tt},Re.prototype.close=function(){this.db!==null&&(Object.values(this.fb).forEach(function(tt){tt.free()}),Object.values(this.Sa).forEach(Xn),this.Sa={},this.Ya&&(Xn(this.Ya),this.Ya=void 0),this.handleError(br(this.db)),ul("/"+this.filename),this.db=null)},Re.prototype.handleError=function(tt){if(tt===0)return null;throw tt=ma(this.db),Error(tt)},Re.prototype.getRowsModified=function(){return dn(this.db)},Re.prototype.create_function=function(tt,vt){Object.prototype.hasOwnProperty.call(this.Sa,tt)&&(Xn(this.Sa[tt]),delete this.Sa[tt]);var zt=fa(function(Ar,mr,Vr){mr=W(mr,Vr);try{var Ui=vt.apply(null,mr)}catch($r){ga(Ar,$r,-1);return}L(Ar,Ui)},"viii");return this.Sa[tt]=zt,this.handleError(xr(this.db,tt,vt.length,1,0,zt,0,0,0)),this},Re.prototype.create_aggregate=function(tt,vt){var zt=vt.init||function(){return null},Ar=vt.finalize||function(qn){return qn},mr=vt.step;if(!mr)throw"An aggregate function must have a step function in "+tt;var Vr={};Object.hasOwnProperty.call(this.Sa,tt)&&(Xn(this.Sa[tt]),delete this.Sa[tt]),vt=tt+"__finalize",Object.hasOwnProperty.call(this.Sa,vt)&&(Xn(this.Sa[vt]),delete this.Sa[vt]);var Ui=fa(function(qn,yi,fo){var ri=ho(qn,1);Object.hasOwnProperty.call(Vr,ri)||(Vr[ri]=zt()),yi=W(yi,fo),yi=[Vr[ri]].concat(yi);try{Vr[ri]=mr.apply(null,yi)}catch(po){delete Vr[ri],ga(qn,po,-1)}},"viii"),$r=fa(function(qn){var yi=ho(qn,1);try{var fo=Ar(Vr[yi])}catch(ri){delete Vr[yi],ga(qn,ri,-1);return}L(qn,fo),delete Vr[yi]},"vi");return this.Sa[tt]=Ui,this.Sa[vt]=$r,this.handleError(xr(this.db,tt,mr.length-1,1,0,0,Ui,$r,0)),this},Re.prototype.updateHook=function(tt){this.Ya&&(ta(this.db,0,0),Xn(this.Ya),this.Ya=void 0),tt&&(this.Ya=fa(function(vt,zt,Ar,mr,Vr){switch(zt){case 18:vt="insert";break;case 23:vt="update";break;case 9:vt="delete";break;default:throw"unknown operationCode in updateHook callback: "+zt}if(Ar=Ar?H(q,Ar):"",mr=mr?H(q,mr):"",Vr>Number.MAX_SAFE_INTEGER)throw"rowId too big to fit inside a Number";tt(vt,Ar,mr,Number(Vr))},"viiiij"),ta(this.db,this.Ya,0))},A.Database=Re};var u={...A},g="./this.program",m=(L,W)=>{throw W},x="",p,y;if(f){var w=WE;x=__dirname+"/",y=L=>(L=fe(L)?new URL(L):L,w.readFileSync(L)),p=async L=>(L=fe(L)?new URL(L):L,w.readFileSync(L,void 0)),!A.thisProgram&&1<process.argv.length&&(g=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),e.exports=A,m=(L,W)=>{throw process.exitCode=L,W}}else(d||h)&&(h?x=self.location.href:typeof document<"u"&&document.currentScript&&(x=document.currentScript.src),x=x.startsWith("blob:")?"":x.slice(0,x.replace(/[?#].*/,"").lastIndexOf("/")+1),h&&(y=L=>{var W=new XMLHttpRequest;return W.open("GET",L,!1),W.responseType="arraybuffer",W.send(null),new Uint8Array(W.response)}),p=async L=>{if(fe(L))return new Promise((pe,Ce)=>{var Re=new XMLHttpRequest;Re.open("GET",L,!0),Re.responseType="arraybuffer",Re.onload=()=>{Re.status==200||Re.status==0&&Re.response?pe(Re.response):Ce(Re.status)},Re.onerror=Ce,Re.send(null)});var W=await fetch(L,{credentials:"same-origin"});if(W.ok)return W.arrayBuffer();throw Error(W.status+" : "+W.url)});var b=A.print||console.log.bind(console),I=A.printErr||console.error.bind(console);Object.assign(A,u),u=null,A.thisProgram&&(g=A.thisProgram);var F=A.wasmBinary,R,Q=!1,k,$,q,T,K,v,re,ge,Y,fe=L=>L.startsWith("file://");function le(){var L=R.buffer;A.HEAP8=$=new Int8Array(L),A.HEAP16=T=new Int16Array(L),A.HEAPU8=q=new Uint8Array(L),A.HEAPU16=new Uint16Array(L),A.HEAP32=K=new Int32Array(L),A.HEAPU32=v=new Uint32Array(L),A.HEAPF32=re=new Float32Array(L),A.HEAPF64=Y=new Float64Array(L),A.HEAP64=ge=new BigInt64Array(L),A.HEAPU64=new BigUint64Array(L)}var ne=0,ae=null;function _(L){var W;throw(W=A.onAbort)==null||W.call(A,L),L="Aborted("+L+")",I(L),Q=!0,new WebAssembly.RuntimeError(L+". Build with -sASSERTIONS for more info.")}var O;async function G(L){if(!F)try{var W=await p(L);return new Uint8Array(W)}catch{}if(L==O&&F)L=new Uint8Array(F);else if(y)L=y(L);else throw"both async and sync fetching of the wasm failed";return L}async function oe(L,W){try{var pe=await G(L);return await WebAssembly.instantiate(pe,W)}catch(Ce){I(`failed to asynchronously prepare wasm: ${Ce}`),_(Ce)}}async function Ae(L){var W=O;if(!F&&typeof WebAssembly.instantiateStreaming=="function"&&!fe(W)&&!f)try{var pe=fetch(W,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(pe,L)}catch(Ce){I(`wasm streaming compile failed: ${Ce}`),I("falling back to ArrayBuffer instantiation")}return oe(W,L)}class U{constructor(W){Br(this,"name","ExitStatus");this.message=`Program terminated with exit(${W})`,this.status=W}}var M=L=>{for(;0<L.length;)L.shift()(A)},J=[],ce=[],ee=()=>{var L=A.preRun.shift();ce.unshift(L)};function Z(L,W="i8"){switch(W.endsWith("*")&&(W="*"),W){case"i1":return $[L];case"i8":return $[L];case"i16":return T[L>>1];case"i32":return K[L>>2];case"i64":return ge[L>>3];case"float":return re[L>>2];case"double":return Y[L>>3];case"*":return v[L>>2];default:_(`invalid type for getValue: ${W}`)}}var me=A.noExitRuntime||!0;function B(L){var W="i32";switch(W.endsWith("*")&&(W="*"),W){case"i1":$[L]=0;break;case"i8":$[L]=0;break;case"i16":T[L>>1]=0;break;case"i32":K[L>>2]=0;break;case"i64":ge[L>>3]=BigInt(0);break;case"float":re[L>>2]=0;break;case"double":Y[L>>3]=0;break;case"*":v[L>>2]=0;break;default:_(`invalid type for setValue: ${W}`)}}var te=typeof TextDecoder<"u"?new TextDecoder:void 0,H=(L,W=0,pe=NaN)=>{var Ce=W+pe;for(pe=W;L[pe]&&!(pe>=Ce);)++pe;if(16<pe-W&&L.buffer&&te)return te.decode(L.subarray(W,pe));for(Ce="";W<pe;){var Re=L[W++];if(Re&128){var rt=L[W++]&63;if((Re&224)==192)Ce+=String.fromCharCode((Re&31)<<6|rt);else{var dt=L[W++]&63;Re=(Re&240)==224?(Re&15)<<12|rt<<6|dt:(Re&7)<<18|rt<<12|dt<<6|L[W++]&63,65536>Re?Ce+=String.fromCharCode(Re):(Re-=65536,Ce+=String.fromCharCode(55296|Re>>10,56320|Re&1023))}}else Ce+=String.fromCharCode(Re)}return Ce},S=(L,W)=>L?H(q,L,W):"",E=(L,W)=>{for(var pe=0,Ce=L.length-1;0<=Ce;Ce--){var Re=L[Ce];Re==="."?L.splice(Ce,1):Re===".."?(L.splice(Ce,1),pe++):pe&&(L.splice(Ce,1),pe--)}if(W)for(;pe;pe--)L.unshift("..");return L},P=L=>{var W=L.charAt(0)==="/",pe=L.slice(-1)==="/";return(L=E(L.split("/").filter(Ce=>!!Ce),!W).join("/"))||W||(L="."),L&&pe&&(L+="/"),(W?"/":"")+L},de=L=>{var W=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(L).slice(1);return L=W[0],W=W[1],!L&&!W?".":(W&&(W=W.slice(0,-1)),L+W)},ye=L=>L&&L.match(/([^\/]+|\/)\/*$/)[1],ue=()=>{if(f){var L=WE;return W=>L.randomFillSync(W)}return W=>crypto.getRandomValues(W)},ke=L=>{(ke=ue())(L)},Oe=(...L)=>{for(var W="",pe=!1,Ce=L.length-1;-1<=Ce&&!pe;Ce--){if(pe=0<=Ce?L[Ce]:"/",typeof pe!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!pe)return"";W=pe+"/"+W,pe=pe.charAt(0)==="/"}return W=E(W.split("/").filter(Re=>!!Re),!pe).join("/"),(pe?"/":"")+W||"."},Ue=[],_e=L=>{for(var W=0,pe=0;pe<L.length;++pe){var Ce=L.charCodeAt(pe);127>=Ce?W++:2047>=Ce?W+=2:55296<=Ce&&57343>=Ce?(W+=4,++pe):W+=3}return W},Me=(L,W,pe,Ce)=>{if(!(0<Ce))return 0;var Re=pe;Ce=pe+Ce-1;for(var rt=0;rt<L.length;++rt){var dt=L.charCodeAt(rt);if(55296<=dt&&57343>=dt){var sr=L.charCodeAt(++rt);dt=65536+((dt&1023)<<10)|sr&1023}if(127>=dt){if(pe>=Ce)break;W[pe++]=dt}else{if(2047>=dt){if(pe+1>=Ce)break;W[pe++]=192|dt>>6}else{if(65535>=dt){if(pe+2>=Ce)break;W[pe++]=224|dt>>12}else{if(pe+3>=Ce)break;W[pe++]=240|dt>>18,W[pe++]=128|dt>>12&63}W[pe++]=128|dt>>6&63}W[pe++]=128|dt&63}}return W[pe]=0,pe-Re},Ze=(L,W)=>{var pe=Array(_e(L)+1);return L=Me(L,pe,0,pe.length),W&&(pe.length=L),pe},ut=[];function kt(L,W){ut[L]={input:[],output:[],cb:W},Ii(L,It)}var It={open(L){var W=ut[L.node.rdev];if(!W)throw new et(43);L.tty=W,L.seekable=!1},close(L){L.tty.cb.fsync(L.tty)},fsync(L){L.tty.cb.fsync(L.tty)},read(L,W,pe,Ce){if(!L.tty||!L.tty.cb.xb)throw new et(60);for(var Re=0,rt=0;rt<Ce;rt++){try{var dt=L.tty.cb.xb(L.tty)}catch{throw new et(29)}if(dt===void 0&&Re===0)throw new et(6);if(dt==null)break;Re++,W[pe+rt]=dt}return Re&&(L.node.atime=Date.now()),Re},write(L,W,pe,Ce){if(!L.tty||!L.tty.cb.qb)throw new et(60);try{for(var Re=0;Re<Ce;Re++)L.tty.cb.qb(L.tty,W[pe+Re])}catch{throw new et(29)}return Ce&&(L.node.mtime=L.node.ctime=Date.now()),Re}},ur={xb(){e:{if(!Ue.length){var L=null;if(f){var W=Buffer.alloc(256),pe=0,Ce=process.stdin.fd;try{pe=w.readSync(Ce,W,0,256)}catch(Re){if(Re.toString().includes("EOF"))pe=0;else throw Re}0<pe&&(L=W.slice(0,pe).toString("utf-8"))}else typeof window<"u"&&typeof window.prompt=="function"&&(L=window.prompt("Input: "),L!==null&&(L+=`
`));if(!L){L=null;break e}Ue=Ze(L,!0)}L=Ue.shift()}return L},qb(L,W){W===null||W===10?(b(H(L.output)),L.output=[]):W!=0&&L.output.push(W)},fsync(L){var W;0<((W=L.output)==null?void 0:W.length)&&(b(H(L.output)),L.output=[])},Tb(){return{Ob:25856,Qb:5,Nb:191,Pb:35387,Mb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Ub(){return 0},Vb(){return[24,80]}},Ft={qb(L,W){W===null||W===10?(I(H(L.output)),L.output=[]):W!=0&&L.output.push(W)},fsync(L){var W;0<((W=L.output)==null?void 0:W.length)&&(I(H(L.output)),L.output=[])}},yt={Wa:null,Xa(){return yt.createNode(null,"/",16895,0)},createNode(L,W,pe,Ce){if((pe&61440)===24576||(pe&61440)===4096)throw new et(63);return yt.Wa||(yt.Wa={dir:{node:{Ta:yt.La.Ta,Ua:yt.La.Ua,lookup:yt.La.lookup,hb:yt.La.hb,rename:yt.La.rename,unlink:yt.La.unlink,rmdir:yt.La.rmdir,readdir:yt.La.readdir,symlink:yt.La.symlink},stream:{Va:yt.Ma.Va}},file:{node:{Ta:yt.La.Ta,Ua:yt.La.Ua},stream:{Va:yt.Ma.Va,read:yt.Ma.read,write:yt.Ma.write,ib:yt.Ma.ib,jb:yt.Ma.jb}},link:{node:{Ta:yt.La.Ta,Ua:yt.La.Ua,readlink:yt.La.readlink},stream:{}},ub:{node:{Ta:yt.La.Ta,Ua:yt.La.Ua},stream:Es}}),pe=Lr(L,W,pe,Ce),_r(pe.mode)?(pe.La=yt.Wa.dir.node,pe.Ma=yt.Wa.dir.stream,pe.Na={}):(pe.mode&61440)===32768?(pe.La=yt.Wa.file.node,pe.Ma=yt.Wa.file.stream,pe.Ra=0,pe.Na=null):(pe.mode&61440)===40960?(pe.La=yt.Wa.link.node,pe.Ma=yt.Wa.link.stream):(pe.mode&61440)===8192&&(pe.La=yt.Wa.ub.node,pe.Ma=yt.Wa.ub.stream),pe.atime=pe.mtime=pe.ctime=Date.now(),L&&(L.Na[W]=pe,L.atime=L.mtime=L.ctime=pe.atime),pe},Sb(L){return L.Na?L.Na.subarray?L.Na.subarray(0,L.Ra):new Uint8Array(L.Na):new Uint8Array(0)},La:{Ta(L){var W={};return W.dev=(L.mode&61440)===8192?L.id:1,W.ino=L.id,W.mode=L.mode,W.nlink=1,W.uid=0,W.gid=0,W.rdev=L.rdev,_r(L.mode)?W.size=4096:(L.mode&61440)===32768?W.size=L.Ra:(L.mode&61440)===40960?W.size=L.link.length:W.size=0,W.atime=new Date(L.atime),W.mtime=new Date(L.mtime),W.ctime=new Date(L.ctime),W.blksize=4096,W.blocks=Math.ceil(W.size/W.blksize),W},Ua(L,W){for(var pe of["mode","atime","mtime","ctime"])W[pe]!=null&&(L[pe]=W[pe]);W.size!==void 0&&(W=W.size,L.Ra!=W&&(W==0?(L.Na=null,L.Ra=0):(pe=L.Na,L.Na=new Uint8Array(W),pe&&L.Na.set(pe.subarray(0,Math.min(W,L.Ra))),L.Ra=W)))},lookup(){throw yt.vb},hb(L,W,pe,Ce){return yt.createNode(L,W,pe,Ce)},rename(L,W,pe){try{var Ce=zr(W,pe)}catch{}if(Ce){if(_r(L.mode))for(var Re in Ce.Na)throw new et(55);Dr(Ce)}delete L.parent.Na[L.name],W.Na[pe]=L,L.name=pe,W.ctime=W.mtime=L.parent.ctime=L.parent.mtime=Date.now()},unlink(L,W){delete L.Na[W],L.ctime=L.mtime=Date.now()},rmdir(L,W){var pe=zr(L,W),Ce;for(Ce in pe.Na)throw new et(55);delete L.Na[W],L.ctime=L.mtime=Date.now()},readdir(L){return[".","..",...Object.keys(L.Na)]},symlink(L,W,pe){return L=yt.createNode(L,W,41471,0),L.link=pe,L},readlink(L){if((L.mode&61440)!==40960)throw new et(28);return L.link}},Ma:{read(L,W,pe,Ce,Re){var rt=L.node.Na;if(Re>=L.node.Ra)return 0;if(L=Math.min(L.node.Ra-Re,Ce),8<L&&rt.subarray)W.set(rt.subarray(Re,Re+L),pe);else for(Ce=0;Ce<L;Ce++)W[pe+Ce]=rt[Re+Ce];return L},write(L,W,pe,Ce,Re,rt){if(W.buffer===$.buffer&&(rt=!1),!Ce)return 0;if(L=L.node,L.mtime=L.ctime=Date.now(),W.subarray&&(!L.Na||L.Na.subarray)){if(rt)return L.Na=W.subarray(pe,pe+Ce),L.Ra=Ce;if(L.Ra===0&&Re===0)return L.Na=W.slice(pe,pe+Ce),L.Ra=Ce;if(Re+Ce<=L.Ra)return L.Na.set(W.subarray(pe,pe+Ce),Re),Ce}rt=Re+Ce;var dt=L.Na?L.Na.length:0;if(dt>=rt||(rt=Math.max(rt,dt*(1048576>dt?2:1.125)>>>0),dt!=0&&(rt=Math.max(rt,256)),dt=L.Na,L.Na=new Uint8Array(rt),0<L.Ra&&L.Na.set(dt.subarray(0,L.Ra),0)),L.Na.subarray&&W.subarray)L.Na.set(W.subarray(pe,pe+Ce),Re);else for(rt=0;rt<Ce;rt++)L.Na[Re+rt]=W[pe+rt];return L.Ra=Math.max(L.Ra,Re+Ce),Ce},Va(L,W,pe){if(pe===1?W+=L.position:pe===2&&(L.node.mode&61440)===32768&&(W+=L.node.Ra),0>W)throw new et(28);return W},ib(L,W,pe,Ce,Re){if((L.node.mode&61440)!==32768)throw new et(43);if(L=L.node.Na,Re&2||!L||L.buffer!==$.buffer){Re=!0,Ce=65536*Math.ceil(W/65536);var rt=As(65536,Ce);if(rt&&q.fill(0,rt,rt+Ce),Ce=rt,!Ce)throw new et(48);L&&((0<pe||pe+W<L.length)&&(L.subarray?L=L.subarray(pe,pe+W):L=Array.prototype.slice.call(L,pe,pe+W)),$.set(L,Ce))}else Re=!1,Ce=L.byteOffset;return{Kb:Ce,Ab:Re}},jb(L,W,pe,Ce){return yt.Ma.write(L,W,0,Ce,pe,!1),0}}},Yt=(L,W)=>{var pe=0;return L&&(pe|=365),W&&(pe|=146),pe},mt=null,$t={},tr=[],fr=1,Ct=null,$e=!1,ct=!0,st={},et=class{constructor(L){Br(this,"name","ErrnoError");this.Pa=L}},qt=class{constructor(){Br(this,"gb",{});Br(this,"node",null)}get flags(){return this.gb.flags}set flags(L){this.gb.flags=L}get position(){return this.gb.position}set position(L){this.gb.position=L}},Qt=class{constructor(L,W,pe,Ce){Br(this,"La",{});Br(this,"Ma",{});Br(this,"ab",null);L||(L=this),this.parent=L,this.Xa=L.Xa,this.id=fr++,this.name=W,this.mode=pe,this.rdev=Ce,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&365)===365}set read(L){L?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(L){L?this.mode|=146:this.mode&=-147}};function Gt(L,W={}){if(!L)throw new et(44);W.nb??(W.nb=!0),L.charAt(0)==="/"||(L="//"+L);var pe=0;e:for(;40>pe;pe++){L=L.split("/").filter(sr=>!!sr);for(var Ce=mt,Re="/",rt=0;rt<L.length;rt++){var dt=rt===L.length-1;if(dt&&W.parent)break;if(L[rt]!==".")if(L[rt]==="..")Re=de(Re),Ce=Ce.parent;else{Re=P(Re+"/"+L[rt]);try{Ce=zr(Ce,L[rt])}catch(sr){if((sr==null?void 0:sr.Pa)===44&&dt&&W.Jb)return{path:Re};throw sr}if(!Ce.ab||dt&&!W.nb||(Ce=Ce.ab.root),(Ce.mode&61440)===40960&&(!dt||W.$a)){if(!Ce.La.readlink)throw new et(52);Ce=Ce.La.readlink(Ce),Ce.charAt(0)==="/"||(Ce=de(Re)+"/"+Ce),L=Ce+"/"+L.slice(rt+1).join("/");continue e}}}return{path:Re,node:Ce}}throw new et(32)}function Tr(L){for(var W;;){if(L===L.parent)return L=L.Xa.zb,W?L[L.length-1]!=="/"?`${L}/${W}`:L+W:L;W=W?`${L.name}/${W}`:L.name,L=L.parent}}function Lt(L,W){for(var pe=0,Ce=0;Ce<W.length;Ce++)pe=(pe<<5)-pe+W.charCodeAt(Ce)|0;return(L+pe>>>0)%Ct.length}function Dr(L){var W=Lt(L.parent.id,L.name);if(Ct[W]===L)Ct[W]=L.bb;else for(W=Ct[W];W;){if(W.bb===L){W.bb=L.bb;break}W=W.bb}}function zr(L,W){var pe=_r(L.mode)?(pe=gn(L,"x"))?pe:L.La.lookup?0:2:54;if(pe)throw new et(pe);for(pe=Ct[Lt(L.id,W)];pe;pe=pe.bb){var Ce=pe.name;if(pe.parent.id===L.id&&Ce===W)return pe}return L.La.lookup(L,W)}function Lr(L,W,pe,Ce){return L=new Qt(L,W,pe,Ce),W=Lt(L.parent.id,L.name),L.bb=Ct[W],Ct[W]=L}function _r(L){return(L&61440)===16384}function Fn(L){var W=["r","w","rw"][L&3];return L&512&&(W+="w"),W}function gn(L,W){if(ct)return 0;if(!W.includes("r")||L.mode&292){if(W.includes("w")&&!(L.mode&146)||W.includes("x")&&!(L.mode&73))return 2}else return 2;return 0}function Mn(L,W){if(!_r(L.mode))return 54;try{return zr(L,W),20}catch{}return gn(L,"wx")}function Gs(L,W,pe){try{var Ce=zr(L,W)}catch(Re){return Re.Pa}if(L=gn(L,"wx"))return L;if(pe){if(!_r(Ce.mode))return 54;if(Ce===Ce.parent||Tr(Ce)==="/")return 10}else if(_r(Ce.mode))return 31;return 0}function Ws(L){if(!L)throw new et(63);return L}function Yr(L){if(L=tr[L],!L)throw new et(8);return L}function Ni(L,W=-1){if(L=Object.assign(new qt,L),W==-1)e:{for(W=0;4096>=W;W++)if(!tr[W])break e;throw new et(33)}return L.fd=W,tr[W]=L}function li(L,W=-1){var pe,Ce;return L=Ni(L,W),(Ce=(pe=L.Ma)==null?void 0:pe.Rb)==null||Ce.call(pe,L),L}function ki(L,W,pe){var Ce=L==null?void 0:L.Ma.Ua;L=Ce?L:W,Ce??(Ce=W.La.Ua),Ws(Ce),Ce(L,pe)}var Es={open(L){var W,pe;L.Ma=$t[L.node.rdev].Ma,(pe=(W=L.Ma).open)==null||pe.call(W,L)},Va(){throw new et(70)}};function Ii(L,W){$t[L]={Ma:W}}function Ss(L,W){var pe=W==="/";if(pe&&mt)throw new et(10);if(!pe&&W){var Ce=Gt(W,{nb:!1});if(W=Ce.path,Ce=Ce.node,Ce.ab)throw new et(10);if(!_r(Ce.mode))throw new et(54)}W={type:L,Wb:{},zb:W,Ib:[]},L=L.Xa(W),L.Xa=W,W.root=L,pe?mt=L:Ce&&(Ce.ab=W,Ce.Xa&&Ce.Xa.Ib.push(W))}function Ti(L,W,pe){var Ce=Gt(L,{parent:!0}).node;if(L=ye(L),!L)throw new et(28);if(L==="."||L==="..")throw new et(20);var Re=Mn(Ce,L);if(Re)throw new et(Re);if(!Ce.La.hb)throw new et(63);return Ce.La.hb(Ce,L,W,pe)}function Uo(L,W=438){return Ti(L,W&4095|32768,0)}function mi(L,W=511){return Ti(L,W&1023|16384,0)}function an(L,W,pe){typeof pe>"u"&&(pe=W,W=438),Ti(L,W|8192,pe)}function $s(L,W){if(!Oe(L))throw new et(44);var pe=Gt(W,{parent:!0}).node;if(!pe)throw new et(44);W=ye(W);var Ce=Mn(pe,W);if(Ce)throw new et(Ce);if(!pe.La.symlink)throw new et(63);pe.La.symlink(pe,W,L)}function Ji(L){var W=Gt(L,{parent:!0}).node;L=ye(L);var pe=zr(W,L),Ce=Gs(W,L,!0);if(Ce)throw new et(Ce);if(!W.La.rmdir)throw new et(63);if(pe.ab)throw new et(10);W.La.rmdir(W,L),Dr(pe)}function ul(L){var W=Gt(L,{parent:!0}).node;if(!W)throw new et(44);L=ye(L);var pe=zr(W,L),Ce=Gs(W,L,!1);if(Ce)throw new et(Ce);if(!W.La.unlink)throw new et(63);if(pe.ab)throw new et(10);W.La.unlink(W,L),Dr(pe)}function ls(L,W){return L=Gt(L,{$a:!W}).node,Ws(L.La.Ta)(L)}function Fi(L,W,pe,Ce){ki(L,W,{mode:pe&4095|W.mode&-4096,ctime:Date.now(),Fb:Ce})}function ha(L,W){L=typeof L=="string"?Gt(L,{$a:!0}).node:L,Fi(null,L,W)}function Lo(L,W,pe){if(_r(W.mode))throw new et(31);if((W.mode&61440)!==32768)throw new et(28);var Ce=gn(W,"w");if(Ce)throw new et(Ce);ki(L,W,{size:pe,timestamp:Date.now()})}function ji(L,W,pe=438){if(L==="")throw new et(44);if(typeof W=="string"){var Ce={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[W];if(typeof Ce>"u")throw Error(`Unknown file open mode: ${W}`);W=Ce}if(pe=W&64?pe&4095|32768:0,typeof L=="object")Ce=L;else{var Re=L.endsWith("/");L=Gt(L,{$a:!(W&131072),Jb:!0}),Ce=L.node,L=L.path}var rt=!1;if(W&64)if(Ce){if(W&128)throw new et(20)}else{if(Re)throw new et(31);Ce=Ti(L,pe|511,0),rt=!0}if(!Ce)throw new et(44);if((Ce.mode&61440)===8192&&(W&=-513),W&65536&&!_r(Ce.mode))throw new et(54);if(!rt&&(Re=Ce?(Ce.mode&61440)===40960?32:_r(Ce.mode)&&(Fn(W)!=="r"||W&576)?31:gn(Ce,Fn(W)):44))throw new et(Re);return W&512&&!rt&&(Re=Ce,Re=typeof Re=="string"?Gt(Re,{$a:!0}).node:Re,Lo(null,Re,0)),W&=-131713,Re=Ni({node:Ce,path:Tr(Ce),flags:W,seekable:!0,position:0,Ma:Ce.Ma,Lb:[],error:!1}),Re.Ma.open&&Re.Ma.open(Re),rt&&ha(Ce,pe&511),!A.logReadFiles||W&1||L in st||(st[L]=1),Re}function Do(L){if(L.fd===null)throw new et(8);L.ob&&(L.ob=null);try{L.Ma.close&&L.Ma.close(L)}catch(W){throw W}finally{tr[L.fd]=null}L.fd=null}function co(L,W,pe){if(L.fd===null)throw new et(8);if(!L.seekable||!L.Ma.Va)throw new et(70);if(pe!=0&&pe!=1&&pe!=2)throw new et(28);L.position=L.Ma.Va(L,W,pe),L.Lb=[]}function dl(L,W,pe,Ce,Re){if(0>Ce||0>Re)throw new et(28);if(L.fd===null)throw new et(8);if((L.flags&2097155)===1)throw new et(8);if(_r(L.node.mode))throw new et(31);if(!L.Ma.read)throw new et(28);var rt=typeof Re<"u";if(!rt)Re=L.position;else if(!L.seekable)throw new et(70);return W=L.Ma.read(L,W,pe,Ce,Re),rt||(L.position+=W),W}function kr(L,W,pe,Ce,Re){if(0>Ce||0>Re)throw new et(28);if(L.fd===null)throw new et(8);if(!(L.flags&2097155))throw new et(8);if(_r(L.node.mode))throw new et(31);if(!L.Ma.write)throw new et(28);L.seekable&&L.flags&1024&&co(L,0,2);var rt=typeof Re<"u";if(!rt)Re=L.position;else if(!L.seekable)throw new et(70);return W=L.Ma.write(L,W,pe,Ce,Re,void 0),rt||(L.position+=W),W}function kc(L){var W,pe=ji(L,pe||0);L=ls(L).size;var Ce=new Uint8Array(L);return dl(pe,Ce,0,L,0),W=Ce,Do(pe),W}function un(L,W,pe){L=P("/dev/"+L);var Ce=Yt(!!W,!!pe);un.yb??(un.yb=64);var Re=un.yb++<<8|0;Ii(Re,{open(rt){rt.seekable=!1},close(){var rt;(rt=pe==null?void 0:pe.buffer)!=null&&rt.length&&pe(10)},read(rt,dt,sr,br){for(var vr=0,dn=0;dn<br;dn++){try{var Hn=W()}catch{throw new et(29)}if(Hn===void 0&&vr===0)throw new et(6);if(Hn==null)break;vr++,dt[sr+dn]=Hn}return vr&&(rt.node.atime=Date.now()),vr},write(rt,dt,sr,br){for(var vr=0;vr<br;vr++)try{pe(dt[sr+vr])}catch{throw new et(29)}return br&&(rt.node.mtime=rt.node.ctime=Date.now()),vr}}),an(L,Ce,Re)}var Zr={};function Zi(L,W,pe){if(W.charAt(0)==="/")return W;if(L=L===-100?"/":Yr(L).path,W.length==0){if(!pe)throw new et(44);return L}return L+"/"+W}function cs(L,W){K[L>>2]=W.dev,K[L+4>>2]=W.mode,v[L+8>>2]=W.nlink,K[L+12>>2]=W.uid,K[L+16>>2]=W.gid,K[L+20>>2]=W.rdev,ge[L+24>>3]=BigInt(W.size),K[L+32>>2]=4096,K[L+36>>2]=W.blocks;var pe=W.atime.getTime(),Ce=W.mtime.getTime(),Re=W.ctime.getTime();return ge[L+40>>3]=BigInt(Math.floor(pe/1e3)),v[L+48>>2]=pe%1e3*1e6,ge[L+56>>3]=BigInt(Math.floor(Ce/1e3)),v[L+64>>2]=Ce%1e3*1e6,ge[L+72>>3]=BigInt(Math.floor(Re/1e3)),v[L+80>>2]=Re%1e3*1e6,ge[L+88>>3]=BigInt(W.ino),0}var Vs=void 0,Hi=()=>{var L=K[+Vs>>2];return Vs+=4,L},Gr=0,bn=[0,31,60,91,121,152,182,213,244,274,305,335],ja=[0,31,59,90,120,151,181,212,243,273,304,334],_s={},hl=L=>{var W;k=L,me||0<Gr||((W=A.onExit)==null||W.call(A,L),Q=!0),m(L,new U(L))},Kl=L=>{if(!Q)try{if(L(),!(me||0<Gr))try{k=L=k,hl(L)}catch(W){W instanceof U||W=="unwind"||m(1,W)}}catch(W){W instanceof U||W=="unwind"||m(1,W)}},zi={},fl=()=>{if(!Ua){var L={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:g||"./this.program"},W;for(W in zi)zi[W]===void 0?delete L[W]:L[W]=zi[W];var pe=[];for(W in L)pe.push(`${W}=${L[W]}`);Ua=pe}return Ua},Ua,Xs=L=>{var W=_e(L)+1,pe=ci(W);return Me(L,q,pe,W),pe},ql=(L,W,pe,Ce)=>{var Re={string:vr=>{var dn=0;return vr!=null&&vr!==0&&(dn=Xs(vr)),dn},array:vr=>{var dn=ci(vr.length);return $.set(vr,dn),dn}};L=A["_"+L];var rt=[],dt=0;if(Ce)for(var sr=0;sr<Ce.length;sr++){var br=Re[pe[sr]];br?(dt===0&&(dt=Yn()),rt[sr]=br(Ce[sr])):rt[sr]=Ce[sr]}return pe=L(...rt),pe=function(vr){return dt!==0&&Ys(dt),W==="string"?vr?H(q,vr):"":W==="boolean"?!!vr:vr}(pe)},Rr=0,Ro=(L,W)=>(W=W==1?ci(L.length):yr(L.length),L.subarray||L.slice||(L=new Uint8Array(L)),q.set(L,W),W),La,Oo=[],hn,Xn=L=>{La.delete(hn.get(L)),hn.set(L,null),Oo.push(L)},fa=(L,W)=>{if(!La){La=new WeakMap;var pe=hn.length;if(La)for(var Ce=0;Ce<0+pe;Ce++){var Re=hn.get(Ce);Re&&La.set(Re,Ce)}}if(pe=La.get(L)||0)return pe;if(Oo.length)pe=Oo.pop();else{try{hn.grow(1)}catch(br){throw br instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":br}pe=hn.length-1}try{hn.set(pe,L)}catch(br){if(!(br instanceof TypeError))throw br;if(typeof WebAssembly.Function=="function"){var rt=WebAssembly.Function;Ce={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},Re={parameters:[],results:W[0]=="v"?[]:[Ce[W[0]]]};for(var dt=1;dt<W.length;++dt)Re.parameters.push(Ce[W[dt]]);W=new rt(Re,L)}else{Ce=[1],Re=W.slice(0,1),W=W.slice(1),dt={i:127,p:127,j:126,f:125,d:124,e:111},Ce.push(96);var sr=W.length;128>sr?Ce.push(sr):Ce.push(sr%128|128,sr>>7);for(rt of W)Ce.push(dt[rt]);Re=="v"?Ce.push(0):Ce.push(1,dt[Re]),W=[0,97,115,109,1,0,0,0,1],rt=Ce.length,128>rt?W.push(rt):W.push(rt%128|128,rt>>7),W.push(...Ce),W.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),W=new WebAssembly.Module(new Uint8Array(W)),W=new WebAssembly.Instance(W,{e:{f:L}}).exports.f}hn.set(pe,W)}return La.set(L,pe),pe};Ct=Array(4096),Ss(yt,"/"),mi("/tmp"),mi("/home"),mi("/home/web_user"),function(){mi("/dev"),Ii(259,{read:()=>0,write:(Ce,Re,rt,dt)=>dt,Va:()=>0}),an("/dev/null",259),kt(1280,ur),kt(1536,Ft),an("/dev/tty",1280),an("/dev/tty1",1536);var L=new Uint8Array(1024),W=0,pe=()=>(W===0&&(ke(L),W=L.byteLength),L[--W]);un("random",pe),un("urandom",pe),mi("/dev/shm"),mi("/dev/shm/tmp")}(),function(){mi("/proc");var L=mi("/proc/self");mi("/proc/self/fd"),Ss({Xa(){var W=Lr(L,"fd",16895,73);return W.Ma={Va:yt.Ma.Va},W.La={lookup(pe,Ce){pe=+Ce;var Re=Yr(pe);return pe={parent:null,Xa:{zb:"fake"},La:{readlink:()=>Re.path},id:pe+1},pe.parent=pe},readdir(){return Array.from(tr.entries()).filter(([,pe])=>pe).map(([pe])=>pe.toString())}},W}},"/proc/self/fd")}(),yt.vb=new et(44),yt.vb.stack="<generic error, no stack>";var es={a:(L,W,pe,Ce)=>_(`Assertion failed: ${L?H(q,L):""}, at: `+[W?W?H(q,W):"":"unknown filename",pe,Ce?Ce?H(q,Ce):"":"unknown function"]),i:function(L,W){try{return L=L?H(q,L):"",ha(L,W),0}catch(pe){if(typeof Zr>"u"||pe.name!=="ErrnoError")throw pe;return-pe.Pa}},L:function(L,W,pe){try{if(W=W?H(q,W):"",W=Zi(L,W),pe&-8)return-28;var Ce=Gt(W,{$a:!0}).node;return Ce?(L="",pe&4&&(L+="r"),pe&2&&(L+="w"),pe&1&&(L+="x"),L&&gn(Ce,L)?-2:0):-44}catch(Re){if(typeof Zr>"u"||Re.name!=="ErrnoError")throw Re;return-Re.Pa}},j:function(L,W){try{var pe=Yr(L);return Fi(pe,pe.node,W,!1),0}catch(Ce){if(typeof Zr>"u"||Ce.name!=="ErrnoError")throw Ce;return-Ce.Pa}},h:function(L){try{var W=Yr(L);return ki(W,W.node,{timestamp:Date.now(),Fb:!1}),0}catch(pe){if(typeof Zr>"u"||pe.name!=="ErrnoError")throw pe;return-pe.Pa}},b:function(L,W,pe){Vs=pe;try{var Ce=Yr(L);switch(W){case 0:var Re=Hi();if(0>Re)break;for(;tr[Re];)Re++;return li(Ce,Re).fd;case 1:case 2:return 0;case 3:return Ce.flags;case 4:return Re=Hi(),Ce.flags|=Re,0;case 12:return Re=Hi(),T[Re+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(rt){if(typeof Zr>"u"||rt.name!=="ErrnoError")throw rt;return-rt.Pa}},g:function(L,W){try{var pe=Yr(L),Ce=pe.node,Re=pe.Ma.Ta;L=Re?pe:Ce,Re??(Re=Ce.La.Ta),Ws(Re);var rt=Re(L);return cs(W,rt)}catch(dt){if(typeof Zr>"u"||dt.name!=="ErrnoError")throw dt;return-dt.Pa}},H:function(L,W){W=-9007199254740992>W||9007199254740992<W?NaN:Number(W);try{if(isNaN(W))return 61;var pe=Yr(L);if(0>W||!(pe.flags&2097155))throw new et(28);return Lo(pe,pe.node,W),0}catch(Ce){if(typeof Zr>"u"||Ce.name!=="ErrnoError")throw Ce;return-Ce.Pa}},G:function(L,W){try{if(W===0)return-28;var pe=_e("/")+1;return W<pe?-68:(Me("/",q,L,W),pe)}catch(Ce){if(typeof Zr>"u"||Ce.name!=="ErrnoError")throw Ce;return-Ce.Pa}},K:function(L,W){try{return L=L?H(q,L):"",cs(W,ls(L,!0))}catch(pe){if(typeof Zr>"u"||pe.name!=="ErrnoError")throw pe;return-pe.Pa}},C:function(L,W,pe){try{return W=W?H(q,W):"",W=Zi(L,W),mi(W,pe),0}catch(Ce){if(typeof Zr>"u"||Ce.name!=="ErrnoError")throw Ce;return-Ce.Pa}},J:function(L,W,pe,Ce){try{W=W?H(q,W):"";var Re=Ce&256;return W=Zi(L,W,Ce&4096),cs(pe,Re?ls(W,!0):ls(W))}catch(rt){if(typeof Zr>"u"||rt.name!=="ErrnoError")throw rt;return-rt.Pa}},x:function(L,W,pe,Ce){Vs=Ce;try{W=W?H(q,W):"",W=Zi(L,W);var Re=Ce?Hi():0;return ji(W,pe,Re).fd}catch(rt){if(typeof Zr>"u"||rt.name!=="ErrnoError")throw rt;return-rt.Pa}},v:function(L,W,pe,Ce){try{if(W=W?H(q,W):"",W=Zi(L,W),0>=Ce)return-28;var Re=Gt(W).node;if(!Re)throw new et(44);if(!Re.La.readlink)throw new et(28);var rt=Re.La.readlink(Re),dt=Math.min(Ce,_e(rt)),sr=$[pe+dt];return Me(rt,q,pe,Ce+1),$[pe+dt]=sr,dt}catch(br){if(typeof Zr>"u"||br.name!=="ErrnoError")throw br;return-br.Pa}},u:function(L){try{return L=L?H(q,L):"",Ji(L),0}catch(W){if(typeof Zr>"u"||W.name!=="ErrnoError")throw W;return-W.Pa}},f:function(L,W){try{return L=L?H(q,L):"",cs(W,ls(L))}catch(pe){if(typeof Zr>"u"||pe.name!=="ErrnoError")throw pe;return-pe.Pa}},r:function(L,W,pe){try{return W=W?H(q,W):"",W=Zi(L,W),pe===0?ul(W):pe===512?Ji(W):_("Invalid flags passed to unlinkat"),0}catch(Ce){if(typeof Zr>"u"||Ce.name!=="ErrnoError")throw Ce;return-Ce.Pa}},q:function(L,W,pe){try{W=W?H(q,W):"",W=Zi(L,W,!0);var Ce=Date.now(),Re,rt;if(pe){var dt=v[pe>>2]+4294967296*K[pe+4>>2],sr=K[pe+8>>2];sr==1073741823?Re=Ce:sr==1073741822?Re=null:Re=1e3*dt+sr/1e6,pe+=16,dt=v[pe>>2]+4294967296*K[pe+4>>2],sr=K[pe+8>>2],sr==1073741823?rt=Ce:sr==1073741822?rt=null:rt=1e3*dt+sr/1e6}else rt=Re=Ce;if((rt??Re)!==null){L=Re;var br=Gt(W,{$a:!0}).node;Ws(br.La.Ua)(br,{atime:L,mtime:rt})}return 0}catch(vr){if(typeof Zr>"u"||vr.name!=="ErrnoError")throw vr;return-vr.Pa}},m:()=>_(""),l:()=>{me=!1,Gr=0},A:function(L,W){L=-9007199254740992>L||9007199254740992<L?NaN:Number(L),L=new Date(1e3*L),K[W>>2]=L.getSeconds(),K[W+4>>2]=L.getMinutes(),K[W+8>>2]=L.getHours(),K[W+12>>2]=L.getDate(),K[W+16>>2]=L.getMonth(),K[W+20>>2]=L.getFullYear()-1900,K[W+24>>2]=L.getDay();var pe=L.getFullYear();K[W+28>>2]=(pe%4!==0||pe%100===0&&pe%400!==0?ja:bn)[L.getMonth()]+L.getDate()-1|0,K[W+36>>2]=-(60*L.getTimezoneOffset()),pe=new Date(L.getFullYear(),6,1).getTimezoneOffset();var Ce=new Date(L.getFullYear(),0,1).getTimezoneOffset();K[W+32>>2]=(pe!=Ce&&L.getTimezoneOffset()==Math.min(Ce,pe))|0},y:function(L,W,pe,Ce,Re,rt,dt){Re=-9007199254740992>Re||9007199254740992<Re?NaN:Number(Re);try{if(isNaN(Re))return 61;var sr=Yr(Ce);if(W&2&&!(pe&2)&&(sr.flags&2097155)!==2)throw new et(2);if((sr.flags&2097155)===1)throw new et(2);if(!sr.Ma.ib)throw new et(43);if(!L)throw new et(28);var br=sr.Ma.ib(sr,L,Re,W,pe),vr=br.Kb;return K[rt>>2]=br.Ab,v[dt>>2]=vr,0}catch(dn){if(typeof Zr>"u"||dn.name!=="ErrnoError")throw dn;return-dn.Pa}},z:function(L,W,pe,Ce,Re,rt){rt=-9007199254740992>rt||9007199254740992<rt?NaN:Number(rt);try{var dt=Yr(Re);if(pe&2){if(pe=rt,(dt.node.mode&61440)!==32768)throw new et(43);if(!(Ce&2)){var sr=q.slice(L,L+W);dt.Ma.jb&&dt.Ma.jb(dt,sr,pe,W,Ce)}}}catch(br){if(typeof Zr>"u"||br.name!=="ErrnoError")throw br;return-br.Pa}},n:(L,W)=>{if(_s[L]&&(clearTimeout(_s[L].id),delete _s[L]),!W)return 0;var pe=setTimeout(()=>{delete _s[L],Kl(()=>Ao(L,performance.now()))},W);return _s[L]={id:pe,Xb:W},0},B:(L,W,pe,Ce)=>{var Re=new Date().getFullYear(),rt=new Date(Re,0,1).getTimezoneOffset();Re=new Date(Re,6,1).getTimezoneOffset(),v[L>>2]=60*Math.max(rt,Re),K[W>>2]=+(rt!=Re),W=dt=>{var sr=Math.abs(dt);return`UTC${0<=dt?"-":"+"}${String(Math.floor(sr/60)).padStart(2,"0")}${String(sr%60).padStart(2,"0")}`},L=W(rt),W=W(Re),Re<rt?(Me(L,q,pe,17),Me(W,q,Ce,17)):(Me(L,q,Ce,17),Me(W,q,pe,17))},d:()=>Date.now(),s:()=>2147483648,c:()=>performance.now(),o:L=>{var W=q.length;if(L>>>=0,2147483648<L)return!1;for(var pe=1;4>=pe;pe*=2){var Ce=W*(1+.2/pe);Ce=Math.min(Ce,L+100663296);e:{Ce=(Math.min(2147483648,65536*Math.ceil(Math.max(L,Ce)/65536))-R.buffer.byteLength+65535)/65536|0;try{R.grow(Ce),le();var Re=1;break e}catch{}Re=void 0}if(Re)return!0}return!1},E:(L,W)=>{var pe=0;return fl().forEach((Ce,Re)=>{var rt=W+pe;for(Re=v[L+4*Re>>2]=rt,rt=0;rt<Ce.length;++rt)$[Re++]=Ce.charCodeAt(rt);$[Re]=0,pe+=Ce.length+1}),0},F:(L,W)=>{var pe=fl();v[L>>2]=pe.length;var Ce=0;return pe.forEach(Re=>Ce+=Re.length+1),v[W>>2]=Ce,0},e:function(L){try{var W=Yr(L);return Do(W),0}catch(pe){if(typeof Zr>"u"||pe.name!=="ErrnoError")throw pe;return pe.Pa}},p:function(L,W){try{var pe=Yr(L);return $[W]=pe.tty?2:_r(pe.mode)?3:(pe.mode&61440)===40960?7:4,T[W+2>>1]=0,ge[W+8>>3]=BigInt(0),ge[W+16>>3]=BigInt(0),0}catch(Ce){if(typeof Zr>"u"||Ce.name!=="ErrnoError")throw Ce;return Ce.Pa}},w:function(L,W,pe,Ce){try{e:{var Re=Yr(L);L=W;for(var rt,dt=W=0;dt<pe;dt++){var sr=v[L>>2],br=v[L+4>>2];L+=8;var vr=dl(Re,$,sr,br,rt);if(0>vr){var dn=-1;break e}if(W+=vr,vr<br)break;typeof rt<"u"&&(rt+=vr)}dn=W}return v[Ce>>2]=dn,0}catch(Hn){if(typeof Zr>"u"||Hn.name!=="ErrnoError")throw Hn;return Hn.Pa}},D:function(L,W,pe,Ce){W=-9007199254740992>W||9007199254740992<W?NaN:Number(W);try{if(isNaN(W))return 61;var Re=Yr(L);return co(Re,W,pe),ge[Ce>>3]=BigInt(Re.position),Re.ob&&W===0&&pe===0&&(Re.ob=null),0}catch(rt){if(typeof Zr>"u"||rt.name!=="ErrnoError")throw rt;return rt.Pa}},I:function(L){var pe;try{var W=Yr(L);return(pe=W.Ma)!=null&&pe.fsync?W.Ma.fsync(W):0}catch(Ce){if(typeof Zr>"u"||Ce.name!=="ErrnoError")throw Ce;return Ce.Pa}},t:function(L,W,pe,Ce){try{e:{var Re=Yr(L);L=W;for(var rt,dt=W=0;dt<pe;dt++){var sr=v[L>>2],br=v[L+4>>2];L+=8;var vr=kr(Re,$,sr,br,rt);if(0>vr){var dn=-1;break e}if(W+=vr,vr<br)break;typeof rt<"u"&&(rt+=vr)}dn=W}return v[Ce>>2]=dn,0}catch(Hn){if(typeof Zr>"u"||Hn.name!=="ErrnoError")throw Hn;return Hn.Pa}},k:hl},ir;(async function(){var pe;function L(Ce){var Re;return ir=Ce.exports,R=ir.M,le(),hn=ir.O,ne--,(Re=A.monitorRunDependencies)==null||Re.call(A,ne),ne==0&&ae&&(Ce=ae,ae=null,Ce()),ir}ne++,(pe=A.monitorRunDependencies)==null||pe.call(A,ne);var W={a:es};return A.instantiateWasm?new Promise(Ce=>{A.instantiateWasm(W,(Re,rt)=>{L(Re),Ce(Re.exports)})}):(O??(O=A.locateFile?A.locateFile("sql-wasm.wasm",x):x+"sql-wasm.wasm"),L((await Ae(W)).instance))})(),A._sqlite3_free=L=>(A._sqlite3_free=ir.P)(L),A._sqlite3_value_text=L=>(A._sqlite3_value_text=ir.Q)(L),A._sqlite3_prepare_v2=(L,W,pe,Ce,Re)=>(A._sqlite3_prepare_v2=ir.R)(L,W,pe,Ce,Re),A._sqlite3_step=L=>(A._sqlite3_step=ir.S)(L),A._sqlite3_reset=L=>(A._sqlite3_reset=ir.T)(L),A._sqlite3_exec=(L,W,pe,Ce,Re)=>(A._sqlite3_exec=ir.U)(L,W,pe,Ce,Re),A._sqlite3_finalize=L=>(A._sqlite3_finalize=ir.V)(L),A._sqlite3_column_name=(L,W)=>(A._sqlite3_column_name=ir.W)(L,W),A._sqlite3_column_text=(L,W)=>(A._sqlite3_column_text=ir.X)(L,W),A._sqlite3_column_type=(L,W)=>(A._sqlite3_column_type=ir.Y)(L,W),A._sqlite3_errmsg=L=>(A._sqlite3_errmsg=ir.Z)(L),A._sqlite3_clear_bindings=L=>(A._sqlite3_clear_bindings=ir._)(L),A._sqlite3_value_blob=L=>(A._sqlite3_value_blob=ir.$)(L),A._sqlite3_value_bytes=L=>(A._sqlite3_value_bytes=ir.aa)(L),A._sqlite3_value_double=L=>(A._sqlite3_value_double=ir.ba)(L),A._sqlite3_value_int=L=>(A._sqlite3_value_int=ir.ca)(L),A._sqlite3_value_type=L=>(A._sqlite3_value_type=ir.da)(L),A._sqlite3_result_blob=(L,W,pe,Ce)=>(A._sqlite3_result_blob=ir.ea)(L,W,pe,Ce),A._sqlite3_result_double=(L,W)=>(A._sqlite3_result_double=ir.fa)(L,W),A._sqlite3_result_error=(L,W,pe)=>(A._sqlite3_result_error=ir.ga)(L,W,pe),A._sqlite3_result_int=(L,W)=>(A._sqlite3_result_int=ir.ha)(L,W),A._sqlite3_result_int64=(L,W)=>(A._sqlite3_result_int64=ir.ia)(L,W),A._sqlite3_result_null=L=>(A._sqlite3_result_null=ir.ja)(L),A._sqlite3_result_text=(L,W,pe,Ce)=>(A._sqlite3_result_text=ir.ka)(L,W,pe,Ce),A._sqlite3_aggregate_context=(L,W)=>(A._sqlite3_aggregate_context=ir.la)(L,W),A._sqlite3_column_count=L=>(A._sqlite3_column_count=ir.ma)(L),A._sqlite3_data_count=L=>(A._sqlite3_data_count=ir.na)(L),A._sqlite3_column_blob=(L,W)=>(A._sqlite3_column_blob=ir.oa)(L,W),A._sqlite3_column_bytes=(L,W)=>(A._sqlite3_column_bytes=ir.pa)(L,W),A._sqlite3_column_double=(L,W)=>(A._sqlite3_column_double=ir.qa)(L,W),A._sqlite3_bind_blob=(L,W,pe,Ce,Re)=>(A._sqlite3_bind_blob=ir.ra)(L,W,pe,Ce,Re),A._sqlite3_bind_double=(L,W,pe)=>(A._sqlite3_bind_double=ir.sa)(L,W,pe),A._sqlite3_bind_int=(L,W,pe)=>(A._sqlite3_bind_int=ir.ta)(L,W,pe),A._sqlite3_bind_text=(L,W,pe,Ce,Re)=>(A._sqlite3_bind_text=ir.ua)(L,W,pe,Ce,Re),A._sqlite3_bind_parameter_index=(L,W)=>(A._sqlite3_bind_parameter_index=ir.va)(L,W),A._sqlite3_sql=L=>(A._sqlite3_sql=ir.wa)(L),A._sqlite3_normalized_sql=L=>(A._sqlite3_normalized_sql=ir.xa)(L),A._sqlite3_changes=L=>(A._sqlite3_changes=ir.ya)(L),A._sqlite3_close_v2=L=>(A._sqlite3_close_v2=ir.za)(L),A._sqlite3_create_function_v2=(L,W,pe,Ce,Re,rt,dt,sr,br)=>(A._sqlite3_create_function_v2=ir.Aa)(L,W,pe,Ce,Re,rt,dt,sr,br),A._sqlite3_update_hook=(L,W,pe)=>(A._sqlite3_update_hook=ir.Ba)(L,W,pe),A._sqlite3_open=(L,W)=>(A._sqlite3_open=ir.Ca)(L,W);var yr=A._malloc=L=>(yr=A._malloc=ir.Da)(L),jn=A._free=L=>(jn=A._free=ir.Ea)(L);A._RegisterExtensionFunctions=L=>(A._RegisterExtensionFunctions=ir.Fa)(L);var As=(L,W)=>(As=ir.Ga)(L,W),Ao=(L,W)=>(Ao=ir.Ha)(L,W),Ys=L=>(Ys=ir.Ia)(L),ci=L=>(ci=ir.Ja)(L),Yn=()=>(Yn=ir.Ka)();A.stackSave=()=>Yn(),A.stackRestore=L=>Ys(L),A.stackAlloc=L=>ci(L),A.cwrap=(L,W,pe,Ce)=>{var Re=!pe||pe.every(rt=>rt==="number"||rt==="boolean");return W!=="string"&&Re&&!Ce?A["_"+L]:(...rt)=>ql(L,W,pe,rt)},A.addFunction=fa,A.removeFunction=Xn,A.UTF8ToString=S,A.ALLOC_NORMAL=Rr,A.allocate=Ro,A.allocateUTF8OnStack=Xs;function Gl(){function L(){var Re;if(A.calledRun=!0,!Q){if(!A.noFSInit&&!$e){var W,pe;$e=!0,Ce??(Ce=A.stdin),W??(W=A.stdout),pe??(pe=A.stderr),Ce?un("stdin",Ce):$s("/dev/tty","/dev/stdin"),W?un("stdout",null,W):$s("/dev/tty","/dev/stdout"),pe?un("stderr",null,pe):$s("/dev/tty1","/dev/stderr"),ji("/dev/stdin",0),ji("/dev/stdout",1),ji("/dev/stderr",1)}if(ir.N(),ct=!1,(Re=A.onRuntimeInitialized)==null||Re.call(A),A.postRun)for(typeof A.postRun=="function"&&(A.postRun=[A.postRun]);A.postRun.length;){var Ce=A.postRun.shift();J.unshift(Ce)}M(J)}}if(0<ne)ae=Gl;else{if(A.preRun)for(typeof A.preRun=="function"&&(A.preRun=[A.preRun]);A.preRun.length;)ee();M(ce),0<ne?ae=Gl:A.setStatus?(A.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>A.setStatus(""),1),L()},1)):L()}}if(A.preInit)for(typeof A.preInit=="function"&&(A.preInit=[A.preInit]);0<A.preInit.length;)A.preInit.pop()();return Gl(),o}),r)};e.exports=n,e.exports.default=n})(f6);var xO=f6.exports;const p6=ch(xO);let gr=null,ws=null,wu=null;const m6="SDDGeneratorDB",Vd="SDDGeneratorDB_backup",BO="sdd-generator.db";async function Dp(){if(gr)return gr;console.log("ðŸ“¦ Initializing SQLite database (default storage)..."),ws=await p6({locateFile:t=>t==="sql-wasm.wasm"?"/node_modules/sql.js/dist/sql-wasm.wasm":t});try{const t=await CO();if(t)return gr=t,console.log("âœ… Loaded SQLite database from file system"),await lu(),gr}catch(t){console.warn("Could not load database from file system:",t)}const e=localStorage.getItem(m6);if(e)try{localStorage.setItem(Vd,e),console.log("ðŸ’¾ Created backup of existing database");const t=Uint8Array.from(atob(e),r=>r.charCodeAt(0));gr=new ws.Database(t),console.log("âœ… Loaded existing SQLite database from localStorage");try{const r=gr.exec("SELECT COUNT(*) as count FROM Project"),n=r.length>0&&r[0].values.length>0&&r[0].values[0][0]>0;console.log(`ðŸ“Š Database contains ${n?"projects":"no projects"}`)}catch{console.log("â„¹ï¸ Could not verify database contents, proceeding with migration")}await lu(),await Cr(),await y6()}catch(t){console.error("âŒ Failed to load existing database:",t),console.log("ðŸ”„ Attempting to restore from backup...");const r=localStorage.getItem(Vd);if(r)try{const n=Uint8Array.from(atob(r),i=>i.charCodeAt(0));gr=new ws.Database(n),console.log("âœ… Restored database from backup"),await lu(),await Cr()}catch(n){console.error("âŒ Failed to restore from backup:",n),console.warn("âš ï¸ Creating new database - old data may be lost"),console.warn("ðŸ’¡ You can try to recover data from browser DevTools â†’ Application â†’ Local Storage"),gr=new ws.Database,await jf(),await Cr()}else console.warn("âš ï¸ No backup found, creating new database"),gr=new ws.Database,await jf(),await Cr()}else gr=new ws.Database,await jf(),await Cr(),console.log("âœ… Created new SQLite database");return gr}async function CO(){if(!("showOpenFilePicker"in window))return null;try{return null}catch(e){return console.warn("Could not load database from file:",e),null}}async function g6(){if(!("showOpenFilePicker"in window))throw new Error("File System Access API is not supported in this browser");try{const[e]=await window.showOpenFilePicker({types:[{description:"SQLite Database",accept:{"application/x-sqlite3":[".db",".sqlite",".sqlite3"]}}],multiple:!1});wu=e;const r=await(await e.getFile()).arrayBuffer(),n=new Uint8Array(r);return gr&&gr.close(),ws||(ws=await p6({locateFile:i=>i==="sql-wasm.wasm"?"/node_modules/sql.js/dist/sql-wasm.wasm":i})),gr=new ws.Database(n),await jf(),await lu(),console.log("âœ… Database loaded from selected file"),e}catch(e){if(e.name==="AbortError")return null;throw e}}async function EO(){if(!gr||!ws)throw new Error("Database not initialized");if(!("showSaveFilePicker"in window)){await hp();return}try{let e=wu;e||(e=await window.showSaveFilePicker({suggestedName:BO,types:[{description:"SQLite Database",accept:{"application/x-sqlite3":[".db"]}}]}),wu=e);const t=await e.createWritable(),r=gr.export();await t.write(r),await t.close(),console.log("âœ… Database saved to file system")}catch(e){if(e.name==="AbortError")return;await hp()}}async function y6(){if(!(!gr||!ws||!wu)&&"showSaveFilePicker"in window)try{const e=await wu.createWritable(),t=gr.export();await e.write(t),await e.close(),console.log("âœ… Database saved to file system")}catch(e){throw console.warn("Could not save to file system:",e),e}}async function w6(){if(!gr)throw new Error("Database not initialized");const e=gr.export(),t=new Uint8Array(e),r=8192;let n="";for(let s=0;s<t.length;s+=r){const a=t.slice(s,s+r);n+=String.fromCharCode.apply(null,Array.from(a))}const i=btoa(n);localStorage.setItem(m6,i)}async function hp(){if(!gr)throw new Error("Database not initialized");const e=gr.export(),t=new Blob([e],{type:"application/x-sqlite3"}),r=URL.createObjectURL(t),n=document.createElement("a"),i=new Date().toISOString().replace(/[:.]/g,"-");n.href=r,n.download=`sdd-generator-backup-${i}.db`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r),console.log("âœ… Database exported as file")}async function b6(){if(!gr)throw new Error("Database not initialized");const e=gr.export(),t=new Uint8Array(e),r=8192;let n="";for(let s=0;s<t.length;s+=r){const a=t.slice(s,s+r);n+=String.fromCharCode.apply(null,Array.from(a))}const i=btoa(n);return localStorage.setItem(Vd,i),console.log("ðŸ’¾ Created backup in localStorage"),i}async function v6(){if(!ws)throw new Error("SQL.js not initialized");const e=localStorage.getItem(Vd);if(!e)return console.warn("No backup found in localStorage"),!1;try{const t=Uint8Array.from(atob(e),r=>r.charCodeAt(0));return gr&&gr.close(),gr=new ws.Database(t),await lu(),await Cr(),console.log("âœ… Restored database from backup"),!0}catch(t){return console.error("Failed to restore from backup:",t),!1}}async function x6(e){if(!ws)throw new Error("SQL.js not initialized");try{const t=await e.arrayBuffer(),r=new Uint8Array(t);gr&&gr.close(),gr=new ws.Database(r),await jf(),await lu(),await w6(),console.log("âœ… Database imported from file"),window.location.reload()}catch(t){throw console.error("Failed to import database:",t),new Error("Failed to import database file. Please ensure it is a valid SQLite database.")}}async function jf(){if(!gr||!ws)throw new Error("Database not initialized");const e=`
    -- Projects table
    CREATE TABLE IF NOT EXISTS Project (
      id TEXT PRIMARY KEY,
      name TEXT NOT NULL,
      description TEXT NOT NULL,
      userId TEXT NOT NULL,
      selectedSectionIds TEXT,
      customSections TEXT,
      customSectionSubsections TEXT,
      coverPageSettings TEXT,
      createdAt TEXT NOT NULL,
      updatedAt TEXT NOT NULL,
      FOREIGN KEY (userId) REFERENCES User(id) ON DELETE CASCADE
    );

    CREATE INDEX IF NOT EXISTS idx_Project_createdAt ON Project(createdAt);
    CREATE INDEX IF NOT EXISTS idx_Project_userId ON Project(userId);
  `;gr.run(e);try{if(gr.exec("SELECT name FROM sqlite_master WHERE type='table' AND name='Project'").length>0){const n=gr.exec("PRAGMA table_info(Project)");n.length>0&&(n[0].values.map(a=>a[1]).includes("customSectionSubsections")||(gr.run("ALTER TABLE Project ADD COLUMN customSectionSubsections TEXT"),console.log("âœ… Added customSectionSubsections column to Project table")))}}catch(r){console.log("Migration check for customSectionSubsections:",r)}const t=`
    -- ProjectArtifact table
    CREATE TABLE IF NOT EXISTS ProjectArtifact (
      id TEXT PRIMARY KEY,
      projectId TEXT NOT NULL,
      fileName TEXT NOT NULL,
      fileType TEXT NOT NULL,
      fileSize INTEGER NOT NULL,
      fileContent TEXT NOT NULL,
      artifactType TEXT NOT NULL,
      uploadedAt TEXT NOT NULL,
      FOREIGN KEY (projectId) REFERENCES Project(id) ON DELETE CASCADE
    );

    CREATE INDEX IF NOT EXISTS idx_ProjectArtifact_projectId ON ProjectArtifact(projectId);

    -- GeneratedSection table
    CREATE TABLE IF NOT EXISTS GeneratedSection (
      id TEXT PRIMARY KEY,
      projectId TEXT NOT NULL,
      sectionId TEXT NOT NULL,
      sectionTitle TEXT NOT NULL,
      content TEXT NOT NULL,
      parentSectionId TEXT,
      "order" INTEGER,
      generatedAt TEXT NOT NULL,
      updatedAt TEXT NOT NULL,
      FOREIGN KEY (projectId) REFERENCES Project(id) ON DELETE CASCADE,
      FOREIGN KEY (parentSectionId) REFERENCES GeneratedSection(id) ON DELETE CASCADE
    );

    CREATE INDEX IF NOT EXISTS idx_GeneratedSection_projectId ON GeneratedSection(projectId);
    CREATE INDEX IF NOT EXISTS idx_GeneratedSection_parentSectionId ON GeneratedSection(parentSectionId);

    -- ADR table
    CREATE TABLE IF NOT EXISTS ADR (
      id TEXT PRIMARY KEY,
      projectId TEXT NOT NULL,
      number INTEGER NOT NULL,
      title TEXT NOT NULL,
      status TEXT NOT NULL,
      date TEXT NOT NULL,
      context TEXT NOT NULL,
      decision TEXT NOT NULL,
      consequences TEXT NOT NULL,
      createdAt TEXT NOT NULL,
      updatedAt TEXT NOT NULL,
      FOREIGN KEY (projectId) REFERENCES Project(id) ON DELETE CASCADE,
      UNIQUE(projectId, number)
    );

    CREATE INDEX IF NOT EXISTS idx_ADR_projectId ON ADR(projectId);

    -- UMLDiagram table
    CREATE TABLE IF NOT EXISTS UMLDiagram (
      id TEXT PRIMARY KEY,
      projectId TEXT NOT NULL,
      name TEXT NOT NULL,
      description TEXT NOT NULL,
      diagramType TEXT NOT NULL,
      content TEXT NOT NULL,
      format TEXT NOT NULL,
      createdAt TEXT NOT NULL,
      updatedAt TEXT NOT NULL,
      FOREIGN KEY (projectId) REFERENCES Project(id) ON DELETE CASCADE
    );

    CREATE INDEX IF NOT EXISTS idx_UMLDiagram_projectId ON UMLDiagram(projectId);
    CREATE INDEX IF NOT EXISTS idx_UMLDiagram_diagramType ON UMLDiagram(diagramType);

    -- Approver table
    CREATE TABLE IF NOT EXISTS Approver (
      id TEXT PRIMARY KEY,
      projectId TEXT NOT NULL,
      email TEXT NOT NULL,
      name TEXT NOT NULL,
      role TEXT,
      addedAt TEXT NOT NULL,
      addedBy TEXT,
      FOREIGN KEY (projectId) REFERENCES Project(id) ON DELETE CASCADE,
      UNIQUE(projectId, email)
    );

    CREATE INDEX IF NOT EXISTS idx_Approver_projectId ON Approver(projectId);
    CREATE INDEX IF NOT EXISTS idx_Approver_email ON Approver(email);

    -- Approval table
    CREATE TABLE IF NOT EXISTS Approval (
      id TEXT PRIMARY KEY,
      projectId TEXT NOT NULL,
      approverId TEXT NOT NULL,
      status TEXT NOT NULL DEFAULT 'PENDING',
      signature TEXT,
      comments TEXT,
      signedAt TEXT,
      approvedAt TEXT,
      createdAt TEXT NOT NULL,
      updatedAt TEXT NOT NULL,
      FOREIGN KEY (projectId) REFERENCES Project(id) ON DELETE CASCADE,
      FOREIGN KEY (approverId) REFERENCES Approver(id) ON DELETE CASCADE,
      UNIQUE(projectId, approverId)
    );

    CREATE INDEX IF NOT EXISTS idx_Approval_projectId ON Approval(projectId);
    CREATE INDEX IF NOT EXISTS idx_Approval_approverId ON Approval(approverId);
    CREATE INDEX IF NOT EXISTS idx_Approval_status ON Approval(status);

    -- ChatMessage table
    CREATE TABLE IF NOT EXISTS ChatMessage (
      id TEXT PRIMARY KEY,
      projectId TEXT,
      role TEXT NOT NULL,
      content TEXT NOT NULL,
      timestamp TEXT NOT NULL,
      capabilityType TEXT,
      createdAt TEXT NOT NULL
    );

    CREATE INDEX IF NOT EXISTS idx_ChatMessage_projectId ON ChatMessage(projectId);
    CREATE INDEX IF NOT EXISTS idx_ChatMessage_timestamp ON ChatMessage(timestamp);

    -- User table
    CREATE TABLE IF NOT EXISTS User (
      id TEXT PRIMARY KEY,
      email TEXT NOT NULL UNIQUE,
      name TEXT NOT NULL,
      password TEXT NOT NULL,
      role TEXT NOT NULL DEFAULT 'VIEWER',
      department TEXT,
      isActive INTEGER NOT NULL DEFAULT 1,
      createdAt TEXT NOT NULL,
      updatedAt TEXT NOT NULL,
      lastLoginAt TEXT
    );

    CREATE INDEX IF NOT EXISTS idx_User_email ON User(email);
    CREATE INDEX IF NOT EXISTS idx_User_role ON User(role);
    CREATE INDEX IF NOT EXISTS idx_User_isActive ON User(isActive);
  `;gr.run(t),await lu()}async function lu(){if(!gr||!ws)throw new Error("Database not initialized");try{gr.exec("SELECT name FROM sqlite_master WHERE type='table' AND name='User'").length===0&&(console.log("ðŸ“¦ Creating User table..."),gr.run(`
        CREATE TABLE IF NOT EXISTS User (
          id TEXT PRIMARY KEY,
          email TEXT NOT NULL UNIQUE,
          name TEXT NOT NULL,
          password TEXT NOT NULL,
          role TEXT NOT NULL DEFAULT 'VIEWER',
          department TEXT,
          isActive INTEGER NOT NULL DEFAULT 1,
          createdAt TEXT NOT NULL,
          updatedAt TEXT NOT NULL,
          lastLoginAt TEXT
        );

        CREATE INDEX IF NOT EXISTS idx_User_email ON User(email);
        CREATE INDEX IF NOT EXISTS idx_User_role ON User(role);
        CREATE INDEX IF NOT EXISTS idx_User_isActive ON User(isActive);
      `),console.log("âœ… Created User table"),await Cr())}catch(e){console.error("Error creating User table:",e)}try{if(gr.exec("SELECT name FROM sqlite_master WHERE type='table' AND name='Project'").length>0){const t=gr.exec("PRAGMA table_info(Project)");t.length>0&&(t[0].values.map(i=>i[1]).includes("userId")||(console.log("ðŸ“¦ Adding userId column to Project table..."),gr.run("ALTER TABLE Project ADD COLUMN userId TEXT"),gr.run("CREATE INDEX IF NOT EXISTS idx_Project_userId ON Project(userId)"),console.log("âœ… Added userId column to Project table"),await Cr()))}}catch(e){console.error("Error adding userId to Project table:",e)}try{if(gr.exec("SELECT name FROM sqlite_master WHERE type='table' AND name='GeneratedSection'").length===0)return;const t=gr.exec("PRAGMA table_info(GeneratedSection)");if(t.length>0){const r=t[0].values.map(s=>s[1]),n=r.includes("parentSectionId"),i=r.includes("order");if(n||(gr.run("ALTER TABLE GeneratedSection ADD COLUMN parentSectionId TEXT"),console.log("âœ… Added parentSectionId column to GeneratedSection table"),await Cr()),i||(gr.run('ALTER TABLE GeneratedSection ADD COLUMN "order" INTEGER'),console.log("âœ… Added order column to GeneratedSection table"),await Cr()),!n)try{gr.run("CREATE INDEX IF NOT EXISTS idx_GeneratedSection_parentSectionId ON GeneratedSection(parentSectionId)"),await Cr()}catch(s){console.log("Index creation note:",s)}}}catch(e){console.error("Migration error:",e)}}async function Cr(){if(!gr)throw new Error("Database not initialized");try{const e=localStorage.getItem(`${Vd}_timestamp`),t=Date.now();(!e||t-parseInt(e,10)>5*60*1e3)&&(await b6(),localStorage.setItem(`${Vd}_timestamp`,t.toString()))}catch(e){console.warn("Could not create backup, continuing with save:",e)}if(wu)try{await y6()}catch(e){console.warn("Could not save to file, saving to localStorage:",e)}await w6()}async function Jo(){return gr||await Dp()}function SO(){gr&&(gr.close(),gr=null),wu=null}const _O=Object.freeze(Object.defineProperty({__proto__:null,closeDatabase:SO,createBackup:b6,exportDatabase:hp,getDatabase:Jo,importDatabase:x6,initDatabase:Dp,restoreFromBackup:v6,saveDatabase:Cr,saveDatabaseFile:EO,selectDatabaseFile:g6},Symbol.toStringTag,{value:"Module"}));function Yx(e){let t=0;for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);t=(t<<5)-t+n,t=t&t}return t.toString(36)}function NO(e,t){return Yx(e)===t}class kO{async createUser(t,r,n,i="VIEWER",s){var h,f,u;const a=await Jo();if(await this.getUserByEmail(t))throw new Error("User with this email already exists");const c=`user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,A=Yx(n),d=new Date().toISOString();try{a.run(`INSERT INTO User (id, email, name, password, role, department, isActive, createdAt, updatedAt)
         VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)`,[c,t,r,A,i,s||null,1,d,d]),await Cr()}catch(g){throw(h=g==null?void 0:g.message)!=null&&h.includes("UNIQUE constraint")||(f=g==null?void 0:g.message)!=null&&f.includes("email")?new Error("User with this email already exists"):(u=g==null?void 0:g.message)!=null&&u.includes("no such table: User")?new Error("Database error: User table not found. Please refresh the page to initialize the database."):new Error(`Failed to create user: ${(g==null?void 0:g.message)||"Unknown database error"}`)}return{id:c,email:t,name:r,role:i,department:s,isActive:!0,createdAt:new Date(d),updatedAt:new Date(d)}}async getUserByEmail(t){const n=(await Jo()).prepare(`SELECT id, email, name, password, role, department, isActive, createdAt, updatedAt, lastLoginAt
       FROM User WHERE email = ? AND isActive = 1`);if(n.bind([t]),!n.step())return n.free(),null;const i=n.getAsObject();return n.free(),{id:i.id,email:i.email,name:i.name,role:i.role,department:i.department||void 0,isActive:i.isActive===1,createdAt:new Date(i.createdAt),updatedAt:new Date(i.updatedAt),lastLoginAt:i.lastLoginAt?new Date(i.lastLoginAt):void 0}}async getUserById(t){const n=(await Jo()).prepare(`SELECT id, email, name, password, role, department, isActive, createdAt, updatedAt, lastLoginAt
       FROM User WHERE id = ? AND isActive = 1`);if(n.bind([t]),!n.step())return n.free(),null;const i=n.getAsObject();return n.free(),{id:i.id,email:i.email,name:i.name,role:i.role,department:i.department||void 0,isActive:i.isActive===1,createdAt:new Date(i.createdAt),updatedAt:new Date(i.updatedAt),lastLoginAt:i.lastLoginAt?new Date(i.lastLoginAt):void 0}}async verifyPassword(t,r){const i=(await Jo()).prepare("SELECT password FROM User WHERE email = ? AND isActive = 1");if(i.bind([t]),!i.step())return i.free(),!1;const s=i.getAsObject();i.free();const a=s.password;return NO(r,a)}async updateLastLogin(t){const r=await Jo(),n=new Date().toISOString();r.run("UPDATE User SET lastLoginAt = ?, updatedAt = ? WHERE email = ?",[n,n,t]),await Cr()}async updateUser(t,r){const n=await Jo(),i=new Date().toISOString(),s=[],a=[];r.name!==void 0&&(s.push("name = ?"),a.push(r.name)),r.role!==void 0&&(s.push("role = ?"),a.push(r.role)),r.department!==void 0&&(s.push("department = ?"),a.push(r.department)),r.isActive!==void 0&&(s.push("isActive = ?"),a.push(r.isActive?1:0)),s.length!==0&&(s.push("updatedAt = ?"),a.push(i),a.push(t),n.run(`UPDATE User SET ${s.join(", ")} WHERE id = ?`,a),await Cr())}async changePassword(t,r){const n=await Jo(),i=Yx(r),s=new Date().toISOString();n.run("UPDATE User SET password = ?, updatedAt = ? WHERE email = ?",[i,s,t]),await Cr()}}class nA{static async signup(t,r,n,i){if(!t||!t.includes("@"))throw new Error("Please enter a valid email address");if(!r||r.trim().length<2)throw new Error("Please enter your full name (at least 2 characters)");if(!n||n.length<6)throw new Error("Password must be at least 6 characters long");const s=this.getRoleFromEmail(t),a=await this.userRepository.createUser(t,r.trim(),n,s,i==null?void 0:i.trim());return sessionStorage.setItem(this.SESSION_KEY,JSON.stringify(a)),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(a)),a}static async login(t,r){if(!t||!r)throw new Error("Please enter both email and password");if(!await this.userRepository.verifyPassword(t,r))throw new Error("Invalid email or password");const i=await this.userRepository.getUserByEmail(t);if(!i)throw new Error("User not found");if(!i.isActive)throw new Error("Your account has been deactivated. Please contact an administrator.");return await this.userRepository.updateLastLogin(t),i.lastLoginAt=new Date,sessionStorage.setItem(this.SESSION_KEY,JSON.stringify(i)),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(i)),i}static getCurrentUser(){try{const t=sessionStorage.getItem(this.SESSION_KEY);if(t){const r=JSON.parse(t);return{...r,createdAt:new Date(r.createdAt),updatedAt:new Date(r.updatedAt),lastLoginAt:r.lastLoginAt?new Date(r.lastLoginAt):void 0}}return null}catch(t){return console.error("Error getting current user:",t),null}}static logout(){sessionStorage.removeItem(this.SESSION_KEY),localStorage.removeItem(this.STORAGE_KEY)}static isAuthenticated(){return this.getCurrentUser()!==null}static getRoleFromEmail(t){const r=t.toLowerCase();return r.includes("admin")?"ADMIN":r.includes("architect")?"ARCHITECT":r.includes("reviewer")?"REVIEWER":"ARCHITECT"}}Br(nA,"STORAGE_KEY","architect_studio_user"),Br(nA,"SESSION_KEY","architect_studio_session"),Br(nA,"userRepository",new kO);const B6=Se.createContext(void 0),Rp=()=>{const e=Se.useContext(B6);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},IO=({children:e})=>{const[t,r]=Se.useState(null),[n,i]=Se.useState(!0);Se.useEffect(()=>{const c=nA.getCurrentUser();r(c),i(!1)},[]);const s=async(c,A)=>{try{const d=await nA.login(c,A);r(d)}catch(d){throw console.error("Login error:",d),d}},a=async(c,A,d,h)=>{try{const f=await nA.signup(c,A,d,h);r(f)}catch(f){throw console.error("Signup error:",f),f}},o=()=>{nA.logout(),r(null)};return l.jsx(B6.Provider,{value:{user:t,loading:n,login:s,signup:a,logout:o,isAuthenticated:!!t},children:e})};var TO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const FO=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jO=(e,t)=>{const r=Se.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,children:o,...c},A)=>Se.createElement("svg",{ref:A,...TO,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:`lucide lucide-${FO(e)}`,...c},[...t.map(([d,h])=>Se.createElement(d,h)),...(Array.isArray(o)?o:[o])||[]]));return r.displayName=`${e}`,r};var Vt=jO;const C6=Vt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),E6=Vt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),S6=Vt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Jw=Vt("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]),$E=Vt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),md=Vt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),VE=Vt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),fp=Vt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),UO=Vt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),pp=Vt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Vu=Vt("Bot",[["rect",{width:"18",height:"10",x:"3",y:"11",rx:"2",key:"1ofdy3"}],["circle",{cx:"12",cy:"5",r:"2",key:"f1ur92"}],["path",{d:"M12 7v4",key:"xawao1"}],["line",{x1:"8",x2:"8",y1:"16",y2:"16",key:"h6x27f"}],["line",{x1:"16",x2:"16",y1:"16",y2:"16",key:"5lty7f"}]]),Uf=Vt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),LO=Vt("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Zw=Vt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),q0=Vt("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),G0=Vt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),il=Vt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),_6=Vt("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),DO=Vt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),kd=Vt("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]),no=Vt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),N6=Vt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Ya=Vt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),XE=Vt("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),RO=Vt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),dB=Vt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),W0=Vt("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]),pn=Vt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),OO=Vt("FileUp",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]),PO=Vt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),mp=Vt("FolderOpen",[["path",{d:"m6 14 1.45-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.55 6a2 2 0 0 1-1.94 1.5H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.93a2 2 0 0 1 1.66.9l.82 1.2a2 2 0 0 0 1.66.9H18a2 2 0 0 1 2 2v2",key:"1nmvlm"}]]),Xd=Vt("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]),$0=Vt("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]),r0=Vt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),YE=Vt("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),gd=Vt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),QO=Vt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Ja=Vt("Layers",[["polygon",{points:"12 2 2 7 12 12 22 7 12 2",key:"1b0ttc"}],["polyline",{points:"2 17 12 22 22 17",key:"imjtdl"}],["polyline",{points:"2 12 12 17 22 12",key:"5dexcv"}]]),JE=Vt("Layout",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"9",x2:"9",y1:"21",y2:"9",key:"wpwpyp"}]]),Ea=Vt("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),Jx=Vt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),MO=Vt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),hB=Vt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),GA=Vt("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),HO=Vt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),ZE=Vt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Yd=Vt("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]),Lf=Vt("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),eS=Vt("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),V0=Vt("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),zO=Vt("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]),n0=Vt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),KO=Vt("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),Sn=Vt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Zx=Vt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),io=Vt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Jd=Vt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),qO=Vt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),k6=Vt("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),X0=Vt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),e2=Vt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),as=Vt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),I6=Vt("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),T6=Vt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Il=Vt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),GO=Vt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Op=Vt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),el=Vt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),WO=Vt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Id=Vt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),yd=Vt("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]),qr=Vt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),tS=Vt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),$O=({onSwitchToSignup:e})=>{const[t,r]=Se.useState(""),[n,i]=Se.useState(""),[s,a]=Se.useState(""),[o,c]=Se.useState(!1),{login:A}=Rp(),d=async h=>{h.preventDefault(),a(""),c(!0);try{await A(t,n)}catch(f){a("Login failed. Please try again."),console.error("Login error:",f)}finally{c(!1)}};return l.jsxs("div",{className:"min-h-screen flex relative overflow-hidden bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[l.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative items-center justify-center p-12 overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[l.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-purple-500 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),l.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-blue-500 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"}),l.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-pink-500 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-4000"})]}),l.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808008_1px,transparent_1px),linear-gradient(to_bottom,#80808008_1px,transparent_1px)] bg-[size:32px_32px]"}),l.jsxs("div",{className:"relative z-10 w-full max-w-2xl",children:[l.jsxs("div",{className:"mb-12 flex items-center gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500 to-blue-500 rounded-2xl blur-xl opacity-50"}),l.jsx("div",{className:"relative inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-purple-600 via-blue-600 to-purple-700 rounded-2xl shadow-2xl border border-white/20",children:l.jsx(Yd,{className:"w-10 h-10 text-white"})})]}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white via-purple-200 to-blue-200 bg-clip-text text-transparent",children:"Equity Bank"}),l.jsx("p",{className:"text-purple-300/70 text-sm font-medium",children:"Enterprise Architecture Platform"})]})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-20",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500 to-blue-500 rounded-full blur-2xl opacity-40 animate-pulse"}),l.jsx("div",{className:"relative w-24 h-24 bg-gradient-to-br from-purple-600 to-blue-600 rounded-full flex items-center justify-center shadow-2xl border-2 border-white/30",children:l.jsx(kd,{className:"w-12 h-12 text-white"})})]})}),l.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-8 z-10",children:l.jsx("div",{className:"flex gap-4",children:[0,1,2].map(h=>l.jsxs("div",{className:"relative group",children:[l.jsx("div",{className:"absolute inset-0 bg-blue-500/20 rounded-xl blur-lg group-hover:blur-xl transition-all"}),l.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-blue-500/80 to-cyan-500/80 backdrop-blur-sm rounded-xl flex items-center justify-center border border-white/20 shadow-lg group-hover:scale-110 transition-transform",children:l.jsx(_6,{className:"w-8 h-8 text-white"})}),l.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0.5 h-12 bg-gradient-to-b from-blue-400/50 to-transparent"})]},h))})}),l.jsx("div",{className:"absolute right-0 top-1/2 transform translate-x-8 -translate-y-1/2 z-10",children:l.jsx("div",{className:"flex flex-col gap-4",children:[0,1,2].map(h=>l.jsxs("div",{className:"relative group",children:[l.jsx("div",{className:"absolute inset-0 bg-purple-500/20 rounded-xl blur-lg group-hover:blur-xl transition-all"}),l.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-purple-500/80 to-pink-500/80 backdrop-blur-sm rounded-xl flex items-center justify-center border border-white/20 shadow-lg group-hover:scale-110 transition-transform",children:l.jsx(Ja,{className:"w-8 h-8 text-white"})}),l.jsx("div",{className:"absolute top-1/2 right-full transform translate-x-0 -translate-y-1/2 w-12 h-0.5 bg-gradient-to-r from-purple-400/50 to-transparent"})]},h))})}),l.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-8 z-10",children:l.jsx("div",{className:"flex gap-4",children:[0,1,2].map(h=>l.jsxs("div",{className:"relative group",children:[l.jsx("div",{className:"absolute inset-0 bg-cyan-500/20 rounded-xl blur-lg group-hover:blur-xl transition-all"}),l.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-cyan-500/80 to-teal-500/80 backdrop-blur-sm rounded-xl flex items-center justify-center border border-white/20 shadow-lg group-hover:scale-110 transition-transform",children:l.jsx(no,{className:"w-8 h-8 text-white"})}),l.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 w-0.5 h-12 bg-gradient-to-t from-cyan-400/50 to-transparent"})]},h))})}),l.jsx("div",{className:"absolute left-0 top-1/2 transform -translate-x-8 -translate-y-1/2 z-10",children:l.jsx("div",{className:"flex flex-col gap-4",children:[0,1,2].map(h=>l.jsxs("div",{className:"relative group",children:[l.jsx("div",{className:"absolute inset-0 bg-indigo-500/20 rounded-xl blur-lg group-hover:blur-xl transition-all"}),l.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-indigo-500/80 to-purple-500/80 backdrop-blur-sm rounded-xl flex items-center justify-center border border-white/20 shadow-lg group-hover:scale-110 transition-transform",children:l.jsx(k6,{className:"w-8 h-8 text-white"})}),l.jsx("div",{className:"absolute top-1/2 left-full transform -translate-x-0 -translate-y-1/2 w-12 h-0.5 bg-gradient-to-l from-indigo-400/50 to-transparent"})]},h))})}),l.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",style:{zIndex:5},children:[l.jsx("defs",{children:l.jsxs("linearGradient",{id:"lineGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[l.jsx("stop",{offset:"0%",stopColor:"rgba(139, 92, 246, 0.3)"}),l.jsx("stop",{offset:"50%",stopColor:"rgba(59, 130, 246, 0.5)"}),l.jsx("stop",{offset:"100%",stopColor:"rgba(139, 92, 246, 0.3)"})]})}),l.jsx("line",{x1:"50%",y1:"50%",x2:"50%",y2:"20%",stroke:"url(#lineGradient)",strokeWidth:"2",className:"animate-pulse"}),l.jsx("line",{x1:"50%",y1:"50%",x2:"80%",y2:"50%",stroke:"url(#lineGradient)",strokeWidth:"2",className:"animate-pulse",style:{animationDelay:"0.5s"}}),l.jsx("line",{x1:"50%",y1:"50%",x2:"50%",y2:"80%",stroke:"url(#lineGradient)",strokeWidth:"2",className:"animate-pulse",style:{animationDelay:"1s"}}),l.jsx("line",{x1:"50%",y1:"50%",x2:"20%",y2:"50%",stroke:"url(#lineGradient)",strokeWidth:"2",className:"animate-pulse",style:{animationDelay:"1.5s"}})]})]}),l.jsxs("div",{className:"mt-16 grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"backdrop-blur-sm bg-white/5 rounded-lg p-4 border border-white/10",children:[l.jsx("div",{className:"text-purple-300/80 text-xs font-medium mb-1",children:"AI-Powered"}),l.jsx("div",{className:"text-white/60 text-xs",children:"Intelligent Architecture Design"})]}),l.jsxs("div",{className:"backdrop-blur-sm bg-white/5 rounded-lg p-4 border border-white/10",children:[l.jsx("div",{className:"text-blue-300/80 text-xs font-medium mb-1",children:"Enterprise Grade"}),l.jsx("div",{className:"text-white/60 text-xs",children:"Scalable Solutions"})]})]})]}),l.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(30)].map((h,f)=>l.jsx("div",{className:"absolute w-1 h-1 bg-white/20 rounded-full animate-float",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${5+Math.random()*10}s`}},f))})]}),l.jsxs("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-6 lg:p-12 relative",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden lg:hidden",children:[l.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),l.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"})]}),l.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[l.jsxs("div",{className:"lg:hidden mb-8 flex items-center justify-center gap-3",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500 to-blue-500 rounded-xl blur-lg opacity-50"}),l.jsx("div",{className:"relative inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-purple-600 via-blue-600 to-purple-700 rounded-xl shadow-xl border border-white/20",children:l.jsx(Yd,{className:"w-8 h-8 text-white"})})]}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-white via-purple-200 to-blue-200 bg-clip-text text-transparent",children:"Equity Bank"}),l.jsx("p",{className:"text-purple-300/70 text-xs font-medium",children:"Enterprise Architecture"})]})]}),l.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-2xl shadow-2xl border border-white/20 p-8 space-y-8",children:[l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"hidden lg:block",children:l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-purple-500 to-blue-500 rounded-2xl mb-4 shadow-lg",children:l.jsx(as,{className:"w-8 h-8 text-white"})})}),l.jsx("h2",{className:"text-3xl lg:text-4xl font-bold bg-gradient-to-r from-white via-purple-200 to-blue-200 bg-clip-text text-transparent",children:"Welcome Back"}),l.jsx("p",{className:"text-purple-200/80 text-sm",children:"Sign in to your account to continue"})]}),l.jsxs("form",{onSubmit:d,className:"space-y-6",children:[s&&l.jsx("div",{className:"bg-red-500/20 border border-red-500/50 text-red-200 px-4 py-3 rounded-lg text-sm backdrop-blur-sm",children:s}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-purple-200",children:"Email Address"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(hB,{className:"h-5 w-5 text-purple-400/60"})}),l.jsx("input",{id:"email",type:"email",value:t,onChange:h=>r(h.target.value),required:!0,className:"block w-full pl-10 pr-3 py-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-purple-300/50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all backdrop-blur-sm",placeholder:"your.email@equitybank.co.ke"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-purple-200",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Jx,{className:"h-5 w-5 text-purple-400/60"})}),l.jsx("input",{id:"password",type:"password",value:n,onChange:h=>i(h.target.value),required:!0,className:"block w-full pl-10 pr-3 py-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-purple-300/50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all backdrop-blur-sm",placeholder:"Enter your password"})]})]}),l.jsx("button",{type:"submit",disabled:o,className:"w-full flex items-center justify-center gap-2 py-3 px-4 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white font-semibold rounded-lg transition-all duration-200 transform hover:scale-[1.02] hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:o?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),l.jsx("span",{children:"Signing in..."})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{children:"Sign In"}),l.jsx(md,{className:"w-5 h-5"})]})})]}),l.jsx("div",{className:"pt-4 border-t border-white/10 text-center",children:l.jsxs("p",{className:"text-purple-200/80 text-sm",children:["Don't have an account?"," ",l.jsx("button",{onClick:()=>{e?e():(window.location.hash="#signup",window.location.reload())},className:"text-purple-300 hover:text-white font-medium underline transition-colors",children:"Sign up"})]})})]}),l.jsx("p",{className:"text-center mt-6 text-purple-300/60 text-sm",children:"Â© 2024 Equity Bank Limited. All rights reserved."})]})]})]})},Va=[{id:"cover-page",title:"Cover Page",subsections:[{number:"",title:"Document Title",description:"The main title of the Solution Design Document"},{number:"",title:"Project Information",description:"Project name, description, and basic details"},{number:"",title:"Version and Date",description:"Document version number and publication date"},{number:"",title:"Organization Details",description:"Organization name, logo, and branding information"}]},{id:"document-control",title:"Document Control",subsections:[{number:"",title:"Document Information",description:"Document metadata including title, ID, version, classification, owner, and status"},{number:"",title:"Version History",description:"Complete version history with dates, authors, changes made, and status for each version"},{number:"",title:"Distribution List",description:"List of individuals who receive the document, including their name, role, department, and email"},{number:"",title:"Review & Approval",description:"Review and approval workflow with role, name, date, and signature/approval for each reviewer"}]},{id:"table-of-contents",title:"Table of Contents",subsections:[]},{id:"introduction",title:"Introduction",subsections:[{number:"",title:"Problem Statement",description:"Describe the specific business problem or challenge that this solution addresses"},{number:"",title:"Solution Overview",description:"High-level summary of the proposed solution and its approach"},{number:"",title:"Scope",description:"Define the boundaries and extent of the solution, including what is included and excluded"},{number:"",title:"Master Data Domains In Scope",description:"Identify which master data domains (e.g., Customer, Product, Account) are included in this solution"},{number:"",title:"Applications In Scope",description:"List all applications and systems that are part of the solution scope"},{number:"",title:"Countries In Scope",description:"Specify the geographical scope including countries and regions covered by this solution"}]},{id:"constraints-assumptions",title:"Design Constraints, Assumptions, Dependencies and Risks",subsections:[{number:"",title:"Design Constraints",description:"Technical, business, regulatory, or organizational limitations that constrain the solution design"},{number:"",title:"Assumptions",description:"Key assumptions made during the design phase that the solution depends upon"},{number:"",title:"Dependencies",description:"External dependencies, prerequisites, and systems that must be in place for the solution to succeed"},{number:"",title:"Risks",description:"Potential risks that could impact the project, their likelihood, and mitigation strategies"},{number:"",title:"Loading",description:"Expected data volumes, transaction loads, and system capacity requirements"}]},{id:"business-capabilities",title:"Business Capabilities",subsections:[{number:"",title:"Party Management",description:"Capabilities for managing parties (customers, vendors, partners) including creation, updates, and lifecycle management"},{number:"",title:"Identity Management",description:"Identity verification, authentication, and authorization capabilities"},{number:"",title:"Product Management",description:"Product definition, configuration, and management capabilities"},{number:"",title:"Data Quality Management",description:"Data validation, cleansing, enrichment, and quality monitoring capabilities"},{number:"",title:"Data Synchronization",description:"Capabilities for synchronizing data across systems, domains, and applications"}]},{id:"requirements",title:"Requirements",subsections:[{number:"",title:"Functional Requirements",description:"Specific capabilities the system must provide"},{number:"",title:"Non-Functional Requirements",description:"Performance, security, scalability, and availability requirements"},{number:"",title:"Constraints",description:"Technical, regulatory, budgetary, or organizational limitations"}]},{id:"architecture",title:"Solution Architecture",subsections:[{number:"",title:"Architecture Overview",description:"High-level architecture diagram and conceptual design"},{number:"",title:"Component Design",description:"Detailed breakdown of system components and their responsibilities"},{number:"",title:"Integration Points",description:"How components interact internally and with external systems (include sequence diagrams)"},{number:"",title:"Data Architecture",description:"Data models, storage strategy, and data flow patterns"},{number:"",title:"Application Architecture",description:"Application layers, tiers, and structural organization"}]},{id:"data-architecture",title:"Data Architecture",subsections:[{number:"",title:"Overview",description:"High-level data architecture strategy and guiding principles"},{number:"",title:"Logical Data Domains",description:"Logical grouping of data organized by business domain"},{number:"",title:"Core Data Relationships",description:"Entity relationship diagrams and key data relationships"},{number:"",title:"Data Flow Summary",description:"Use case specific data flows with detailed sequence diagrams"},{number:"",title:"Data Storage Architecture",description:"Database design, storage solutions, and persistence strategy"},{number:"",title:"Data Security & Compliance",description:"Data encryption, masking, access controls, and regulatory compliance"},{number:"",title:"Data Retention Plan",description:"Data lifecycle management, archival policies, and deletion procedures"}]},{id:"master-data",title:"Master Data Management",subsections:[{number:"",title:"Master Data Entities",description:"Key master data entities, their definitions, and attributes"},{number:"",title:"Data Governance",description:"Data ownership, stewardship roles, and governance framework"},{number:"",title:"Data Quality Standards",description:"Validation rules, quality metrics, and monitoring procedures"},{number:"",title:"Data Lifecycle Management",description:"Processes for data creation, updates, archival, and deletion"}]},{id:"security",title:"Security Architecture",subsections:[{number:"",title:"Security Layers and Compliance Mapping",description:"Multi-layered security approach mapped to regulatory requirements"},{number:"",title:"Security Controls Mapping to Use Cases",description:"Specific security controls applied to each business use case"},{number:"",title:"Compliance and Governance",description:"Regulatory compliance requirements including PCI-DSS, GDPR, and CBK guidelines"}]},{id:"infrastructure",title:"Infrastructure Architecture",subsections:[{number:"",title:"Infrastructure Components",description:"Compute resources, storage enhancements, monitoring tools, and security tooling"},{number:"",title:"Compute and Storage Enhancements",description:"Server specifications, compute resources, and storage solutions"},{number:"",title:"Monitoring, Observability, and Security Tooling",description:"Monitoring platforms, logging systems, and observability tools"},{number:"",title:"Identity, Access, and Compliance Controls",description:"IAM solutions, access management, and authentication mechanisms"},{number:"",title:"Deployment Architecture",description:"Cloud and on-premise infrastructure with partner integrations"},{number:"",title:"Cloud Layer",description:"Cloud infrastructure, services, and deployment configurations"},{number:"",title:"On-Premise Layer",description:"On-premise infrastructure and hybrid connectivity approaches"},{number:"",title:"Partner and Third-Party Integrations",description:"External partner systems and integration architecture patterns"},{number:"",title:"Network Architecture",description:"Network connectivity, traffic flows, and security segmentation"},{number:"",title:"Connectivity",description:"Network connectivity approaches including VPN, direct connect, and bandwidth allocation"},{number:"",title:"Traffic Flow Summary",description:"Network traffic patterns and detailed flow diagrams"},{number:"",title:"Network Security and Segmentation",description:"Firewalls, DMZ configuration, network zones, and micro-segmentation strategy"}]},{id:"implementation",title:"Implementation Architecture",subsections:[{number:"",title:"Implementation Layers",description:"Presentation, business logic, and data access layers with interaction patterns"},{number:"",title:"Capability Mapping",description:"Business capabilities mapped to technical components and services"},{number:"",title:"Summary of Approach",description:"Overall implementation strategy, methodology, and development approach"},{number:"",title:"Key Considerations",description:"Critical implementation factors, risks, and decision points"}]},{id:"traceability",title:"Traceability Matrix",subsections:[{number:"",title:"Functional Requirements Traceability",description:"Complete mapping of requirements to design components, use cases, and test cases"}]},{id:"resources",title:"Resource Requirements",subsections:[{number:"",title:"Human Resources",description:"Team composition, roles, required skills, FTE allocation, and engagement duration"},{number:"",title:"System Resources",description:"Hardware, software, infrastructure, and tooling resource requirements"}]},{id:"deployment",title:"Deployment Strategy",subsections:[{number:"",title:"Deployment Approach",description:"Deployment strategy including phased rollout, big bang, or hybrid approach"},{number:"",title:"Environment Strategy",description:"Development, testing, staging, and production environment configuration"},{number:"",title:"Migration Plan",description:"Detailed data and system migration approach with rollback procedures"}]},{id:"risks",title:"Risks & Mitigations",subsections:[{number:"",title:"Risk Assessment",description:"Comprehensive risk analysis with impact, probability, and mitigation strategies"}]},{id:"timeline",title:"Timeline & Milestones",subsections:[{number:"",title:"Project Timeline",description:"Detailed project phases, milestones, target dates, dependencies, and current status"}]},{id:"technology",title:"Technology Stack",subsections:[{number:"",title:"Application Layer",description:"Frontend frameworks, backend platforms, programming languages, and development tools"},{number:"",title:"Database & Storage",description:"Database management systems, data warehouses, caching solutions, and file storage"},{number:"",title:"Infrastructure",description:"Cloud providers, server infrastructure, networking components, and containerization"},{number:"",title:"Third-Party Services & APIs",description:"External integrations, service dependencies, and API specifications"}]},{id:"operations",title:"Operations & Support",subsections:[{number:"",title:"Monitoring & Alerting",description:"System monitoring tools, alerting mechanisms, and operational dashboards"},{number:"",title:"Logging Strategy",description:"Application and system logging approach, log aggregation, and retention policies"},{number:"",title:"Backup & Recovery",description:"Backup procedures, recovery point objectives, recovery time objectives, and disaster recovery plan"},{number:"",title:"Support Model",description:"Support tiers, escalation procedures, service level agreements, and support processes"},{number:"",title:"Maintenance Windows",description:"Planned maintenance schedules, change management procedures, and communication protocols"}]},{id:"testing",title:"Testing Strategy",subsections:[{number:"",title:"Test Approach",description:"Overall testing methodology, philosophy, and quality assurance framework"},{number:"",title:"Test Types",description:"Unit testing, integration testing, system testing, UAT, performance testing, and security testing"},{number:"",title:"Test Environments",description:"Test environment configuration, setup procedures, and data management"},{number:"",title:"Test Data Strategy",description:"Test data creation, management, privacy considerations, and data masking approaches"}]},{id:"training",title:"Training & Change Management",subsections:[{number:"",title:"Training Strategy",description:"Training approach for different user groups, delivery methods, and schedule"},{number:"",title:"Training Materials",description:"Documentation, user guides, video tutorials, workshops, and reference materials"},{number:"",title:"Change Management",description:"Communication plan, stakeholder engagement strategy, and adoption roadmap"},{number:"",title:"Knowledge Transfer",description:"Transition plan for operations teams, support teams, and knowledge retention"}]},{id:"costs",title:"Cost & Budget",subsections:[{number:"",title:"Implementation Costs",description:"Development costs, infrastructure investment, licensing fees, and consulting expenses"},{number:"",title:"Operational Costs",description:"Ongoing hosting costs, maintenance fees, support costs, and subscription expenses"},{number:"",title:"ROI Analysis",description:"Expected return on investment, payback period, and financial benefits"},{number:"",title:"Cost Optimization",description:"Strategies for managing and reducing costs throughout the project lifecycle"}]},{id:"assumptions",title:"Assumptions & Dependencies",subsections:[{number:"",title:"Assumptions",description:"Key assumptions made during solution design and their potential impact"},{number:"",title:"Dependencies",description:"External dependencies, prerequisites for success, and dependency management"},{number:"",title:"Constraints",description:"Technical, budgetary, regulatory, and organizational constraints"}]},{id:"alternatives",title:"Alternative Solutions Considered",subsections:[{number:"",title:"Alternative Approaches",description:"Other solution approaches that were evaluated during the design phase"},{number:"",title:"Comparison Analysis",description:"Detailed comparison of alternatives including pros, cons, and trade-offs"},{number:"",title:"Decision Rationale",description:"Justification for the recommended solution based on evaluation criteria"}]},{id:"appendix",title:"Appendix",subsections:[{number:"",title:"Glossary",description:"Definitions of technical terms and business terminology"},{number:"",title:"References",description:"Related documents, standards, and external resources"},{number:"",title:"Acronyms",description:"List of acronyms and abbreviations used throughout the document"},{number:"",title:"Supporting Documentation",description:"Links to technical specifications, wireframes, user stories, and sequence diagrams"}]}];function i0(e=[],t=[],r){const n=e.map(A=>Va.find(d=>d.id===A)).filter(A=>A!==void 0),i=[...t].sort((A,d)=>A.order!==void 0&&d.order!==void 0?A.order-d.order:A.order!==void 0?-1:d.order!==void 0?1:0);let s=1;const a=n.map(A=>{const d=A.title.match(/^(\d+)\.\s*(.+)/),h=d?d[1]:"",f=d?d[2]:A.title,u=A.subsections||[],g=(r==null?void 0:r[A.id])||[],m=[...u,...g],x={...A,title:f,displayNumber:s,originalNumber:h,subsections:m};return s++,x}),o=i.map(A=>({...A,displayNumber:s++})),c=[...a,...o].sort((A,d)=>A.displayNumber-d.displayNumber);return{standardSections:a,customSections:o,allSections:c}}function zA(e){const t=e.displayNumber;return!e.subsections||e.subsections.length===0?[]:e.subsections.map((r,n)=>{const i=`${t}.${n+1}`;return{...r,number:i}})}function Rs(e){return`${e.displayNumber}. ${e.title}`}function WA(e,t={}){const r=e.filter(i=>i.id!=="cover-page"&&i.id!=="table-of-contents"&&t[i.id]);if(r.length===0)return"<p><em>Table of Contents will be generated once sections are created.</em></p>";let n='<div class="table-of-contents">';return n+='<ul style="list-style-type: none; padding-left: 0;">',r.forEach(i=>{i.displayNumber,i.title;const s=Rs(i),a=zA(i);n+=`<li style="margin-bottom: 8px;">
      <a href="#section-${i.id}" style="text-decoration: none; color: #1f2937; font-weight: 600;">
        ${s}
      </a>`,a.length>0&&(n+='<ul style="list-style-type: none; padding-left: 20px; margin-top: 4px;">',a.forEach(o=>{n+=`<li style="margin-bottom: 4px;">
          <a href="#section-${i.id}-${o.number.replace(/\./g,"-")}" style="text-decoration: none; color: #4b5563; font-size: 0.9em;">
            ${o.number} ${o.title}
          </a>
        </li>`}),n+="</ul>"),n+="</li>"}),n+="</ul>",n+="</div>",n}function cr(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function At(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}let F6=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return F6=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),r=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(+n^r()&15>>+n/4).toString(16))};function gp(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const t2=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};class Hr extends Error{}class zs extends Hr{constructor(t,r,n,i){super(`${zs.makeMessage(t,r,n)}`),this.status=t,this.headers=i,this.requestID=i==null?void 0:i.get("request-id"),this.error=r}static makeMessage(t,r,n){const i=r!=null&&r.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,r,n,i){if(!t||!i)return new Dy({message:n,cause:t2(r)});const s=r;return t===400?new U6(t,s,n,i):t===401?new L6(t,s,n,i):t===403?new D6(t,s,n,i):t===404?new R6(t,s,n,i):t===409?new O6(t,s,n,i):t===422?new P6(t,s,n,i):t===429?new Q6(t,s,n,i):t>=500?new M6(t,s,n,i):new zs(t,s,n,i)}}class tl extends zs{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Dy extends zs{constructor({message:t,cause:r}){super(void 0,void 0,t||"Connection error.",void 0),r&&(this.cause=r)}}class j6 extends Dy{constructor({message:t}={}){super({message:t??"Request timed out."})}}class U6 extends zs{}class L6 extends zs{}class D6 extends zs{}class R6 extends zs{}class O6 extends zs{}class P6 extends zs{}class Q6 extends zs{}class M6 extends zs{}const VO=/^[a-z][a-z0-9+.-]*:/i,XO=e=>VO.test(e);let r2=e=>(r2=Array.isArray,r2(e)),rS=r2;function n2(e){return typeof e!="object"?{}:e??{}}function YO(e){if(!e)return!0;for(const t in e)return!1;return!0}function JO(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const ZO=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Hr(`${e} must be an integer`);if(t<0)throw new Hr(`${e} must be a positive integer`);return t},H6=e=>{try{return JSON.parse(e)}catch{return}},eP=e=>new Promise(t=>setTimeout(t,e)),Xu="0.68.0",tP=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function rP(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const nP=()=>{var r;const e=rP();if(e==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Xu,"X-Stainless-OS":iS(Deno.build.os),"X-Stainless-Arch":nS(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((r=Deno.version)==null?void 0:r.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Xu,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(e==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Xu,"X-Stainless-OS":iS(globalThis.process.platform??"unknown"),"X-Stainless-Arch":nS(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const t=iP();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Xu,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Xu,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function iP(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:r}of e){const n=r.exec(navigator.userAgent);if(n){const i=n[1]||0,s=n[2]||0,a=n[3]||0;return{browser:t,version:`${i}.${s}.${a}`}}}return null}const nS=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",iS=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let sS;const sP=()=>sS??(sS=nP());function aP(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new Anthropic({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function z6(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function K6(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return z6({start(){},async pull(r){const{done:n,value:i}=await t.next();n?r.close():r.enqueue(i)},async cancel(){var r;await((r=t.return)==null?void 0:r.call(t))}})}function fB(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const r=await t.read();return r!=null&&r.done&&t.releaseLock(),r}catch(r){throw t.releaseLock(),r}},async return(){const r=t.cancel();return t.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function oP(e){var n,i;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((i=(n=e[Symbol.asyncIterator]()).return)==null?void 0:i.call(n));return}const t=e.getReader(),r=t.cancel();t.releaseLock(),await r}const lP=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});function cP(e){let t=0;for(const i of e)t+=i.length;const r=new Uint8Array(t);let n=0;for(const i of e)r.set(i,n),n+=i.length;return r}let aS;function pB(e){let t;return(aS??(t=new globalThis.TextEncoder,aS=t.encode.bind(t)))(e)}let oS;function lS(e){let t;return(oS??(t=new globalThis.TextDecoder,oS=t.decode.bind(t)))(e)}var za,Ka;class Pp{constructor(){za.set(this,void 0),Ka.set(this,void 0),cr(this,za,new Uint8Array,"f"),cr(this,Ka,null,"f")}decode(t){if(t==null)return[];const r=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?pB(t):t;cr(this,za,cP([At(this,za,"f"),r]),"f");const n=[];let i;for(;(i=AP(At(this,za,"f"),At(this,Ka,"f")))!=null;){if(i.carriage&&At(this,Ka,"f")==null){cr(this,Ka,i.index,"f");continue}if(At(this,Ka,"f")!=null&&(i.index!==At(this,Ka,"f")+1||i.carriage)){n.push(lS(At(this,za,"f").subarray(0,At(this,Ka,"f")-1))),cr(this,za,At(this,za,"f").subarray(At(this,Ka,"f")),"f"),cr(this,Ka,null,"f");continue}const s=At(this,Ka,"f")!==null?i.preceding-1:i.preceding,a=lS(At(this,za,"f").subarray(0,s));n.push(a),cr(this,za,At(this,za,"f").subarray(i.index),"f"),cr(this,Ka,null,"f")}return n}flush(){return At(this,za,"f").length?this.decode(`
`):[]}}za=new WeakMap,Ka=new WeakMap;Pp.NEWLINE_CHARS=new Set([`
`,"\r"]);Pp.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function AP(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function uP(e){for(let n=0;n<e.length-1;n++){if(e[n]===10&&e[n+1]===10||e[n]===13&&e[n+1]===13)return n+2;if(e[n]===13&&e[n+1]===10&&n+3<e.length&&e[n+2]===13&&e[n+3]===10)return n+4}return-1}const Y0={off:0,error:200,warn:300,info:400,debug:500},cS=(e,t,r)=>{if(e){if(JO(Y0,e))return e;sa(r).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Y0))}`)}};function hf(){}function Fm(e,t,r){return!t||Y0[e]>Y0[r]?hf:t[e].bind(t)}const dP={error:hf,warn:hf,info:hf,debug:hf};let AS=new WeakMap;function sa(e){const t=e.logger,r=e.logLevel??"off";if(!t)return dP;const n=AS.get(t);if(n&&n[0]===r)return n[1];const i={error:Fm("error",t,r),warn:Fm("warn",t,r),info:Fm("info",t,r),debug:Fm("debug",t,r)};return AS.set(t,[r,i]),i}const KA=e=>(e.options&&(e.options={...e.options},delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,r])=>[t,t.toLowerCase()==="x-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);var Lh;class Tl{constructor(t,r,n){this.iterator=t,Lh.set(this,void 0),this.controller=r,cr(this,Lh,n,"f")}static fromSSEResponse(t,r,n){let i=!1;const s=n?sa(n):console;async function*a(){if(i)throw new Hr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let o=!1;try{for await(const c of hP(t,r)){if(c.event==="completion")try{yield JSON.parse(c.data)}catch(A){throw s.error("Could not parse message into JSON:",c.data),s.error("From chunk:",c.raw),A}if(c.event==="message_start"||c.event==="message_delta"||c.event==="message_stop"||c.event==="content_block_start"||c.event==="content_block_delta"||c.event==="content_block_stop")try{yield JSON.parse(c.data)}catch(A){throw s.error("Could not parse message into JSON:",c.data),s.error("From chunk:",c.raw),A}if(c.event!=="ping"&&c.event==="error")throw new zs(void 0,H6(c.data)??c.data,void 0,t.headers)}o=!0}catch(c){if(gp(c))return;throw c}finally{o||r.abort()}}return new Tl(a,r,n)}static fromReadableStream(t,r,n){let i=!1;async function*s(){const o=new Pp,c=fB(t);for await(const A of c)for(const d of o.decode(A))yield d;for(const A of o.flush())yield A}async function*a(){if(i)throw new Hr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let o=!1;try{for await(const c of s())o||c&&(yield JSON.parse(c));o=!0}catch(c){if(gp(c))return;throw c}finally{o||r.abort()}}return new Tl(a,r,n)}[(Lh=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const t=[],r=[],n=this.iterator(),i=s=>({next:()=>{if(s.length===0){const a=n.next();t.push(a),r.push(a)}return s.shift()}});return[new Tl(()=>i(t),this.controller,At(this,Lh,"f")),new Tl(()=>i(r),this.controller,At(this,Lh,"f"))]}toReadableStream(){const t=this;let r;return z6({async start(){r=t[Symbol.asyncIterator]()},async pull(n){try{const{value:i,done:s}=await r.next();if(s)return n.close();const a=pB(JSON.stringify(i)+`
`);n.enqueue(a)}catch(i){n.error(i)}},async cancel(){var n;await((n=r.return)==null?void 0:n.call(r))}})}}async function*hP(e,t){if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Hr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Hr("Attempted to iterate over a response with no body");const r=new pP,n=new Pp,i=fB(e.body);for await(const s of fP(i))for(const a of n.decode(s)){const o=r.decode(a);o&&(yield o)}for(const s of n.flush()){const a=r.decode(s);a&&(yield a)}}async function*fP(e){let t=new Uint8Array;for await(const r of e){if(r==null)continue;const n=r instanceof ArrayBuffer?new Uint8Array(r):typeof r=="string"?pB(r):r;let i=new Uint8Array(t.length+n.length);i.set(t),i.set(n,t.length),t=i;let s;for(;(s=uP(t))!==-1;)yield t.slice(0,s),t=t.slice(s)}t.length>0&&(yield t)}class pP{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(t),t.startsWith(":"))return null;let[r,n,i]=mP(t,":");return i.startsWith(" ")&&(i=i.substring(1)),r==="event"?this.event=i:r==="data"&&this.data.push(i),null}}function mP(e,t){const r=e.indexOf(t);return r!==-1?[e.substring(0,r),t,e.substring(r+t.length)]:[e,"",""]}async function q6(e,t){const{response:r,requestLogID:n,retryOfRequestLogID:i,startTime:s}=t,a=await(async()=>{var h;if(t.options.stream)return sa(e).debug("response",r.status,r.url,r.headers,r.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(r,t.controller):Tl.fromSSEResponse(r,t.controller);if(r.status===204)return null;if(t.options.__binaryResponse)return r;const o=r.headers.get("content-type"),c=(h=o==null?void 0:o.split(";")[0])==null?void 0:h.trim();if((c==null?void 0:c.includes("application/json"))||(c==null?void 0:c.endsWith("+json"))){const f=await r.json();return G6(f,r)}return await r.text()})();return sa(e).debug(`[${n}] response parsed`,KA({retryOfRequestLogID:i,url:r.url,status:r.status,body:a,durationMs:Date.now()-s})),a}function G6(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("request-id"),enumerable:!1})}var ff;class Ry extends Promise{constructor(t,r,n=q6){super(i=>{i(null)}),this.responsePromise=r,this.parseResponse=n,ff.set(this,void 0),cr(this,ff,t,"f")}_thenUnwrap(t){return new Ry(At(this,ff,"f"),this.responsePromise,async(r,n)=>G6(t(await this.parseResponse(r,n),n),n.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:r,request_id:r.headers.get("request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(At(this,ff,"f"),t))),this.parsedPromise}then(t,r){return this.parse().then(t,r)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}ff=new WeakMap;var jm;class W6{constructor(t,r,n,i){jm.set(this,void 0),cr(this,jm,t,"f"),this.options=i,this.response=r,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const t=this.nextPageRequestOptions();if(!t)throw new Hr("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await At(this,jm,"f").requestAPIList(this.constructor,t)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(jm=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const r of t.getPaginatedItems())yield r}}class gP extends Ry{constructor(t,r,n){super(t,r,async(i,s)=>new n(i,s.response,await q6(i,s),s.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const r of t)yield r}}let Qp=class extends W6{constructor(t,r,n,i){super(t,r,n,i),this.data=n.data||[],this.has_more=n.has_more||!1,this.first_id=n.first_id||null,this.last_id=n.last_id||null}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){var r;if((r=this.options.query)!=null&&r.before_id){const n=this.first_id;return n?{...this.options,query:{...n2(this.options.query),before_id:n}}:null}const t=this.last_id;return t?{...this.options,query:{...n2(this.options.query),after_id:t}}:null}};class $6 extends W6{constructor(t,r,n,i){super(t,r,n,i),this.data=n.data||[],this.has_more=n.has_more||!1,this.next_page=n.next_page||null}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const t=this.next_page;return t?{...this.options,query:{...n2(this.options.query),page:t}}:null}}const V6=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,r=typeof((e=t==null?void 0:t.versions)==null?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(r?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Td(e,t,r){return V6(),new File(e,t??"unknown_file",r)}function s0(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const X6=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",mB=async(e,t)=>({...e,body:await wP(e.body,t)}),uS=new WeakMap;function yP(e){const t=typeof e=="function"?e:e.fetch,r=uS.get(t);if(r)return r;const n=(async()=>{try{const i="Response"in t?t.Response:(await t("data:,")).constructor,s=new FormData;return s.toString()!==await new i(s).text()}catch{return!0}})();return uS.set(t,n),n}const wP=async(e,t)=>{if(!await yP(t))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const r=new FormData;return await Promise.all(Object.entries(e||{}).map(([n,i])=>i2(r,n,i))),r},bP=e=>e instanceof Blob&&"name"in e,i2=async(e,t,r)=>{if(r!==void 0){if(r==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")e.append(t,String(r));else if(r instanceof Response){let n={};const i=r.headers.get("Content-Type");i&&(n={type:i}),e.append(t,Td([await r.blob()],s0(r),n))}else if(X6(r))e.append(t,Td([await new Response(K6(r)).blob()],s0(r)));else if(bP(r))e.append(t,Td([r],s0(r),{type:r.type}));else if(Array.isArray(r))await Promise.all(r.map(n=>i2(e,t+"[]",n)));else if(typeof r=="object")await Promise.all(Object.entries(r).map(([n,i])=>i2(e,`${t}[${n}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${r} instead`)}},Y6=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",vP=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&Y6(e),xP=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function BP(e,t,r){if(V6(),e=await e,t||(t=s0(e)),vP(e))return e instanceof File&&t==null&&r==null?e:Td([await e.arrayBuffer()],t??e.name,{type:e.type,lastModified:e.lastModified,...r});if(xP(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Td(await s2(i),t,r)}const n=await s2(e);if(!(r!=null&&r.type)){const i=n.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(r={...r,type:i})}return Td(n,t,r)}async function s2(e){var r;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(Y6(e))t.push(e instanceof Blob?e:await e.arrayBuffer());else if(X6(e))for await(const n of e)t.push(...await s2(n));else{const n=(r=e==null?void 0:e.constructor)==null?void 0:r.name;throw new Error(`Unexpected data type: ${typeof e}${n?`; constructor: ${n}`:""}${CP(e)}`)}return t}function CP(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(r=>`"${r}"`).join(", ")}]`}class ol{constructor(t){this._client=t}}const J6=Symbol.for("brand.privateNullableHeaders");function*EP(e){if(!e)return;if(J6 in e){const{values:n,nulls:i}=e;yield*n.entries();for(const s of i)yield[s,null];return}let t=!1,r;e instanceof Headers?r=e.entries():rS(e)?r=e:(t=!0,r=Object.entries(e??{}));for(let n of r){const i=n[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const s=rS(n[1])?n[1]:[n[1]];let a=!1;for(const o of s)o!==void 0&&(t&&!a&&(a=!0,yield[i,null]),yield[i,o])}}const cn=e=>{const t=new Headers,r=new Set;for(const n of e){const i=new Set;for(const[s,a]of EP(n)){const o=s.toLowerCase();i.has(o)||(t.delete(s),i.add(o)),a===null?(t.delete(s),r.add(o)):(t.append(s,a),r.delete(o))}}return{[J6]:!0,values:t,nulls:r}};function Z6(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const dS=Object.freeze(Object.create(null)),SP=(e=Z6)=>function(r,...n){if(r.length===1)return r[0];let i=!1;const s=[],a=r.reduce((d,h,f)=>{var m;/[?#]/.test(h)&&(i=!0);const u=n[f];let g=(i?encodeURIComponent:e)(""+u);return f!==n.length&&(u==null||typeof u=="object"&&u.toString===((m=Object.getPrototypeOf(Object.getPrototypeOf(u.hasOwnProperty??dS)??dS))==null?void 0:m.toString))&&(g=u+"",s.push({start:d.length+h.length,length:g.length,error:`Value of type ${Object.prototype.toString.call(u).slice(8,-1)} is not a valid path parameter`})),d+h+(f===n.length?"":g)},""),o=a.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let A;for(;(A=c.exec(o))!==null;)s.push({start:A.index,length:A[0].length,error:`Value "${A[0]}" can't be safely passed as a path parameter`});if(s.sort((d,h)=>d.start-h.start),s.length>0){let d=0;const h=s.reduce((f,u)=>{const g=" ".repeat(u.start-d),m="^".repeat(u.length);return d=u.start+u.length,f+g+m},"");throw new Hr(`Path parameters result in path with invalid segments:
${s.map(f=>f.error).join(`
`)}
${a}
${h}`)}return a},vs=SP(Z6);class eF extends ol{list(t={},r){const{betas:n,...i}=t??{};return this._client.getAPIList("/v1/files",Qp,{query:i,...r,headers:cn([{"anthropic-beta":[...n??[],"files-api-2025-04-14"].toString()},r==null?void 0:r.headers])})}delete(t,r={},n){const{betas:i}=r??{};return this._client.delete(vs`/v1/files/${t}`,{...n,headers:cn([{"anthropic-beta":[...i??[],"files-api-2025-04-14"].toString()},n==null?void 0:n.headers])})}download(t,r={},n){const{betas:i}=r??{};return this._client.get(vs`/v1/files/${t}/content`,{...n,headers:cn([{"anthropic-beta":[...i??[],"files-api-2025-04-14"].toString(),Accept:"application/binary"},n==null?void 0:n.headers]),__binaryResponse:!0})}retrieveMetadata(t,r={},n){const{betas:i}=r??{};return this._client.get(vs`/v1/files/${t}`,{...n,headers:cn([{"anthropic-beta":[...i??[],"files-api-2025-04-14"].toString()},n==null?void 0:n.headers])})}upload(t,r){const{betas:n,...i}=t;return this._client.post("/v1/files",mB({body:i,...r,headers:cn([{"anthropic-beta":[...n??[],"files-api-2025-04-14"].toString()},r==null?void 0:r.headers])},this._client))}}let tF=class extends ol{retrieve(t,r={},n){const{betas:i}=r??{};return this._client.get(vs`/v1/models/${t}?beta=true`,{...n,headers:cn([{...(i==null?void 0:i.toString())!=null?{"anthropic-beta":i==null?void 0:i.toString()}:void 0},n==null?void 0:n.headers])})}list(t={},r){const{betas:n,...i}=t??{};return this._client.getAPIList("/v1/models?beta=true",Qp,{query:i,...r,headers:cn([{...(n==null?void 0:n.toString())!=null?{"anthropic-beta":n==null?void 0:n.toString()}:void 0},r==null?void 0:r.headers])})}};class Oy{constructor(t,r){this.iterator=t,this.controller=r}async*decoder(){const t=new Pp;for await(const r of this.iterator)for(const n of t.decode(r))yield JSON.parse(n);for(const r of t.flush())yield JSON.parse(r)}[Symbol.asyncIterator](){return this.decoder()}static fromResponse(t,r){if(!t.body)throw r.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Hr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Hr("Attempted to iterate over a response with no body");return new Oy(fB(t.body),r)}}let rF=class extends ol{create(t,r){const{betas:n,...i}=t;return this._client.post("/v1/messages/batches?beta=true",{body:i,...r,headers:cn([{"anthropic-beta":[...n??[],"message-batches-2024-09-24"].toString()},r==null?void 0:r.headers])})}retrieve(t,r={},n){const{betas:i}=r??{};return this._client.get(vs`/v1/messages/batches/${t}?beta=true`,{...n,headers:cn([{"anthropic-beta":[...i??[],"message-batches-2024-09-24"].toString()},n==null?void 0:n.headers])})}list(t={},r){const{betas:n,...i}=t??{};return this._client.getAPIList("/v1/messages/batches?beta=true",Qp,{query:i,...r,headers:cn([{"anthropic-beta":[...n??[],"message-batches-2024-09-24"].toString()},r==null?void 0:r.headers])})}delete(t,r={},n){const{betas:i}=r??{};return this._client.delete(vs`/v1/messages/batches/${t}?beta=true`,{...n,headers:cn([{"anthropic-beta":[...i??[],"message-batches-2024-09-24"].toString()},n==null?void 0:n.headers])})}cancel(t,r={},n){const{betas:i}=r??{};return this._client.post(vs`/v1/messages/batches/${t}/cancel?beta=true`,{...n,headers:cn([{"anthropic-beta":[...i??[],"message-batches-2024-09-24"].toString()},n==null?void 0:n.headers])})}async results(t,r={},n){const i=await this.retrieve(t);if(!i.results_url)throw new Hr(`No batch \`results_url\`; Has it finished processing? ${i.processing_status} - ${i.id}`);const{betas:s}=r??{};return this._client.get(i.results_url,{...n,headers:cn([{"anthropic-beta":[...s??[],"message-batches-2024-09-24"].toString(),Accept:"application/binary"},n==null?void 0:n.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap((a,o)=>Oy.fromResponse(o.response,o.controller))}};const _P=e=>{let t=0,r=[];for(;t<e.length;){let n=e[t];if(n==="\\"){t++;continue}if(n==="{"){r.push({type:"brace",value:"{"}),t++;continue}if(n==="}"){r.push({type:"brace",value:"}"}),t++;continue}if(n==="["){r.push({type:"paren",value:"["}),t++;continue}if(n==="]"){r.push({type:"paren",value:"]"}),t++;continue}if(n===":"){r.push({type:"separator",value:":"}),t++;continue}if(n===","){r.push({type:"delimiter",value:","}),t++;continue}if(n==='"'){let o="",c=!1;for(n=e[++t];n!=='"';){if(t===e.length){c=!0;break}if(n==="\\"){if(t++,t===e.length){c=!0;break}o+=n+e[t],n=e[++t]}else o+=n,n=e[++t]}n=e[++t],c||r.push({type:"string",value:o});continue}if(n&&/\s/.test(n)){t++;continue}let s=/[0-9]/;if(n&&s.test(n)||n==="-"||n==="."){let o="";for(n==="-"&&(o+=n,n=e[++t]);n&&s.test(n)||n===".";)o+=n,n=e[++t];r.push({type:"number",value:o});continue}let a=/[a-z]/i;if(n&&a.test(n)){let o="";for(;n&&a.test(n)&&t!==e.length;)o+=n,n=e[++t];if(o=="true"||o=="false"||o==="null")r.push({type:"name",value:o});else{t++;continue}continue}t++}return r},Yu=e=>{if(e.length===0)return e;let t=e[e.length-1];switch(t.type){case"separator":return e=e.slice(0,e.length-1),Yu(e);case"number":let r=t.value[t.value.length-1];if(r==="."||r==="-")return e=e.slice(0,e.length-1),Yu(e);case"string":let n=e[e.length-2];if((n==null?void 0:n.type)==="delimiter")return e=e.slice(0,e.length-1),Yu(e);if((n==null?void 0:n.type)==="brace"&&n.value==="{")return e=e.slice(0,e.length-1),Yu(e);break;case"delimiter":return e=e.slice(0,e.length-1),Yu(e)}return e},NP=e=>{let t=[];return e.map(r=>{r.type==="brace"&&(r.value==="{"?t.push("}"):t.splice(t.lastIndexOf("}"),1)),r.type==="paren"&&(r.value==="["?t.push("]"):t.splice(t.lastIndexOf("]"),1))}),t.length>0&&t.reverse().map(r=>{r==="}"?e.push({type:"brace",value:"}"}):r==="]"&&e.push({type:"paren",value:"]"})}),e},kP=e=>{let t="";return e.map(r=>{switch(r.type){case"string":t+='"'+r.value+'"';break;default:t+=r.value;break}}),t},nF=e=>JSON.parse(kP(NP(Yu(_P(e)))));var yo,Mc,Dh,Um,Rh,Oh,Lm,Ph,tc,Qh,Dm,Rm,Fu,Om,Pm,e1,hS,Qm,t1,r1,n1,fS;const pS="__json_buf";function mS(e){return e.type==="tool_use"||e.type==="server_tool_use"||e.type==="mcp_tool_use"}class J0{constructor(){yo.add(this),this.messages=[],this.receivedMessages=[],Mc.set(this,void 0),this.controller=new AbortController,Dh.set(this,void 0),Um.set(this,()=>{}),Rh.set(this,()=>{}),Oh.set(this,void 0),Lm.set(this,()=>{}),Ph.set(this,()=>{}),tc.set(this,{}),Qh.set(this,!1),Dm.set(this,!1),Rm.set(this,!1),Fu.set(this,!1),Om.set(this,void 0),Pm.set(this,void 0),Qm.set(this,t=>{if(cr(this,Dm,!0,"f"),gp(t)&&(t=new tl),t instanceof tl)return cr(this,Rm,!0,"f"),this._emit("abort",t);if(t instanceof Hr)return this._emit("error",t);if(t instanceof Error){const r=new Hr(t.message);return r.cause=t,this._emit("error",r)}return this._emit("error",new Hr(String(t)))}),cr(this,Dh,new Promise((t,r)=>{cr(this,Um,t,"f"),cr(this,Rh,r,"f")}),"f"),cr(this,Oh,new Promise((t,r)=>{cr(this,Lm,t,"f"),cr(this,Ph,r,"f")}),"f"),At(this,Dh,"f").catch(()=>{}),At(this,Oh,"f").catch(()=>{})}get response(){return At(this,Om,"f")}get request_id(){return At(this,Pm,"f")}async withResponse(){const t=await At(this,Dh,"f");if(!t)throw new Error("Could not resolve a `Response` object");return{data:this,response:t,request_id:t.headers.get("request-id")}}static fromReadableStream(t){const r=new J0;return r._run(()=>r._fromReadableStream(t)),r}static createMessage(t,r,n){const i=new J0;for(const s of r.messages)i._addMessageParam(s);return i._run(()=>i._createMessage(t,{...r,stream:!0},{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),i}_run(t){t().then(()=>{this._emitFinal(),this._emit("end")},At(this,Qm,"f"))}_addMessageParam(t){this.messages.push(t)}_addMessage(t,r=!0){this.receivedMessages.push(t),r&&this._emit("message",t)}async _createMessage(t,r,n){var a;const i=n==null?void 0:n.signal;let s;i&&(i.aborted&&this.controller.abort(),s=this.controller.abort.bind(this.controller),i.addEventListener("abort",s));try{At(this,yo,"m",t1).call(this);const{response:o,data:c}=await t.create({...r,stream:!0},{...n,signal:this.controller.signal}).withResponse();this._connected(o);for await(const A of c)At(this,yo,"m",r1).call(this,A);if((a=c.controller.signal)!=null&&a.aborted)throw new tl;At(this,yo,"m",n1).call(this)}finally{i&&s&&i.removeEventListener("abort",s)}}_connected(t){this.ended||(cr(this,Om,t,"f"),cr(this,Pm,t==null?void 0:t.headers.get("request-id"),"f"),At(this,Um,"f").call(this,t),this._emit("connect"))}get ended(){return At(this,Qh,"f")}get errored(){return At(this,Dm,"f")}get aborted(){return At(this,Rm,"f")}abort(){this.controller.abort()}on(t,r){return(At(this,tc,"f")[t]||(At(this,tc,"f")[t]=[])).push({listener:r}),this}off(t,r){const n=At(this,tc,"f")[t];if(!n)return this;const i=n.findIndex(s=>s.listener===r);return i>=0&&n.splice(i,1),this}once(t,r){return(At(this,tc,"f")[t]||(At(this,tc,"f")[t]=[])).push({listener:r,once:!0}),this}emitted(t){return new Promise((r,n)=>{cr(this,Fu,!0,"f"),t!=="error"&&this.once("error",n),this.once(t,r)})}async done(){cr(this,Fu,!0,"f"),await At(this,Oh,"f")}get currentMessage(){return At(this,Mc,"f")}async finalMessage(){return await this.done(),At(this,yo,"m",e1).call(this)}async finalText(){return await this.done(),At(this,yo,"m",hS).call(this)}_emit(t,...r){if(At(this,Qh,"f"))return;t==="end"&&(cr(this,Qh,!0,"f"),At(this,Lm,"f").call(this));const n=At(this,tc,"f")[t];if(n&&(At(this,tc,"f")[t]=n.filter(i=>!i.once),n.forEach(({listener:i})=>i(...r))),t==="abort"){const i=r[0];!At(this,Fu,"f")&&!(n!=null&&n.length)&&Promise.reject(i),At(this,Rh,"f").call(this,i),At(this,Ph,"f").call(this,i),this._emit("end");return}if(t==="error"){const i=r[0];!At(this,Fu,"f")&&!(n!=null&&n.length)&&Promise.reject(i),At(this,Rh,"f").call(this,i),At(this,Ph,"f").call(this,i),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",At(this,yo,"m",e1).call(this))}async _fromReadableStream(t,r){var s;const n=r==null?void 0:r.signal;let i;n&&(n.aborted&&this.controller.abort(),i=this.controller.abort.bind(this.controller),n.addEventListener("abort",i));try{At(this,yo,"m",t1).call(this),this._connected(null);const a=Tl.fromReadableStream(t,this.controller);for await(const o of a)At(this,yo,"m",r1).call(this,o);if((s=a.controller.signal)!=null&&s.aborted)throw new tl;At(this,yo,"m",n1).call(this)}finally{n&&i&&n.removeEventListener("abort",i)}}[(Mc=new WeakMap,Dh=new WeakMap,Um=new WeakMap,Rh=new WeakMap,Oh=new WeakMap,Lm=new WeakMap,Ph=new WeakMap,tc=new WeakMap,Qh=new WeakMap,Dm=new WeakMap,Rm=new WeakMap,Fu=new WeakMap,Om=new WeakMap,Pm=new WeakMap,Qm=new WeakMap,yo=new WeakSet,e1=function(){if(this.receivedMessages.length===0)throw new Hr("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},hS=function(){if(this.receivedMessages.length===0)throw new Hr("stream ended without producing a Message with role=assistant");const r=this.receivedMessages.at(-1).content.filter(n=>n.type==="text").map(n=>n.text);if(r.length===0)throw new Hr("stream ended without producing a content block with type=text");return r.join(" ")},t1=function(){this.ended||cr(this,Mc,void 0,"f")},r1=function(r){if(this.ended)return;const n=At(this,yo,"m",fS).call(this,r);switch(this._emit("streamEvent",r,n),r.type){case"content_block_delta":{const i=n.content.at(-1);switch(r.delta.type){case"text_delta":{i.type==="text"&&this._emit("text",r.delta.text,i.text||"");break}case"citations_delta":{i.type==="text"&&this._emit("citation",r.delta.citation,i.citations??[]);break}case"input_json_delta":{mS(i)&&i.input&&this._emit("inputJson",r.delta.partial_json,i.input);break}case"thinking_delta":{i.type==="thinking"&&this._emit("thinking",r.delta.thinking,i.thinking);break}case"signature_delta":{i.type==="thinking"&&this._emit("signature",i.signature);break}default:r.delta}break}case"message_stop":{this._addMessageParam(n),this._addMessage(n,!0);break}case"content_block_stop":{this._emit("contentBlock",n.content.at(-1));break}case"message_start":{cr(this,Mc,n,"f");break}}},n1=function(){if(this.ended)throw new Hr("stream has ended, this shouldn't happen");const r=At(this,Mc,"f");if(!r)throw new Hr("request ended without sending any chunks");return cr(this,Mc,void 0,"f"),r},fS=function(r){let n=At(this,Mc,"f");if(r.type==="message_start"){if(n)throw new Hr(`Unexpected event order, got ${r.type} before receiving "message_stop"`);return r.message}if(!n)throw new Hr(`Unexpected event order, got ${r.type} before "message_start"`);switch(r.type){case"message_stop":return n;case"message_delta":return n.container=r.delta.container,n.stop_reason=r.delta.stop_reason,n.stop_sequence=r.delta.stop_sequence,n.usage.output_tokens=r.usage.output_tokens,n.context_management=r.context_management,r.usage.input_tokens!=null&&(n.usage.input_tokens=r.usage.input_tokens),r.usage.cache_creation_input_tokens!=null&&(n.usage.cache_creation_input_tokens=r.usage.cache_creation_input_tokens),r.usage.cache_read_input_tokens!=null&&(n.usage.cache_read_input_tokens=r.usage.cache_read_input_tokens),r.usage.server_tool_use!=null&&(n.usage.server_tool_use=r.usage.server_tool_use),n;case"content_block_start":return n.content.push(r.content_block),n;case"content_block_delta":{const i=n.content.at(r.index);switch(r.delta.type){case"text_delta":{(i==null?void 0:i.type)==="text"&&(n.content[r.index]={...i,text:(i.text||"")+r.delta.text});break}case"citations_delta":{(i==null?void 0:i.type)==="text"&&(n.content[r.index]={...i,citations:[...i.citations??[],r.delta.citation]});break}case"input_json_delta":{if(i&&mS(i)){let s=i[pS]||"";s+=r.delta.partial_json;const a={...i};if(Object.defineProperty(a,pS,{value:s,enumerable:!1,writable:!0}),s)try{a.input=nF(s)}catch(o){const c=new Hr(`Unable to parse tool parameter JSON from model. Please retry your request or adjust your prompt. Error: ${o}. JSON: ${s}`);At(this,Qm,"f").call(this,c)}n.content[r.index]=a}break}case"thinking_delta":{(i==null?void 0:i.type)==="thinking"&&(n.content[r.index]={...i,thinking:i.thinking+r.delta.thinking});break}case"signature_delta":{(i==null?void 0:i.type)==="thinking"&&(n.content[r.index]={...i,signature:r.delta.signature});break}default:r.delta}return n}case"content_block_stop":return n}},Symbol.asyncIterator)](){const t=[],r=[];let n=!1;return this.on("streamEvent",i=>{const s=r.shift();s?s.resolve(i):t.push(i)}),this.on("end",()=>{n=!0;for(const i of r)i.resolve(void 0);r.length=0}),this.on("abort",i=>{n=!0;for(const s of r)s.reject(i);r.length=0}),this.on("error",i=>{n=!0;for(const s of r)s.reject(i);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((s,a)=>r.push({resolve:s,reject:a})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Tl(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}const iF={"claude-opus-4-20250514":8192,"claude-opus-4-0":8192,"claude-4-opus-20250514":8192,"anthropic.claude-opus-4-20250514-v1:0":8192,"claude-opus-4@20250514":8192,"claude-opus-4-1-20250805":8192,"anthropic.claude-opus-4-1-20250805-v1:0":8192,"claude-opus-4-1@20250805":8192};var Mm,ju,DA,ba,Mh,Go,fc,Hc,Hh,a2;function gS(){let e,t;return{promise:new Promise((n,i)=>{e=n,t=i}),resolve:e,reject:t}}class sF{constructor(t,r,n){Mm.add(this),this.client=t,ju.set(this,!1),DA.set(this,!1),ba.set(this,void 0),Mh.set(this,void 0),Go.set(this,void 0),fc.set(this,void 0),Hc.set(this,void 0),Hh.set(this,0),cr(this,ba,{params:{...r,messages:structuredClone(r.messages)}},"f"),cr(this,Mh,{...n,headers:cn([{"x-stainless-helper":"BetaToolRunner"},n==null?void 0:n.headers])},"f"),cr(this,Hc,gS(),"f")}async*[(ju=new WeakMap,DA=new WeakMap,ba=new WeakMap,Mh=new WeakMap,Go=new WeakMap,fc=new WeakMap,Hc=new WeakMap,Hh=new WeakMap,Mm=new WeakSet,Symbol.asyncIterator)](){var t;if(At(this,ju,"f"))throw new Hr("Cannot iterate over a consumed stream");cr(this,ju,!0,"f"),cr(this,DA,!0,"f"),cr(this,fc,void 0,"f");try{for(;;){let r;try{if(At(this,ba,"f").params.max_iterations&&At(this,Hh,"f")>=At(this,ba,"f").params.max_iterations)break;cr(this,DA,!1,"f"),cr(this,Go,void 0,"f"),cr(this,fc,void 0,"f"),cr(this,Hh,(t=At(this,Hh,"f"),t++,t),"f");const{max_iterations:n,...i}=At(this,ba,"f").params;if(i.stream?(r=this.client.beta.messages.stream({...i},At(this,Mh,"f")),cr(this,Go,r.finalMessage(),"f"),At(this,Go,"f").catch(()=>{}),yield r):(cr(this,Go,this.client.beta.messages.create({...i,stream:!1},At(this,Mh,"f")),"f"),yield At(this,Go,"f")),!At(this,DA,"f")){const{role:a,content:o}=await At(this,Go,"f");At(this,ba,"f").params.messages.push({role:a,content:o})}const s=await At(this,Mm,"m",a2).call(this,At(this,ba,"f").params.messages.at(-1));if(s&&At(this,ba,"f").params.messages.push(s),!s&&!At(this,DA,"f"))break}finally{r&&r.abort()}}if(!At(this,Go,"f"))throw new Hr("ToolRunner concluded without a message from the server");At(this,Hc,"f").resolve(await At(this,Go,"f"))}catch(r){throw cr(this,ju,!1,"f"),At(this,Hc,"f").promise.catch(()=>{}),At(this,Hc,"f").reject(r),cr(this,Hc,gS(),"f"),r}}setMessagesParams(t){typeof t=="function"?At(this,ba,"f").params=t(At(this,ba,"f").params):At(this,ba,"f").params=t,cr(this,DA,!0,"f"),cr(this,fc,void 0,"f")}async generateToolResponse(){const t=await At(this,Go,"f")??this.params.messages.at(-1);return t?At(this,Mm,"m",a2).call(this,t):null}done(){return At(this,Hc,"f").promise}async runUntilDone(){if(!At(this,ju,"f"))for await(const t of this);return this.done()}get params(){return At(this,ba,"f").params}pushMessages(...t){this.setMessagesParams(r=>({...r,messages:[...r.messages,...t]}))}then(t,r){return this.runUntilDone().then(t,r)}}a2=async function(t){return At(this,fc,"f")!==void 0?At(this,fc,"f"):(cr(this,fc,IP(At(this,ba,"f").params,t),"f"),At(this,fc,"f"))};async function IP(e,t=e.messages.at(-1)){if(!t||t.role!=="assistant"||!t.content||typeof t.content=="string")return null;const r=t.content.filter(i=>i.type==="tool_use");return r.length===0?null:{role:"user",content:await Promise.all(r.map(async i=>{const s=e.tools.find(a=>a.name===i.name);if(!s||!("run"in s))return{type:"tool_result",tool_use_id:i.id,content:`Error: Tool '${i.name}' not found`,is_error:!0};try{let a=i.input;"parse"in s&&s.parse&&(a=s.parse(a));const o=await s.run(a);return{type:"tool_result",tool_use_id:i.id,content:o}}catch(a){return{type:"tool_result",tool_use_id:i.id,content:`Error: ${a instanceof Error?a.message:String(a)}`,is_error:!0}}}))}}const yS={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025","claude-3-7-sonnet-latest":"February 19th, 2026","claude-3-7-sonnet-20250219":"February 19th, 2026"};let Py=class extends ol{constructor(){super(...arguments),this.batches=new rF(this._client)}create(t,r){const{betas:n,...i}=t;i.model in yS&&console.warn(`The model '${i.model}' is deprecated and will reach end-of-life on ${yS[i.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let s=this._client._options.timeout;if(!i.stream&&s==null){const a=iF[i.model]??void 0;s=this._client.calculateNonstreamingTimeout(i.max_tokens,a)}return this._client.post("/v1/messages?beta=true",{body:i,timeout:s??6e5,...r,headers:cn([{...(n==null?void 0:n.toString())!=null?{"anthropic-beta":n==null?void 0:n.toString()}:void 0},r==null?void 0:r.headers]),stream:t.stream??!1})}stream(t,r){return J0.createMessage(this,t,r)}countTokens(t,r){const{betas:n,...i}=t;return this._client.post("/v1/messages/count_tokens?beta=true",{body:i,...r,headers:cn([{"anthropic-beta":[...n??[],"token-counting-2024-11-01"].toString()},r==null?void 0:r.headers])})}toolRunner(t,r){return new sF(this._client,t,r)}};Py.Batches=rF;Py.BetaToolRunner=sF;class aF extends ol{create(t,r={},n){const{betas:i,...s}=r??{};return this._client.post(vs`/v1/skills/${t}/versions?beta=true`,mB({body:s,...n,headers:cn([{"anthropic-beta":[...i??[],"skills-2025-10-02"].toString()},n==null?void 0:n.headers])},this._client))}retrieve(t,r,n){const{skill_id:i,betas:s}=r;return this._client.get(vs`/v1/skills/${i}/versions/${t}?beta=true`,{...n,headers:cn([{"anthropic-beta":[...s??[],"skills-2025-10-02"].toString()},n==null?void 0:n.headers])})}list(t,r={},n){const{betas:i,...s}=r??{};return this._client.getAPIList(vs`/v1/skills/${t}/versions?beta=true`,$6,{query:s,...n,headers:cn([{"anthropic-beta":[...i??[],"skills-2025-10-02"].toString()},n==null?void 0:n.headers])})}delete(t,r,n){const{skill_id:i,betas:s}=r;return this._client.delete(vs`/v1/skills/${i}/versions/${t}?beta=true`,{...n,headers:cn([{"anthropic-beta":[...s??[],"skills-2025-10-02"].toString()},n==null?void 0:n.headers])})}}class gB extends ol{constructor(){super(...arguments),this.versions=new aF(this._client)}create(t={},r){const{betas:n,...i}=t??{};return this._client.post("/v1/skills?beta=true",mB({body:i,...r,headers:cn([{"anthropic-beta":[...n??[],"skills-2025-10-02"].toString()},r==null?void 0:r.headers])},this._client))}retrieve(t,r={},n){const{betas:i}=r??{};return this._client.get(vs`/v1/skills/${t}?beta=true`,{...n,headers:cn([{"anthropic-beta":[...i??[],"skills-2025-10-02"].toString()},n==null?void 0:n.headers])})}list(t={},r){const{betas:n,...i}=t??{};return this._client.getAPIList("/v1/skills?beta=true",$6,{query:i,...r,headers:cn([{"anthropic-beta":[...n??[],"skills-2025-10-02"].toString()},r==null?void 0:r.headers])})}delete(t,r={},n){const{betas:i}=r??{};return this._client.delete(vs`/v1/skills/${t}?beta=true`,{...n,headers:cn([{"anthropic-beta":[...i??[],"skills-2025-10-02"].toString()},n==null?void 0:n.headers])})}}gB.Versions=aF;class hh extends ol{constructor(){super(...arguments),this.models=new tF(this._client),this.messages=new Py(this._client),this.files=new eF(this._client),this.skills=new gB(this._client)}}hh.Models=tF;hh.Messages=Py;hh.Files=eF;hh.Skills=gB;class oF extends ol{create(t,r){const{betas:n,...i}=t;return this._client.post("/v1/complete",{body:i,timeout:this._client._options.timeout??6e5,...r,headers:cn([{...(n==null?void 0:n.toString())!=null?{"anthropic-beta":n==null?void 0:n.toString()}:void 0},r==null?void 0:r.headers]),stream:t.stream??!1})}}var wo,zc,zh,Hm,Kh,qh,zm,Gh,rc,Wh,Km,qm,Uu,Gm,Wm,i1,wS,s1,a1,o1,l1,bS;const vS="__json_buf";function xS(e){return e.type==="tool_use"||e.type==="server_tool_use"}class Z0{constructor(){wo.add(this),this.messages=[],this.receivedMessages=[],zc.set(this,void 0),this.controller=new AbortController,zh.set(this,void 0),Hm.set(this,()=>{}),Kh.set(this,()=>{}),qh.set(this,void 0),zm.set(this,()=>{}),Gh.set(this,()=>{}),rc.set(this,{}),Wh.set(this,!1),Km.set(this,!1),qm.set(this,!1),Uu.set(this,!1),Gm.set(this,void 0),Wm.set(this,void 0),s1.set(this,t=>{if(cr(this,Km,!0,"f"),gp(t)&&(t=new tl),t instanceof tl)return cr(this,qm,!0,"f"),this._emit("abort",t);if(t instanceof Hr)return this._emit("error",t);if(t instanceof Error){const r=new Hr(t.message);return r.cause=t,this._emit("error",r)}return this._emit("error",new Hr(String(t)))}),cr(this,zh,new Promise((t,r)=>{cr(this,Hm,t,"f"),cr(this,Kh,r,"f")}),"f"),cr(this,qh,new Promise((t,r)=>{cr(this,zm,t,"f"),cr(this,Gh,r,"f")}),"f"),At(this,zh,"f").catch(()=>{}),At(this,qh,"f").catch(()=>{})}get response(){return At(this,Gm,"f")}get request_id(){return At(this,Wm,"f")}async withResponse(){const t=await At(this,zh,"f");if(!t)throw new Error("Could not resolve a `Response` object");return{data:this,response:t,request_id:t.headers.get("request-id")}}static fromReadableStream(t){const r=new Z0;return r._run(()=>r._fromReadableStream(t)),r}static createMessage(t,r,n){const i=new Z0;for(const s of r.messages)i._addMessageParam(s);return i._run(()=>i._createMessage(t,{...r,stream:!0},{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),i}_run(t){t().then(()=>{this._emitFinal(),this._emit("end")},At(this,s1,"f"))}_addMessageParam(t){this.messages.push(t)}_addMessage(t,r=!0){this.receivedMessages.push(t),r&&this._emit("message",t)}async _createMessage(t,r,n){var a;const i=n==null?void 0:n.signal;let s;i&&(i.aborted&&this.controller.abort(),s=this.controller.abort.bind(this.controller),i.addEventListener("abort",s));try{At(this,wo,"m",a1).call(this);const{response:o,data:c}=await t.create({...r,stream:!0},{...n,signal:this.controller.signal}).withResponse();this._connected(o);for await(const A of c)At(this,wo,"m",o1).call(this,A);if((a=c.controller.signal)!=null&&a.aborted)throw new tl;At(this,wo,"m",l1).call(this)}finally{i&&s&&i.removeEventListener("abort",s)}}_connected(t){this.ended||(cr(this,Gm,t,"f"),cr(this,Wm,t==null?void 0:t.headers.get("request-id"),"f"),At(this,Hm,"f").call(this,t),this._emit("connect"))}get ended(){return At(this,Wh,"f")}get errored(){return At(this,Km,"f")}get aborted(){return At(this,qm,"f")}abort(){this.controller.abort()}on(t,r){return(At(this,rc,"f")[t]||(At(this,rc,"f")[t]=[])).push({listener:r}),this}off(t,r){const n=At(this,rc,"f")[t];if(!n)return this;const i=n.findIndex(s=>s.listener===r);return i>=0&&n.splice(i,1),this}once(t,r){return(At(this,rc,"f")[t]||(At(this,rc,"f")[t]=[])).push({listener:r,once:!0}),this}emitted(t){return new Promise((r,n)=>{cr(this,Uu,!0,"f"),t!=="error"&&this.once("error",n),this.once(t,r)})}async done(){cr(this,Uu,!0,"f"),await At(this,qh,"f")}get currentMessage(){return At(this,zc,"f")}async finalMessage(){return await this.done(),At(this,wo,"m",i1).call(this)}async finalText(){return await this.done(),At(this,wo,"m",wS).call(this)}_emit(t,...r){if(At(this,Wh,"f"))return;t==="end"&&(cr(this,Wh,!0,"f"),At(this,zm,"f").call(this));const n=At(this,rc,"f")[t];if(n&&(At(this,rc,"f")[t]=n.filter(i=>!i.once),n.forEach(({listener:i})=>i(...r))),t==="abort"){const i=r[0];!At(this,Uu,"f")&&!(n!=null&&n.length)&&Promise.reject(i),At(this,Kh,"f").call(this,i),At(this,Gh,"f").call(this,i),this._emit("end");return}if(t==="error"){const i=r[0];!At(this,Uu,"f")&&!(n!=null&&n.length)&&Promise.reject(i),At(this,Kh,"f").call(this,i),At(this,Gh,"f").call(this,i),this._emit("end")}}_emitFinal(){this.receivedMessages.at(-1)&&this._emit("finalMessage",At(this,wo,"m",i1).call(this))}async _fromReadableStream(t,r){var s;const n=r==null?void 0:r.signal;let i;n&&(n.aborted&&this.controller.abort(),i=this.controller.abort.bind(this.controller),n.addEventListener("abort",i));try{At(this,wo,"m",a1).call(this),this._connected(null);const a=Tl.fromReadableStream(t,this.controller);for await(const o of a)At(this,wo,"m",o1).call(this,o);if((s=a.controller.signal)!=null&&s.aborted)throw new tl;At(this,wo,"m",l1).call(this)}finally{n&&i&&n.removeEventListener("abort",i)}}[(zc=new WeakMap,zh=new WeakMap,Hm=new WeakMap,Kh=new WeakMap,qh=new WeakMap,zm=new WeakMap,Gh=new WeakMap,rc=new WeakMap,Wh=new WeakMap,Km=new WeakMap,qm=new WeakMap,Uu=new WeakMap,Gm=new WeakMap,Wm=new WeakMap,s1=new WeakMap,wo=new WeakSet,i1=function(){if(this.receivedMessages.length===0)throw new Hr("stream ended without producing a Message with role=assistant");return this.receivedMessages.at(-1)},wS=function(){if(this.receivedMessages.length===0)throw new Hr("stream ended without producing a Message with role=assistant");const r=this.receivedMessages.at(-1).content.filter(n=>n.type==="text").map(n=>n.text);if(r.length===0)throw new Hr("stream ended without producing a content block with type=text");return r.join(" ")},a1=function(){this.ended||cr(this,zc,void 0,"f")},o1=function(r){if(this.ended)return;const n=At(this,wo,"m",bS).call(this,r);switch(this._emit("streamEvent",r,n),r.type){case"content_block_delta":{const i=n.content.at(-1);switch(r.delta.type){case"text_delta":{i.type==="text"&&this._emit("text",r.delta.text,i.text||"");break}case"citations_delta":{i.type==="text"&&this._emit("citation",r.delta.citation,i.citations??[]);break}case"input_json_delta":{xS(i)&&i.input&&this._emit("inputJson",r.delta.partial_json,i.input);break}case"thinking_delta":{i.type==="thinking"&&this._emit("thinking",r.delta.thinking,i.thinking);break}case"signature_delta":{i.type==="thinking"&&this._emit("signature",i.signature);break}default:r.delta}break}case"message_stop":{this._addMessageParam(n),this._addMessage(n,!0);break}case"content_block_stop":{this._emit("contentBlock",n.content.at(-1));break}case"message_start":{cr(this,zc,n,"f");break}}},l1=function(){if(this.ended)throw new Hr("stream has ended, this shouldn't happen");const r=At(this,zc,"f");if(!r)throw new Hr("request ended without sending any chunks");return cr(this,zc,void 0,"f"),r},bS=function(r){let n=At(this,zc,"f");if(r.type==="message_start"){if(n)throw new Hr(`Unexpected event order, got ${r.type} before receiving "message_stop"`);return r.message}if(!n)throw new Hr(`Unexpected event order, got ${r.type} before "message_start"`);switch(r.type){case"message_stop":return n;case"message_delta":return n.stop_reason=r.delta.stop_reason,n.stop_sequence=r.delta.stop_sequence,n.usage.output_tokens=r.usage.output_tokens,r.usage.input_tokens!=null&&(n.usage.input_tokens=r.usage.input_tokens),r.usage.cache_creation_input_tokens!=null&&(n.usage.cache_creation_input_tokens=r.usage.cache_creation_input_tokens),r.usage.cache_read_input_tokens!=null&&(n.usage.cache_read_input_tokens=r.usage.cache_read_input_tokens),r.usage.server_tool_use!=null&&(n.usage.server_tool_use=r.usage.server_tool_use),n;case"content_block_start":return n.content.push({...r.content_block}),n;case"content_block_delta":{const i=n.content.at(r.index);switch(r.delta.type){case"text_delta":{(i==null?void 0:i.type)==="text"&&(n.content[r.index]={...i,text:(i.text||"")+r.delta.text});break}case"citations_delta":{(i==null?void 0:i.type)==="text"&&(n.content[r.index]={...i,citations:[...i.citations??[],r.delta.citation]});break}case"input_json_delta":{if(i&&xS(i)){let s=i[vS]||"";s+=r.delta.partial_json;const a={...i};Object.defineProperty(a,vS,{value:s,enumerable:!1,writable:!0}),s&&(a.input=nF(s)),n.content[r.index]=a}break}case"thinking_delta":{(i==null?void 0:i.type)==="thinking"&&(n.content[r.index]={...i,thinking:i.thinking+r.delta.thinking});break}case"signature_delta":{(i==null?void 0:i.type)==="thinking"&&(n.content[r.index]={...i,signature:r.delta.signature});break}default:r.delta}return n}case"content_block_stop":return n}},Symbol.asyncIterator)](){const t=[],r=[];let n=!1;return this.on("streamEvent",i=>{const s=r.shift();s?s.resolve(i):t.push(i)}),this.on("end",()=>{n=!0;for(const i of r)i.resolve(void 0);r.length=0}),this.on("abort",i=>{n=!0;for(const s of r)s.reject(i);r.length=0}),this.on("error",i=>{n=!0;for(const s of r)s.reject(i);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((s,a)=>r.push({resolve:s,reject:a})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Tl(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}class lF extends ol{create(t,r){return this._client.post("/v1/messages/batches",{body:t,...r})}retrieve(t,r){return this._client.get(vs`/v1/messages/batches/${t}`,r)}list(t={},r){return this._client.getAPIList("/v1/messages/batches",Qp,{query:t,...r})}delete(t,r){return this._client.delete(vs`/v1/messages/batches/${t}`,r)}cancel(t,r){return this._client.post(vs`/v1/messages/batches/${t}/cancel`,r)}async results(t,r){const n=await this.retrieve(t);if(!n.results_url)throw new Hr(`No batch \`results_url\`; Has it finished processing? ${n.processing_status} - ${n.id}`);return this._client.get(n.results_url,{...r,headers:cn([{Accept:"application/binary"},r==null?void 0:r.headers]),stream:!0,__binaryResponse:!0})._thenUnwrap((i,s)=>Oy.fromResponse(s.response,s.controller))}}class yB extends ol{constructor(){super(...arguments),this.batches=new lF(this._client)}create(t,r){t.model in BS&&console.warn(`The model '${t.model}' is deprecated and will reach end-of-life on ${BS[t.model]}
Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.`);let n=this._client._options.timeout;if(!t.stream&&n==null){const i=iF[t.model]??void 0;n=this._client.calculateNonstreamingTimeout(t.max_tokens,i)}return this._client.post("/v1/messages",{body:t,timeout:n??6e5,...r,stream:t.stream??!1})}stream(t,r){return Z0.createMessage(this,t,r)}countTokens(t,r){return this._client.post("/v1/messages/count_tokens",{body:t,...r})}}const BS={"claude-1.3":"November 6th, 2024","claude-1.3-100k":"November 6th, 2024","claude-instant-1.1":"November 6th, 2024","claude-instant-1.1-100k":"November 6th, 2024","claude-instant-1.2":"November 6th, 2024","claude-3-sonnet-20240229":"July 21st, 2025","claude-3-opus-20240229":"January 5th, 2026","claude-2.1":"July 21st, 2025","claude-2.0":"July 21st, 2025","claude-3-7-sonnet-latest":"February 19th, 2026","claude-3-7-sonnet-20250219":"February 19th, 2026"};yB.Batches=lF;class cF extends ol{retrieve(t,r={},n){const{betas:i}=r??{};return this._client.get(vs`/v1/models/${t}`,{...n,headers:cn([{...(i==null?void 0:i.toString())!=null?{"anthropic-beta":i==null?void 0:i.toString()}:void 0},n==null?void 0:n.headers])})}list(t={},r){const{betas:n,...i}=t??{};return this._client.getAPIList("/v1/models",Qp,{query:i,...r,headers:cn([{...(n==null?void 0:n.toString())!=null?{"anthropic-beta":n==null?void 0:n.toString()}:void 0},r==null?void 0:r.headers])})}}const $m=e=>{var t,r,n,i,s;if(typeof globalThis.process<"u")return((r=(t=globalThis.process.env)==null?void 0:t[e])==null?void 0:r.trim())??void 0;if(typeof globalThis.Deno<"u")return(s=(i=(n=globalThis.Deno.env)==null?void 0:n.get)==null?void 0:i.call(n,e))==null?void 0:s.trim()};var o2,wB,a0,AF;const TP="\\n\\nHuman:",FP="\\n\\nAssistant:";class Mi{constructor({baseURL:t=$m("ANTHROPIC_BASE_URL"),apiKey:r=$m("ANTHROPIC_API_KEY")??null,authToken:n=$m("ANTHROPIC_AUTH_TOKEN")??null,...i}={}){o2.add(this),a0.set(this,void 0);const s={apiKey:r,authToken:n,...i,baseURL:t||"https://api.anthropic.com"};if(!s.dangerouslyAllowBrowser&&tP())throw new Hr(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new Anthropic({ apiKey, dangerouslyAllowBrowser: true });
`);this.baseURL=s.baseURL,this.timeout=s.timeout??wB.DEFAULT_TIMEOUT,this.logger=s.logger??console;const a="warn";this.logLevel=a,this.logLevel=cS(s.logLevel,"ClientOptions.logLevel",this)??cS($m("ANTHROPIC_LOG"),"process.env['ANTHROPIC_LOG']",this)??a,this.fetchOptions=s.fetchOptions,this.maxRetries=s.maxRetries??2,this.fetch=s.fetch??aP(),cr(this,a0,lP,"f"),this._options=s,this.apiKey=r,this.authToken=n}withOptions(t){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,authToken:this.authToken,...t})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:r}){if(!(this.apiKey&&t.get("x-api-key"))&&!r.has("x-api-key")&&!(this.authToken&&t.get("authorization"))&&!r.has("authorization"))throw new Error('Could not resolve authentication method. Expected either apiKey or authToken to be set. Or for one of the "X-Api-Key" or "Authorization" headers to be explicitly omitted')}async authHeaders(t){return cn([await this.apiKeyAuth(t),await this.bearerAuth(t)])}async apiKeyAuth(t){if(this.apiKey!=null)return cn([{"X-Api-Key":this.apiKey}])}async bearerAuth(t){if(this.authToken!=null)return cn([{Authorization:`Bearer ${this.authToken}`}])}stringifyQuery(t){return Object.entries(t).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(r)}=`;throw new Hr(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Xu}`}defaultIdempotencyKey(){return`stainless-node-retry-${F6()}`}makeStatusError(t,r,n,i){return zs.generate(t,r,n,i)}buildURL(t,r,n){const i=!At(this,o2,"m",AF).call(this)&&n||this.baseURL,s=XO(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),a=this.defaultQuery();return YO(a)||(r={...a,...r}),typeof r=="object"&&r&&!Array.isArray(r)&&(s.search=this.stringifyQuery(r)),s.toString()}_calculateNonstreamingTimeout(t){if(3600*t/128e3>600)throw new Hr("Streaming is required for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#streaming-responses for more details");return 600*1e3}async prepareOptions(t){}async prepareRequest(t,{url:r,options:n}){}get(t,r){return this.methodRequest("get",t,r)}post(t,r){return this.methodRequest("post",t,r)}patch(t,r){return this.methodRequest("patch",t,r)}put(t,r){return this.methodRequest("put",t,r)}delete(t,r){return this.methodRequest("delete",t,r)}methodRequest(t,r,n){return this.request(Promise.resolve(n).then(i=>({method:t,path:r,...i})))}request(t,r=null){return new Ry(this,this.makeRequest(t,r,void 0))}async makeRequest(t,r,n){var p,y;const i=await t,s=i.maxRetries??this.maxRetries;r==null&&(r=s),await this.prepareOptions(i);const{req:a,url:o,timeout:c}=await this.buildRequest(i,{retryCount:s-r});await this.prepareRequest(a,{url:o,options:i});const A="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),d=n===void 0?"":`, retryOf: ${n}`,h=Date.now();if(sa(this).debug(`[${A}] sending request`,KA({retryOfRequestLogID:n,method:i.method,url:o,options:i,headers:a.headers})),(p=i.signal)!=null&&p.aborted)throw new tl;const f=new AbortController,u=await this.fetchWithTimeout(o,a,c,f).catch(t2),g=Date.now();if(u instanceof globalThis.Error){const w=`retrying, ${r} attempts remaining`;if((y=i.signal)!=null&&y.aborted)throw new tl;const b=gp(u)||/timed? ?out/i.test(String(u)+("cause"in u?String(u.cause):""));if(r)return sa(this).info(`[${A}] connection ${b?"timed out":"failed"} - ${w}`),sa(this).debug(`[${A}] connection ${b?"timed out":"failed"} (${w})`,KA({retryOfRequestLogID:n,url:o,durationMs:g-h,message:u.message})),this.retryRequest(i,r,n??A);throw sa(this).info(`[${A}] connection ${b?"timed out":"failed"} - error; no more retries left`),sa(this).debug(`[${A}] connection ${b?"timed out":"failed"} (error; no more retries left)`,KA({retryOfRequestLogID:n,url:o,durationMs:g-h,message:u.message})),b?new j6:new Dy({cause:u})}const m=[...u.headers.entries()].filter(([w])=>w==="request-id").map(([w,b])=>", "+w+": "+JSON.stringify(b)).join(""),x=`[${A}${d}${m}] ${a.method} ${o} ${u.ok?"succeeded":"failed"} with status ${u.status} in ${g-h}ms`;if(!u.ok){const w=await this.shouldRetry(u);if(r&&w){const k=`retrying, ${r} attempts remaining`;return await oP(u.body),sa(this).info(`${x} - ${k}`),sa(this).debug(`[${A}] response error (${k})`,KA({retryOfRequestLogID:n,url:u.url,status:u.status,headers:u.headers,durationMs:g-h})),this.retryRequest(i,r,n??A,u.headers)}const b=w?"error; no more retries left":"error; not retryable";sa(this).info(`${x} - ${b}`);const I=await u.text().catch(k=>t2(k).message),F=H6(I),R=F?void 0:I;throw sa(this).debug(`[${A}] response error (${b})`,KA({retryOfRequestLogID:n,url:u.url,status:u.status,headers:u.headers,message:R,durationMs:Date.now()-h})),this.makeStatusError(u.status,F,R,u.headers)}return sa(this).info(x),sa(this).debug(`[${A}] response start`,KA({retryOfRequestLogID:n,url:u.url,status:u.status,headers:u.headers,durationMs:g-h})),{response:u,options:i,controller:f,requestLogID:A,retryOfRequestLogID:n,startTime:h}}getAPIList(t,r,n){return this.requestAPIList(r,{method:"get",path:t,...n})}requestAPIList(t,r){const n=this.makeRequest(r,null,void 0);return new gP(this,n,t)}async fetchWithTimeout(t,r,n,i){const{signal:s,method:a,...o}=r||{};s&&s.addEventListener("abort",()=>i.abort());const c=setTimeout(()=>i.abort(),n),A=globalThis.ReadableStream&&o.body instanceof globalThis.ReadableStream||typeof o.body=="object"&&o.body!==null&&Symbol.asyncIterator in o.body,d={signal:i.signal,...A?{duplex:"half"}:{},method:"GET",...o};a&&(d.method=a.toUpperCase());try{return await this.fetch.call(void 0,t,d)}finally{clearTimeout(c)}}async shouldRetry(t){const r=t.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,r,n,i){let s;const a=i==null?void 0:i.get("retry-after-ms");if(a){const c=parseFloat(a);Number.isNaN(c)||(s=c)}const o=i==null?void 0:i.get("retry-after");if(o&&!s){const c=parseFloat(o);Number.isNaN(c)?s=Date.parse(o)-Date.now():s=c*1e3}if(!(s&&0<=s&&s<60*1e3)){const c=t.maxRetries??this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(r,c)}return await eP(s),this.makeRequest(t,r-1,n)}calculateDefaultRetryTimeoutMillis(t,r){const s=r-t,a=Math.min(.5*Math.pow(2,s),8),o=1-Math.random()*.25;return a*o*1e3}calculateNonstreamingTimeout(t,r){if(36e5*t/128e3>6e5||r!=null&&t>r)throw new Hr("Streaming is required for operations that may take longer than 10 minutes. See https://github.com/anthropics/anthropic-sdk-typescript#long-requests for more details");return 6e5}async buildRequest(t,{retryCount:r=0}={}){const n={...t},{method:i,path:s,query:a,defaultBaseURL:o}=n,c=this.buildURL(s,a,o);"timeout"in n&&ZO("timeout",n.timeout),n.timeout=n.timeout??this.timeout;const{bodyHeaders:A,body:d}=this.buildBody({options:n}),h=await this.buildHeaders({options:t,method:i,bodyHeaders:A,retryCount:r});return{req:{method:i,headers:h,...n.signal&&{signal:n.signal},...globalThis.ReadableStream&&d instanceof globalThis.ReadableStream&&{duplex:"half"},...d&&{body:d},...this.fetchOptions??{},...n.fetchOptions??{}},url:c,timeout:n.timeout}}async buildHeaders({options:t,method:r,bodyHeaders:n,retryCount:i}){let s={};this.idempotencyHeader&&r!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=t.idempotencyKey);const a=cn([s,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i),...t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{},...sP(),...this._options.dangerouslyAllowBrowser?{"anthropic-dangerous-direct-browser-access":"true"}:void 0,"anthropic-version":"2023-06-01"},await this.authHeaders(t),this._options.defaultHeaders,n,t.headers]);return this.validateHeaders(a),a.values}buildBody({options:{body:t,headers:r}}){if(!t)return{bodyHeaders:void 0,body:void 0};const n=cn([r]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&n.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:K6(t)}:At(this,a0,"f").call(this,{body:t,headers:n})}}wB=Mi,a0=new WeakMap,o2=new WeakSet,AF=function(){return this.baseURL!=="https://api.anthropic.com"};Mi.Anthropic=wB;Mi.HUMAN_PROMPT=TP;Mi.AI_PROMPT=FP;Mi.DEFAULT_TIMEOUT=6e5;Mi.AnthropicError=Hr;Mi.APIError=zs;Mi.APIConnectionError=Dy;Mi.APIConnectionTimeoutError=j6;Mi.APIUserAbortError=tl;Mi.NotFoundError=R6;Mi.ConflictError=O6;Mi.RateLimitError=Q6;Mi.BadRequestError=U6;Mi.AuthenticationError=L6;Mi.InternalServerError=M6;Mi.PermissionDeniedError=D6;Mi.UnprocessableEntityError=P6;Mi.toFile=BP;class fh extends Mi{constructor(){super(...arguments),this.completions=new oF(this),this.messages=new yB(this),this.models=new cF(this),this.beta=new hh(this)}}fh.Completions=oF;fh.Messages=yB;fh.Models=cF;fh.Beta=hh;class yp{constructor(){Br(this,"anthropic");const t="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";console.log("âœ… Anthropic API key found (length:",t.length,"characters)"),this.anthropic=new fh({apiKey:t,dangerouslyAllowBrowser:!0})}getModel(){return"claude-3-5-haiku-20241022"||"claude-3-5-sonnet-20241022"}async uploadFileToClaude(t){try{console.log(`ðŸ“¤ Uploading file to Claude: ${t.name} (${t.size} bytes, type: ${t.type})`);let r=t.type;r||(t.name.endsWith(".pdf")?r="application/pdf":t.name.endsWith(".docx")?r="application/vnd.openxmlformats-officedocument.wordprocessingml.document":t.name.endsWith(".doc")?r="application/msword":r="text/plain");try{console.log("Attempting to upload via SDK beta.files.upload()...");const n=await this.anthropic.beta.files.upload({file:t});return console.log(`âœ… File uploaded successfully via SDK. File ID: ${n.id}`),await new Promise(i=>setTimeout(i,1e3)),n.id}catch(n){console.warn("SDK file upload failed:",n),console.log("Error details:",{message:n.message,status:n.status,error:n.error});try{console.log("Trying with Blob conversion...");const i=await t.arrayBuffer(),s=new Blob([i],{type:r}),a=await this.anthropic.beta.files.upload({file:s});return console.log(`âœ… File uploaded successfully via SDK (Blob). File ID: ${a.id}`),await new Promise(o=>setTimeout(o,1e3)),a.id}catch(i){console.error("Blob upload also failed:",i),console.log("Trying direct API call...");const s=await t.arrayBuffer(),a=await fetch("https://api.anthropic.com/v1/beta/files",{method:"POST",headers:{"x-api-key":"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","anthropic-version":"2023-06-01","content-type":r},body:s});if(!a.ok){const c=await a.text();throw console.error("Direct API upload failed:",a.status,c),new Error(`Failed to upload file (${a.status}): ${c}`)}const o=await a.json();return console.log(`âœ… File uploaded successfully via direct API. File ID: ${o.id}`),await new Promise(c=>setTimeout(c,1e3)),o.id}}}catch(r){throw console.error("âŒ All file upload methods failed:",r),new Error(`Failed to upload file ${t.name}: ${r.message}`)}}async generateSection(t,r,n,i,s){var h;const a=[];console.log(`ðŸ“‹ Processing ${s.length} file(s) for content generation...`);const o=s.map(async f=>{var u;if(console.log(`ðŸ“„ Processing file: ${f.name}`),console.log(`   - Status: ${f.status}`),console.log(`   - Has File object: ${!!f.file}`),console.log(`   - File size: ${f.size} bytes`),console.log(`   - File type: ${f.type}`),f.file&&(f.status==="pdf"||f.status==="limited")){console.log(`ðŸš€ Attempting to upload ${f.name} to Claude API...`);try{const g=await this.uploadFileToClaude(f.file);return console.log(`âœ… Successfully uploaded ${f.name} to Claude (File ID: ${g})`),{type:"file",fileId:g,fileName:f.name}}catch(g){return console.error(`âŒ Failed to upload ${f.name} to Claude:`,g),console.error(`   Error message: ${g.message}`),console.error(`   Error stack: ${g.stack}`),console.warn(`âš ï¸ Falling back to text content for ${f.name}`),{type:"text",content:f.content,fileName:f.name}}}else return f.status==="extracted"&&f.content&&f.content.length>100?(console.log(`ðŸ“„ Including ${f.name} as text content (${f.content.length} chars)`),{type:"text",content:f.content,fileName:f.name}):(console.warn(`âš ï¸ File ${f.name} has no extractable content, using placeholder`),console.warn(`   - Status: ${f.status}`),console.warn(`   - Has file: ${!!f.file}`),console.warn(`   - Content length: ${((u=f.content)==null?void 0:u.length)||0}`),{type:"text",content:f.content||`[File: ${f.name}] Content not available for extraction.`,fileName:f.name})}),c=await Promise.all(o);console.log(`âœ… Processed ${c.length} files. Files uploaded to Claude: ${c.filter(f=>f.type==="file").length}`);const A=n.map(f=>`${f.number} ${f.title}: ${f.description}`).join(`
`),d=`You are a Principal Enterprise Solutions Architect creating a Solution Architecture Design Document (SDD) for Equity Bank Limited's ${i.name||"project"}. 

Your role: Produce professional, enterprise-grade architecture documentation that demonstrates deep technical expertise and business understanding. Write as if this document will be presented to C-level executives, technical review boards, and implementation teams.

${s.length>0?`
=== PROJECT DOCUMENTATION ===
The following ${s.length} file(s) have been uploaded. Analyze ALL files thoroughly, especially any BRD (Business Requirements Document) files. Extract ALL specific details including requirement numbers, system names, actors, business rules, and integration points.
=== END OF PROJECT DOCUMENTATION ===
`:`
[No project files uploaded - generate content based on enterprise architecture best practices]
`}

CRITICAL INSTRUCTIONS:
1. ACT AS PRINCIPAL ARCHITECT: Write with authority, precision, and clarity. Your output should reflect senior-level architecture expertise.

2. EXTRACT ALL BRD DETAILS: Read and extract ALL specific information from uploaded BRD file(s):
   - Project name and description
   - All requirement IDs and descriptions (e.g., FR_1, FR_2)
   - System names (e.g., Johari, Newgen, RLOS, MLOS, etc.)
   - Actor names and roles
   - Business rules and workflows
   - Integration requirements
   - Error codes (e.g., JH-400, JH-401, JH-433)
   - Non-functional requirements

3. USE ACTUAL NAMES: Use the EXACT project name, system names, actors, and requirements from the BRD. Never use generic placeholders.

4. PROFESSIONAL FORMATTING:
   - Use proper paragraphing with clear topic sentences
   - Use headings (## for main sections, ### for subsections)
   - Use bullet points for lists
   - Use numbered lists for sequences or priorities
   - Maintain consistent formatting throughout
   - Use bold for emphasis on key terms/concepts only
   - Write in a clear, professional tone suitable for executive review

5. NO PREAMBLES OR METACOMMENTARY:
   - DO NOT start with phrases like "Based on the Business Requirements Document...", "Here's the Solution Architecture...", "This section is derived from...", "Here's the Introduction section...", "Here is the content...", "The following section...", "Below is..."
   - DO NOT include any introductory phrases, explanations, or meta-commentary
   - DO NOT include notes like "**Note:**", "**Important:**", or any disclaimers
   - DO NOT include phrases like "for the Solution Architecture Design Document" or "based on the provided Business Requirements Document"
   - START DIRECTLY with the actual section content - the first word should be the actual content, not an introduction
   - Output ONLY the section content itself, formatted as professional HTML

6. CONTENT STRUCTURE:
   - Begin immediately with the first heading or paragraph of the actual section content
   - NO introductory sentences, NO explanations, NO context-setting phrases
   - Present information directly and authoritatively as if it's already part of the document
   - Reference BRD details naturally within the content (e.g., "As per Section 4.1 of the BRD...", "According to requirement FR_3...")
   - If information is missing, state: "This aspect requires clarification from business stakeholders" without elaboration
   - Format the document appropriately using proper HTML structure - the AI should determine the best formatting

7. EXTRACT SPECIFICS FROM BRD:
- Project Name: Use exact name from BRD
   - Systems: Use actual system names (Johari, Newgen, RLOS, MLOS, etc.)
   - Actors: Use actual user types (Pension customers, Personal Banking customers, Branch Users)
   - Requirements: Reference specific IDs (FR_1, FR_2, etc.) with descriptions
   - Business Rules: Include exact rules verbatim when possible
   - Error Codes: Include specific codes (JH-400, JH-401, JH-433, JH-434, etc.)
   - Integrations: Include actual systems mentioned

SECTION TO GENERATE: ${r}

This section must cover: ${A}

OUTPUT FORMAT - CRITICAL REQUIREMENTS:
- Start IMMEDIATELY with the actual section content - the very first character MUST be "<" (opening HTML tag)
- Output ONLY HTML format - NO plain text, NO markdown syntax
- EVERY piece of content must be wrapped in HTML tags - there should be NO bare text
- Format the document appropriately using proper HTML structure

HTML FORMATTING REQUIREMENTS - MANDATORY (CKEditor 5 Compatible):
1. Headings: Use <h1>, <h2>, <h3>, <h4> for headings - these are fully supported by CKEditor 5
   - Example: <h2>4. Introduction</h2> or <h3>4.1 Problem Statement</h3>
   - DO NOT use <h5> or <h6> unless necessary
   - DO NOT output plain text like "4. Introduction" - it MUST be <h2>4. Introduction</h2>

2. Paragraphs: EVERY paragraph must be wrapped in <p> tags
   - Example: <p>Equity Bank has identified a critical gap...</p>
   - DO NOT output plain text paragraphs - they MUST be wrapped in <p> tags
   - Use empty <p></p> tags for spacing between sections if needed

3. Lists: Use <ul> for unordered lists and <ol> for ordered lists, with <li> for each item
   - Example: <ul><li>Customer Master Data</li><li>Loan Product Master Data</li></ul>
   - DO NOT output plain text like "- Customer Master Data" - use proper HTML list tags
   - Lists can contain nested lists: <ul><li>Item 1<ul><li>Sub-item</li></ul></li></ul>

4. Formatting: Use semantic HTML tags that CKEditor 5 supports:
   - <strong> or <b> for bold text
   - <em> or <i> for italic text
   - <u> for underline (if needed)
   - <br> for line breaks within paragraphs
   - <blockquote> for quotes
   - <code> for inline code
   - <pre> for code blocks

5. Tables: Use proper HTML table structure (CKEditor 5 fully supports tables):
   - <table> with <thead>, <tbody>, <tfoot> (optional)
   - <tr> for rows
   - <th> for header cells
   - <td> for data cells
   - Example: <table><thead><tr><th>Header</th></tr></thead><tbody><tr><td>Data</td></tr></tbody></table>

6. Structure: Properly nest HTML elements - headings contain only text, paragraphs contain text, lists contain list items
   - DO NOT nest block elements inside inline elements
   - DO NOT put block elements inside <p> tags (except inline elements like <strong>, <em>)

7. CKEditor 5 Compatibility Requirements:
   - Use clean, semantic HTML5 - CKEditor 5 works best with standard HTML
   - Avoid inline styles unless necessary (CKEditor 5 may strip some styles)
   - Avoid deprecated HTML tags
   - Use proper closing tags for all elements
   - DO NOT use <div> inside <p> tags
   - DO NOT use <span> for block-level content
   - Keep HTML structure clean and well-formed

CORRECT OUTPUT EXAMPLE (CKEditor 5 Compatible):
<h2>4. Introduction</h2>

<h3>4.1 Problem Statement</h3>

<p>Equity Bank has identified a critical gap in its digital lending process where several customer loan applications are being automatically rejected by the Johari credit scoring system. These rejections occur due to various specific error conditions, potentially resulting in lost business opportunities and customer dissatisfaction.</p>

<h3>4.2 Solution Overview</h3>

<p>The Mobile Loan Refer solution introduces a streamlined workflow that enables rejected loan applications to be routed to branch users for manual review and potential approval. This approach transforms what would have been outright rejections into opportunities for personalized credit assessment.</p>

<h3>4.3 Solution Scope</h3>

<h4>4.3.1 Master Data Domains In Scope</h4>

<ul>
<li>Customer Master Data</li>
<li>Loan Product Master Data</li>
<li>Branch Master Data</li>
<li>Credit Scoring Master Data</li>
</ul>

<h4>4.3.2 Applications In Scope</h4>

<ul>
<li>Johari Credit Scoring System</li>
<li>Newgen Workflow Management System</li>
<li>RLOS (Retail Loan Origination System)</li>
<li>MLOS (Micro Loan Origination System)</li>
<li>Equity Mobile App</li>
<li>Equity Web Platform</li>
<li>USSD Channel</li>
<li>STK Channel</li>
</ul>

<h4>4.3.3 Countries In Scope</h4>

<ul>
<li>Kenya (Primary Implementation)</li>
</ul>

<p></p>

<p>This example shows proper CKEditor 5 compatible HTML structure with clean semantic tags, proper nesting, and no inline styles or deprecated elements.</p>

INCORRECT OUTPUT (DO NOT DO THIS):
4. Introduction

4.1 Problem Statement

Equity Bank has identified...

CRITICAL OUTPUT RULES:
1. The FIRST character of your output MUST be "<" (opening HTML tag)
2. EVERY piece of text must be inside an HTML tag - NO bare text
3. DO NOT include phrases like "Here's the...", "Below is...", "The following..."
4. DO NOT output plain text with just numbers and titles - use proper HTML headings
5. DO NOT output markdown-style lists with dashes - use <ul> and <li> tags
6. Output ONLY properly formatted HTML that can be directly rendered in a browser
7. Ensure HTML is CKEditor 5 compatible - use clean semantic HTML5 tags only

CKEditor 5 Compatibility Checklist:
- âœ… Use standard HTML5 semantic tags: <h1>-<h4>, <p>, <ul>, <ol>, <li>, <strong>, <em>, <table>, etc.
- âœ… Properly close all tags
- âœ… Avoid inline styles (use semantic tags instead)
- âœ… Avoid deprecated HTML tags
- âœ… Proper nesting (no block elements inside inline elements)
- âœ… Clean, well-formed HTML structure
- âŒ DO NOT use <div> inside <p> tags
- âŒ DO NOT use complex inline styles
- âŒ DO NOT use deprecated HTML4 tags

IMPORTANT: Your output must be valid, well-formatted HTML that is fully compatible with CKEditor 5. Every heading, paragraph, and list item must be properly wrapped in HTML tags. The HTML should be clean, semantic, and ready to be loaded directly into CKEditor 5 without any modifications. The output should render beautifully in a browser with proper formatting, spacing, and structure.`;a.push({type:"text",text:d});for(const f of c)f.type==="file"?a.push({type:"text",text:`
[Reference: ${f.fileName} - This file has been uploaded to Claude for analysis]`}):a.push({type:"text",text:`
=== FILE: ${f.fileName} ===
${f.content}
=== END OF FILE ===
`});try{const f=a.map(w=>w.type==="text"?{type:"text",text:w.text||""}:w),u=c.filter(w=>w.type==="file").map(w=>{const b=w.fileId;return console.log(`ðŸ“Ž Adding file to message: ${w.fileName} (ID: ${b})`),{type:"file",source:{type:"file",file_id:b}}}),g=f.filter(w=>w.type==="text").map(w=>({type:"text",text:w.text||""})),m=[...g,...u];if(console.log(`ðŸ“¤ Sending message to Claude with ${g.length} text block(s) and ${u.length} file(s)`),console.log("Content structure:",m.map(w=>{var b;return{type:w.type,...w.type==="file"?{file_id:(b=w.source)==null?void 0:b.file_id}:{}}})),u.length>0){console.log("ðŸ“Ž File blocks being sent:",u.length),console.log("File IDs:",u.map(w=>{var b;return(b=w.source)==null?void 0:b.file_id})),console.log("File block structure:",JSON.stringify(u,null,2));for(const w of u){const b=(h=w.source)==null?void 0:h.file_id;if(!b||typeof b!="string")throw console.error("âŒ Invalid file ID format:",b),new Error("Invalid file ID format");b.startsWith("file_")||console.warn('âš ï¸ File ID does not start with "file_":',b)}}else console.warn("âš ï¸ No files are being sent to Claude!"),console.warn("   - Check if files were uploaded successfully"),console.warn("   - Check if File objects were reconstructed from base64");console.log("ðŸ“¤ Sending message to Claude API..."),console.log("ðŸ“‹ Final content structure:",{totalBlocks:m.length,textBlocks:m.filter(w=>w.type==="text").length,fileBlocks:m.filter(w=>w.type==="file").length,contentPreview:m.map(w=>{var b,I;return{type:w.type,...w.type==="text"?{textLength:(b=w.text)==null?void 0:b.length}:{},...w.type==="file"?{fileId:(I=w.source)==null?void 0:I.file_id}:{}}})});const x=await this.anthropic.messages.create({model:this.getModel(),max_tokens:8e3,messages:[{role:"user",content:m}]});console.log("âœ… Received response from Claude"),console.log("Response content blocks:",x.content.length),console.log("Response content structure:",x.content.map(w=>{var b,I;return{type:w.type,...w.type==="text"?{textLength:(b=w.text)==null?void 0:b.length,textPreview:(I=w.text)==null?void 0:I.substring(0,100)}:{}}}));let p="";for(const w of x.content)if(w.type==="text"){const b=w.text||"";b&&(p+=b+`
`)}else console.warn("Received non-text content block:",w.type);const y=p.trim();if(!y)throw console.error("âŒ Received empty response from Claude API"),new Error("Received empty response from Claude API. The API returned no text content.");return console.log(`âœ… Extracted ${y.length} characters of content`),y}catch(f){console.error("Claude API Error:",f);let u="Failed to generate content";throw f.message?u=f.message:f.cause?u=f.cause.message||f.cause.toString():typeof f=="string"&&(u=f),u.includes("fetch")||u.includes("network")||u.includes("Connection")?u=`Connection error. Please check:
- Your Claude API key is configured in .env
- You have an active internet connection
- Try refreshing the page`:u.includes("401")||u.includes("authentication")||u.includes("API key")?u="Authentication error. Please check your Claude API key in .env file (VITE_ANTHROPIC_API_KEY)":u.includes("429")||u.includes("rate limit")?u="Rate limit exceeded. Please wait a moment and try again.":(u.includes("500")||u.includes("server"))&&(u="Server error. Please try again in a moment."),new Error(`Claude API Error: ${u}`)}}async generateADRContent(t,r,n,i,s,a){const o=[];console.log(`ðŸ“‹ Processing ${i.length} file(s) for ADR ${r} generation...`);const c=i.map(async u=>{if(u.file&&(u.status==="pdf"||u.status==="limited"))try{const g=await this.uploadFileToClaude(u.file);return console.log(`âœ… Successfully uploaded ${u.name} to Claude (File ID: ${g})`),{type:"file",fileId:g,fileName:u.name}}catch{return console.warn(`âš ï¸ Falling back to text content for ${u.name}`),{type:"text",content:u.content,fileName:u.name}}else return u.status==="extracted"&&u.content&&u.content.length>100?{type:"text",content:u.content,fileName:u.name}:{type:"text",content:u.content||`[File: ${u.name}] Content not available.`,fileName:u.name}}),A=await Promise.all(c);let d="",h="";switch(r){case"context":h="Context",d=`Generate the CONTEXT section for this Architecture Decision Record. The context should describe:
- The situation or problem that led to this decision
- The technical or business context in which this decision is being made
- Any constraints, requirements, or forces that influenced the decision
- The current state of the system or architecture
- Why this decision needs to be made now

The context should provide enough background for readers to understand why this decision was necessary.`;break;case"decision":h="Decision",d=`Generate the DECISION section for this Architecture Decision Record. The decision should clearly state:
- What decision was made
- The chosen approach or solution
- Any specific technologies, patterns, or frameworks selected
- Key design choices and their rationale

The decision should be clear, specific, and actionable.${s?`

Use the following context as reference:
${s.substring(0,1e3)}`:""}`;break;case"consequences":h="Consequences",d=`Generate the CONSEQUENCES section for this Architecture Decision Record. The consequences should describe:
- Positive outcomes and benefits of this decision
- Negative outcomes, trade-offs, and risks
- Impact on other systems, teams, or processes
- Long-term implications
- What becomes easier or harder as a result of this decision

The consequences should be honest and comprehensive, covering both positive and negative aspects.${a?`

Use the following decision as reference:
${a.substring(0,1e3)}`:""}`;break}const f=`You are a Principal Enterprise Solutions Architect creating Architecture Decision Records (ADRs) for Equity Bank Limited's ${n.name||"project"}: ${n.description||""}.

${i.length>0?`
=== PROJECT DOCUMENTATION ===
The following ${i.length} file(s) have been uploaded. Analyze ALL files thoroughly, especially any BRD (Business Requirements Document) files, technical specifications, and architecture diagrams. Extract ALL specific details including requirement numbers, system names, actors, business rules, and integration points.
=== END OF PROJECT DOCUMENTATION ===
`:`
[No project files uploaded - generate content based on enterprise architecture best practices]
`}

ARCHITECTURE DECISION RECORD: ${t}

${d}

CRITICAL INSTRUCTIONS:
1. ACT AS PRINCIPAL ARCHITECT: Write with authority, precision, and clarity. Your output should reflect senior-level architecture expertise.

2. EXTRACT ALL BRD DETAILS: If BRD files are provided, read and extract ALL specific information:
   - Project name and description
   - All requirement IDs and descriptions
   - System names (e.g., Johari, Newgen, RLOS, MLOS, etc.)
   - Actor names and roles
   - Business rules and workflows
   - Integration requirements
   - Technical constraints

3. USE ACTUAL NAMES: Use the EXACT project name, system names, actors, and requirements from the documentation. Never use generic placeholders.

4. PROFESSIONAL FORMATTING:
   - Use proper HTML formatting with <p> tags for paragraphs
   - Use <ul> and <li> for lists
   - Use <h3> for subsections if needed
   - Use <strong> for emphasis on key terms
   - Write in a clear, professional tone suitable for technical review

5. NO PREAMBLES OR METACOMMENTARY:
   - DO NOT start with phrases like "Based on...", "Here's the...", "This section...", "The following..."
   - START DIRECTLY with the actual content - the first word should be the actual content
   - Output ONLY the ${h} content itself, formatted as professional HTML

6. CONTENT STRUCTURE:
   - Begin immediately with the first paragraph of the actual content
   - NO introductory sentences, NO explanations, NO context-setting phrases
   - Present information directly and authoritatively
   - Reference project details naturally within the content
   - If information is missing, state it clearly without elaboration

OUTPUT FORMAT - CRITICAL REQUIREMENTS:
- Start IMMEDIATELY with the actual content - the very first character MUST be "<" (opening HTML tag)
- Output ONLY HTML format - NO plain text, NO markdown syntax
- EVERY piece of content must be wrapped in HTML tags - there should be NO bare text
- Format the document appropriately using proper HTML structure

HTML FORMATTING REQUIREMENTS - MANDATORY (CKEditor 5 Compatible):
1. Paragraphs: EVERY paragraph must be wrapped in <p> tags
   - Example: <p>The system requires a scalable architecture...</p>
   - DO NOT output plain text paragraphs

2. Lists: Use <ul> for unordered lists and <ol> for ordered lists, with <li> for each item
   - Example: <ul><li>Requirement 1</li><li>Requirement 2</li></ul>

3. Headings: Use <h3> for subsections if needed
   - Example: <h3>Technical Constraints</h3>

4. Formatting: Use semantic HTML tags:
   - <strong> or <b> for bold text
   - <em> or <i> for italic text

CRITICAL OUTPUT RULES:
1. The FIRST character of your output MUST be "<" (opening HTML tag)
2. EVERY piece of text must be inside an HTML tag - NO bare text
3. DO NOT include phrases like "Here's the...", "Below is...", "The following..."
4. Output ONLY properly formatted HTML that can be directly rendered in a browser
5. Ensure HTML is CKEditor 5 compatible - use clean semantic HTML5 tags only`;o.push({type:"text",text:f});for(const u of A)u.type==="file"?o.push({type:"text",text:`
[Reference: ${u.fileName} - This file has been uploaded to Claude for analysis]`}):o.push({type:"text",text:`
=== FILE: ${u.fileName} ===
${u.content}
=== END OF FILE ===
`});try{const u=o.map(b=>b.type==="text"?{type:"text",text:b.text||""}:b),g=A.filter(b=>b.type==="file").map(b=>({type:"file",source:{type:"file",file_id:b.fileId}})),x=[...u.filter(b=>b.type==="text").map(b=>({type:"text",text:b.text||""})),...g];console.log(`ðŸ“¤ Sending ADR ${r} generation request to Claude...`);const p=await this.anthropic.messages.create({model:this.getModel(),max_tokens:4e3,messages:[{role:"user",content:x}]});let y="";for(const b of p.content)if(b.type==="text"){const I=b.text||"";I&&(y+=I+`
`)}const w=y.trim();if(!w)throw new Error("Received empty response from Claude API.");return console.log(`âœ… Generated ADR ${r} content (${w.length} characters)`),w}catch(u){console.error("Claude API Error:",u);let g="Failed to generate ADR content";throw u.message&&(g=u.message),new Error(`Claude API Error: ${g}`)}}async chat(t,r,n){try{let i=`You are an AI architecture assistant for Equity Bank Limited. You help architects and developers with:

1. **AI Modeler**: Generate draft architecture diagrams or data models from text or system documentation
2. **AI Reviewer**: Assess architectures for risks, compliance, or alignment with standards
3. **AI Mapper**: Auto-link systems and data flows using integration metadata
4. **Chat with Architecture**: Answer questions about system integrations, APIs, and architecture
5. **Pattern Recommender**: Suggest best-fit integration or cloud patterns based on use cases

Your responses should be:
- Clear, professional, and technically accurate
- Context-aware based on the project being discussed
- Actionable with specific recommendations when appropriate
- Formatted with markdown for better readability (use **bold**, *italic*, lists, code blocks, etc.)
- Conversational and helpful

When users ask about:
- Architecture diagrams/models: Provide structured descriptions with components, relationships, and data flows
- Reviews: Assess security, compliance, standards alignment, and provide recommendations
- System mapping: Identify connections, data flows, integration points, and dependencies
- Queries: Answer based on architecture knowledge, system names, and integration patterns
- Patterns: Suggest appropriate integration patterns (API Gateway, Event-Driven, etc.) and cloud patterns (Microservices, Serverless, etc.) with trade-offs

Be concise but thorough. If you need more information, ask clarifying questions.`;if(n!=null&&n.name){i+=`

Current Project Context:
- Project Name: ${n.name}`;const d=n.description||"";d.includes("=== BUSINESS ARTIFACTS ===")||d.includes("=== TECHNOLOGY ARTIFACTS ===")?(i+=`

Project Artifacts Available:
${d}`,i+=`

When answering questions, you have access to the project's business and technology artifacts above. Use information from these artifacts to provide accurate, context-aware responses. Reference specific files, requirements, or technical details from the artifacts when relevant.`):d&&(i+=`
- Description: ${d}`),i+=`

When answering questions, consider this project context. Use actual system names and details from the project when relevant.`}const s=[],a=r.slice(-10);for(const d of a)s.push({role:d.role,content:d.content});s.push({role:"user",content:t}),console.log(`ðŸ’¬ Sending chat message to Claude (${s.length} messages in context)...`);const o=await this.anthropic.messages.create({model:this.getModel(),max_tokens:4096,system:i,messages:s});let c="";for(const d of o.content)if(d.type==="text"){const h=d.text||"";h&&(c+=h)}const A=c.trim();if(!A)throw new Error("Received empty response from Claude API");return console.log(`âœ… Received chat response from Claude (${A.length} characters)`),A}catch(i){console.error("Claude Chat API Error:",i);let s="Failed to process your message";throw i.message&&(s=i.message),s.includes("401")||s.includes("authentication")||s.includes("API key")?s="Authentication error. Please check your Claude API key in .env file (VITE_ANTHROPIC_API_KEY)":s.includes("429")||s.includes("rate limit")?s="Rate limit exceeded. Please wait a moment and try again.":s.includes("500")||s.includes("server")?s="Server error. Please try again in a moment.":(s.includes("fetch")||s.includes("network"))&&(s="Connection error. Please check your internet connection and try again."),new Error(s)}}async chatStream(t,r,n,i,s){try{let a=`You are an AI architecture assistant for Equity Bank Limited. You help architects and developers with:

1. **AI Modeler**: Generate draft architecture diagrams or data models from text or system documentation
2. **AI Reviewer**: Assess architectures for risks, compliance, or alignment with standards
3. **AI Mapper**: Auto-link systems and data flows using integration metadata
4. **Chat with Architecture**: Answer questions about system integrations, APIs, and architecture
5. **Pattern Recommender**: Suggest best-fit integration or cloud patterns based on use cases

Your responses should be:
- Clear, professional, and technically accurate
- Context-aware based on the project being discussed
- Actionable with specific recommendations when appropriate
- Formatted with markdown for better readability (use **bold**, *italic*, lists, code blocks, etc.)
- Conversational and helpful

When users ask about:
- Architecture diagrams/models: Provide structured descriptions with components, relationships, and data flows
- Reviews: Assess security, compliance, standards alignment, and provide recommendations
- System mapping: Identify connections, data flows, integration points, and dependencies
- Queries: Answer based on architecture knowledge, system names, and integration patterns
- Patterns: Suggest appropriate integration patterns (API Gateway, Event-Driven, etc.) and cloud patterns (Microservices, Serverless, etc.) with trade-offs

Be concise but thorough. If you need more information, ask clarifying questions.`;n!=null&&n.name&&(a+=`

Current Project Context:
- Project Name: ${n.name}`,n.description&&(a+=`
- Description: ${n.description}`),a+=`

When answering questions, consider this project context. Use actual system names and details from the project when relevant.`),i&&i.length>0&&(a+=`

IMPORTANT: The user has included ${i.length} project artifact(s) with their message. These artifacts contain critical information about the project including:
- Business requirements and specifications
- Technical documentation
- Architecture diagrams and flows
- System integration details

You MUST:
1. Analyze ALL provided artifacts thoroughly
2. Extract specific details, requirements, system names, and technical specifications
3. Reference information from the artifacts in your responses
4. Use exact names, IDs, and details from the artifacts (don't use placeholders)
5. If asked about something covered in the artifacts, provide detailed answers based on the artifact content

The artifacts will be provided as file attachments or text content in the user's message.`);const o=[];if(i&&i.length>0){console.log(`ðŸ“Ž Processing ${i.length} artifact(s) for chat...`);for(const g of i)try{const m=g.fileContent.match(/\[PDF_BASE64_START\]([\s\S]+?)\[PDF_BASE64_END\]/);if(m&&m[1])try{const x=m[1].trim(),p=atob(x),y=new Uint8Array(p.length);for(let F=0;F<p.length;F++)y[F]=p.charCodeAt(F);const w=new Blob([y],{type:"application/pdf"}),b=new File([w],g.fileName,{type:"application/pdf"}),I=await this.uploadFileToClaude(b);console.log(`âœ… Uploaded artifact to Claude: ${g.fileName} (ID: ${I})`),o.push({type:"file",source:{type:"file",file_id:I}})}catch(x){console.warn(`âš ï¸ Failed to upload ${g.fileName}, using text content instead:`,x);const p=g.fileContent.replace(/\[PDF_BASE64_START\][\s\S]+?\[PDF_BASE64_END\]/,"").trim();p&&o.push({type:"text",text:`
=== ARTIFACT: ${g.fileName} (${g.artifactType}) ===
${p.substring(0,1e4)}
=== END OF ARTIFACT ===
`})}else{const x=g.fileContent.trim();x&&x.length>0&&o.push({type:"text",text:`
=== ARTIFACT: ${g.fileName} (${g.artifactType}) ===
${x.substring(0,1e4)}
=== END OF ARTIFACT ===
`})}}catch(m){console.error(`Error processing artifact ${g.fileName}:`,m)}}const c=[],A=r.slice(-10);for(const g of A)c.push({role:g.role,content:g.content});const d=[{type:"text",text:t}];o.length>0&&(d.push(...o),console.log(`ðŸ“Ž Added ${o.length} artifact(s) to message`)),c.push({role:"user",content:d}),console.log(`ðŸ’¬ Streaming chat message to Claude with ${o.length} artifact(s)...`);let h="";const f=await this.anthropic.messages.stream({model:this.getModel(),max_tokens:4096,system:a,messages:c});for await(const g of f)if(g.type==="content_block_delta"&&g.delta.type==="text_delta"){const m=g.delta.text||"";h+=m,s(m)}const u=h.trim();if(!u)throw new Error("Received empty response from Claude API");return console.log(`âœ… Streamed chat response from Claude (${u.length} characters)`),u}catch(a){console.error("Claude Chat Stream API Error:",a);let o="Failed to process your message";throw a.message&&(o=a.message),o.includes("401")||o.includes("authentication")||o.includes("API key")?o="Authentication error. Please check your Claude API key in .env file (VITE_ANTHROPIC_API_KEY)":o.includes("429")||o.includes("rate limit")?o="Rate limit exceeded. Please wait a moment and try again.":o.includes("500")||o.includes("server")?o="Server error. Please try again in a moment.":(o.includes("fetch")||o.includes("network"))&&(o="Connection error. Please check your internet connection and try again."),new Error(o)}}async reviewSDDDocument(t,r,n=[]){try{let i="";r!=null&&r.name&&(i+=`# Solution Design Document: ${r.name}

`,r.description&&(i+=`**Project Description:** ${r.description}

`),i+=`---

`),i+=`# Complete SDD Document Review

`,i+=`This document contains ${t.length} section(s) for review.

`,i+=`---

`,t.forEach((h,f)=>{i+=`## Section ${f+1}: ${h.sectionTitle}

`,i+=`**Section ID:** ${h.sectionId}

`,i+=`**Content:**

${h.content}

`,i+=`---

`});let s=`You are a Principal Enterprise Solutions Architect conducting a comprehensive review of a Solution Design Document (SDD) for Equity Bank Limited.

Your role is to provide a thorough, professional review that assesses:

1. **Completeness**: Are all required sections present and adequately detailed?
2. **Technical Accuracy**: Are the technical specifications correct and feasible?
3. **Architecture Quality**: Does the architecture follow best practices and enterprise patterns?
4. **Security & Compliance**: Are security considerations and compliance requirements addressed?
5. **Clarity & Consistency**: Is the document clear, consistent, and well-structured?
6. **Risk Assessment**: What are the potential risks and how are they mitigated?
7. **Integration Points**: Are integration points clearly defined and documented?
8. **Non-Functional Requirements**: Are performance, scalability, availability requirements addressed?
9. **Alignment with Standards**: Does it align with Equity Bank's architecture standards and guidelines?
10. **Actionable Recommendations**: Provide specific, actionable recommendations for improvement

Your review should be:
- Professional and constructive
- Specific with references to sections and content
- Actionable with clear recommendations
- Prioritized (critical, high, medium, low)
- Formatted with clear headings and structure
- Balanced (highlight strengths as well as areas for improvement)

Format your review using markdown with clear sections:
- Executive Summary
- Strengths
- Areas for Improvement (by priority)
- Critical Issues (if any)
- Recommendations
- Overall Assessment`;r!=null&&r.name&&(s+=`

**Project Context:**
- Project Name: ${r.name}`,r.description&&(s+=`
- Description: ${r.description}`));const a=[];if(n&&n.length>0){console.log(`ðŸ“Ž Processing ${n.length} artifact(s) for SDD review...`);for(const h of n)try{const f=h.fileContent.match(/\[PDF_BASE64_START\]([\s\S]+?)\[PDF_BASE64_END\]/);if(f&&f[1])try{const u=f[1].trim(),g=atob(u),m=new Uint8Array(g.length);for(let w=0;w<g.length;w++)m[w]=g.charCodeAt(w);const x=new Blob([m],{type:"application/pdf"}),p=new File([x],h.fileName,{type:"application/pdf"}),y=await this.uploadFileToClaude(p);console.log(`âœ… Uploaded artifact to Claude for review: ${h.fileName} (ID: ${y})`),a.push({type:"file",source:{type:"file",file_id:y}})}catch(u){console.warn(`âš ï¸ Failed to upload ${h.fileName}, using text content instead:`,u);const g=h.fileContent.replace(/\[PDF_BASE64_START\][\s\S]+?\[PDF_BASE64_END\]/,"").trim();g&&a.push({type:"text",text:`
=== REFERENCE ARTIFACT: ${h.fileName} (${h.artifactType}) ===
${g.substring(0,1e4)}
=== END OF ARTIFACT ===
`})}else{const u=h.fileContent.trim();u&&u.length>0&&a.push({type:"text",text:`
=== REFERENCE ARTIFACT: ${h.fileName} (${h.artifactType}) ===
${u.substring(0,1e4)}
=== END OF ARTIFACT ===
`})}}catch(f){console.error(`Error processing artifact ${h.fileName}:`,f)}a.length>0&&(s+=`

**Reference Artifacts:**
The following ${a.length} artifact(s) are provided as reference material. Use these to validate the SDD content against the original requirements and specifications.`)}const o=[{type:"text",text:`Please conduct a comprehensive review of the following Solution Design Document:

${i}`}];a.length>0&&(o.push(...a),console.log(`ðŸ“Ž Added ${a.length} reference artifact(s) to review`)),console.log(`ðŸ“‹ Sending SDD document for review (${t.length} sections, ${a.length} artifacts)...`);const c=await this.anthropic.messages.create({model:this.getModel(),max_tokens:8192,system:s,messages:[{role:"user",content:o}]});let A="";for(const h of c.content)if(h.type==="text"){const f=h.text||"";f&&(A+=f)}const d=A.trim();if(!d)throw new Error("Received empty response from Claude API");return console.log(`âœ… Received SDD review from Claude (${d.length} characters)`),d}catch(i){console.error("SDD Review API Error:",i);let s="Failed to review SDD document";throw i.message&&(s=i.message),s.includes("401")||s.includes("authentication")||s.includes("API key")?s="Authentication error. Please check your Claude API key in .env file (VITE_ANTHROPIC_API_KEY)":s.includes("429")||s.includes("rate limit")?s="Rate limit exceeded. Please wait a moment and try again.":s.includes("500")||s.includes("server")?s="Server error. Please try again in a moment.":(s.includes("fetch")||s.includes("network"))&&(s="Connection error. Please check your internet connection and try again."),new Error(s)}}}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var l2=function(e,t){return l2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},l2(e,t)};function ll(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l2(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var c2=function(){return c2=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},c2.apply(this,arguments)};function aa(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{A(n.next(d))}catch(h){a(h)}}function c(d){try{A(n.throw(d))}catch(h){a(h)}}function A(d){d.done?s(d.value):i(d.value).then(o,c)}A((n=n.apply(e,t||[])).next())})}function Os(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(A){return function(d){return c([A,d])}}function c(A){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=A[0]&2?i.return:A[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,A[1])).done)return s;switch(i=0,s&&(A=[A[0]&2,s.value]),A[0]){case 0:case 1:s=A;break;case 4:return r.label++,{value:A[1],done:!1};case 5:r.label++,i=A[1],A=[0];continue;case 7:A=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(A[0]===6||A[0]===2)){r=0;continue}if(A[0]===3&&(!s||A[1]>s[0]&&A[1]<s[3])){r.label=A[1];break}if(A[0]===6&&r.label<s[1]){r.label=s[1],s=A;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(A);break}s[2]&&r.ops.pop(),r.trys.pop();continue}A=t.call(e,r)}catch(d){A=[6,d],i=0}finally{n=s=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}}function Vm(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||t)}var Ec=function(){function e(t,r,n,i){this.left=t,this.top=r,this.width=n,this.height=i}return e.prototype.add=function(t,r,n,i){return new e(this.left+t,this.top+r,this.width+n,this.height+i)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var n=Array.from(r).find(function(i){return i.width!==0});return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),Qy=function(e,t){return Ec.fromClientRect(e,t.getBoundingClientRect())},jP=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),i=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new Ec(0,0,n,i)},My=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=e.charCodeAt(r++);(s&64512)===56320?t.push(((i&1023)<<10)+(s&1023)+65536):(t.push(i),r--)}else t.push(i)}return t},xi=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var a=e[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},CS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",UP=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Xm=0;Xm<CS.length;Xm++)UP[CS.charCodeAt(Xm)]=Xm;var ES="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pf=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ym=0;Ym<ES.length;Ym++)pf[ES.charCodeAt(Ym)]=Ym;var LP=function(e){var t=e.length*.75,r=e.length,n,i=0,s,a,o,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var A=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),d=Array.isArray(A)?A:new Uint8Array(A);for(n=0;n<r;n+=4)s=pf[e.charCodeAt(n)],a=pf[e.charCodeAt(n+1)],o=pf[e.charCodeAt(n+2)],c=pf[e.charCodeAt(n+3)],d[i++]=s<<2|a>>4,d[i++]=(a&15)<<4|o>>2,d[i++]=(o&3)<<6|c&63;return A},DP=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},RP=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},cu=5,bB=6+5,c1=2,OP=bB-cu,uF=65536>>cu,PP=1<<cu,A1=PP-1,QP=1024>>cu,MP=uF+QP,HP=MP,zP=32,KP=HP+zP,qP=65536>>bB,GP=1<<OP,WP=GP-1,SS=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},$P=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},VP=function(e,t){var r=LP(e),n=Array.isArray(r)?RP(r):new Uint32Array(r),i=Array.isArray(r)?DP(r):new Uint16Array(r),s=24,a=SS(i,s/2,n[4]/2),o=n[5]===2?SS(i,(s+n[4])/2):$P(n,Math.ceil((s+n[4])/4));return new XP(n[0],n[1],n[2],n[3],a,o)},XP=function(){function e(t,r,n,i,s,a){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=a}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>cu],r=(r<<c1)+(t&A1),this.data[r];if(t<=65535)return r=this.index[uF+(t-55296>>cu)],r=(r<<c1)+(t&A1),this.data[r];if(t<this.highStart)return r=KP-qP+(t>>bB),r=this.index[r],r+=t>>cu&WP,r=this.index[r],r=(r<<c1)+(t&A1),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),_S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",YP=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Jm=0;Jm<_S.length;Jm++)YP[_S.charCodeAt(Jm)]=Jm;var JP="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",NS=50,ZP=1,dF=2,hF=3,eQ=4,tQ=5,kS=7,fF=8,IS=9,iA=10,A2=11,TS=12,u2=13,rQ=14,mf=15,d2=16,Zm=17,$h=18,nQ=19,FS=20,h2=21,Vh=22,u1=23,Lu=24,qa=25,gf=26,yf=27,Du=28,iQ=29,$A=30,sQ=31,eg=32,tg=33,f2=34,p2=35,m2=36,wp=37,g2=38,o0=39,l0=40,d1=41,pF=42,aQ=43,oQ=[9001,65288],mF="!",Jr="Ã—",rg="Ã·",y2=VP(JP),nc=[$A,m2],w2=[ZP,dF,hF,tQ],gF=[iA,fF],jS=[yf,gf],lQ=w2.concat(gF),US=[g2,o0,l0,f2,p2],cQ=[mf,u2],AQ=function(e,t){t===void 0&&(t="strict");var r=[],n=[],i=[];return e.forEach(function(s,a){var o=y2.get(s);if(o>NS?(i.push(!0),o-=NS):i.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(a),r.push(d2);if(o===eQ||o===A2){if(a===0)return n.push(a),r.push($A);var c=r[a-1];return lQ.indexOf(c)===-1?(n.push(n[a-1]),r.push(c)):(n.push(a),r.push($A))}if(n.push(a),o===sQ)return r.push(t==="strict"?h2:wp);if(o===pF||o===iQ)return r.push($A);if(o===aQ)return s>=131072&&s<=196605||s>=196608&&s<=262141?r.push(wp):r.push($A);r.push(o)}),[n,r,i]},h1=function(e,t,r,n){var i=n[r];if(Array.isArray(e)?e.indexOf(i)!==-1:e===i)for(var s=r;s<=n.length;){s++;var a=n[s];if(a===t)return!0;if(a!==iA)break}if(i===iA)for(var s=r;s>0;){s--;var o=n[s];if(Array.isArray(e)?e.indexOf(o)!==-1:e===o)for(var c=r;c<=n.length;){c++;var a=n[c];if(a===t)return!0;if(a!==iA)break}if(o!==iA)break}return!1},LS=function(e,t){for(var r=e;r>=0;){var n=t[r];if(n===iA)r--;else return n}return 0},uQ=function(e,t,r,n,i){if(r[n]===0)return Jr;var s=n-1;if(Array.isArray(i)&&i[s]===!0)return Jr;var a=s-1,o=s+1,c=t[s],A=a>=0?t[a]:0,d=t[o];if(c===dF&&d===hF)return Jr;if(w2.indexOf(c)!==-1)return mF;if(w2.indexOf(d)!==-1||gF.indexOf(d)!==-1)return Jr;if(LS(s,t)===fF)return rg;if(y2.get(e[s])===A2||(c===eg||c===tg)&&y2.get(e[o])===A2||c===kS||d===kS||c===IS||[iA,u2,mf].indexOf(c)===-1&&d===IS||[Zm,$h,nQ,Lu,Du].indexOf(d)!==-1||LS(s,t)===Vh||h1(u1,Vh,s,t)||h1([Zm,$h],h2,s,t)||h1(TS,TS,s,t))return Jr;if(c===iA)return rg;if(c===u1||d===u1)return Jr;if(d===d2||c===d2)return rg;if([u2,mf,h2].indexOf(d)!==-1||c===rQ||A===m2&&cQ.indexOf(c)!==-1||c===Du&&d===m2||d===FS||nc.indexOf(d)!==-1&&c===qa||nc.indexOf(c)!==-1&&d===qa||c===yf&&[wp,eg,tg].indexOf(d)!==-1||[wp,eg,tg].indexOf(c)!==-1&&d===gf||nc.indexOf(c)!==-1&&jS.indexOf(d)!==-1||jS.indexOf(c)!==-1&&nc.indexOf(d)!==-1||[yf,gf].indexOf(c)!==-1&&(d===qa||[Vh,mf].indexOf(d)!==-1&&t[o+1]===qa)||[Vh,mf].indexOf(c)!==-1&&d===qa||c===qa&&[qa,Du,Lu].indexOf(d)!==-1)return Jr;if([qa,Du,Lu,Zm,$h].indexOf(d)!==-1)for(var h=s;h>=0;){var f=t[h];if(f===qa)return Jr;if([Du,Lu].indexOf(f)!==-1)h--;else break}if([yf,gf].indexOf(d)!==-1)for(var h=[Zm,$h].indexOf(c)!==-1?a:s;h>=0;){var f=t[h];if(f===qa)return Jr;if([Du,Lu].indexOf(f)!==-1)h--;else break}if(g2===c&&[g2,o0,f2,p2].indexOf(d)!==-1||[o0,f2].indexOf(c)!==-1&&[o0,l0].indexOf(d)!==-1||[l0,p2].indexOf(c)!==-1&&d===l0||US.indexOf(c)!==-1&&[FS,gf].indexOf(d)!==-1||US.indexOf(d)!==-1&&c===yf||nc.indexOf(c)!==-1&&nc.indexOf(d)!==-1||c===Lu&&nc.indexOf(d)!==-1||nc.concat(qa).indexOf(c)!==-1&&d===Vh&&oQ.indexOf(e[o])===-1||nc.concat(qa).indexOf(d)!==-1&&c===$h)return Jr;if(c===d1&&d===d1){for(var u=r[s],g=1;u>0&&(u--,t[u]===d1);)g++;if(g%2!==0)return Jr}return c===eg&&d===tg?Jr:rg},dQ=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=AQ(e,t.lineBreak),n=r[0],i=r[1],s=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(i=i.map(function(o){return[qa,$A,pF].indexOf(o)!==-1?wp:o}));var a=t.wordBreak==="keep-all"?s.map(function(o,c){return o&&e[c]>=19968&&e[c]<=40959}):void 0;return[n,i,a]},hQ=function(){function e(t,r,n,i){this.codePoints=t,this.required=r===mF,this.start=n,this.end=i}return e.prototype.slice=function(){return xi.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),fQ=function(e,t){var r=My(e),n=dQ(r,t),i=n[0],s=n[1],a=n[2],o=r.length,c=0,A=0;return{next:function(){if(A>=o)return{done:!0,value:null};for(var d=Jr;A<o&&(d=uQ(r,s,i,++A,a))===Jr;);if(d!==Jr||A===o){var h=new hQ(r,d,c,A);return c=A,{value:h,done:!1}}return{done:!0,value:null}}}},pQ=1,mQ=2,Mp=4,DS=8,ey=10,RS=47,Df=92,gQ=9,yQ=32,ng=34,Xh=61,wQ=35,bQ=36,vQ=37,ig=39,sg=40,Yh=41,xQ=95,xa=45,BQ=33,CQ=60,EQ=62,SQ=64,_Q=91,NQ=93,kQ=61,IQ=123,ag=63,TQ=125,OS=124,FQ=126,jQ=128,PS=65533,f1=42,eu=43,UQ=44,LQ=58,DQ=59,bp=46,RQ=0,OQ=8,PQ=11,QQ=14,MQ=31,HQ=127,wl=-1,yF=48,wF=97,bF=101,zQ=102,KQ=117,qQ=122,vF=65,xF=69,BF=70,GQ=85,WQ=90,Qs=function(e){return e>=yF&&e<=57},$Q=function(e){return e>=55296&&e<=57343},Ru=function(e){return Qs(e)||e>=vF&&e<=BF||e>=wF&&e<=zQ},VQ=function(e){return e>=wF&&e<=qQ},XQ=function(e){return e>=vF&&e<=WQ},YQ=function(e){return VQ(e)||XQ(e)},JQ=function(e){return e>=jQ},og=function(e){return e===ey||e===gQ||e===yQ},ty=function(e){return YQ(e)||JQ(e)||e===xQ},QS=function(e){return ty(e)||Qs(e)||e===xa},ZQ=function(e){return e>=RQ&&e<=OQ||e===PQ||e>=QQ&&e<=MQ||e===HQ},Yc=function(e,t){return e!==Df?!1:t!==ey},lg=function(e,t,r){return e===xa?ty(t)||Yc(t,r):ty(e)?!0:!!(e===Df&&Yc(e,t))},p1=function(e,t,r){return e===eu||e===xa?Qs(t)?!0:t===bp&&Qs(r):Qs(e===bp?t:e)},eM=function(e){var t=0,r=1;(e[t]===eu||e[t]===xa)&&(e[t]===xa&&(r=-1),t++);for(var n=[];Qs(e[t]);)n.push(e[t++]);var i=n.length?parseInt(xi.apply(void 0,n),10):0;e[t]===bp&&t++;for(var s=[];Qs(e[t]);)s.push(e[t++]);var a=s.length,o=a?parseInt(xi.apply(void 0,s),10):0;(e[t]===xF||e[t]===bF)&&t++;var c=1;(e[t]===eu||e[t]===xa)&&(e[t]===xa&&(c=-1),t++);for(var A=[];Qs(e[t]);)A.push(e[t++]);var d=A.length?parseInt(xi.apply(void 0,A),10):0;return r*(i+o*Math.pow(10,-a))*Math.pow(10,c*d)},tM={type:2},rM={type:3},nM={type:4},iM={type:13},sM={type:8},aM={type:21},oM={type:9},lM={type:10},cM={type:11},AM={type:12},uM={type:14},cg={type:23},dM={type:1},hM={type:25},fM={type:24},pM={type:26},mM={type:27},gM={type:28},yM={type:29},wM={type:31},b2={type:32},CF=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(My(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==b2;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case ng:return this.consumeStringToken(ng);case wQ:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(QS(r)||Yc(n,i)){var s=lg(r,n,i)?mQ:pQ,a=this.consumeName();return{type:5,value:a,flags:s}}break;case bQ:if(this.peekCodePoint(0)===Xh)return this.consumeCodePoint(),iM;break;case ig:return this.consumeStringToken(ig);case sg:return tM;case Yh:return rM;case f1:if(this.peekCodePoint(0)===Xh)return this.consumeCodePoint(),uM;break;case eu:if(p1(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case UQ:return nM;case xa:var o=t,c=this.peekCodePoint(0),A=this.peekCodePoint(1);if(p1(o,c,A))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(lg(o,c,A))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(c===xa&&A===EQ)return this.consumeCodePoint(),this.consumeCodePoint(),fM;break;case bp:if(p1(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case RS:if(this.peekCodePoint(0)===f1)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===f1&&(d=this.consumeCodePoint(),d===RS))return this.consumeToken();if(d===wl)return this.consumeToken()}break;case LQ:return pM;case DQ:return mM;case CQ:if(this.peekCodePoint(0)===BQ&&this.peekCodePoint(1)===xa&&this.peekCodePoint(2)===xa)return this.consumeCodePoint(),this.consumeCodePoint(),hM;break;case SQ:var h=this.peekCodePoint(0),f=this.peekCodePoint(1),u=this.peekCodePoint(2);if(lg(h,f,u)){var a=this.consumeName();return{type:7,value:a}}break;case _Q:return gM;case Df:if(Yc(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case NQ:return yM;case kQ:if(this.peekCodePoint(0)===Xh)return this.consumeCodePoint(),sM;break;case IQ:return cM;case TQ:return AM;case KQ:case GQ:var g=this.peekCodePoint(0),m=this.peekCodePoint(1);return g===eu&&(Ru(m)||m===ag)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case OS:if(this.peekCodePoint(0)===Xh)return this.consumeCodePoint(),oM;if(this.peekCodePoint(0)===OS)return this.consumeCodePoint(),aM;break;case FQ:if(this.peekCodePoint(0)===Xh)return this.consumeCodePoint(),lM;break;case wl:return b2}return og(t)?(this.consumeWhiteSpace(),wM):Qs(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):ty(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:xi(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();Ru(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var n=!1;r===ag&&t.length<6;)t.push(r),r=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(xi.apply(void 0,t.map(function(c){return c===ag?yF:c})),16),s=parseInt(xi.apply(void 0,t.map(function(c){return c===ag?BF:c})),16);return{type:30,start:i,end:s}}var a=parseInt(xi.apply(void 0,t),16);if(this.peekCodePoint(0)===xa&&Ru(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var o=[];Ru(r)&&o.length<6;)o.push(r),r=this.consumeCodePoint();var s=parseInt(xi.apply(void 0,o),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===sg?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===sg?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===wl)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===ig||r===ng){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===wl||this.peekCodePoint(0)===Yh)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),cg)}for(;;){var i=this.consumeCodePoint();if(i===wl||i===Yh)return{type:22,value:xi.apply(void 0,t)};if(og(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===wl||this.peekCodePoint(0)===Yh?(this.consumeCodePoint(),{type:22,value:xi.apply(void 0,t)}):(this.consumeBadUrlRemnants(),cg);if(i===ng||i===ig||i===sg||ZQ(i))return this.consumeBadUrlRemnants(),cg;if(i===Df)if(Yc(i,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),cg;else t.push(i)}},e.prototype.consumeWhiteSpace=function(){for(;og(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===Yh||t===wl)return;Yc(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,n="";t>0;){var i=Math.min(r,t);n+=xi.apply(void 0,this._value.splice(0,i)),t-=i}return this._value.shift(),n},e.prototype.consumeStringToken=function(t){var r="",n=0;do{var i=this._value[n];if(i===wl||i===void 0||i===t)return r+=this.consumeStringSlice(n),{type:0,value:r};if(i===ey)return this._value.splice(0,n),dM;if(i===Df){var s=this._value[n+1];s!==wl&&s!==void 0&&(s===ey?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):Yc(i,s)&&(r+=this.consumeStringSlice(n),r+=xi(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=Mp,n=this.peekCodePoint(0);for((n===eu||n===xa)&&t.push(this.consumeCodePoint());Qs(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(n===bp&&Qs(i))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=DS;Qs(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===xF||n===bF)&&((i===eu||i===xa)&&Qs(s)||Qs(i)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=DS;Qs(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[eM(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],n=t[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(lg(i,s,a)){var o=this.consumeName();return{type:15,number:r,flags:n,unit:o}}return i===vQ?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(Ru(t)){for(var r=xi(t);Ru(this.peekCodePoint(0))&&r.length<6;)r+=xi(this.consumeCodePoint());og(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||$Q(n)||n>1114111?PS:n}return t===wl?PS:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(QS(r))t+=xi(r);else if(Yc(r,this.peekCodePoint(0)))t+=xi(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e}(),EF=function(){function e(t){this._tokens=t}return e.create=function(t){var r=new CF;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},n=this.consumeToken();;){if(n.type===32||vM(n,t))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?b2:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),Hp=function(e){return e.type===15},ph=function(e){return e.type===17},Tn=function(e){return e.type===20},bM=function(e){return e.type===0},v2=function(e,t){return Tn(e)&&e.value===t},SF=function(e){return e.type!==31},Zd=function(e){return e.type!==31&&e.type!==4},Ql=function(e){var t=[],r=[];return e.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&t.push(r),t},vM=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},CA=function(e){return e.type===17||e.type===15},Pi=function(e){return e.type===16||CA(e)},_F=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},xs={type:17,number:0,flags:Mp},vB={type:16,number:50,flags:Mp},sA={type:16,number:100,flags:Mp},wf=function(e,t,r){var n=e[0],i=e[1];return[On(n,t),On(typeof i<"u"?i:n,r)]},On=function(e,t){if(e.type===16)return e.number/100*t;if(Hp(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},NF="deg",kF="grad",IF="rad",TF="turn",Hy={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case NF:return Math.PI*t.number/180;case kF:return Math.PI/200*t.number;case IF:return t.number;case TF:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},FF=function(e){return e.type===15&&(e.unit===NF||e.unit===kF||e.unit===IF||e.unit===TF)},jF=function(e){var t=e.filter(Tn).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[xs,xs];case"to top":case"bottom":return No(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[xs,sA];case"to right":case"left":return No(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[sA,sA];case"to bottom":case"top":return No(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[sA,xs];case"to left":case"right":return No(270)}return 0},No=function(e){return Math.PI*e/180},gA={name:"color",parse:function(e,t){if(t.type===18){var r=xM[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var n=t.value.substring(0,1),i=t.value.substring(1,2),s=t.value.substring(2,3);return aA(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(t.value.length===4){var n=t.value.substring(0,1),i=t.value.substring(1,2),s=t.value.substring(2,3),a=t.value.substring(3,4);return aA(parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(t.value.length===6){var n=t.value.substring(0,2),i=t.value.substring(2,4),s=t.value.substring(4,6);return aA(parseInt(n,16),parseInt(i,16),parseInt(s,16),1)}if(t.value.length===8){var n=t.value.substring(0,2),i=t.value.substring(2,4),s=t.value.substring(4,6),a=t.value.substring(6,8);return aA(parseInt(n,16),parseInt(i,16),parseInt(s,16),parseInt(a,16)/255)}}if(t.type===20){var o=bc[t.value.toUpperCase()];if(typeof o<"u")return o}return bc.TRANSPARENT}},yA=function(e){return(255&e)===0},rs=function(e){var t=255&e,r=255&e>>8,n=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+n+","+r+","+t/255+")":"rgb("+i+","+n+","+r+")"},aA=function(e,t,r,n){return(e<<24|t<<16|r<<8|Math.round(n*255)<<0)>>>0},MS=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},HS=function(e,t){var r=t.filter(Zd);if(r.length===3){var n=r.map(MS),i=n[0],s=n[1],a=n[2];return aA(i,s,a,1)}if(r.length===4){var o=r.map(MS),i=o[0],s=o[1],a=o[2],c=o[3];return aA(i,s,a,c)}return 0};function m1(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var zS=function(e,t){var r=t.filter(Zd),n=r[0],i=r[1],s=r[2],a=r[3],o=(n.type===17?No(n.number):Hy.parse(e,n))/(Math.PI*2),c=Pi(i)?i.number/100:0,A=Pi(s)?s.number/100:0,d=typeof a<"u"&&Pi(a)?On(a,1):1;if(c===0)return aA(A*255,A*255,A*255,1);var h=A<=.5?A*(c+1):A+c-A*c,f=A*2-h,u=m1(f,h,o+1/3),g=m1(f,h,o),m=m1(f,h,o-1/3);return aA(u*255,g*255,m*255,d)},xM={hsl:zS,hsla:zS,rgb:HS,rgba:HS},Rf=function(e,t){return gA.parse(e,EF.create(t).parseComponentValue())},bc={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},BM={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(Tn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},CM={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},zy=function(e,t){var r=gA.parse(e,t[0]),n=t[1];return n&&Pi(n)?{color:r,stop:n}:{color:r,stop:null}},KS=function(e,t){var r=e[0],n=e[e.length-1];r.stop===null&&(r.stop=xs),n.stop===null&&(n.stop=sA);for(var i=[],s=0,a=0;a<e.length;a++){var o=e[a].stop;if(o!==null){var c=On(o,t);c>s?i.push(c):i.push(s),s=c}else i.push(null)}for(var A=null,a=0;a<i.length;a++){var d=i[a];if(d===null)A===null&&(A=a);else if(A!==null){for(var h=a-A,f=i[A-1],u=(d-f)/(h+1),g=1;g<=h;g++)i[A+g-1]=u*g;A=null}}return e.map(function(m,x){var p=m.color;return{color:p,stop:Math.max(Math.min(1,i[x]/t),0)}})},EM=function(e,t,r){var n=t/2,i=r/2,s=On(e[0],t)-n,a=i-On(e[1],r);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},SM=function(e,t,r){var n=typeof e=="number"?e:EM(e,t,r),i=Math.abs(t*Math.sin(n))+Math.abs(r*Math.cos(n)),s=t/2,a=r/2,o=i/2,c=Math.sin(n-Math.PI/2)*o,A=Math.cos(n-Math.PI/2)*o;return[i,s-A,s+A,a-c,a+c]},Vo=function(e,t){return Math.sqrt(e*e+t*t)},qS=function(e,t,r,n,i){var s=[[0,0],[0,t],[e,0],[e,t]];return s.reduce(function(a,o){var c=o[0],A=o[1],d=Vo(r-c,n-A);return(i?d<a.optimumDistance:d>a.optimumDistance)?{optimumCorner:o,optimumDistance:d}:a},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},_M=function(e,t,r,n,i){var s=0,a=0;switch(e.size){case 0:e.shape===0?s=a=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-i)):e.shape===1&&(s=Math.min(Math.abs(t),Math.abs(t-n)),a=Math.min(Math.abs(r),Math.abs(r-i)));break;case 2:if(e.shape===0)s=a=Math.min(Vo(t,r),Vo(t,r-i),Vo(t-n,r),Vo(t-n,r-i));else if(e.shape===1){var o=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(t),Math.abs(t-n)),c=qS(n,i,t,r,!0),A=c[0],d=c[1];s=Vo(A-t,(d-r)/o),a=o*s}break;case 1:e.shape===0?s=a=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-i)):e.shape===1&&(s=Math.max(Math.abs(t),Math.abs(t-n)),a=Math.max(Math.abs(r),Math.abs(r-i)));break;case 3:if(e.shape===0)s=a=Math.max(Vo(t,r),Vo(t,r-i),Vo(t-n,r),Vo(t-n,r-i));else if(e.shape===1){var o=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(t),Math.abs(t-n)),h=qS(n,i,t,r,!1),A=h[0],d=h[1];s=Vo(A-t,(d-r)/o),a=o*s}break}return Array.isArray(e.size)&&(s=On(e.size[0],n),a=e.size.length===2?On(e.size[1],i):s),[s,a]},NM=function(e,t){var r=No(180),n=[];return Ql(t).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&a.value==="to"){r=jF(i);return}else if(FF(a)){r=Hy.parse(e,a);return}}var o=zy(e,i);n.push(o)}),{angle:r,stops:n,type:1}},Ag=function(e,t){var r=No(180),n=[];return Ql(t).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){r=jF(i);return}else if(FF(a)){r=(Hy.parse(e,a)+No(270))%No(360);return}}var o=zy(e,i);n.push(o)}),{angle:r,stops:n,type:1}},kM=function(e,t){var r=No(180),n=[],i=1,s=0,a=3,o=[];return Ql(t).forEach(function(c,A){var d=c[0];if(A===0){if(Tn(d)&&d.value==="linear"){i=1;return}else if(Tn(d)&&d.value==="radial"){i=2;return}}if(d.type===18){if(d.name==="from"){var h=gA.parse(e,d.values[0]);n.push({stop:xs,color:h})}else if(d.name==="to"){var h=gA.parse(e,d.values[0]);n.push({stop:sA,color:h})}else if(d.name==="color-stop"){var f=d.values.filter(Zd);if(f.length===2){var h=gA.parse(e,f[1]),u=f[0];ph(u)&&n.push({stop:{type:16,number:u.number*100,flags:u.flags},color:h})}}}}),i===1?{angle:(r+No(180))%No(360),stops:n,type:i}:{size:a,shape:s,stops:n,position:o,type:i}},UF="closest-side",LF="farthest-side",DF="closest-corner",RF="farthest-corner",OF="circle",PF="ellipse",QF="cover",MF="contain",IM=function(e,t){var r=0,n=3,i=[],s=[];return Ql(t).forEach(function(a,o){var c=!0;if(o===0){var A=!1;c=a.reduce(function(h,f){if(A)if(Tn(f))switch(f.value){case"center":return s.push(vB),h;case"top":case"left":return s.push(xs),h;case"right":case"bottom":return s.push(sA),h}else(Pi(f)||CA(f))&&s.push(f);else if(Tn(f))switch(f.value){case OF:return r=0,!1;case PF:return r=1,!1;case"at":return A=!0,!1;case UF:return n=0,!1;case QF:case LF:return n=1,!1;case MF:case DF:return n=2,!1;case RF:return n=3,!1}else if(CA(f)||Pi(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return h},c)}if(c){var d=zy(e,a);i.push(d)}}),{size:n,shape:r,stops:i,position:s,type:2}},ug=function(e,t){var r=0,n=3,i=[],s=[];return Ql(t).forEach(function(a,o){var c=!0;if(o===0?c=a.reduce(function(d,h){if(Tn(h))switch(h.value){case"center":return s.push(vB),!1;case"top":case"left":return s.push(xs),!1;case"right":case"bottom":return s.push(sA),!1}else if(Pi(h)||CA(h))return s.push(h),!1;return d},c):o===1&&(c=a.reduce(function(d,h){if(Tn(h))switch(h.value){case OF:return r=0,!1;case PF:return r=1,!1;case MF:case UF:return n=0,!1;case LF:return n=1,!1;case DF:return n=2,!1;case QF:case RF:return n=3,!1}else if(CA(h)||Pi(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return d},c)),c){var A=zy(e,a);i.push(A)}}),{size:n,shape:r,stops:i,position:s,type:2}},TM=function(e){return e.type===1},FM=function(e){return e.type===2},xB={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var n=HF[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function jM(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!HF[e.name])}var HF={"linear-gradient":NM,"-moz-linear-gradient":Ag,"-ms-linear-gradient":Ag,"-o-linear-gradient":Ag,"-webkit-linear-gradient":Ag,"radial-gradient":IM,"-moz-radial-gradient":ug,"-ms-radial-gradient":ug,"-o-radial-gradient":ug,"-webkit-radial-gradient":ug,"-webkit-gradient":kM},UM={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(n){return Zd(n)&&jM(n)}).map(function(n){return xB.parse(e,n)})}},LM={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(Tn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},DM={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Ql(t).map(function(r){return r.filter(Pi)}).map(_F)}},RM={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Ql(t).map(function(r){return r.filter(Tn).map(function(n){return n.value}).join(" ")}).map(OM)}},OM=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Fd;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(Fd||(Fd={}));var PM={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Ql(t).map(function(r){return r.filter(QM)})}},QM=function(e){return Tn(e)||Pi(e)},Ky=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},MM=Ky("top"),HM=Ky("right"),zM=Ky("bottom"),KM=Ky("left"),qy=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return _F(r.filter(Pi))}}},qM=qy("top-left"),GM=qy("top-right"),WM=qy("bottom-right"),$M=qy("bottom-left"),Gy=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},VM=Gy("top"),XM=Gy("right"),YM=Gy("bottom"),JM=Gy("left"),Wy=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return Hp(r)?r.number:0}}},ZM=Wy("top"),e7=Wy("right"),t7=Wy("bottom"),r7=Wy("left"),n7={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},i7={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},s7={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Tn).reduce(function(r,n){return r|a7(n.value)},0)}},a7=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},o7={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},l7={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},ry;(function(e){e.NORMAL="normal",e.STRICT="strict"})(ry||(ry={}));var c7={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return ry.STRICT;case"normal":default:return ry.NORMAL}}},A7={name:"line-height",initialValue:"normal",prefix:!1,type:4},GS=function(e,t){return Tn(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:Pi(e)?On(e,t):t},u7={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:xB.parse(e,t)}},d7={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},x2={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},$y=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},h7=$y("top"),f7=$y("right"),p7=$y("bottom"),m7=$y("left"),g7={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Tn).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},y7={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},Vy=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},w7=Vy("top"),b7=Vy("right"),v7=Vy("bottom"),x7=Vy("left"),B7={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},C7={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},E7={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&v2(t[0],"none")?[]:Ql(t).map(function(r){for(var n={color:bc.TRANSPARENT,offsetX:xs,offsetY:xs,blur:xs},i=0,s=0;s<r.length;s++){var a=r[s];CA(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:n.blur=a,i++):n.color=gA.parse(e,a)}return n})}},S7={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},_7={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=I7[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},N7=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},k7=function(e){var t=e.filter(function(c){return c.type===17}).map(function(c){return c.number}),r=t[0],n=t[1];t[2],t[3];var i=t[4],s=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var a=t[12],o=t[13];return t[14],t[15],t.length===16?[r,n,i,s,a,o]:null},I7={matrix:N7,matrix3d:k7},WS={type:16,number:50,flags:Mp},T7=[WS,WS],F7={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(Pi);return r.length!==2?T7:[r[0],r[1]]}},j7={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Of;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(Of||(Of={}));var U7={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return Of.BREAK_ALL;case"keep-all":return Of.KEEP_ALL;case"normal":default:return Of.NORMAL}}},L7={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(ph(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},zF={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},D7={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return ph(t)?t.number:1}},R7={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},O7={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Tn).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},P7={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],n=[];return t.forEach(function(i){switch(i.type){case 20:case 0:r.push(i.value);break;case 17:r.push(i.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},Q7={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},M7={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(ph(t))return t.number;if(Tn(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},H7={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Tn).map(function(r){return r.value})}},z7={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Xi=function(e,t){return(e&t)!==0},K7={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},q7={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var n=[],i=t.filter(SF),s=0;s<i.length;s++){var a=i[s],o=i[s+1];if(a.type===20){var c=o&&ph(o)?o.number:1;n.push({counter:a.value,increment:c})}}return n}},G7={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],n=t.filter(SF),i=0;i<n.length;i++){var s=n[i],a=n[i+1];if(Tn(s)&&s.value!=="none"){var o=a&&ph(a)?a.number:0;r.push({counter:s.value,reset:o})}}return r}},W7={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Hp).map(function(r){return zF.parse(e,r)})}},$7={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var n=[],i=t.filter(bM);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var a=i[s].value,o=i[s+1].value;n.push({open:a,close:o})}return n}},$S=function(e,t,r){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?r?n.open:n.close:""},V7={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&v2(t[0],"none")?[]:Ql(t).map(function(r){for(var n={color:255,offsetX:xs,offsetY:xs,blur:xs,spread:xs,inset:!1},i=0,s=0;s<r.length;s++){var a=r[s];v2(a,"inset")?n.inset=!0:CA(a)?(i===0?n.offsetX=a:i===1?n.offsetY=a:i===2?n.blur=a:n.spread=a,i++):n.color=gA.parse(e,a)}return n})}},X7={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],n=[];return t.filter(Tn).forEach(function(i){switch(i.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n}},Y7={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},J7={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Hp(t)?t.number:0}},Z7=function(){function e(t,r){var n,i;this.animationDuration=Zt(t,W7,r.animationDuration),this.backgroundClip=Zt(t,BM,r.backgroundClip),this.backgroundColor=Zt(t,CM,r.backgroundColor),this.backgroundImage=Zt(t,UM,r.backgroundImage),this.backgroundOrigin=Zt(t,LM,r.backgroundOrigin),this.backgroundPosition=Zt(t,DM,r.backgroundPosition),this.backgroundRepeat=Zt(t,RM,r.backgroundRepeat),this.backgroundSize=Zt(t,PM,r.backgroundSize),this.borderTopColor=Zt(t,MM,r.borderTopColor),this.borderRightColor=Zt(t,HM,r.borderRightColor),this.borderBottomColor=Zt(t,zM,r.borderBottomColor),this.borderLeftColor=Zt(t,KM,r.borderLeftColor),this.borderTopLeftRadius=Zt(t,qM,r.borderTopLeftRadius),this.borderTopRightRadius=Zt(t,GM,r.borderTopRightRadius),this.borderBottomRightRadius=Zt(t,WM,r.borderBottomRightRadius),this.borderBottomLeftRadius=Zt(t,$M,r.borderBottomLeftRadius),this.borderTopStyle=Zt(t,VM,r.borderTopStyle),this.borderRightStyle=Zt(t,XM,r.borderRightStyle),this.borderBottomStyle=Zt(t,YM,r.borderBottomStyle),this.borderLeftStyle=Zt(t,JM,r.borderLeftStyle),this.borderTopWidth=Zt(t,ZM,r.borderTopWidth),this.borderRightWidth=Zt(t,e7,r.borderRightWidth),this.borderBottomWidth=Zt(t,t7,r.borderBottomWidth),this.borderLeftWidth=Zt(t,r7,r.borderLeftWidth),this.boxShadow=Zt(t,V7,r.boxShadow),this.color=Zt(t,n7,r.color),this.direction=Zt(t,i7,r.direction),this.display=Zt(t,s7,r.display),this.float=Zt(t,o7,r.cssFloat),this.fontFamily=Zt(t,P7,r.fontFamily),this.fontSize=Zt(t,Q7,r.fontSize),this.fontStyle=Zt(t,z7,r.fontStyle),this.fontVariant=Zt(t,H7,r.fontVariant),this.fontWeight=Zt(t,M7,r.fontWeight),this.letterSpacing=Zt(t,l7,r.letterSpacing),this.lineBreak=Zt(t,c7,r.lineBreak),this.lineHeight=Zt(t,A7,r.lineHeight),this.listStyleImage=Zt(t,u7,r.listStyleImage),this.listStylePosition=Zt(t,d7,r.listStylePosition),this.listStyleType=Zt(t,x2,r.listStyleType),this.marginTop=Zt(t,h7,r.marginTop),this.marginRight=Zt(t,f7,r.marginRight),this.marginBottom=Zt(t,p7,r.marginBottom),this.marginLeft=Zt(t,m7,r.marginLeft),this.opacity=Zt(t,D7,r.opacity);var s=Zt(t,g7,r.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=Zt(t,y7,r.overflowWrap),this.paddingTop=Zt(t,w7,r.paddingTop),this.paddingRight=Zt(t,b7,r.paddingRight),this.paddingBottom=Zt(t,v7,r.paddingBottom),this.paddingLeft=Zt(t,x7,r.paddingLeft),this.paintOrder=Zt(t,X7,r.paintOrder),this.position=Zt(t,C7,r.position),this.textAlign=Zt(t,B7,r.textAlign),this.textDecorationColor=Zt(t,R7,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=Zt(t,O7,(i=r.textDecorationLine)!==null&&i!==void 0?i:r.textDecoration),this.textShadow=Zt(t,E7,r.textShadow),this.textTransform=Zt(t,S7,r.textTransform),this.transform=Zt(t,_7,r.transform),this.transformOrigin=Zt(t,F7,r.transformOrigin),this.visibility=Zt(t,j7,r.visibility),this.webkitTextStrokeColor=Zt(t,Y7,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=Zt(t,J7,r.webkitTextStrokeWidth),this.wordBreak=Zt(t,U7,r.wordBreak),this.zIndex=Zt(t,L7,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return yA(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return Xi(this.display,4)||Xi(this.display,33554432)||Xi(this.display,268435456)||Xi(this.display,536870912)||Xi(this.display,67108864)||Xi(this.display,134217728)},e}(),eH=function(){function e(t,r){this.content=Zt(t,K7,r.content),this.quotes=Zt(t,$7,r.quotes)}return e}(),VS=function(){function e(t,r){this.counterIncrement=Zt(t,q7,r.counterIncrement),this.counterReset=Zt(t,G7,r.counterReset)}return e}(),Zt=function(e,t,r){var n=new CF,i=r!==null&&typeof r<"u"?r.toString():t.initialValue;n.write(i);var s=new EF(n.read());switch(t.type){case 2:var a=s.parseComponentValue();return t.parse(e,Tn(a)?a.value:t.initialValue);case 0:return t.parse(e,s.parseComponentValue());case 1:return t.parse(e,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(t.format){case"angle":return Hy.parse(e,s.parseComponentValue());case"color":return gA.parse(e,s.parseComponentValue());case"image":return xB.parse(e,s.parseComponentValue());case"length":var o=s.parseComponentValue();return CA(o)?o:xs;case"length-percentage":var c=s.parseComponentValue();return Pi(c)?c:xs;case"time":return zF.parse(e,s.parseComponentValue())}break}},tH="data-html2canvas-debug",rH=function(e){var t=e.getAttribute(tH);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},B2=function(e,t){var r=rH(e);return r===1||t===r},Ml=function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,B2(r,3))debugger;this.styles=new Z7(t,window.getComputedStyle(r,null)),S2(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=Qy(this.context,r),B2(r,4)&&(this.flags|=16)}return e}(),nH="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",XS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bf=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var dg=0;dg<XS.length;dg++)bf[XS.charCodeAt(dg)]=dg;var iH=function(e){var t=e.length*.75,r=e.length,n,i=0,s,a,o,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var A=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),d=Array.isArray(A)?A:new Uint8Array(A);for(n=0;n<r;n+=4)s=bf[e.charCodeAt(n)],a=bf[e.charCodeAt(n+1)],o=bf[e.charCodeAt(n+2)],c=bf[e.charCodeAt(n+3)],d[i++]=s<<2|a>>4,d[i++]=(a&15)<<4|o>>2,d[i++]=(o&3)<<6|c&63;return A},sH=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},aH=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},Au=5,BB=6+5,g1=2,oH=BB-Au,KF=65536>>Au,lH=1<<Au,y1=lH-1,cH=1024>>Au,AH=KF+cH,uH=AH,dH=32,hH=uH+dH,fH=65536>>BB,pH=1<<oH,mH=pH-1,YS=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},gH=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},yH=function(e,t){var r=iH(e),n=Array.isArray(r)?aH(r):new Uint32Array(r),i=Array.isArray(r)?sH(r):new Uint16Array(r),s=24,a=YS(i,s/2,n[4]/2),o=n[5]===2?YS(i,(s+n[4])/2):gH(n,Math.ceil((s+n[4])/4));return new wH(n[0],n[1],n[2],n[3],a,o)},wH=function(){function e(t,r,n,i,s,a){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=i,this.index=s,this.data=a}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>Au],r=(r<<g1)+(t&y1),this.data[r];if(t<=65535)return r=this.index[KF+(t-55296>>Au)],r=(r<<g1)+(t&y1),this.data[r];if(t<this.highStart)return r=hH-fH+(t>>BB),r=this.index[r],r+=t>>Au&mH,r=this.index[r],r=(r<<g1)+(t&y1),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),JS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bH=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var hg=0;hg<JS.length;hg++)bH[JS.charCodeAt(hg)]=hg;var vH=1,w1=2,b1=3,ZS=4,e_=5,xH=7,t_=8,v1=9,x1=10,r_=11,n_=12,i_=13,s_=14,B1=15,BH=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var s=e.charCodeAt(r++);(s&64512)===56320?t.push(((i&1023)<<10)+(s&1023)+65536):(t.push(i),r--)}else t.push(i)}return t},CH=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],i=-1,s="";++i<r;){var a=e[i];a<=65535?n.push(a):(a-=65536,n.push((a>>10)+55296,a%1024+56320)),(i+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},EH=yH(nH),vo="Ã—",C1="Ã·",SH=function(e){return EH.get(e)},_H=function(e,t,r){var n=r-2,i=t[n],s=t[r-1],a=t[r];if(s===w1&&a===b1)return vo;if(s===w1||s===b1||s===ZS||a===w1||a===b1||a===ZS)return C1;if(s===t_&&[t_,v1,r_,n_].indexOf(a)!==-1||(s===r_||s===v1)&&(a===v1||a===x1)||(s===n_||s===x1)&&a===x1||a===i_||a===e_||a===xH||s===vH)return vo;if(s===i_&&a===s_){for(;i===e_;)i=t[--n];if(i===s_)return vo}if(s===B1&&a===B1){for(var o=0;i===B1;)o++,i=t[--n];if(o%2===0)return vo}return C1},NH=function(e){var t=BH(e),r=t.length,n=0,i=0,s=t.map(SH);return{next:function(){if(n>=r)return{done:!0,value:null};for(var a=vo;n<r&&(a=_H(t,s,++n))===vo;);if(a!==vo||n===r){var o=CH.apply(null,t.slice(i,n));return i=n,{value:o,done:!1}}return{done:!0,value:null}}}},kH=function(e){for(var t=NH(e),r=[],n;!(n=t.next()).done;)n.value&&r.push(n.value.slice());return r},IH=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),r.selectNode(n);var i=r.getBoundingClientRect(),s=Math.round(i.height);if(e.body.removeChild(n),s===t)return!0}}return!1},TH=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=t.firstChild,i=My(n.data).map(function(c){return xi(c)}),s=0,a={},o=i.every(function(c,A){r.setStart(n,s),r.setEnd(n,s+c.length);var d=r.getBoundingClientRect();s+=c.length;var h=d.x>a.x||d.y>a.y;return a=d,A===0?!0:h});return e.body.removeChild(t),o},FH=function(){return typeof new Image().crossOrigin<"u"},jH=function(){return typeof new XMLHttpRequest().responseType=="string"},UH=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},a_=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},LH=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var i=new Image,s=t.toDataURL();i.src=s;var a=C2(r,r,0,0,i);return n.fillStyle="red",n.fillRect(0,0,r,r),o_(a).then(function(o){n.drawImage(o,0,0);var c=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var A=e.createElement("div");return A.style.backgroundImage="url("+s+")",A.style.height=r+"px",a_(c)?o_(C2(r,r,0,0,A)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),a_(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},C2=function(e,t,r,n,i){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",e.toString()),a.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",r.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(i),a},o_=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},ys={get SUPPORT_RANGE_BOUNDS(){var e=IH(document);return Object.defineProperty(ys,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=ys.SUPPORT_RANGE_BOUNDS&&TH(document);return Object.defineProperty(ys,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=UH(document);return Object.defineProperty(ys,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?LH(document):Promise.resolve(!1);return Object.defineProperty(ys,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=FH();return Object.defineProperty(ys,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=jH();return Object.defineProperty(ys,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ys,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(ys,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Pf=function(){function e(t,r){this.text=t,this.bounds=r}return e}(),DH=function(e,t,r,n){var i=PH(t,r),s=[],a=0;return i.forEach(function(o){if(r.textDecorationLine.length||o.trim().length>0)if(ys.SUPPORT_RANGE_BOUNDS){var c=l_(n,a,o.length).getClientRects();if(c.length>1){var A=CB(o),d=0;A.forEach(function(f){s.push(new Pf(f,Ec.fromDOMRectList(e,l_(n,d+a,f.length).getClientRects()))),d+=f.length})}else s.push(new Pf(o,Ec.fromDOMRectList(e,c)))}else{var h=n.splitText(o.length);s.push(new Pf(o,RH(e,n))),n=h}else ys.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));a+=o.length}),s},RH=function(e,t){var r=t.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(n,t);var s=Qy(e,n);return n.firstChild&&i.replaceChild(n.firstChild,n),s}}return Ec.EMPTY},l_=function(e,t,r){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(e,t),i.setEnd(e,t+r),i},CB=function(e){if(ys.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return kH(e)},OH=function(e,t){if(ys.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(n){return n.segment})}return MH(e,t)},PH=function(e,t){return t.letterSpacing!==0?CB(e):OH(e,t)},QH=[32,160,4961,65792,65793,4153,4241],MH=function(e,t){for(var r=fQ(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),n=[],i,s=function(){if(i.value){var a=i.value.slice(),o=My(a),c="";o.forEach(function(A){QH.indexOf(A)===-1?c+=xi(A):(c.length&&n.push(c),n.push(xi(A)),c="")}),c.length&&n.push(c)}};!(i=r.next()).done;)s();return n},HH=function(){function e(t,r,n){this.text=zH(r.data,n.textTransform),this.textBounds=DH(t,this.text,n,r)}return e}(),zH=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(KH,qH);case 2:return e.toUpperCase();default:return e}},KH=/(^|\s|:|-|\(|\))([a-z])/g,qH=function(e,t,r){return e.length>0?t+r.toUpperCase():e},qF=function(e){ll(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.src=n.currentSrc||n.src,i.intrinsicWidth=n.naturalWidth,i.intrinsicHeight=n.naturalHeight,i.context.cache.addImage(i.src),i}return t}(Ml),GF=function(e){ll(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.canvas=n,i.intrinsicWidth=n.width,i.intrinsicHeight=n.height,i}return t}(Ml),WF=function(e){ll(t,e);function t(r,n){var i=e.call(this,r,n)||this,s=new XMLSerializer,a=Qy(r,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),i.intrinsicWidth=n.width.baseVal.value,i.intrinsicHeight=n.height.baseVal.value,i.context.cache.addImage(i.svg),i}return t}(Ml),$F=function(e){ll(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.value=n.value,i}return t}(Ml),E2=function(e){ll(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.start=n.start,i.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,i}return t}(Ml),GH=[{type:15,flags:0,unit:"px",number:3}],WH=[{type:16,flags:0,number:50}],$H=function(e){return e.width>e.height?new Ec(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new Ec(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},VH=function(e){var t=e.type===XH?new Array(e.value.length+1).join("â€¢"):e.value;return t.length===0?e.placeholder||"":t},ny="checkbox",iy="radio",XH="password",c_=707406591,EB=function(e){ll(t,e);function t(r,n){var i=e.call(this,r,n)||this;switch(i.type=n.type.toLowerCase(),i.checked=n.checked,i.value=VH(n),(i.type===ny||i.type===iy)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=$H(i.bounds)),i.type){case ny:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=GH;break;case iy:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=WH;break}return i}return t}(Ml),VF=function(e){ll(t,e);function t(r,n){var i=e.call(this,r,n)||this,s=n.options[n.selectedIndex||0];return i.value=s&&s.text||"",i}return t}(Ml),XF=function(e){ll(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.value=n.value,i}return t}(Ml),YF=function(e){ll(t,e);function t(r,n){var i=e.call(this,r,n)||this;i.src=n.src,i.width=parseInt(n.width,10)||0,i.height=parseInt(n.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){i.tree=ZF(r,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?Rf(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):bc.TRANSPARENT,a=n.contentWindow.document.body?Rf(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):bc.TRANSPARENT;i.backgroundColor=yA(s)?yA(a)?i.styles.backgroundColor:a:s}}catch{}return i}return t}(Ml),YH=["OL","UL","MENU"],c0=function(e,t,r,n){for(var i=t.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,ej(i)&&i.data.trim().length>0)r.textNodes.push(new HH(e,i,r.styles));else if(wd(i))if(ij(i)&&i.assignedNodes)i.assignedNodes().forEach(function(o){return c0(e,o,r,n)});else{var a=JF(e,i);a.styles.isVisible()&&(JH(i,a,n)?a.flags|=4:ZH(a.styles)&&(a.flags|=2),YH.indexOf(i.tagName)!==-1&&(a.flags|=8),r.elements.push(a),i.slot,i.shadowRoot?c0(e,i.shadowRoot,a,n):!sy(i)&&!tj(i)&&!ay(i)&&c0(e,i,a,n))}},JF=function(e,t){return _2(t)?new qF(e,t):rj(t)?new GF(e,t):tj(t)?new WF(e,t):e9(t)?new $F(e,t):t9(t)?new E2(e,t):r9(t)?new EB(e,t):ay(t)?new VF(e,t):sy(t)?new XF(e,t):nj(t)?new YF(e,t):new Ml(e,t)},ZF=function(e,t){var r=JF(e,t);return r.flags|=4,c0(e,t,r,r),r},JH=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||SB(e)&&r.styles.isTransparent()},ZH=function(e){return e.isPositioned()||e.isFloating()},ej=function(e){return e.nodeType===Node.TEXT_NODE},wd=function(e){return e.nodeType===Node.ELEMENT_NODE},S2=function(e){return wd(e)&&typeof e.style<"u"&&!A0(e)},A0=function(e){return typeof e.className=="object"},e9=function(e){return e.tagName==="LI"},t9=function(e){return e.tagName==="OL"},r9=function(e){return e.tagName==="INPUT"},n9=function(e){return e.tagName==="HTML"},tj=function(e){return e.tagName==="svg"},SB=function(e){return e.tagName==="BODY"},rj=function(e){return e.tagName==="CANVAS"},A_=function(e){return e.tagName==="VIDEO"},_2=function(e){return e.tagName==="IMG"},nj=function(e){return e.tagName==="IFRAME"},u_=function(e){return e.tagName==="STYLE"},i9=function(e){return e.tagName==="SCRIPT"},sy=function(e){return e.tagName==="TEXTAREA"},ay=function(e){return e.tagName==="SELECT"},ij=function(e){return e.tagName==="SLOT"},d_=function(e){return e.tagName.indexOf("-")>0},s9=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(n){return r.counters[n].pop()})},e.prototype.parse=function(t){var r=this,n=t.counterIncrement,i=t.counterReset,s=!0;n!==null&&n.forEach(function(o){var c=r.counters[o.counter];c&&o.increment!==0&&(s=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=o.increment)});var a=[];return s&&i.forEach(function(o){var c=r.counters[o.counter];a.push(o.counter),c||(c=r.counters[o.counter]=[]),c.push(o.reset)}),a},e}(),h_={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},f_={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Õ”","Õ“","Õ’","Õ‘","Õ","Õ","ÕŽ","Õ","ÕŒ","Õ‹","ÕŠ","Õ‰","Õˆ","Õ‡","Õ†","Õ…","Õ„","Õƒ","Õ‚","Õ","Õ€","Ô¿","Ô¾","Ô½","Ô¼","Ô»","Ôº","Ô¹","Ô¸","Ô·","Ô¶","Ôµ","Ô´","Ô³","Ô²","Ô±"]},a9={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["×™×³","×˜×³","×—×³","×–×³","×•×³","×”×³","×“×³","×’×³","×‘×³","××³","×ª","×©","×¨","×§","×¦","×¤","×¢","×¡","× ","×ž","×œ","×›","×™×˜","×™×—","×™×–","×˜×–","×˜×•","×™","×˜","×—","×–","×•","×”","×“","×’","×‘","×"]},o9={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["áƒµ","áƒ°","áƒ¯","áƒ´","áƒ®","áƒ­","áƒ¬","áƒ«","áƒª","áƒ©","áƒ¨","áƒ§","áƒ¦","áƒ¥","áƒ¤","áƒ³","áƒ¢","áƒ¡","áƒ ","áƒŸ","áƒž","áƒ","áƒ²","áƒœ","áƒ›","áƒš","áƒ™","áƒ˜","áƒ—","áƒ±","áƒ–","áƒ•","áƒ”","áƒ“","áƒ’","áƒ‘","áƒ"]},Ou=function(e,t,r,n,i,s){return e<t||e>r?vp(e,i,s.length>0):n.integers.reduce(function(a,o,c){for(;e>=o;)e-=o,a+=n.values[c];return a},"")+s},sj=function(e,t,r,n){var i="";do r||e--,i=n(e)+i,e/=t;while(e*t>=t);return i},vi=function(e,t,r,n,i){var s=r-t+1;return(e<0?"-":"")+(sj(Math.abs(e),s,n,function(a){return xi(Math.floor(a%s)+t)})+i)},RA=function(e,t,r){r===void 0&&(r=". ");var n=t.length;return sj(Math.abs(e),n,!1,function(i){return t[Math.floor(i%n)]})+r},Ju=1,Wc=2,$c=4,vf=8,ic=function(e,t,r,n,i,s){if(e<-9999||e>9999)return vp(e,4,i.length>0);var a=Math.abs(e),o=i;if(a===0)return t[0]+o;for(var c=0;a>0&&c<=4;c++){var A=a%10;A===0&&Xi(s,Ju)&&o!==""?o=t[A]+o:A>1||A===1&&c===0||A===1&&c===1&&Xi(s,Wc)||A===1&&c===1&&Xi(s,$c)&&e>100||A===1&&c>1&&Xi(s,vf)?o=t[A]+(c>0?r[c-1]:"")+o:A===1&&c>0&&(o=r[c-1]+o),a=Math.floor(a/10)}return(e<0?n:"")+o},p_="åç™¾åƒè¬",m_="æ‹¾ä½°ä»Ÿè¬",g_="ãƒžã‚¤ãƒŠã‚¹",E1="ë§ˆì´ë„ˆìŠ¤",vp=function(e,t,r){var n=r?". ":"",i=r?"ã€":"",s=r?", ":"",a=r?" ":"";switch(t){case 0:return"â€¢"+a;case 1:return"â—¦"+a;case 2:return"â—¾"+a;case 5:var o=vi(e,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return RA(e,"ã€‡ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹",i);case 6:return Ou(e,1,3999,h_,3,n).toLowerCase();case 7:return Ou(e,1,3999,h_,3,n);case 8:return vi(e,945,969,!1,n);case 9:return vi(e,97,122,!1,n);case 10:return vi(e,65,90,!1,n);case 11:return vi(e,1632,1641,!0,n);case 12:case 49:return Ou(e,1,9999,f_,3,n);case 35:return Ou(e,1,9999,f_,3,n).toLowerCase();case 13:return vi(e,2534,2543,!0,n);case 14:case 30:return vi(e,6112,6121,!0,n);case 15:return RA(e,"å­ä¸‘å¯…å¯è¾°å·³åˆæœªç”³é…‰æˆŒäº¥",i);case 16:return RA(e,"ç”²ä¹™ä¸™ä¸æˆŠå·±åºšè¾›å£¬ç™¸",i);case 17:case 48:return ic(e,"é›¶ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹",p_,"è² ",i,Wc|$c|vf);case 47:return ic(e,"é›¶å£¹è²³åƒè‚†ä¼é™¸æŸ’æŒçŽ–",m_,"è² ",i,Ju|Wc|$c|vf);case 42:return ic(e,"é›¶ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹",p_,"è´Ÿ",i,Wc|$c|vf);case 41:return ic(e,"é›¶å£¹è´°åè‚†ä¼é™†æŸ’æŒçŽ–",m_,"è´Ÿ",i,Ju|Wc|$c|vf);case 26:return ic(e,"ã€‡ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹","åç™¾åƒä¸‡",g_,i,0);case 25:return ic(e,"é›¶å£±å¼å‚å››ä¼å…­ä¸ƒå…«ä¹","æ‹¾ç™¾åƒä¸‡",g_,i,Ju|Wc|$c);case 31:return ic(e,"ì˜ì¼ì´ì‚¼ì‚¬ì˜¤ìœ¡ì¹ íŒ”êµ¬","ì‹­ë°±ì²œë§Œ",E1,s,Ju|Wc|$c);case 33:return ic(e,"é›¶ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹","åç™¾åƒè¬",E1,s,0);case 32:return ic(e,"é›¶å£¹è²³åƒå››äº”å…­ä¸ƒå…«ä¹","æ‹¾ç™¾åƒ",E1,s,Ju|Wc|$c);case 18:return vi(e,2406,2415,!0,n);case 20:return Ou(e,1,19999,o9,3,n);case 21:return vi(e,2790,2799,!0,n);case 22:return vi(e,2662,2671,!0,n);case 22:return Ou(e,1,10999,a9,3,n);case 23:return RA(e,"ã‚ã„ã†ãˆãŠã‹ããã‘ã“ã•ã—ã™ã›ããŸã¡ã¤ã¦ã¨ãªã«ã¬ã­ã®ã¯ã²ãµã¸ã»ã¾ã¿ã‚€ã‚ã‚‚ã‚„ã‚†ã‚ˆã‚‰ã‚Šã‚‹ã‚Œã‚ã‚ã‚ã‚‘ã‚’ã‚“");case 24:return RA(e,"ã„ã‚ã¯ã«ã»ã¸ã¨ã¡ã‚Šã¬ã‚‹ã‚’ã‚ã‹ã‚ˆãŸã‚Œãã¤ã­ãªã‚‰ã‚€ã†ã‚ã®ãŠãã‚„ã¾ã‘ãµã“ãˆã¦ã‚ã•ãã‚†ã‚ã¿ã—ã‚‘ã²ã‚‚ã›ã™");case 27:return vi(e,3302,3311,!0,n);case 28:return RA(e,"ã‚¢ã‚¤ã‚¦ã‚¨ã‚ªã‚«ã‚­ã‚¯ã‚±ã‚³ã‚µã‚·ã‚¹ã‚»ã‚½ã‚¿ãƒãƒ„ãƒ†ãƒˆãƒŠãƒ‹ãƒŒãƒãƒŽãƒãƒ’ãƒ•ãƒ˜ãƒ›ãƒžãƒŸãƒ ãƒ¡ãƒ¢ãƒ¤ãƒ¦ãƒ¨ãƒ©ãƒªãƒ«ãƒ¬ãƒ­ãƒ¯ãƒ°ãƒ±ãƒ²ãƒ³",i);case 29:return RA(e,"ã‚¤ãƒ­ãƒãƒ‹ãƒ›ãƒ˜ãƒˆãƒãƒªãƒŒãƒ«ãƒ²ãƒ¯ã‚«ãƒ¨ã‚¿ãƒ¬ã‚½ãƒ„ãƒãƒŠãƒ©ãƒ ã‚¦ãƒ°ãƒŽã‚ªã‚¯ãƒ¤ãƒžã‚±ãƒ•ã‚³ã‚¨ãƒ†ã‚¢ã‚µã‚­ãƒ¦ãƒ¡ãƒŸã‚·ãƒ±ãƒ’ãƒ¢ã‚»ã‚¹",i);case 34:return vi(e,3792,3801,!0,n);case 37:return vi(e,6160,6169,!0,n);case 38:return vi(e,4160,4169,!0,n);case 39:return vi(e,2918,2927,!0,n);case 40:return vi(e,1776,1785,!0,n);case 43:return vi(e,3046,3055,!0,n);case 44:return vi(e,3174,3183,!0,n);case 45:return vi(e,3664,3673,!0,n);case 46:return vi(e,3872,3881,!0,n);case 3:default:return vi(e,48,57,!0,n)}},aj="data-html2canvas-ignore",y_=function(){function e(t,r,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new s9,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var n=this,i=l9(t,r);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=t.defaultView.pageXOffset,a=t.defaultView.pageYOffset,o=i.contentWindow,c=o.document,A=u9(i).then(function(){return aa(n,void 0,void 0,function(){var d,h;return Os(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(p9),o&&(o.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==r.top||o.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-r.left,o.scrollY-r.top,0,0))),d=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,A9(c)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(c,h)}).then(function(){return i})]:[2,i]}})})});return c.open(),c.write(h9(document.doctype)+"<html></html>"),f9(this.referenceElement.ownerDocument,s,a),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),A},e.prototype.createElementClone=function(t){if(B2(t,2))debugger;if(rj(t))return this.createCanvasClone(t);if(A_(t))return this.createVideoClone(t);if(u_(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return _2(r)&&(_2(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),d_(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return S1(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),i=t.cloneNode(!1);return i.textContent=n,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var i=t.cloneNode(!1);try{i.width=t.width,i.height=t.height;var s=t.getContext("2d"),a=i.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,t.width,t.height),0,0);else{var o=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(o){var c=o.getContextAttributes();(c==null?void 0:c.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}a.drawImage(t,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return i},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var i=t.ownerDocument.createElement("canvas");return i.width=t.offsetWidth,i.height=t.offsetHeight,i},e.prototype.appendChildNode=function(t,r,n){(!wd(r)||!i9(r)&&!r.hasAttribute(aj)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!wd(r)||!u_(r))&&t.appendChild(this.cloneNode(r,n))},e.prototype.cloneChildNodes=function(t,r,n){for(var i=this,s=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;s;s=s.nextSibling)if(wd(s)&&ij(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(o){return i.appendChildNode(r,o,n)})}else this.appendChildNode(r,s,n)},e.prototype.cloneNode=function(t,r){if(ej(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&wd(t)&&(S2(t)||A0(t))){var i=this.createElementClone(t);i.style.transitionProperty="none";var s=n.getComputedStyle(t),a=n.getComputedStyle(t,":before"),o=n.getComputedStyle(t,":after");this.referenceElement===t&&S2(i)&&(this.clonedReferenceElement=i),SB(i)&&y9(i);var c=this.counters.parse(new VS(this.context,s)),A=this.resolvePseudoContent(t,i,a,Qf.BEFORE);d_(t)&&(r=!0),A_(t)||this.cloneChildNodes(t,i,r),A&&i.insertBefore(A,i.firstChild);var d=this.resolvePseudoContent(t,i,o,Qf.AFTER);return d&&i.appendChild(d),this.counters.pop(c),(s&&(this.options.copyStyles||A0(t))&&!nj(t)||r)&&S1(s,i),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([i,t.scrollLeft,t.scrollTop]),(sy(t)||ay(t))&&(sy(i)||ay(i))&&(i.value=t.value),i}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,n,i){var s=this;if(n){var a=n.content,o=r.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||n.display==="none")){this.counters.parse(new VS(this.context,n));var c=new eH(this.context,n),A=o.createElement("html2canvaspseudoelement");S1(n,A),c.content.forEach(function(h){if(h.type===0)A.appendChild(o.createTextNode(h.value));else if(h.type===22){var f=o.createElement("img");f.src=h.value,f.style.opacity="1",A.appendChild(f)}else if(h.type===18){if(h.name==="attr"){var u=h.values.filter(Tn);u.length&&A.appendChild(o.createTextNode(t.getAttribute(u[0].value)||""))}else if(h.name==="counter"){var g=h.values.filter(Zd),m=g[0],x=g[1];if(m&&Tn(m)){var p=s.counters.getCounterValue(m.value),y=x&&Tn(x)?x2.parse(s.context,x.value):3;A.appendChild(o.createTextNode(vp(p,y,!1)))}}else if(h.name==="counters"){var w=h.values.filter(Zd),m=w[0],b=w[1],x=w[2];if(m&&Tn(m)){var I=s.counters.getCounterValues(m.value),F=x&&Tn(x)?x2.parse(s.context,x.value):3,R=b&&b.type===0?b.value:"",Q=I.map(function(q){return vp(q,F,!1)}).join(R);A.appendChild(o.createTextNode(Q))}}}else if(h.type===20)switch(h.value){case"open-quote":A.appendChild(o.createTextNode($S(c.quotes,s.quoteDepth++,!0)));break;case"close-quote":A.appendChild(o.createTextNode($S(c.quotes,--s.quoteDepth,!1)));break;default:A.appendChild(o.createTextNode(h.value))}}),A.className=N2+" "+k2;var d=i===Qf.BEFORE?" "+N2:" "+k2;return A0(r)?r.className.baseValue+=d:r.className+=d,A}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),Qf;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(Qf||(Qf={}));var l9=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(aj,"true"),e.body.appendChild(r),r},c9=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},A9=function(e){return Promise.all([].slice.call(e.images,0).map(c9))},u9=function(e){return new Promise(function(t,r){var n=e.contentWindow;if(!n)return r("No window assigned for iframe");var i=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),t(e))},50)}})},d9=["all","d","content"],S1=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e.item(r);d9.indexOf(n)===-1&&t.style.setProperty(n,e.getPropertyValue(n))}return t},h9=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},f9=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},p9=function(e){var t=e[0],r=e[1],n=e[2];t.scrollLeft=r,t.scrollTop=n},m9=":before",g9=":after",N2="___html2canvas___pseudoelement_before",k2="___html2canvas___pseudoelement_after",w_=`{
    content: "" !important;
    display: none !important;
}`,y9=function(e){w9(e,"."+N2+m9+w_+`
         .`+k2+g9+w_)},w9=function(e,t){var r=e.ownerDocument;if(r){var n=r.createElement("style");n.textContent=t,e.appendChild(n)}},oj=function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),b9=function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(N1(t)||C9(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return aa(this,void 0,void 0,function(){var r,n,i,s,a=this;return Os(this,function(o){switch(o.label){case 0:return r=oj.isSameOrigin(t),n=!_1(t)&&this._options.useCORS===!0&&ys.SUPPORT_CORS_IMAGES&&!r,i=!_1(t)&&!r&&!N1(t)&&typeof this._options.proxy=="string"&&ys.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!_1(t)&&!N1(t)&&!i&&!n?[2]:(s=t,i?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(c,A){var d=new Image;d.onload=function(){return c(d)},d.onerror=A,(E9(s)||n)&&(d.crossOrigin="anonymous"),d.src=s,d.complete===!0&&setTimeout(function(){return c(d)},500),a._options.imageTimeout>0&&setTimeout(function(){return A("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=t.substring(0,256);return new Promise(function(s,a){var o=ys.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(o==="text")s(c.response);else{var h=new FileReader;h.addEventListener("load",function(){return s(h.result)},!1),h.addEventListener("error",function(f){return a(f)},!1),h.readAsDataURL(c.response)}else a("Failed to proxy resource "+i+" with status code "+c.status)},c.onerror=a;var A=n.indexOf("?")>-1?"&":"?";if(c.open("GET",""+n+A+"url="+encodeURIComponent(t)+"&responseType="+o),o!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=o),r._options.imageTimeout){var d=r._options.imageTimeout;c.timeout=d,c.ontimeout=function(){return a("Timed out ("+d+"ms) proxying "+i)}}c.send()})},e}(),v9=/^data:image\/svg\+xml/i,x9=/^data:image\/.*;base64,/i,B9=/^data:image\/.*/i,C9=function(e){return ys.SUPPORT_SVG_DRAWING||!S9(e)},_1=function(e){return B9.test(e)},E9=function(e){return x9.test(e)},N1=function(e){return e.substr(0,4)==="blob"},S9=function(e){return e.substr(-3).toLowerCase()==="svg"||v9.test(e)},Xt=function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e}(),Pu=function(e,t,r){return new Xt(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},fg=function(){function e(t,r,n,i){this.type=1,this.start=t,this.startControl=r,this.endControl=n,this.end=i}return e.prototype.subdivide=function(t,r){var n=Pu(this.start,this.startControl,t),i=Pu(this.startControl,this.endControl,t),s=Pu(this.endControl,this.end,t),a=Pu(n,i,t),o=Pu(i,s,t),c=Pu(a,o,t);return r?new e(this.start,n,a,c):new e(c,o,s,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Co=function(e){return e.type===1},_9=function(){function e(t){var r=t.styles,n=t.bounds,i=wf(r.borderTopLeftRadius,n.width,n.height),s=i[0],a=i[1],o=wf(r.borderTopRightRadius,n.width,n.height),c=o[0],A=o[1],d=wf(r.borderBottomRightRadius,n.width,n.height),h=d[0],f=d[1],u=wf(r.borderBottomLeftRadius,n.width,n.height),g=u[0],m=u[1],x=[];x.push((s+c)/n.width),x.push((g+h)/n.width),x.push((a+m)/n.height),x.push((A+f)/n.height);var p=Math.max.apply(Math,x);p>1&&(s/=p,a/=p,c/=p,A/=p,h/=p,f/=p,g/=p,m/=p);var y=n.width-c,w=n.height-f,b=n.width-h,I=n.height-m,F=r.borderTopWidth,R=r.borderRightWidth,Q=r.borderBottomWidth,k=r.borderLeftWidth,$=On(r.paddingTop,t.bounds.width),q=On(r.paddingRight,t.bounds.width),T=On(r.paddingBottom,t.bounds.width),K=On(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?Zn(n.left+k/3,n.top+F/3,s-k/3,a-F/3,wn.TOP_LEFT):new Xt(n.left+k/3,n.top+F/3),this.topRightBorderDoubleOuterBox=s>0||a>0?Zn(n.left+y,n.top+F/3,c-R/3,A-F/3,wn.TOP_RIGHT):new Xt(n.left+n.width-R/3,n.top+F/3),this.bottomRightBorderDoubleOuterBox=h>0||f>0?Zn(n.left+b,n.top+w,h-R/3,f-Q/3,wn.BOTTOM_RIGHT):new Xt(n.left+n.width-R/3,n.top+n.height-Q/3),this.bottomLeftBorderDoubleOuterBox=g>0||m>0?Zn(n.left+k/3,n.top+I,g-k/3,m-Q/3,wn.BOTTOM_LEFT):new Xt(n.left+k/3,n.top+n.height-Q/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?Zn(n.left+k*2/3,n.top+F*2/3,s-k*2/3,a-F*2/3,wn.TOP_LEFT):new Xt(n.left+k*2/3,n.top+F*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?Zn(n.left+y,n.top+F*2/3,c-R*2/3,A-F*2/3,wn.TOP_RIGHT):new Xt(n.left+n.width-R*2/3,n.top+F*2/3),this.bottomRightBorderDoubleInnerBox=h>0||f>0?Zn(n.left+b,n.top+w,h-R*2/3,f-Q*2/3,wn.BOTTOM_RIGHT):new Xt(n.left+n.width-R*2/3,n.top+n.height-Q*2/3),this.bottomLeftBorderDoubleInnerBox=g>0||m>0?Zn(n.left+k*2/3,n.top+I,g-k*2/3,m-Q*2/3,wn.BOTTOM_LEFT):new Xt(n.left+k*2/3,n.top+n.height-Q*2/3),this.topLeftBorderStroke=s>0||a>0?Zn(n.left+k/2,n.top+F/2,s-k/2,a-F/2,wn.TOP_LEFT):new Xt(n.left+k/2,n.top+F/2),this.topRightBorderStroke=s>0||a>0?Zn(n.left+y,n.top+F/2,c-R/2,A-F/2,wn.TOP_RIGHT):new Xt(n.left+n.width-R/2,n.top+F/2),this.bottomRightBorderStroke=h>0||f>0?Zn(n.left+b,n.top+w,h-R/2,f-Q/2,wn.BOTTOM_RIGHT):new Xt(n.left+n.width-R/2,n.top+n.height-Q/2),this.bottomLeftBorderStroke=g>0||m>0?Zn(n.left+k/2,n.top+I,g-k/2,m-Q/2,wn.BOTTOM_LEFT):new Xt(n.left+k/2,n.top+n.height-Q/2),this.topLeftBorderBox=s>0||a>0?Zn(n.left,n.top,s,a,wn.TOP_LEFT):new Xt(n.left,n.top),this.topRightBorderBox=c>0||A>0?Zn(n.left+y,n.top,c,A,wn.TOP_RIGHT):new Xt(n.left+n.width,n.top),this.bottomRightBorderBox=h>0||f>0?Zn(n.left+b,n.top+w,h,f,wn.BOTTOM_RIGHT):new Xt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=g>0||m>0?Zn(n.left,n.top+I,g,m,wn.BOTTOM_LEFT):new Xt(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||a>0?Zn(n.left+k,n.top+F,Math.max(0,s-k),Math.max(0,a-F),wn.TOP_LEFT):new Xt(n.left+k,n.top+F),this.topRightPaddingBox=c>0||A>0?Zn(n.left+Math.min(y,n.width-R),n.top+F,y>n.width+R?0:Math.max(0,c-R),Math.max(0,A-F),wn.TOP_RIGHT):new Xt(n.left+n.width-R,n.top+F),this.bottomRightPaddingBox=h>0||f>0?Zn(n.left+Math.min(b,n.width-k),n.top+Math.min(w,n.height-Q),Math.max(0,h-R),Math.max(0,f-Q),wn.BOTTOM_RIGHT):new Xt(n.left+n.width-R,n.top+n.height-Q),this.bottomLeftPaddingBox=g>0||m>0?Zn(n.left+k,n.top+Math.min(I,n.height-Q),Math.max(0,g-k),Math.max(0,m-Q),wn.BOTTOM_LEFT):new Xt(n.left+k,n.top+n.height-Q),this.topLeftContentBox=s>0||a>0?Zn(n.left+k+K,n.top+F+$,Math.max(0,s-(k+K)),Math.max(0,a-(F+$)),wn.TOP_LEFT):new Xt(n.left+k+K,n.top+F+$),this.topRightContentBox=c>0||A>0?Zn(n.left+Math.min(y,n.width+k+K),n.top+F+$,y>n.width+k+K?0:c-k+K,A-(F+$),wn.TOP_RIGHT):new Xt(n.left+n.width-(R+q),n.top+F+$),this.bottomRightContentBox=h>0||f>0?Zn(n.left+Math.min(b,n.width-(k+K)),n.top+Math.min(w,n.height+F+$),Math.max(0,h-(R+q)),f-(Q+T),wn.BOTTOM_RIGHT):new Xt(n.left+n.width-(R+q),n.top+n.height-(Q+T)),this.bottomLeftContentBox=g>0||m>0?Zn(n.left+k+K,n.top+I,Math.max(0,g-(k+K)),m-(Q+T),wn.BOTTOM_LEFT):new Xt(n.left+k+K,n.top+n.height-(Q+T))}return e}(),wn;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(wn||(wn={}));var Zn=function(e,t,r,n,i){var s=4*((Math.sqrt(2)-1)/3),a=r*s,o=n*s,c=e+r,A=t+n;switch(i){case wn.TOP_LEFT:return new fg(new Xt(e,A),new Xt(e,A-o),new Xt(c-a,t),new Xt(c,t));case wn.TOP_RIGHT:return new fg(new Xt(e,t),new Xt(e+a,t),new Xt(c,A-o),new Xt(c,A));case wn.BOTTOM_RIGHT:return new fg(new Xt(c,t),new Xt(c,t+o),new Xt(e+a,A),new Xt(e,A));case wn.BOTTOM_LEFT:default:return new fg(new Xt(c,A),new Xt(c-a,A),new Xt(e,t+o),new Xt(e,t))}},oy=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},N9=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},ly=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},k9=function(){function e(t,r,n){this.offsetX=t,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return e}(),pg=function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e}(),I9=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),T9=function(e){return e.type===0},lj=function(e){return e.type===1},F9=function(e){return e.type===2},b_=function(e,t){return e.length===t.length?e.some(function(r,n){return r===t[n]}):!1},j9=function(e,t,r,n,i){return e.map(function(s,a){switch(a){case 0:return s.add(t,r);case 1:return s.add(t+n,r);case 2:return s.add(t+n,r+i);case 3:return s.add(t,r+i)}return s})},cj=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Aj=function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new _9(this.container),this.container.styles.opacity<1&&this.effects.push(new I9(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new k9(n,i,s))}if(this.container.styles.overflowX!==0){var a=oy(this.curves),o=ly(this.curves);b_(a,o)?this.effects.push(new pg(a,6)):(this.effects.push(new pg(a,2)),this.effects.push(new pg(o,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,i=this.effects.slice(0);n;){var s=n.effects.filter(function(c){return!lj(c)});if(r||n.container.styles.position!==0||!n.parent){if(i.unshift.apply(i,s),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var a=oy(n.curves),o=ly(n.curves);b_(a,o)||i.unshift(new pg(o,6))}}else i.unshift.apply(i,s);n=n.parent}return i.filter(function(c){return Xi(c.target,t)})},e}(),I2=function(e,t,r,n){e.container.elements.forEach(function(i){var s=Xi(i.flags,4),a=Xi(i.flags,2),o=new Aj(i,e);Xi(i.styles.display,2048)&&n.push(o);var c=Xi(i.flags,8)?[]:n;if(s||a){var A=s||i.styles.isPositioned()?r:t,d=new cj(o);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var h=i.styles.zIndex.order;if(h<0){var f=0;A.negativeZIndex.some(function(g,m){return h>g.element.container.styles.zIndex.order?(f=m,!1):f>0}),A.negativeZIndex.splice(f,0,d)}else if(h>0){var u=0;A.positiveZIndex.some(function(g,m){return h>=g.element.container.styles.zIndex.order?(u=m+1,!1):u>0}),A.positiveZIndex.splice(u,0,d)}else A.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else i.styles.isFloating()?A.nonPositionedFloats.push(d):A.nonPositionedInlineLevel.push(d);I2(o,d,s?d:r,c)}else i.styles.isInlineLevel()?t.inlineLevel.push(o):t.nonInlineLevel.push(o),I2(o,t,r,c);Xi(i.flags,8)&&uj(i,c)})},uj=function(e,t){for(var r=e instanceof E2?e.start:1,n=e instanceof E2?e.reversed:!1,i=0;i<t.length;i++){var s=t[i];s.container instanceof $F&&typeof s.container.value=="number"&&s.container.value!==0&&(r=s.container.value),s.listValue=vp(r,s.container.styles.listStyleType,!0),r+=n?-1:1}},U9=function(e){var t=new Aj(e,null),r=new cj(t),n=[];return I2(t,r,r,n),uj(t.container,n),r},v_=function(e,t){switch(t){case 0:return ko(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return ko(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return ko(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return ko(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},L9=function(e,t){switch(t){case 0:return ko(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return ko(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return ko(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return ko(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},D9=function(e,t){switch(t){case 0:return ko(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return ko(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return ko(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return ko(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},R9=function(e,t){switch(t){case 0:return mg(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return mg(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return mg(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return mg(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},mg=function(e,t){var r=[];return Co(e)?r.push(e.subdivide(.5,!1)):r.push(e),Co(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},ko=function(e,t,r,n){var i=[];return Co(e)?i.push(e.subdivide(.5,!1)):i.push(e),Co(r)?i.push(r.subdivide(.5,!0)):i.push(r),Co(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),Co(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},dj=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},cy=function(e){var t=e.styles,r=e.bounds,n=On(t.paddingLeft,r.width),i=On(t.paddingRight,r.width),s=On(t.paddingTop,r.width),a=On(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,s+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+i),-(t.borderTopWidth+t.borderBottomWidth+s+a))},O9=function(e,t){return e===0?t.bounds:e===2?cy(t):dj(t)},P9=function(e,t){return e===0?t.bounds:e===2?cy(t):dj(t)},k1=function(e,t,r){var n=O9(Zu(e.styles.backgroundOrigin,t),e),i=P9(Zu(e.styles.backgroundClip,t),e),s=Q9(Zu(e.styles.backgroundSize,t),r,n),a=s[0],o=s[1],c=wf(Zu(e.styles.backgroundPosition,t),n.width-a,n.height-o),A=M9(Zu(e.styles.backgroundRepeat,t),c,s,n,i),d=Math.round(n.left+c[0]),h=Math.round(n.top+c[1]);return[A,d,h,a,o]},Qu=function(e){return Tn(e)&&e.value===Fd.AUTO},gg=function(e){return typeof e=="number"},Q9=function(e,t,r){var n=t[0],i=t[1],s=t[2],a=e[0],o=e[1];if(!a)return[0,0];if(Pi(a)&&o&&Pi(o))return[On(a,r.width),On(o,r.height)];var c=gg(s);if(Tn(a)&&(a.value===Fd.CONTAIN||a.value===Fd.COVER)){if(gg(s)){var A=r.width/r.height;return A<s!=(a.value===Fd.COVER)?[r.width,r.width/s]:[r.height*s,r.height]}return[r.width,r.height]}var d=gg(n),h=gg(i),f=d||h;if(Qu(a)&&(!o||Qu(o))){if(d&&h)return[n,i];if(!c&&!f)return[r.width,r.height];if(f&&c){var u=d?n:i*s,g=h?i:n/s;return[u,g]}var m=d?n:r.width,x=h?i:r.height;return[m,x]}if(c){var p=0,y=0;return Pi(a)?p=On(a,r.width):Pi(o)&&(y=On(o,r.height)),Qu(a)?p=y*s:(!o||Qu(o))&&(y=p/s),[p,y]}var w=null,b=null;if(Pi(a)?w=On(a,r.width):o&&Pi(o)&&(b=On(o,r.height)),w!==null&&(!o||Qu(o))&&(b=d&&h?w/n*i:r.height),b!==null&&Qu(a)&&(w=d&&h?b/i*n:r.width),w!==null&&b!==null)return[w,b];throw new Error("Unable to calculate background-size for element")},Zu=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},M9=function(e,t,r,n,i){var s=t[0],a=t[1],o=r[0],c=r[1];switch(e){case 2:return[new Xt(Math.round(n.left),Math.round(n.top+a)),new Xt(Math.round(n.left+n.width),Math.round(n.top+a)),new Xt(Math.round(n.left+n.width),Math.round(c+n.top+a)),new Xt(Math.round(n.left),Math.round(c+n.top+a))];case 3:return[new Xt(Math.round(n.left+s),Math.round(n.top)),new Xt(Math.round(n.left+s+o),Math.round(n.top)),new Xt(Math.round(n.left+s+o),Math.round(n.height+n.top)),new Xt(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new Xt(Math.round(n.left+s),Math.round(n.top+a)),new Xt(Math.round(n.left+s+o),Math.round(n.top+a)),new Xt(Math.round(n.left+s+o),Math.round(n.top+a+c)),new Xt(Math.round(n.left+s),Math.round(n.top+a+c))];default:return[new Xt(Math.round(i.left),Math.round(i.top)),new Xt(Math.round(i.left+i.width),Math.round(i.top)),new Xt(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Xt(Math.round(i.left),Math.round(i.height+i.top))]}},H9="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",x_="Hidden Text",z9=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var n=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),i.src=H9,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=t,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(x_)),n.appendChild(s),n.appendChild(i);var o=i.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(x_)),n.style.lineHeight="normal",i.style.verticalAlign="super";var c=i.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:o,middle:c}},e.prototype.getMetrics=function(t,r){var n=t+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(t,r)),this._data[n]},e}(),hj=function(){function e(t,r){this.context=t,this.options=r}return e}(),K9=1e4,q9=function(e){ll(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i._activeEffects=[],i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),n.canvas||(i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px"),i.fontMetrics=new z9(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),i}return t.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(i){return n.applyEffect(i)})},t.prototype.applyEffect=function(r){this.ctx.save(),F9(r)&&(this.ctx.globalAlpha=r.opacity),T9(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),lj(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return aa(this,void 0,void 0,function(){var n;return Os(this,function(i){switch(i.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return aa(this,void 0,void 0,function(){return Os(this,function(n){switch(n.label){case 0:if(Xi(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,n,i){var s=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+i);else{var a=CB(r.text);a.reduce(function(o,c){return s.ctx.fillText(c,o,r.bounds.top+i),o+s.ctx.measureText(c).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),i=X9(r.fontFamily).join(", "),s=Hp(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,s,i].join(" "),i,s]},t.prototype.renderTextNode=function(r,n){return aa(this,void 0,void 0,function(){var i,s,a,o,c,A,d,h,f=this;return Os(this,function(u){return i=this.createFontStyle(n),s=i[0],a=i[1],o=i[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(a,o),A=c.baseline,d=c.middle,h=n.paintOrder,r.textBounds.forEach(function(g){h.forEach(function(m){switch(m){case 0:f.ctx.fillStyle=rs(n.color),f.renderTextWithLetterSpacing(g,n.letterSpacing,A);var x=n.textShadow;x.length&&g.text.trim().length&&(x.slice(0).reverse().forEach(function(p){f.ctx.shadowColor=rs(p.color),f.ctx.shadowOffsetX=p.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=p.offsetY.number*f.options.scale,f.ctx.shadowBlur=p.blur.number,f.renderTextWithLetterSpacing(g,n.letterSpacing,A)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),n.textDecorationLine.length&&(f.ctx.fillStyle=rs(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(p){switch(p){case 1:f.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top+A),g.bounds.width,1);break;case 2:f.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top),g.bounds.width,1);break;case 3:f.ctx.fillRect(g.bounds.left,Math.ceil(g.bounds.top+d),g.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&g.text.trim().length&&(f.ctx.strokeStyle=rs(n.webkitTextStrokeColor),f.ctx.lineWidth=n.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(g.text,g.bounds.left,g.bounds.top+A)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,n,i){if(i&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var s=cy(r),a=ly(n);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,r.intrinsicWidth,r.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return aa(this,void 0,void 0,function(){var n,i,s,a,o,c,y,y,A,d,h,f,b,u,g,I,m,x,p,y,w,b,I;return Os(this,function(F){switch(F.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,i=r.curves,s=n.styles,a=0,o=n.textNodes,F.label=1;case 1:return a<o.length?(c=o[a],[4,this.renderTextNode(c,s)]):[3,4];case 2:F.sent(),F.label=3;case 3:return a++,[3,1];case 4:if(!(n instanceof qF))return[3,8];F.label=5;case 5:return F.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return y=F.sent(),this.renderReplacedElement(n,i,y),[3,8];case 7:return F.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof GF&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof WF))return[3,12];F.label=9;case 9:return F.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return y=F.sent(),this.renderReplacedElement(n,i,y),[3,12];case 11:return F.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof YF&&n.tree?(A=new t(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,A.render(n.tree)]):[3,14];case 13:d=F.sent(),n.width&&n.height&&this.ctx.drawImage(d,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),F.label=14;case 14:if(n instanceof EB&&(h=Math.min(n.bounds.width,n.bounds.height),n.type===ny?n.checked&&(this.ctx.save(),this.path([new Xt(n.bounds.left+h*.39363,n.bounds.top+h*.79),new Xt(n.bounds.left+h*.16,n.bounds.top+h*.5549),new Xt(n.bounds.left+h*.27347,n.bounds.top+h*.44071),new Xt(n.bounds.left+h*.39694,n.bounds.top+h*.5649),new Xt(n.bounds.left+h*.72983,n.bounds.top+h*.23),new Xt(n.bounds.left+h*.84,n.bounds.top+h*.34085),new Xt(n.bounds.left+h*.39363,n.bounds.top+h*.79)]),this.ctx.fillStyle=rs(c_),this.ctx.fill(),this.ctx.restore()):n.type===iy&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+h/2,n.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=rs(c_),this.ctx.fill(),this.ctx.restore())),G9(n)&&n.value.length){switch(f=this.createFontStyle(s),b=f[0],u=f[1],g=this.fontMetrics.getMetrics(b,u).baseline,this.ctx.font=b,this.ctx.fillStyle=rs(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=$9(n.styles.textAlign),I=cy(n),m=0,n.styles.textAlign){case 1:m+=I.width/2;break;case 2:m+=I.width;break}x=I.add(m,0,0,-I.height/2+1),this.ctx.save(),this.path([new Xt(I.left,I.top),new Xt(I.left+I.width,I.top),new Xt(I.left+I.width,I.top+I.height),new Xt(I.left,I.top+I.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Pf(n.value,x),s.letterSpacing,g),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Xi(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(p=n.styles.listStyleImage,p.type!==0)return[3,18];y=void 0,w=p.url,F.label=15;case 15:return F.trys.push([15,17,,18]),[4,this.context.cache.match(w)];case 16:return y=F.sent(),this.ctx.drawImage(y,n.bounds.left-(y.width+10),n.bounds.top),[3,18];case 17:return F.sent(),this.context.logger.error("Error loading list-style-image "+w),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(b=this.createFontStyle(s)[0],this.ctx.font=b,this.ctx.fillStyle=rs(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",I=new Ec(n.bounds.left,n.bounds.top+On(n.styles.paddingTop,n.bounds.width),n.bounds.width,GS(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Pf(r.listValue,I),s.letterSpacing,GS(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),F.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return aa(this,void 0,void 0,function(){var n,i,p,s,a,p,o,c,p,A,d,p,h,f,p,u,g,p,m,x,p;return Os(this,function(y){switch(y.label){case 0:if(Xi(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:y.sent(),n=0,i=r.negativeZIndex,y.label=2;case 2:return n<i.length?(p=i[n],[4,this.renderStack(p)]):[3,5];case 3:y.sent(),y.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:y.sent(),s=0,a=r.nonInlineLevel,y.label=7;case 7:return s<a.length?(p=a[s],[4,this.renderNode(p)]):[3,10];case 8:y.sent(),y.label=9;case 9:return s++,[3,7];case 10:o=0,c=r.nonPositionedFloats,y.label=11;case 11:return o<c.length?(p=c[o],[4,this.renderStack(p)]):[3,14];case 12:y.sent(),y.label=13;case 13:return o++,[3,11];case 14:A=0,d=r.nonPositionedInlineLevel,y.label=15;case 15:return A<d.length?(p=d[A],[4,this.renderStack(p)]):[3,18];case 16:y.sent(),y.label=17;case 17:return A++,[3,15];case 18:h=0,f=r.inlineLevel,y.label=19;case 19:return h<f.length?(p=f[h],[4,this.renderNode(p)]):[3,22];case 20:y.sent(),y.label=21;case 21:return h++,[3,19];case 22:u=0,g=r.zeroOrAutoZIndexOrTransformedOrOpacity,y.label=23;case 23:return u<g.length?(p=g[u],[4,this.renderStack(p)]):[3,26];case 24:y.sent(),y.label=25;case 25:return u++,[3,23];case 26:m=0,x=r.positiveZIndex,y.label=27;case 27:return m<x.length?(p=x[m],[4,this.renderStack(p)]):[3,30];case 28:y.sent(),y.label=29;case 29:return m++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var n=this;r.forEach(function(i,s){var a=Co(i)?i.start:i;s===0?n.ctx.moveTo(a.x,a.y):n.ctx.lineTo(a.x,a.y),Co(i)&&n.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},t.prototype.renderRepeat=function(r,n,i,s){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},t.prototype.resizeImage=function(r,n,i){var s;if(r.width===n&&r.height===i)return r;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=a.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,i);var c=o.getContext("2d");return c.drawImage(r,0,0,r.width,r.height,0,0,n,i),o},t.prototype.renderBackgroundImage=function(r){return aa(this,void 0,void 0,function(){var n,i,s,a,o,c;return Os(this,function(A){switch(A.label){case 0:n=r.styles.backgroundImage.length-1,i=function(d){var h,f,u,$,ge,Y,K,v,Q,g,$,ge,Y,K,v,m,x,p,y,w,b,I,F,R,Q,k,$,q,T,K,v,re,ge,Y,fe,le,ne,ae,_,O,G,oe;return Os(this,function(Ae){switch(Ae.label){case 0:if(d.type!==0)return[3,5];h=void 0,f=d.url,Ae.label=1;case 1:return Ae.trys.push([1,3,,4]),[4,s.context.cache.match(f)];case 2:return h=Ae.sent(),[3,4];case 3:return Ae.sent(),s.context.logger.error("Error loading background-image "+f),[3,4];case 4:return h&&(u=k1(r,n,[h.width,h.height,h.width/h.height]),$=u[0],ge=u[1],Y=u[2],K=u[3],v=u[4],Q=s.ctx.createPattern(s.resizeImage(h,K,v),"repeat"),s.renderRepeat($,Q,ge,Y)),[3,6];case 5:TM(d)?(g=k1(r,n,[null,null,null]),$=g[0],ge=g[1],Y=g[2],K=g[3],v=g[4],m=SM(d.angle,K,v),x=m[0],p=m[1],y=m[2],w=m[3],b=m[4],I=document.createElement("canvas"),I.width=K,I.height=v,F=I.getContext("2d"),R=F.createLinearGradient(p,w,y,b),KS(d.stops,x).forEach(function(U){return R.addColorStop(U.stop,rs(U.color))}),F.fillStyle=R,F.fillRect(0,0,K,v),K>0&&v>0&&(Q=s.ctx.createPattern(I,"repeat"),s.renderRepeat($,Q,ge,Y))):FM(d)&&(k=k1(r,n,[null,null,null]),$=k[0],q=k[1],T=k[2],K=k[3],v=k[4],re=d.position.length===0?[vB]:d.position,ge=On(re[0],K),Y=On(re[re.length-1],v),fe=_M(d,ge,Y,K,v),le=fe[0],ne=fe[1],le>0&&ne>0&&(ae=s.ctx.createRadialGradient(q+ge,T+Y,0,q+ge,T+Y,le),KS(d.stops,le*2).forEach(function(U){return ae.addColorStop(U.stop,rs(U.color))}),s.path($),s.ctx.fillStyle=ae,le!==ne?(_=r.bounds.left+.5*r.bounds.width,O=r.bounds.top+.5*r.bounds.height,G=ne/le,oe=1/G,s.ctx.save(),s.ctx.translate(_,O),s.ctx.transform(1,0,0,G,0,0),s.ctx.translate(-_,-O),s.ctx.fillRect(q,oe*(T-O)+O,K,v*oe),s.ctx.restore()):s.ctx.fill())),Ae.label=6;case 6:return n--,[2]}})},s=this,a=0,o=r.styles.backgroundImage.slice(0).reverse(),A.label=1;case 1:return a<o.length?(c=o[a],[5,i(c)]):[3,4];case 2:A.sent(),A.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,n,i){return aa(this,void 0,void 0,function(){return Os(this,function(s){return this.path(v_(i,n)),this.ctx.fillStyle=rs(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,n,i,s){return aa(this,void 0,void 0,function(){var a,o;return Os(this,function(c){switch(c.label){case 0:return n<3?[4,this.renderSolidBorder(r,i,s)]:[3,2];case 1:return c.sent(),[2];case 2:return a=L9(s,i),this.path(a),this.ctx.fillStyle=rs(r),this.ctx.fill(),o=D9(s,i),this.path(o),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return aa(this,void 0,void 0,function(){var n,i,s,a,o,c,A,d,h=this;return Os(this,function(f){switch(f.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,i=!yA(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],a=W9(Zu(n.backgroundClip,0),r.curves),i||n.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),yA(n.backgroundColor)||(this.ctx.fillStyle=rs(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(u){h.ctx.save();var g=oy(r.curves),m=u.inset?0:K9,x=j9(g,-m+(u.inset?1:-1)*u.spread.number,(u.inset?1:-1)*u.spread.number,u.spread.number*(u.inset?-2:2),u.spread.number*(u.inset?-2:2));u.inset?(h.path(g),h.ctx.clip(),h.mask(x)):(h.mask(g),h.ctx.clip(),h.path(x)),h.ctx.shadowOffsetX=u.offsetX.number+m,h.ctx.shadowOffsetY=u.offsetY.number,h.ctx.shadowColor=rs(u.color),h.ctx.shadowBlur=u.blur.number,h.ctx.fillStyle=u.inset?rs(u.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),f.label=2;case 2:o=0,c=0,A=s,f.label=3;case 3:return c<A.length?(d=A[c],d.style!==0&&!yA(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,o,r.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,o,r.curves,3)];case 6:return f.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,o,r.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,o,r.curves)];case 10:f.sent(),f.label=11;case 11:o++,f.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,n,i,s,a){return aa(this,void 0,void 0,function(){var o,c,A,d,h,f,u,g,m,x,p,y,w,b,I,F,I,F;return Os(this,function(R){return this.ctx.save(),o=R9(s,i),c=v_(s,i),a===2&&(this.path(c),this.ctx.clip()),Co(c[0])?(A=c[0].start.x,d=c[0].start.y):(A=c[0].x,d=c[0].y),Co(c[1])?(h=c[1].end.x,f=c[1].end.y):(h=c[1].x,f=c[1].y),i===0||i===2?u=Math.abs(A-h):u=Math.abs(d-f),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(c.slice(0,2)),g=n<3?n*3:n*2,m=n<3?n*2:n,a===3&&(g=n,m=n),x=!0,u<=g*2?x=!1:u<=g*2+m?(p=u/(2*g+m),g*=p,m*=p):(y=Math.floor((u+m)/(g+m)),w=(u-y*g)/(y-1),b=(u-(y+1)*g)/y,m=b<=0||Math.abs(m-w)<Math.abs(m-b)?w:b),x&&(a===3?this.ctx.setLineDash([0,g+m]):this.ctx.setLineDash([g,m])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=rs(r),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(Co(c[0])&&(I=c[3],F=c[0],this.ctx.beginPath(),this.formatPath([new Xt(I.end.x,I.end.y),new Xt(F.start.x,F.start.y)]),this.ctx.stroke()),Co(c[1])&&(I=c[1],F=c[2],this.ctx.beginPath(),this.formatPath([new Xt(I.end.x,I.end.y),new Xt(F.start.x,F.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return aa(this,void 0,void 0,function(){var n;return Os(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=rs(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=U9(r),[4,this.renderStack(n)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(hj),G9=function(e){return e instanceof XF||e instanceof VF?!0:e instanceof EB&&e.type!==iy&&e.type!==ny},W9=function(e,t){switch(e){case 0:return oy(t);case 2:return N9(t);case 1:default:return ly(t)}},$9=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},V9=["-apple-system","system-ui"],X9=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return V9.indexOf(t)===-1}):e},Y9=function(e){ll(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.canvas=n.canvas?n.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=n,i.canvas.width=Math.floor(n.width*n.scale),i.canvas.height=Math.floor(n.height*n.scale),i.canvas.style.width=n.width+"px",i.canvas.style.height=n.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-n.x,-n.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),i}return t.prototype.render=function(r){return aa(this,void 0,void 0,function(){var n,i;return Os(this,function(s){switch(s.label){case 0:return n=C2(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,J9(n)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=rs(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(hj),J9=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Z9=function(){function e(t){var r=t.id,n=t.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Vm([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Vm([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Vm([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Vm([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),ez=function(){function e(t,r){var n;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new Z9({id:this.instanceName,enabled:t.logging}),this.cache=(n=t.cache)!==null&&n!==void 0?n:new b9(this,t)}return e.instanceCount=1,e}(),fj=function(e,t){return t===void 0&&(t={}),tz(e,t)};typeof window<"u"&&oj.setContext(window);var tz=function(e,t){return aa(void 0,void 0,void 0,function(){var r,n,i,s,a,o,c,A,d,h,f,u,g,m,x,p,y,w,b,I,R,F,R,Q,k,$,q,T,K,v,re,ge,Y,fe,le,ne,ae,_,O,G;return Os(this,function(oe){switch(oe.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return i={allowTaint:(Q=t.allowTaint)!==null&&Q!==void 0?Q:!1,imageTimeout:(k=t.imageTimeout)!==null&&k!==void 0?k:15e3,proxy:t.proxy,useCORS:($=t.useCORS)!==null&&$!==void 0?$:!1},s=c2({logging:(q=t.logging)!==null&&q!==void 0?q:!0,cache:t.cache},i),a={windowWidth:(T=t.windowWidth)!==null&&T!==void 0?T:n.innerWidth,windowHeight:(K=t.windowHeight)!==null&&K!==void 0?K:n.innerHeight,scrollX:(v=t.scrollX)!==null&&v!==void 0?v:n.pageXOffset,scrollY:(re=t.scrollY)!==null&&re!==void 0?re:n.pageYOffset},o=new Ec(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),c=new ez(s,o),A=(ge=t.foreignObjectRendering)!==null&&ge!==void 0?ge:!1,d={allowTaint:(Y=t.allowTaint)!==null&&Y!==void 0?Y:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:A,copyStyles:A},c.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),h=new y_(c,e,d),f=h.clonedReferenceElement,f?[4,h.toIFrame(r,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return u=oe.sent(),g=SB(f)||n9(f)?jP(f.ownerDocument):Qy(c,f),m=g.width,x=g.height,p=g.left,y=g.top,w=rz(c,f,t.backgroundColor),b={canvas:t.canvas,backgroundColor:w,scale:(le=(fe=t.scale)!==null&&fe!==void 0?fe:n.devicePixelRatio)!==null&&le!==void 0?le:1,x:((ne=t.x)!==null&&ne!==void 0?ne:0)+p,y:((ae=t.y)!==null&&ae!==void 0?ae:0)+y,width:(_=t.width)!==null&&_!==void 0?_:Math.ceil(m),height:(O=t.height)!==null&&O!==void 0?O:Math.ceil(x)},A?(c.logger.debug("Document cloned, using foreign object rendering"),R=new Y9(c,b),[4,R.render(f)]):[3,3];case 2:return I=oe.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+p+","+y+" with size "+m+"x"+x+" using computed rendering"),c.logger.debug("Starting DOM parsing"),F=ZF(c,f),w===F.styles.backgroundColor&&(F.styles.backgroundColor=bc.TRANSPARENT),c.logger.debug("Starting renderer for element at "+b.x+","+b.y+" with size "+b.width+"x"+b.height),R=new q9(c,b),[4,R.render(F)];case 4:I=oe.sent(),oe.label=5;case 5:return(!((G=t.removeContainer)!==null&&G!==void 0)||G)&&(y_.destroy(u)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,I]}})})},rz=function(e,t,r){var n=t.ownerDocument,i=n.documentElement?Rf(e,getComputedStyle(n.documentElement).backgroundColor):bc.TRANSPARENT,s=n.body?Rf(e,getComputedStyle(n.body).backgroundColor):bc.TRANSPARENT,a=typeof r=="string"?Rf(e,r):r===null?bc.TRANSPARENT:4294967295;return t===n.documentElement?yA(i)?yA(s)?a:s:i:a};const nz=Object.freeze(Object.defineProperty({__proto__:null,default:fj},Symbol.toStringTag,{value:"Module"})),iz="modulepreload",sz=function(e,t){return new URL(e,t).href},B_={},Mf=function(t,r,n){if(!r||r.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(r.map(s=>{if(s=sz(s,n),s in B_)return;B_[s]=!0;const a=s.endsWith(".css"),o=a?'[rel="stylesheet"]':"";if(!!n)for(let d=i.length-1;d>=0;d--){const h=i[d];if(h.href===s&&(!a||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${o}`))return;const A=document.createElement("link");if(A.rel=a?"stylesheet":iz,a||(A.as="script",A.crossOrigin=""),A.href=s,document.head.appendChild(A),a)return new Promise((d,h)=>{A.addEventListener("load",d),A.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})};function En(e){"@babel/helpers - typeof";return En=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},En(e)}var al=Uint8Array,Za=Uint16Array,_B=Int32Array,NB=new al([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),kB=new al([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),C_=new al([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),pj=function(e,t){for(var r=new Za(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new _B(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},mj=pj(NB,2),az=mj.b,T2=mj.r;az[28]=258,T2[258]=28;var oz=pj(kB,0),E_=oz.r,F2=new Za(32768);for(var $n=0;$n<32768;++$n){var Kc=($n&43690)>>1|($n&21845)<<1;Kc=(Kc&52428)>>2|(Kc&13107)<<2,Kc=(Kc&61680)>>4|(Kc&3855)<<4,F2[$n]=((Kc&65280)>>8|(Kc&255)<<8)>>1}var Hf=function(e,t,r){for(var n=e.length,i=0,s=new Za(t);i<n;++i)e[i]&&++s[e[i]-1];var a=new Za(t);for(i=1;i<t;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(r){o=new Za(1<<t);var c=15-t;for(i=0;i<n;++i)if(e[i])for(var A=i<<4|e[i],d=t-e[i],h=a[e[i]-1]++<<d,f=h|(1<<d)-1;h<=f;++h)o[F2[h]>>c]=A}else for(o=new Za(n),i=0;i<n;++i)e[i]&&(o[i]=F2[a[e[i]-1]++]>>15-e[i]);return o},bu=new al(288);for(var $n=0;$n<144;++$n)bu[$n]=8;for(var $n=144;$n<256;++$n)bu[$n]=9;for(var $n=256;$n<280;++$n)bu[$n]=7;for(var $n=280;$n<288;++$n)bu[$n]=8;var Ay=new al(32);for(var $n=0;$n<32;++$n)Ay[$n]=5;var lz=Hf(bu,9,0),cz=Hf(Ay,5,0),gj=function(e){return(e+7)/8|0},Az=function(e,t,r){return(t==null||t<0)&&(t=0),(r==null||r>e.length)&&(r=e.length),new al(e.subarray(t,r))},sc=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Jh=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},I1=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,s=r.slice();if(!i)return{t:wj,l:0};if(i==1){var a=new al(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(I,F){return I.f-F.f}),r.push({s:-1,f:25001});var o=r[0],c=r[1],A=0,d=1,h=2;for(r[0]={s:-1,f:o.f+c.f,l:o,r:c};d!=i-1;)o=r[r[A].f<r[h].f?A++:h++],c=r[A!=d&&r[A].f<r[h].f?A++:h++],r[d++]={s:-1,f:o.f+c.f,l:o,r:c};for(var f=s[0].s,n=1;n<i;++n)s[n].s>f&&(f=s[n].s);var u=new Za(f+1),g=j2(r[d-1],u,0);if(g>t){var n=0,m=0,x=g-t,p=1<<x;for(s.sort(function(F,R){return u[R.s]-u[F.s]||F.f-R.f});n<i;++n){var y=s[n].s;if(u[y]>t)m+=p-(1<<g-u[y]),u[y]=t;else break}for(m>>=x;m>0;){var w=s[n].s;u[w]<t?m-=1<<t-u[w]++-1:++n}for(;n>=0&&m;--n){var b=s[n].s;u[b]==t&&(--u[b],++m)}g=t}return{t:new al(u),l:g}},j2=function(e,t,r){return e.s==-1?Math.max(j2(e.l,t,r+1),j2(e.r,t,r+1)):t[e.s]=r},S_=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Za(++t),n=0,i=e[0],s=1,a=function(c){r[n++]=c},o=1;o<=t;++o)if(e[o]==i&&o!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=e[o]}return{c:r.subarray(0,n),n:t}},Zh=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},yj=function(e,t,r){var n=r.length,i=gj(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<n;++s)e[i+s+4]=r[s];return(i+4+n)*8},__=function(e,t,r,n,i,s,a,o,c,A,d){sc(t,d++,r),++i[256];for(var h=I1(i,15),f=h.t,u=h.l,g=I1(s,15),m=g.t,x=g.l,p=S_(f),y=p.c,w=p.n,b=S_(m),I=b.c,F=b.n,R=new Za(19),Q=0;Q<y.length;++Q)++R[y[Q]&31];for(var Q=0;Q<I.length;++Q)++R[I[Q]&31];for(var k=I1(R,7),$=k.t,q=k.l,T=19;T>4&&!$[C_[T-1]];--T);var K=A+5<<3,v=Zh(i,bu)+Zh(s,Ay)+a,re=Zh(i,f)+Zh(s,m)+a+14+3*T+Zh(R,$)+2*R[16]+3*R[17]+7*R[18];if(c>=0&&K<=v&&K<=re)return yj(t,d,e.subarray(c,c+A));var ge,Y,fe,le;if(sc(t,d,1+(re<v)),d+=2,re<v){ge=Hf(f,u,0),Y=f,fe=Hf(m,x,0),le=m;var ne=Hf($,q,0);sc(t,d,w-257),sc(t,d+5,F-1),sc(t,d+10,T-4),d+=14;for(var Q=0;Q<T;++Q)sc(t,d+3*Q,$[C_[Q]]);d+=3*T;for(var ae=[y,I],_=0;_<2;++_)for(var O=ae[_],Q=0;Q<O.length;++Q){var G=O[Q]&31;sc(t,d,ne[G]),d+=$[G],G>15&&(sc(t,d,O[Q]>>5&127),d+=O[Q]>>12)}}else ge=lz,Y=bu,fe=cz,le=Ay;for(var Q=0;Q<o;++Q){var oe=n[Q];if(oe>255){var G=oe>>18&31;Jh(t,d,ge[G+257]),d+=Y[G+257],G>7&&(sc(t,d,oe>>23&31),d+=NB[G]);var Ae=oe&31;Jh(t,d,fe[Ae]),d+=le[Ae],Ae>3&&(Jh(t,d,oe>>5&8191),d+=kB[Ae])}else Jh(t,d,ge[oe]),d+=Y[oe]}return Jh(t,d,ge[256]),d+Y[256]},uz=new _B([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),wj=new al(0),dz=function(e,t,r,n,i,s){var a=s.z||e.length,o=new al(n+a+5*(1+Math.ceil(a/7e3))+i),c=o.subarray(n,o.length-i),A=s.l,d=(s.r||0)&7;if(t){d&&(c[0]=s.r>>3);for(var h=uz[t-1],f=h>>13,u=h&8191,g=(1<<r)-1,m=s.p||new Za(32768),x=s.h||new Za(g+1),p=Math.ceil(r/3),y=2*p,w=function(B){return(e[B]^e[B+1]<<p^e[B+2]<<y)&g},b=new _B(25e3),I=new Za(288),F=new Za(32),R=0,Q=0,k=s.i||0,$=0,q=s.w||0,T=0;k+2<a;++k){var K=w(k),v=k&32767,re=x[K];if(m[v]=re,x[K]=v,q<=k){var ge=a-k;if((R>7e3||$>24576)&&(ge>423||!A)){d=__(e,c,0,b,I,F,Q,$,T,k-T,d),$=R=Q=0,T=k;for(var Y=0;Y<286;++Y)I[Y]=0;for(var Y=0;Y<30;++Y)F[Y]=0}var fe=2,le=0,ne=u,ae=v-re&32767;if(ge>2&&K==w(k-ae))for(var _=Math.min(f,ge)-1,O=Math.min(32767,k),G=Math.min(258,ge);ae<=O&&--ne&&v!=re;){if(e[k+fe]==e[k+fe-ae]){for(var oe=0;oe<G&&e[k+oe]==e[k+oe-ae];++oe);if(oe>fe){if(fe=oe,le=ae,oe>_)break;for(var Ae=Math.min(ae,oe-2),U=0,Y=0;Y<Ae;++Y){var M=k-ae+Y&32767,J=m[M],ce=M-J&32767;ce>U&&(U=ce,re=M)}}}v=re,re=m[v],ae+=v-re&32767}if(le){b[$++]=268435456|T2[fe]<<18|E_[le];var ee=T2[fe]&31,Z=E_[le]&31;Q+=NB[ee]+kB[Z],++I[257+ee],++F[Z],q=k+fe,++R}else b[$++]=e[k],++I[e[k]]}}for(k=Math.max(k,q);k<a;++k)b[$++]=e[k],++I[e[k]];d=__(e,c,A,b,I,F,Q,$,T,k-T,d),A||(s.r=d&7|c[d/8|0]<<3,d-=7,s.h=x,s.p=m,s.i=k,s.w=q)}else{for(var k=s.w||0;k<a+A;k+=65535){var me=k+65535;me>=a&&(c[d/8|0]=A,me=a),d=yj(c,d+1,e.subarray(k,me))}s.i=a}return Az(o,0,n+gj(d)+i)},bj=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,s=r.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=r[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},hz=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),a=new al(s.length+e.length);a.set(s),a.set(e,s.length),e=a,i.w=s.length}return dz(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,i)},vj=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},fz=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=bj();i.p(t.dictionary),vj(e,2,i.d())}};function U2(e,t){t||(t={});var r=bj();r.p(e);var n=hz(e,t,t.dictionary?6:2,4);return fz(n,t),vj(n,n.length-4,r.d()),n}var pz=typeof TextDecoder<"u"&&new TextDecoder,mz=0;try{pz.decode(wj,{stream:!0}),mz=1}catch{}function gz(e){if(Array.isArray(e))return e}function yz(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,a,o=[],c=!0,A=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){A=!0,i=d}finally{try{if(!c&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(A)throw i}}return o}}function N_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function wz(e,t){if(e){if(typeof e=="string")return N_(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?N_(e,t):void 0}}function bz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k_(e,t){return gz(e)||yz(e,t)||wz(e,t)||bz()}function I_(e,t="utf8"){return new TextDecoder(t).decode(e)}const vz=new TextEncoder;function xz(e){return vz.encode(e)}const Bz=1024*8,Cz=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),T1={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class IB{constructor(t=Bz,r={}){Br(this,"buffer");Br(this,"byteLength");Br(this,"byteOffset");Br(this,"length");Br(this,"offset");Br(this,"lastWrittenByte");Br(this,"littleEndian");Br(this,"_data");Br(this,"_mark");Br(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const i=r.offset?r.offset>>>0:0,s=t.byteLength-i;let a=i;(ArrayBuffer.isView(t)||t instanceof IB)&&(t.byteLength!==t.buffer.byteLength&&(a=t.byteOffset+i),t=t.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=t,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=T1[r].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===Cz&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const c=new T1[r](o.buffer);return this.offset+=n,c.reverse(),c}const a=new T1[r](s);return this.offset+=n,a}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return I_(this.readBytes(t))}decodeText(t=1,r="utf8"){return I_(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(xz(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Ez=4,T_=0,F_=1,Sz=2;function mh(e){let t=e.length;for(;--t>=0;)e[t]=0}const _z=0,xj=1,Nz=2,kz=3,Iz=258,TB=29,zp=256,xp=zp+1+TB,jd=30,FB=19,Bj=2*xp+1,tu=15,F1=16,Tz=7,jB=256,Cj=16,Ej=17,Sj=18,L2=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),u0=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Fz=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),_j=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),jz=512,uc=new Array((xp+2)*2);mh(uc);const zf=new Array(jd*2);mh(zf);const Bp=new Array(jz);mh(Bp);const Cp=new Array(Iz-kz+1);mh(Cp);const UB=new Array(TB);mh(UB);const uy=new Array(jd);mh(uy);function j1(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}let Nj,kj,Ij;function U1(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const Tj=e=>e<256?Bp[e]:Bp[256+(e>>>7)],Ep=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},Sa=(e,t,r)=>{e.bi_valid>F1-r?(e.bi_buf|=t<<e.bi_valid&65535,Ep(e,e.bi_buf),e.bi_buf=t>>F1-e.bi_valid,e.bi_valid+=r-F1):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},Nl=(e,t,r)=>{Sa(e,r[t*2],r[t*2+1])},Fj=(e,t)=>{let r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1},Uz=e=>{e.bi_valid===16?(Ep(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},Lz=(e,t)=>{const r=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,s=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,c=t.stat_desc.max_length;let A,d,h,f,u,g,m=0;for(f=0;f<=tu;f++)e.bl_count[f]=0;for(r[e.heap[e.heap_max]*2+1]=0,A=e.heap_max+1;A<Bj;A++)d=e.heap[A],f=r[r[d*2+1]*2+1]+1,f>c&&(f=c,m++),r[d*2+1]=f,!(d>n)&&(e.bl_count[f]++,u=0,d>=o&&(u=a[d-o]),g=r[d*2],e.opt_len+=g*(f+u),s&&(e.static_len+=g*(i[d*2+1]+u)));if(m!==0){do{for(f=c-1;e.bl_count[f]===0;)f--;e.bl_count[f]--,e.bl_count[f+1]+=2,e.bl_count[c]--,m-=2}while(m>0);for(f=c;f!==0;f--)for(d=e.bl_count[f];d!==0;)h=e.heap[--A],!(h>n)&&(r[h*2+1]!==f&&(e.opt_len+=(f-r[h*2+1])*r[h*2],r[h*2+1]=f),d--)}},jj=(e,t,r)=>{const n=new Array(tu+1);let i=0,s,a;for(s=1;s<=tu;s++)i=i+r[s-1]<<1,n[s]=i;for(a=0;a<=t;a++){let o=e[a*2+1];o!==0&&(e[a*2]=Fj(n[o]++,o))}},Dz=()=>{let e,t,r,n,i;const s=new Array(tu+1);for(r=0,n=0;n<TB-1;n++)for(UB[n]=r,e=0;e<1<<L2[n];e++)Cp[r++]=n;for(Cp[r-1]=n,i=0,n=0;n<16;n++)for(uy[n]=i,e=0;e<1<<u0[n];e++)Bp[i++]=n;for(i>>=7;n<jd;n++)for(uy[n]=i<<7,e=0;e<1<<u0[n]-7;e++)Bp[256+i++]=n;for(t=0;t<=tu;t++)s[t]=0;for(e=0;e<=143;)uc[e*2+1]=8,e++,s[8]++;for(;e<=255;)uc[e*2+1]=9,e++,s[9]++;for(;e<=279;)uc[e*2+1]=7,e++,s[7]++;for(;e<=287;)uc[e*2+1]=8,e++,s[8]++;for(jj(uc,xp+1,s),e=0;e<jd;e++)zf[e*2+1]=5,zf[e*2]=Fj(e,5);Nj=new j1(uc,L2,zp+1,xp,tu),kj=new j1(zf,u0,0,jd,tu),Ij=new j1(new Array(0),Fz,0,FB,Tz)},Uj=e=>{let t;for(t=0;t<xp;t++)e.dyn_ltree[t*2]=0;for(t=0;t<jd;t++)e.dyn_dtree[t*2]=0;for(t=0;t<FB;t++)e.bl_tree[t*2]=0;e.dyn_ltree[jB*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Lj=e=>{e.bi_valid>8?Ep(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},j_=(e,t,r,n)=>{const i=t*2,s=r*2;return e[i]<e[s]||e[i]===e[s]&&n[t]<=n[r]},L1=(e,t,r)=>{const n=e.heap[r];let i=r<<1;for(;i<=e.heap_len&&(i<e.heap_len&&j_(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!j_(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n},U_=(e,t,r)=>{let n,i,s=0,a,o;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+s++]&255,n+=(e.pending_buf[e.sym_buf+s++]&255)<<8,i=e.pending_buf[e.sym_buf+s++],n===0?Nl(e,i,t):(a=Cp[i],Nl(e,a+zp+1,t),o=L2[a],o!==0&&(i-=UB[a],Sa(e,i,o)),n--,a=Tj(n),Nl(e,a,r),o=u0[a],o!==0&&(n-=uy[a],Sa(e,n,o)));while(s<e.sym_next);Nl(e,jB,t)},D2=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.elems;let a,o,c=-1,A;for(e.heap_len=0,e.heap_max=Bj,a=0;a<s;a++)r[a*2]!==0?(e.heap[++e.heap_len]=c=a,e.depth[a]=0):r[a*2+1]=0;for(;e.heap_len<2;)A=e.heap[++e.heap_len]=c<2?++c:0,r[A*2]=1,e.depth[A]=0,e.opt_len--,i&&(e.static_len-=n[A*2+1]);for(t.max_code=c,a=e.heap_len>>1;a>=1;a--)L1(e,r,a);A=s;do a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],L1(e,r,1),o=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=o,r[A*2]=r[a*2]+r[o*2],e.depth[A]=(e.depth[a]>=e.depth[o]?e.depth[a]:e.depth[o])+1,r[a*2+1]=r[o*2+1]=A,e.heap[1]=A++,L1(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Lz(e,t),jj(r,c,e.bl_count)},L_=(e,t,r)=>{let n,i=-1,s,a=t[0*2+1],o=0,c=7,A=4;for(a===0&&(c=138,A=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)s=a,a=t[(n+1)*2+1],!(++o<c&&s===a)&&(o<A?e.bl_tree[s*2]+=o:s!==0?(s!==i&&e.bl_tree[s*2]++,e.bl_tree[Cj*2]++):o<=10?e.bl_tree[Ej*2]++:e.bl_tree[Sj*2]++,o=0,i=s,a===0?(c=138,A=3):s===a?(c=6,A=3):(c=7,A=4))},D_=(e,t,r)=>{let n,i=-1,s,a=t[0*2+1],o=0,c=7,A=4;for(a===0&&(c=138,A=3),n=0;n<=r;n++)if(s=a,a=t[(n+1)*2+1],!(++o<c&&s===a)){if(o<A)do Nl(e,s,e.bl_tree);while(--o!==0);else s!==0?(s!==i&&(Nl(e,s,e.bl_tree),o--),Nl(e,Cj,e.bl_tree),Sa(e,o-3,2)):o<=10?(Nl(e,Ej,e.bl_tree),Sa(e,o-3,3)):(Nl(e,Sj,e.bl_tree),Sa(e,o-11,7));o=0,i=s,a===0?(c=138,A=3):s===a?(c=6,A=3):(c=7,A=4)}},Rz=e=>{let t;for(L_(e,e.dyn_ltree,e.l_desc.max_code),L_(e,e.dyn_dtree,e.d_desc.max_code),D2(e,e.bl_desc),t=FB-1;t>=3&&e.bl_tree[_j[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},Oz=(e,t,r,n)=>{let i;for(Sa(e,t-257,5),Sa(e,r-1,5),Sa(e,n-4,4),i=0;i<n;i++)Sa(e,e.bl_tree[_j[i]*2+1],3);D_(e,e.dyn_ltree,t-1),D_(e,e.dyn_dtree,r-1)},Pz=e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return T_;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return F_;for(r=32;r<zp;r++)if(e.dyn_ltree[r*2]!==0)return F_;return T_};let R_=!1;const Qz=e=>{R_||(Dz(),R_=!0),e.l_desc=new U1(e.dyn_ltree,Nj),e.d_desc=new U1(e.dyn_dtree,kj),e.bl_desc=new U1(e.bl_tree,Ij),e.bi_buf=0,e.bi_valid=0,Uj(e)},Dj=(e,t,r,n)=>{Sa(e,(_z<<1)+(n?1:0),3),Lj(e),Ep(e,r),Ep(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},Mz=e=>{Sa(e,xj<<1,3),Nl(e,jB,uc),Uz(e)},Hz=(e,t,r,n)=>{let i,s,a=0;e.level>0?(e.strm.data_type===Sz&&(e.strm.data_type=Pz(e)),D2(e,e.l_desc),D2(e,e.d_desc),a=Rz(e),i=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=i&&(i=s)):i=s=r+5,r+4<=i&&t!==-1?Dj(e,t,r,n):e.strategy===Ez||s===i?(Sa(e,(xj<<1)+(n?1:0),3),U_(e,uc,zf)):(Sa(e,(Nz<<1)+(n?1:0),3),Oz(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),U_(e,e.dyn_ltree,e.dyn_dtree)),Uj(e),n&&Lj(e)},zz=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(Cp[r]+zp+1)*2]++,e.dyn_dtree[Tj(t)*2]++),e.sym_next===e.sym_end);var Kz=Qz,qz=Dj,Gz=Hz,Wz=zz,$z=Mz,Vz={_tr_init:Kz,_tr_stored_block:qz,_tr_flush_block:Gz,_tr_tally:Wz,_tr_align:$z};const Xz=(e,t,r,n)=>{let i=e&65535|0,s=e>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do i=i+t[n++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var Sp=Xz;const Yz=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},Jz=new Uint32Array(Yz()),Zz=(e,t,r,n)=>{const i=Jz,s=n+r;e^=-1;for(let a=n;a<s;a++)e=e>>>8^i[(e^t[a])&255];return e^-1};var ns=Zz,eh={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Kp={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:eK,_tr_stored_block:R2,_tr_flush_block:tK,_tr_tally:wA,_tr_align:rK}=Vz,{Z_NO_FLUSH:bA,Z_PARTIAL_FLUSH:nK,Z_FULL_FLUSH:iK,Z_FINISH:So,Z_BLOCK:O_,Z_OK:gs,Z_STREAM_END:P_,Z_STREAM_ERROR:Dl,Z_DATA_ERROR:sK,Z_BUF_ERROR:D1,Z_DEFAULT_COMPRESSION:aK,Z_FILTERED:oK,Z_HUFFMAN_ONLY:yg,Z_RLE:lK,Z_FIXED:cK,Z_DEFAULT_STRATEGY:AK,Z_UNKNOWN:uK,Z_DEFLATED:Xy}=Kp,dK=9,hK=15,fK=8,pK=29,mK=256,O2=mK+1+pK,gK=30,yK=19,wK=2*O2+1,bK=15,rn=3,oA=258,Rl=oA+rn+1,vK=32,th=42,LB=57,P2=69,Q2=73,M2=91,H2=103,ru=113,xf=666,ca=1,gh=2,vu=3,yh=4,xK=3,nu=(e,t)=>(e.msg=eh[t],t),Q_=e=>e*2-(e>4?9:0),eA=e=>{let t=e.length;for(;--t>=0;)e[t]=0},BK=e=>{let t,r,n,i=e.w_size;t=e.hash_size,n=t;do r=e.head[--n],e.head[n]=r>=i?r-i:0;while(--t);t=i,n=t;do r=e.prev[--n],e.prev[n]=r>=i?r-i:0;while(--t)};let CK=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,vA=CK;const Wa=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))},eo=(e,t)=>{tK(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Wa(e.strm)},fn=(e,t)=>{e.pending_buf[e.pending++]=t},ef=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},z2=(e,t,r,n)=>{let i=e.avail_in;return i>n&&(i=n),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),r),e.state.wrap===1?e.adler=Sp(e.adler,t,i,r):e.state.wrap===2&&(e.adler=ns(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)},Rj=(e,t)=>{let r=e.max_chain_length,n=e.strstart,i,s,a=e.prev_length,o=e.nice_match;const c=e.strstart>e.w_size-Rl?e.strstart-(e.w_size-Rl):0,A=e.window,d=e.w_mask,h=e.prev,f=e.strstart+oA;let u=A[n+a-1],g=A[n+a];e.prev_length>=e.good_match&&(r>>=2),o>e.lookahead&&(o=e.lookahead);do if(i=t,!(A[i+a]!==g||A[i+a-1]!==u||A[i]!==A[n]||A[++i]!==A[n+1])){n+=2,i++;do;while(A[++n]===A[++i]&&A[++n]===A[++i]&&A[++n]===A[++i]&&A[++n]===A[++i]&&A[++n]===A[++i]&&A[++n]===A[++i]&&A[++n]===A[++i]&&A[++n]===A[++i]&&n<f);if(s=oA-(f-n),n=f-oA,s>a){if(e.match_start=t,a=s,s>=o)break;u=A[n+a-1],g=A[n+a]}}while((t=h[t&d])>c&&--r!==0);return a<=e.lookahead?a:e.lookahead},rh=e=>{const t=e.w_size;let r,n,i;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Rl)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),BK(e),n+=t),e.strm.avail_in===0)break;if(r=z2(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=rn)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=vA(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=vA(e,e.ins_h,e.window[i+rn-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<rn)););}while(e.lookahead<Rl&&e.strm.avail_in!==0)},Oj=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,i,s,a=0,o=e.strm.avail_in;do{if(n=65535,s=e.bi_valid+42>>3,e.strm.avail_out<s||(s=e.strm.avail_out-s,i=e.strstart-e.block_start,n>i+e.strm.avail_in&&(n=i+e.strm.avail_in),n>s&&(n=s),n<r&&(n===0&&t!==So||t===bA||n!==i+e.strm.avail_in)))break;a=t===So&&n===i+e.strm.avail_in?1:0,R2(e,0,0,a),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,Wa(e.strm),i&&(i>n&&(i=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,n-=i),n&&(z2(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(a===0);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?yh:t!==bA&&t!==So&&e.strm.avail_in===0&&e.strstart===e.block_start?gh:(s=e.window_size-e.strstart,e.strm.avail_in>s&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,s+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),s>e.strm.avail_in&&(s=e.strm.avail_in),s&&(z2(e.strm,e.window,e.strstart,s),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.high_water<e.strstart&&(e.high_water=e.strstart),s=e.bi_valid+42>>3,s=e.pending_buf_size-s>65535?65535:e.pending_buf_size-s,r=s>e.w_size?e.w_size:s,i=e.strstart-e.block_start,(i>=r||(i||t===So)&&t!==bA&&e.strm.avail_in===0&&i<=s)&&(n=i>s?s:i,a=t===So&&e.strm.avail_in===0&&n===i?1:0,R2(e,e.block_start,n,a),e.block_start+=n,Wa(e.strm)),a?vu:ca)},R1=(e,t)=>{let r,n;for(;;){if(e.lookahead<Rl){if(rh(e),e.lookahead<Rl&&t===bA)return ca;if(e.lookahead===0)break}if(r=0,e.lookahead>=rn&&(e.ins_h=vA(e,e.ins_h,e.window[e.strstart+rn-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-Rl&&(e.match_length=Rj(e,r)),e.match_length>=rn)if(n=wA(e,e.strstart-e.match_start,e.match_length-rn),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=rn){e.match_length--;do e.strstart++,e.ins_h=vA(e,e.ins_h,e.window[e.strstart+rn-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=vA(e,e.ins_h,e.window[e.strstart+1]);else n=wA(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(eo(e,!1),e.strm.avail_out===0))return ca}return e.insert=e.strstart<rn-1?e.strstart:rn-1,t===So?(eo(e,!0),e.strm.avail_out===0?vu:yh):e.sym_next&&(eo(e,!1),e.strm.avail_out===0)?ca:gh},Mu=(e,t)=>{let r,n,i;for(;;){if(e.lookahead<Rl){if(rh(e),e.lookahead<Rl&&t===bA)return ca;if(e.lookahead===0)break}if(r=0,e.lookahead>=rn&&(e.ins_h=vA(e,e.ins_h,e.window[e.strstart+rn-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=rn-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-Rl&&(e.match_length=Rj(e,r),e.match_length<=5&&(e.strategy===oK||e.match_length===rn&&e.strstart-e.match_start>4096)&&(e.match_length=rn-1)),e.prev_length>=rn&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-rn,n=wA(e,e.strstart-1-e.prev_match,e.prev_length-rn),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=vA(e,e.ins_h,e.window[e.strstart+rn-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=rn-1,e.strstart++,n&&(eo(e,!1),e.strm.avail_out===0))return ca}else if(e.match_available){if(n=wA(e,0,e.window[e.strstart-1]),n&&eo(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return ca}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=wA(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<rn-1?e.strstart:rn-1,t===So?(eo(e,!0),e.strm.avail_out===0?vu:yh):e.sym_next&&(eo(e,!1),e.strm.avail_out===0)?ca:gh},EK=(e,t)=>{let r,n,i,s;const a=e.window;for(;;){if(e.lookahead<=oA){if(rh(e),e.lookahead<=oA&&t===bA)return ca;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=rn&&e.strstart>0&&(i=e.strstart-1,n=a[i],n===a[++i]&&n===a[++i]&&n===a[++i])){s=e.strstart+oA;do;while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<s);e.match_length=oA-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=rn?(r=wA(e,1,e.match_length-rn),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=wA(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(eo(e,!1),e.strm.avail_out===0))return ca}return e.insert=0,t===So?(eo(e,!0),e.strm.avail_out===0?vu:yh):e.sym_next&&(eo(e,!1),e.strm.avail_out===0)?ca:gh},SK=(e,t)=>{let r;for(;;){if(e.lookahead===0&&(rh(e),e.lookahead===0)){if(t===bA)return ca;break}if(e.match_length=0,r=wA(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(eo(e,!1),e.strm.avail_out===0))return ca}return e.insert=0,t===So?(eo(e,!0),e.strm.avail_out===0?vu:yh):e.sym_next&&(eo(e,!1),e.strm.avail_out===0)?ca:gh};function bl(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}const Bf=[new bl(0,0,0,0,Oj),new bl(4,4,8,4,R1),new bl(4,5,16,8,R1),new bl(4,6,32,32,R1),new bl(4,4,16,16,Mu),new bl(8,16,32,32,Mu),new bl(8,16,128,128,Mu),new bl(8,32,128,256,Mu),new bl(32,128,258,1024,Mu),new bl(32,258,258,4096,Mu)],_K=e=>{e.window_size=2*e.w_size,eA(e.head),e.max_lazy_match=Bf[e.level].max_lazy,e.good_match=Bf[e.level].good_length,e.nice_match=Bf[e.level].nice_length,e.max_chain_length=Bf[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=rn-1,e.match_available=0,e.ins_h=0};function NK(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Xy,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(wK*2),this.dyn_dtree=new Uint16Array((2*gK+1)*2),this.bl_tree=new Uint16Array((2*yK+1)*2),eA(this.dyn_ltree),eA(this.dyn_dtree),eA(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(bK+1),this.heap=new Uint16Array(2*O2+1),eA(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*O2+1),eA(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const qp=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==th&&t.status!==LB&&t.status!==P2&&t.status!==Q2&&t.status!==M2&&t.status!==H2&&t.status!==ru&&t.status!==xf?1:0},Pj=e=>{if(qp(e))return nu(e,Dl);e.total_in=e.total_out=0,e.data_type=uK;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?LB:t.wrap?th:ru,e.adler=t.wrap===2?0:1,t.last_flush=-2,eK(t),gs},Qj=e=>{const t=Pj(e);return t===gs&&_K(e.state),t},kK=(e,t)=>qp(e)||e.state.wrap!==2?Dl:(e.state.gzhead=t,gs),Mj=(e,t,r,n,i,s)=>{if(!e)return Dl;let a=1;if(t===aK&&(t=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),i<1||i>dK||r!==Xy||n<8||n>15||t<0||t>9||s<0||s>cK||n===8&&a!==1)return nu(e,Dl);n===8&&(n=9);const o=new NK;return e.state=o,o.strm=e,o.status=th,o.wrap=a,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+rn-1)/rn),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=t,o.strategy=s,o.method=r,Qj(e)},IK=(e,t)=>Mj(e,t,Xy,hK,fK,AK),TK=(e,t)=>{if(qp(e)||t>O_||t<0)return e?nu(e,Dl):Dl;const r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===xf&&t!==So)return nu(e,e.avail_out===0?D1:Dl);const n=r.last_flush;if(r.last_flush=t,r.pending!==0){if(Wa(e),e.avail_out===0)return r.last_flush=-1,gs}else if(e.avail_in===0&&Q_(t)<=Q_(n)&&t!==So)return nu(e,D1);if(r.status===xf&&e.avail_in!==0)return nu(e,D1);if(r.status===th&&r.wrap===0&&(r.status=ru),r.status===th){let i=Xy+(r.w_bits-8<<4)<<8,s=-1;if(r.strategy>=yg||r.level<2?s=0:r.level<6?s=1:r.level===6?s=2:s=3,i|=s<<6,r.strstart!==0&&(i|=vK),i+=31-i%31,ef(r,i),r.strstart!==0&&(ef(r,e.adler>>>16),ef(r,e.adler&65535)),e.adler=1,r.status=ru,Wa(e),r.pending!==0)return r.last_flush=-1,gs}if(r.status===LB){if(e.adler=0,fn(r,31),fn(r,139),fn(r,8),r.gzhead)fn(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),fn(r,r.gzhead.time&255),fn(r,r.gzhead.time>>8&255),fn(r,r.gzhead.time>>16&255),fn(r,r.gzhead.time>>24&255),fn(r,r.level===9?2:r.strategy>=yg||r.level<2?4:0),fn(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(fn(r,r.gzhead.extra.length&255),fn(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=ns(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=P2;else if(fn(r,0),fn(r,0),fn(r,0),fn(r,0),fn(r,0),fn(r,r.level===9?2:r.strategy>=yg||r.level<2?4:0),fn(r,xK),r.status=ru,Wa(e),r.pending!==0)return r.last_flush=-1,gs}if(r.status===P2){if(r.gzhead.extra){let i=r.pending,s=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+s>r.pending_buf_size;){let o=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+o),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>i&&(e.adler=ns(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex+=o,Wa(e),r.pending!==0)return r.last_flush=-1,gs;i=0,s-=o}let a=new Uint8Array(r.gzhead.extra);r.pending_buf.set(a.subarray(r.gzindex,r.gzindex+s),r.pending),r.pending+=s,r.gzhead.hcrc&&r.pending>i&&(e.adler=ns(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=Q2}if(r.status===Q2){if(r.gzhead.name){let i=r.pending,s;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(e.adler=ns(e.adler,r.pending_buf,r.pending-i,i)),Wa(e),r.pending!==0)return r.last_flush=-1,gs;i=0}r.gzindex<r.gzhead.name.length?s=r.gzhead.name.charCodeAt(r.gzindex++)&255:s=0,fn(r,s)}while(s!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=ns(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=M2}if(r.status===M2){if(r.gzhead.comment){let i=r.pending,s;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(e.adler=ns(e.adler,r.pending_buf,r.pending-i,i)),Wa(e),r.pending!==0)return r.last_flush=-1,gs;i=0}r.gzindex<r.gzhead.comment.length?s=r.gzhead.comment.charCodeAt(r.gzindex++)&255:s=0,fn(r,s)}while(s!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=ns(e.adler,r.pending_buf,r.pending-i,i))}r.status=H2}if(r.status===H2){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(Wa(e),r.pending!==0))return r.last_flush=-1,gs;fn(r,e.adler&255),fn(r,e.adler>>8&255),e.adler=0}if(r.status=ru,Wa(e),r.pending!==0)return r.last_flush=-1,gs}if(e.avail_in!==0||r.lookahead!==0||t!==bA&&r.status!==xf){let i=r.level===0?Oj(r,t):r.strategy===yg?SK(r,t):r.strategy===lK?EK(r,t):Bf[r.level].func(r,t);if((i===vu||i===yh)&&(r.status=xf),i===ca||i===vu)return e.avail_out===0&&(r.last_flush=-1),gs;if(i===gh&&(t===nK?rK(r):t!==O_&&(R2(r,0,0,!1),t===iK&&(eA(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),Wa(e),e.avail_out===0))return r.last_flush=-1,gs}return t!==So?gs:r.wrap<=0?P_:(r.wrap===2?(fn(r,e.adler&255),fn(r,e.adler>>8&255),fn(r,e.adler>>16&255),fn(r,e.adler>>24&255),fn(r,e.total_in&255),fn(r,e.total_in>>8&255),fn(r,e.total_in>>16&255),fn(r,e.total_in>>24&255)):(ef(r,e.adler>>>16),ef(r,e.adler&65535)),Wa(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?gs:P_)},FK=e=>{if(qp(e))return Dl;const t=e.state.status;return e.state=null,t===ru?nu(e,sK):gs},jK=(e,t)=>{let r=t.length;if(qp(e))return Dl;const n=e.state,i=n.wrap;if(i===2||i===1&&n.status!==th||n.lookahead)return Dl;if(i===1&&(e.adler=Sp(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){i===0&&(eA(n.head),n.strstart=0,n.block_start=0,n.insert=0);let c=new Uint8Array(n.w_size);c.set(t.subarray(r-n.w_size,r),0),t=c,r=n.w_size}const s=e.avail_in,a=e.next_in,o=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,rh(n);n.lookahead>=rn;){let c=n.strstart,A=n.lookahead-(rn-1);do n.ins_h=vA(n,n.ins_h,n.window[c+rn-1]),n.prev[c&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=c,c++;while(--A);n.strstart=c,n.lookahead=rn-1,rh(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=rn-1,n.match_available=0,e.next_in=a,e.input=o,e.avail_in=s,n.wrap=i,gs};var UK=IK,LK=Mj,DK=Qj,RK=Pj,OK=kK,PK=TK,QK=FK,MK=jK,HK="pako deflate (from Nodeca project)",Kf={deflateInit:UK,deflateInit2:LK,deflateReset:DK,deflateResetKeep:RK,deflateSetHeader:OK,deflate:PK,deflateEnd:QK,deflateSetDictionary:MK,deflateInfo:HK};const zK=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var KK=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)zK(r,n)&&(e[n]=r[n])}}return e},qK=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,i=0,s=e.length;n<s;n++){let a=e[n];r.set(a,i),i+=a.length}return r},Yy={assign:KK,flattenChunks:qK};let Hj=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Hj=!1}const _p=new Uint8Array(256);for(let e=0;e<256;e++)_p[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;_p[254]=_p[254]=1;var GK=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,i,s,a=e.length,o=0;for(i=0;i<a;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),s=0,i=0;s<o;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[s++]=r:r<2048?(t[s++]=192|r>>>6,t[s++]=128|r&63):r<65536?(t[s++]=224|r>>>12,t[s++]=128|r>>>6&63,t[s++]=128|r&63):(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63,t[s++]=128|r>>>6&63,t[s++]=128|r&63);return t};const WK=(e,t)=>{if(t<65534&&e.subarray&&Hj)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var $K=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,i;const s=new Array(r*2);for(i=0,n=0;n<r;){let a=e[n++];if(a<128){s[i++]=a;continue}let o=_p[a];if(o>4){s[i++]=65533,n+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&n<r;)a=a<<6|e[n++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return WK(s,i)},VK=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+_p[e[r]]>t?r:t},Np={string2buf:GK,buf2string:$K,utf8border:VK};function XK(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zj=XK;const Kj=Object.prototype.toString,{Z_NO_FLUSH:YK,Z_SYNC_FLUSH:JK,Z_FULL_FLUSH:ZK,Z_FINISH:eq,Z_OK:dy,Z_STREAM_END:tq,Z_DEFAULT_COMPRESSION:rq,Z_DEFAULT_STRATEGY:nq,Z_DEFLATED:iq}=Kp;function DB(e){this.options=Yy.assign({level:rq,method:iq,chunkSize:16384,windowBits:15,memLevel:8,strategy:nq},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zj,this.strm.avail_out=0;let r=Kf.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==dy)throw new Error(eh[r]);if(t.header&&Kf.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=Np.string2buf(t.dictionary):Kj.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=Kf.deflateSetDictionary(this.strm,n),r!==dy)throw new Error(eh[r]);this._dict_set=!0}}DB.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let i,s;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?eq:YK,typeof e=="string"?r.input=Np.string2buf(e):Kj.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(s===JK||s===ZK)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(i=Kf.deflate(r,s),i===tq)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=Kf.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===dy;if(r.avail_out===0){this.onData(r.output);continue}if(s>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};DB.prototype.onData=function(e){this.chunks.push(e)};DB.prototype.onEnd=function(e){e===dy&&(this.result=Yy.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const wg=16209,sq=16191;var aq=function(t,r){let n,i,s,a,o,c,A,d,h,f,u,g,m,x,p,y,w,b,I,F,R,Q,k,$;const q=t.state;n=t.next_in,k=t.input,i=n+(t.avail_in-5),s=t.next_out,$=t.output,a=s-(r-t.avail_out),o=s+(t.avail_out-257),c=q.dmax,A=q.wsize,d=q.whave,h=q.wnext,f=q.window,u=q.hold,g=q.bits,m=q.lencode,x=q.distcode,p=(1<<q.lenbits)-1,y=(1<<q.distbits)-1;e:do{g<15&&(u+=k[n++]<<g,g+=8,u+=k[n++]<<g,g+=8),w=m[u&p];t:for(;;){if(b=w>>>24,u>>>=b,g-=b,b=w>>>16&255,b===0)$[s++]=w&65535;else if(b&16){I=w&65535,b&=15,b&&(g<b&&(u+=k[n++]<<g,g+=8),I+=u&(1<<b)-1,u>>>=b,g-=b),g<15&&(u+=k[n++]<<g,g+=8,u+=k[n++]<<g,g+=8),w=x[u&y];r:for(;;){if(b=w>>>24,u>>>=b,g-=b,b=w>>>16&255,b&16){if(F=w&65535,b&=15,g<b&&(u+=k[n++]<<g,g+=8,g<b&&(u+=k[n++]<<g,g+=8)),F+=u&(1<<b)-1,F>c){t.msg="invalid distance too far back",q.mode=wg;break e}if(u>>>=b,g-=b,b=s-a,F>b){if(b=F-b,b>d&&q.sane){t.msg="invalid distance too far back",q.mode=wg;break e}if(R=0,Q=f,h===0){if(R+=A-b,b<I){I-=b;do $[s++]=f[R++];while(--b);R=s-F,Q=$}}else if(h<b){if(R+=A+h-b,b-=h,b<I){I-=b;do $[s++]=f[R++];while(--b);if(R=0,h<I){b=h,I-=b;do $[s++]=f[R++];while(--b);R=s-F,Q=$}}}else if(R+=h-b,b<I){I-=b;do $[s++]=f[R++];while(--b);R=s-F,Q=$}for(;I>2;)$[s++]=Q[R++],$[s++]=Q[R++],$[s++]=Q[R++],I-=3;I&&($[s++]=Q[R++],I>1&&($[s++]=Q[R++]))}else{R=s-F;do $[s++]=$[R++],$[s++]=$[R++],$[s++]=$[R++],I-=3;while(I>2);I&&($[s++]=$[R++],I>1&&($[s++]=$[R++]))}}else if(b&64){t.msg="invalid distance code",q.mode=wg;break e}else{w=x[(w&65535)+(u&(1<<b)-1)];continue r}break}}else if(b&64)if(b&32){q.mode=sq;break e}else{t.msg="invalid literal/length code",q.mode=wg;break e}else{w=m[(w&65535)+(u&(1<<b)-1)];continue t}break}}while(n<i&&s<o);I=g>>3,n-=I,g-=I<<3,u&=(1<<g)-1,t.next_in=n,t.next_out=s,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=s<o?257+(o-s):257-(s-o),q.hold=u,q.bits=g};const Hu=15,M_=852,H_=592,z_=0,O1=1,K_=2,oq=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lq=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),cq=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Aq=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),uq=(e,t,r,n,i,s,a,o)=>{const c=o.bits;let A=0,d=0,h=0,f=0,u=0,g=0,m=0,x=0,p=0,y=0,w,b,I,F,R,Q=null,k;const $=new Uint16Array(Hu+1),q=new Uint16Array(Hu+1);let T=null,K,v,re;for(A=0;A<=Hu;A++)$[A]=0;for(d=0;d<n;d++)$[t[r+d]]++;for(u=c,f=Hu;f>=1&&$[f]===0;f--);if(u>f&&(u=f),f===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(h=1;h<f&&$[h]===0;h++);for(u<h&&(u=h),x=1,A=1;A<=Hu;A++)if(x<<=1,x-=$[A],x<0)return-1;if(x>0&&(e===z_||f!==1))return-1;for(q[1]=0,A=1;A<Hu;A++)q[A+1]=q[A]+$[A];for(d=0;d<n;d++)t[r+d]!==0&&(a[q[t[r+d]]++]=d);if(e===z_?(Q=T=a,k=20):e===O1?(Q=oq,T=lq,k=257):(Q=cq,T=Aq,k=0),y=0,d=0,A=h,R=s,g=u,m=0,I=-1,p=1<<u,F=p-1,e===O1&&p>M_||e===K_&&p>H_)return 1;for(;;){K=A-m,a[d]+1<k?(v=0,re=a[d]):a[d]>=k?(v=T[a[d]-k],re=Q[a[d]-k]):(v=32+64,re=0),w=1<<A-m,b=1<<g,h=b;do b-=w,i[R+(y>>m)+b]=K<<24|v<<16|re|0;while(b!==0);for(w=1<<A-1;y&w;)w>>=1;if(w!==0?(y&=w-1,y+=w):y=0,d++,--$[A]===0){if(A===f)break;A=t[r+a[d]]}if(A>u&&(y&F)!==I){for(m===0&&(m=u),R+=h,g=A-m,x=1<<g;g+m<f&&(x-=$[g+m],!(x<=0));)g++,x<<=1;if(p+=1<<g,e===O1&&p>M_||e===K_&&p>H_)return 1;I=y&F,i[I]=u<<24|g<<16|R-s|0}}return y!==0&&(i[R+y]=A-m<<24|64<<16|0),o.bits=u,0};var qf=uq;const dq=0,qj=1,Gj=2,{Z_FINISH:q_,Z_BLOCK:hq,Z_TREES:bg,Z_OK:xu,Z_STREAM_END:fq,Z_NEED_DICT:pq,Z_STREAM_ERROR:jo,Z_DATA_ERROR:Wj,Z_MEM_ERROR:$j,Z_BUF_ERROR:mq,Z_DEFLATED:G_}=Kp,Jy=16180,W_=16181,$_=16182,V_=16183,X_=16184,Y_=16185,J_=16186,Z_=16187,eN=16188,tN=16189,hy=16190,ac=16191,P1=16192,rN=16193,Q1=16194,nN=16195,iN=16196,sN=16197,aN=16198,vg=16199,xg=16200,oN=16201,lN=16202,cN=16203,AN=16204,uN=16205,M1=16206,dN=16207,hN=16208,ei=16209,Vj=16210,Xj=16211,gq=852,yq=592,wq=15,bq=wq,fN=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function vq(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Eu=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Jy||t.mode>Xj?1:0},Yj=e=>{if(Eu(e))return jo;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Jy,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(gq),t.distcode=t.distdyn=new Int32Array(yq),t.sane=1,t.back=-1,xu},Jj=e=>{if(Eu(e))return jo;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Yj(e)},Zj=(e,t)=>{let r;if(Eu(e))return jo;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?jo:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,Jj(e))},eU=(e,t)=>{if(!e)return jo;const r=new vq;e.state=r,r.strm=e,r.window=null,r.mode=Jy;const n=Zj(e,t);return n!==xu&&(e.state=null),n},xq=e=>eU(e,bq);let pN=!0,H1,z1;const Bq=e=>{if(pN){H1=new Int32Array(512),z1=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(qf(qj,e.lens,0,288,H1,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;qf(Gj,e.lens,0,32,z1,0,e.work,{bits:5}),pN=!1}e.lencode=H1,e.lenbits=9,e.distcode=z1,e.distbits=5},tU=(e,t,r,n)=>{let i;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(t.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(t.subarray(r-n,r-n+i),s.wnext),n-=i,n?(s.window.set(t.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},Cq=(e,t)=>{let r,n,i,s,a,o,c,A,d,h,f,u,g,m,x=0,p,y,w,b,I,F,R,Q;const k=new Uint8Array(4);let $,q;const T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Eu(e)||!e.output||!e.input&&e.avail_in!==0)return jo;r=e.state,r.mode===ac&&(r.mode=P1),a=e.next_out,i=e.output,c=e.avail_out,s=e.next_in,n=e.input,o=e.avail_in,A=r.hold,d=r.bits,h=o,f=c,Q=xu;e:for(;;)switch(r.mode){case Jy:if(r.wrap===0){r.mode=P1;break}for(;d<16;){if(o===0)break e;o--,A+=n[s++]<<d,d+=8}if(r.wrap&2&&A===35615){r.wbits===0&&(r.wbits=15),r.check=0,k[0]=A&255,k[1]=A>>>8&255,r.check=ns(r.check,k,2,0),A=0,d=0,r.mode=W_;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((A&255)<<8)+(A>>8))%31){e.msg="incorrect header check",r.mode=ei;break}if((A&15)!==G_){e.msg="unknown compression method",r.mode=ei;break}if(A>>>=4,d-=4,R=(A&15)+8,r.wbits===0&&(r.wbits=R),R>15||R>r.wbits){e.msg="invalid window size",r.mode=ei;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=A&512?tN:ac,A=0,d=0;break;case W_:for(;d<16;){if(o===0)break e;o--,A+=n[s++]<<d,d+=8}if(r.flags=A,(r.flags&255)!==G_){e.msg="unknown compression method",r.mode=ei;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=ei;break}r.head&&(r.head.text=A>>8&1),r.flags&512&&r.wrap&4&&(k[0]=A&255,k[1]=A>>>8&255,r.check=ns(r.check,k,2,0)),A=0,d=0,r.mode=$_;case $_:for(;d<32;){if(o===0)break e;o--,A+=n[s++]<<d,d+=8}r.head&&(r.head.time=A),r.flags&512&&r.wrap&4&&(k[0]=A&255,k[1]=A>>>8&255,k[2]=A>>>16&255,k[3]=A>>>24&255,r.check=ns(r.check,k,4,0)),A=0,d=0,r.mode=V_;case V_:for(;d<16;){if(o===0)break e;o--,A+=n[s++]<<d,d+=8}r.head&&(r.head.xflags=A&255,r.head.os=A>>8),r.flags&512&&r.wrap&4&&(k[0]=A&255,k[1]=A>>>8&255,r.check=ns(r.check,k,2,0)),A=0,d=0,r.mode=X_;case X_:if(r.flags&1024){for(;d<16;){if(o===0)break e;o--,A+=n[s++]<<d,d+=8}r.length=A,r.head&&(r.head.extra_len=A),r.flags&512&&r.wrap&4&&(k[0]=A&255,k[1]=A>>>8&255,r.check=ns(r.check,k,2,0)),A=0,d=0}else r.head&&(r.head.extra=null);r.mode=Y_;case Y_:if(r.flags&1024&&(u=r.length,u>o&&(u=o),u&&(r.head&&(R=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+u),R)),r.flags&512&&r.wrap&4&&(r.check=ns(r.check,n,u,s)),o-=u,s+=u,r.length-=u),r.length))break e;r.length=0,r.mode=J_;case J_:if(r.flags&2048){if(o===0)break e;u=0;do R=n[s+u++],r.head&&R&&r.length<65536&&(r.head.name+=String.fromCharCode(R));while(R&&u<o);if(r.flags&512&&r.wrap&4&&(r.check=ns(r.check,n,u,s)),o-=u,s+=u,R)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=Z_;case Z_:if(r.flags&4096){if(o===0)break e;u=0;do R=n[s+u++],r.head&&R&&r.length<65536&&(r.head.comment+=String.fromCharCode(R));while(R&&u<o);if(r.flags&512&&r.wrap&4&&(r.check=ns(r.check,n,u,s)),o-=u,s+=u,R)break e}else r.head&&(r.head.comment=null);r.mode=eN;case eN:if(r.flags&512){for(;d<16;){if(o===0)break e;o--,A+=n[s++]<<d,d+=8}if(r.wrap&4&&A!==(r.check&65535)){e.msg="header crc mismatch",r.mode=ei;break}A=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=ac;break;case tN:for(;d<32;){if(o===0)break e;o--,A+=n[s++]<<d,d+=8}e.adler=r.check=fN(A),A=0,d=0,r.mode=hy;case hy:if(r.havedict===0)return e.next_out=a,e.avail_out=c,e.next_in=s,e.avail_in=o,r.hold=A,r.bits=d,pq;e.adler=r.check=1,r.mode=ac;case ac:if(t===hq||t===bg)break e;case P1:if(r.last){A>>>=d&7,d-=d&7,r.mode=M1;break}for(;d<3;){if(o===0)break e;o--,A+=n[s++]<<d,d+=8}switch(r.last=A&1,A>>>=1,d-=1,A&3){case 0:r.mode=rN;break;case 1:if(Bq(r),r.mode=vg,t===bg){A>>>=2,d-=2;break e}break;case 2:r.mode=iN;break;case 3:e.msg="invalid block type",r.mode=ei}A>>>=2,d-=2;break;case rN:for(A>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,A+=n[s++]<<d,d+=8}if((A&65535)!==(A>>>16^65535)){e.msg="invalid stored block lengths",r.mode=ei;break}if(r.length=A&65535,A=0,d=0,r.mode=Q1,t===bg)break e;case Q1:r.mode=nN;case nN:if(u=r.length,u){if(u>o&&(u=o),u>c&&(u=c),u===0)break e;i.set(n.subarray(s,s+u),a),o-=u,s+=u,c-=u,a+=u,r.length-=u;break}r.mode=ac;break;case iN:for(;d<14;){if(o===0)break e;o--,A+=n[s++]<<d,d+=8}if(r.nlen=(A&31)+257,A>>>=5,d-=5,r.ndist=(A&31)+1,A>>>=5,d-=5,r.ncode=(A&15)+4,A>>>=4,d-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=ei;break}r.have=0,r.mode=sN;case sN:for(;r.have<r.ncode;){for(;d<3;){if(o===0)break e;o--,A+=n[s++]<<d,d+=8}r.lens[T[r.have++]]=A&7,A>>>=3,d-=3}for(;r.have<19;)r.lens[T[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,$={bits:r.lenbits},Q=qf(dq,r.lens,0,19,r.lencode,0,r.work,$),r.lenbits=$.bits,Q){e.msg="invalid code lengths set",r.mode=ei;break}r.have=0,r.mode=aN;case aN:for(;r.have<r.nlen+r.ndist;){for(;x=r.lencode[A&(1<<r.lenbits)-1],p=x>>>24,y=x>>>16&255,w=x&65535,!(p<=d);){if(o===0)break e;o--,A+=n[s++]<<d,d+=8}if(w<16)A>>>=p,d-=p,r.lens[r.have++]=w;else{if(w===16){for(q=p+2;d<q;){if(o===0)break e;o--,A+=n[s++]<<d,d+=8}if(A>>>=p,d-=p,r.have===0){e.msg="invalid bit length repeat",r.mode=ei;break}R=r.lens[r.have-1],u=3+(A&3),A>>>=2,d-=2}else if(w===17){for(q=p+3;d<q;){if(o===0)break e;o--,A+=n[s++]<<d,d+=8}A>>>=p,d-=p,R=0,u=3+(A&7),A>>>=3,d-=3}else{for(q=p+7;d<q;){if(o===0)break e;o--,A+=n[s++]<<d,d+=8}A>>>=p,d-=p,R=0,u=11+(A&127),A>>>=7,d-=7}if(r.have+u>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=ei;break}for(;u--;)r.lens[r.have++]=R}}if(r.mode===ei)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=ei;break}if(r.lenbits=9,$={bits:r.lenbits},Q=qf(qj,r.lens,0,r.nlen,r.lencode,0,r.work,$),r.lenbits=$.bits,Q){e.msg="invalid literal/lengths set",r.mode=ei;break}if(r.distbits=6,r.distcode=r.distdyn,$={bits:r.distbits},Q=qf(Gj,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,$),r.distbits=$.bits,Q){e.msg="invalid distances set",r.mode=ei;break}if(r.mode=vg,t===bg)break e;case vg:r.mode=xg;case xg:if(o>=6&&c>=258){e.next_out=a,e.avail_out=c,e.next_in=s,e.avail_in=o,r.hold=A,r.bits=d,aq(e,f),a=e.next_out,i=e.output,c=e.avail_out,s=e.next_in,n=e.input,o=e.avail_in,A=r.hold,d=r.bits,r.mode===ac&&(r.back=-1);break}for(r.back=0;x=r.lencode[A&(1<<r.lenbits)-1],p=x>>>24,y=x>>>16&255,w=x&65535,!(p<=d);){if(o===0)break e;o--,A+=n[s++]<<d,d+=8}if(y&&!(y&240)){for(b=p,I=y,F=w;x=r.lencode[F+((A&(1<<b+I)-1)>>b)],p=x>>>24,y=x>>>16&255,w=x&65535,!(b+p<=d);){if(o===0)break e;o--,A+=n[s++]<<d,d+=8}A>>>=b,d-=b,r.back+=b}if(A>>>=p,d-=p,r.back+=p,r.length=w,y===0){r.mode=uN;break}if(y&32){r.back=-1,r.mode=ac;break}if(y&64){e.msg="invalid literal/length code",r.mode=ei;break}r.extra=y&15,r.mode=oN;case oN:if(r.extra){for(q=r.extra;d<q;){if(o===0)break e;o--,A+=n[s++]<<d,d+=8}r.length+=A&(1<<r.extra)-1,A>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=lN;case lN:for(;x=r.distcode[A&(1<<r.distbits)-1],p=x>>>24,y=x>>>16&255,w=x&65535,!(p<=d);){if(o===0)break e;o--,A+=n[s++]<<d,d+=8}if(!(y&240)){for(b=p,I=y,F=w;x=r.distcode[F+((A&(1<<b+I)-1)>>b)],p=x>>>24,y=x>>>16&255,w=x&65535,!(b+p<=d);){if(o===0)break e;o--,A+=n[s++]<<d,d+=8}A>>>=b,d-=b,r.back+=b}if(A>>>=p,d-=p,r.back+=p,y&64){e.msg="invalid distance code",r.mode=ei;break}r.offset=w,r.extra=y&15,r.mode=cN;case cN:if(r.extra){for(q=r.extra;d<q;){if(o===0)break e;o--,A+=n[s++]<<d,d+=8}r.offset+=A&(1<<r.extra)-1,A>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=ei;break}r.mode=AN;case AN:if(c===0)break e;if(u=f-c,r.offset>u){if(u=r.offset-u,u>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=ei;break}u>r.wnext?(u-=r.wnext,g=r.wsize-u):g=r.wnext-u,u>r.length&&(u=r.length),m=r.window}else m=i,g=a-r.offset,u=r.length;u>c&&(u=c),c-=u,r.length-=u;do i[a++]=m[g++];while(--u);r.length===0&&(r.mode=xg);break;case uN:if(c===0)break e;i[a++]=r.length,c--,r.mode=xg;break;case M1:if(r.wrap){for(;d<32;){if(o===0)break e;o--,A|=n[s++]<<d,d+=8}if(f-=c,e.total_out+=f,r.total+=f,r.wrap&4&&f&&(e.adler=r.check=r.flags?ns(r.check,i,f,a-f):Sp(r.check,i,f,a-f)),f=c,r.wrap&4&&(r.flags?A:fN(A))!==r.check){e.msg="incorrect data check",r.mode=ei;break}A=0,d=0}r.mode=dN;case dN:if(r.wrap&&r.flags){for(;d<32;){if(o===0)break e;o--,A+=n[s++]<<d,d+=8}if(r.wrap&4&&A!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=ei;break}A=0,d=0}r.mode=hN;case hN:Q=fq;break e;case ei:Q=Wj;break e;case Vj:return $j;case Xj:default:return jo}return e.next_out=a,e.avail_out=c,e.next_in=s,e.avail_in=o,r.hold=A,r.bits=d,(r.wsize||f!==e.avail_out&&r.mode<ei&&(r.mode<M1||t!==q_))&&tU(e,e.output,e.next_out,f-e.avail_out),h-=e.avail_in,f-=e.avail_out,e.total_in+=h,e.total_out+=f,r.total+=f,r.wrap&4&&f&&(e.adler=r.check=r.flags?ns(r.check,i,f,e.next_out-f):Sp(r.check,i,f,e.next_out-f)),e.data_type=r.bits+(r.last?64:0)+(r.mode===ac?128:0)+(r.mode===vg||r.mode===Q1?256:0),(h===0&&f===0||t===q_)&&Q===xu&&(Q=mq),Q},Eq=e=>{if(Eu(e))return jo;let t=e.state;return t.window&&(t.window=null),e.state=null,xu},Sq=(e,t)=>{if(Eu(e))return jo;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,xu):jo},_q=(e,t)=>{const r=t.length;let n,i,s;return Eu(e)||(n=e.state,n.wrap!==0&&n.mode!==hy)?jo:n.mode===hy&&(i=1,i=Sp(i,t,r,0),i!==n.check)?Wj:(s=tU(e,t,r,r),s?(n.mode=Vj,$j):(n.havedict=1,xu))};var Nq=Jj,kq=Zj,Iq=Yj,Tq=xq,Fq=eU,jq=Cq,Uq=Eq,Lq=Sq,Dq=_q,Rq="pako inflate (from Nodeca project)",dc={inflateReset:Nq,inflateReset2:kq,inflateResetKeep:Iq,inflateInit:Tq,inflateInit2:Fq,inflate:jq,inflateEnd:Uq,inflateGetHeader:Lq,inflateSetDictionary:Dq,inflateInfo:Rq};function Oq(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Pq=Oq;const rU=Object.prototype.toString,{Z_NO_FLUSH:Qq,Z_FINISH:Mq,Z_OK:kp,Z_STREAM_END:K1,Z_NEED_DICT:q1,Z_STREAM_ERROR:Hq,Z_DATA_ERROR:mN,Z_MEM_ERROR:zq}=Kp;function Gp(e){this.options=Yy.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zj,this.strm.avail_out=0;let r=dc.inflateInit2(this.strm,t.windowBits);if(r!==kp)throw new Error(eh[r]);if(this.header=new Pq,dc.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Np.string2buf(t.dictionary):rU.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=dc.inflateSetDictionary(this.strm,t.dictionary),r!==kp)))throw new Error(eh[r])}Gp.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?Mq:Qq,rU.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=dc.inflate(r,a),s===q1&&i&&(s=dc.inflateSetDictionary(r,i),s===kp?s=dc.inflate(r,a):s===mN&&(s=q1));r.avail_in>0&&s===K1&&r.state.wrap>0&&e[r.next_in]!==0;)dc.inflateReset(r),s=dc.inflate(r,a);switch(s){case Hq:case mN:case q1:case zq:return this.onEnd(s),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||s===K1))if(this.options.to==="string"){let c=Np.utf8border(r.output,r.next_out),A=r.next_out-c,d=Np.buf2string(r.output,c);r.next_out=A,r.avail_out=n-A,A&&r.output.set(r.output.subarray(c,c+A),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===kp&&o===0)){if(s===K1)return s=dc.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Gp.prototype.onData=function(e){this.chunks.push(e)};Gp.prototype.onEnd=function(e){e===kp&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Yy.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function RB(e,t){const r=new Gp(t);if(r.push(e),r.err)throw r.msg||eh[r.err];return r.result}function Kq(e,t){return t=t||{},t.raw=!0,RB(e,t)}var qq=Gp,Gq=RB,Wq=Kq,$q=RB,Vq=Kp,Xq={Inflate:qq,inflate:Gq,inflateRaw:Wq,ungzip:$q,constants:Vq};const{Inflate:Yq,inflate:Jq,inflateRaw:mie,ungzip:gie}=Xq;var gN=Yq,Zq=Jq;const nU=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;nU[e]=t}const yN=4294967295;function eG(e,t,r){let n=e;for(let i=0;i<r;i++)n=nU[(n^t[i])&255]^n>>>8;return n}function tG(e,t){return(eG(yN,e,t)^yN)>>>0}function wN(e,t,r){const n=e.readUint32(),i=tG(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function iU(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function sU(e,t,r,n){let i=0;for(;i<n;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-n]&255}function aU(e,t,r,n){let i=0;if(r.length===0)for(;i<n;i++)t[i]=e[i];else for(;i<n;i++)t[i]=e[i]+r[i]&255}function oU(e,t,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+(t[s-i]>>1)&255}else{for(;s<i;s++)t[s]=e[s]+(r[s]>>1)&255;for(;s<n;s++)t[s]=e[s]+(t[s-i]+r[s]>>1)&255}}function lU(e,t,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)t[s]=e[s];for(;s<n;s++)t[s]=e[s]+t[s-i]&255}else{for(;s<i;s++)t[s]=e[s]+r[s]&255;for(;s<n;s++)t[s]=e[s]+rG(t[s-i],r[s],r[s-i])&255}}function rG(e,t,r){const n=e+t-r,i=Math.abs(n-e),s=Math.abs(n-t),a=Math.abs(n-r);return i<=s&&i<=a?e:s<=a?t:r}function nG(e,t,r,n,i,s){switch(e){case 0:iU(t,r,i);break;case 1:sU(t,r,i,s);break;case 2:aU(t,r,n,i);break;case 3:oU(t,r,n,i,s);break;case 4:lU(t,r,n,i,s);break;default:throw new Error(`Unsupported filter: ${e}`)}}const iG=new Uint16Array([255]),sG=new Uint8Array(iG.buffer),aG=sG[0]===255;function oG(e){const{data:t,width:r,height:n,channels:i,depth:s}=e,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,c=new Uint8Array(n*r*o);let A=0;for(let d=0;d<7;d++){const h=a[d],f=Math.ceil((r-h.x)/h.xStep),u=Math.ceil((n-h.y)/h.yStep);if(f<=0||u<=0)continue;const g=f*o,m=new Uint8Array(g);for(let x=0;x<u;x++){const p=t[A++],y=t.subarray(A,A+g);A+=g;const w=new Uint8Array(g);nG(p,y,w,m,g,o),m.set(w);for(let b=0;b<f;b++){const I=h.x+b*h.xStep,F=h.y+x*h.yStep;if(!(I>=r||F>=n))for(let R=0;R<o;R++)c[(F*r+I)*o+R]=w[b*o+R]}}}if(s===16){const d=new Uint16Array(c.buffer);if(aG)for(let h=0;h<d.length;h++)d[h]=lG(d[h]);return d}else return c}function lG(e){return(e&255)<<8|e>>8&255}const cG=new Uint16Array([255]),AG=new Uint8Array(cG.buffer),uG=AG[0]===255,dG=new Uint8Array(0);function bN(e){const{data:t,width:r,height:n,channels:i,depth:s}=e,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*r),c=new Uint8Array(n*o);let A=dG,d=0,h,f;for(let u=0;u<n;u++){switch(h=t.subarray(d+1,d+1+o),f=c.subarray(u*o,(u+1)*o),t[d]){case 0:iU(h,f,o);break;case 1:sU(h,f,o,a);break;case 2:aU(h,f,A,o);break;case 3:oU(h,f,A,o,a);break;case 4:lU(h,f,A,o,a);break;default:throw new Error(`Unsupported filter: ${t[d]}`)}A=f,d+=o+1}if(s===16){const u=new Uint16Array(c.buffer);if(uG)for(let g=0;g<u.length;g++)u[g]=hG(u[g]);return u}else return c}function hG(e){return(e&255)<<8|e>>8&255}const d0=Uint8Array.of(137,80,78,71,13,10,26,10);function vN(e){if(!fG(e.readBytes(d0.length)))throw new Error("wrong PNG signature")}function fG(e){if(e.length<d0.length)return!1;for(let t=0;t<d0.length;t++)if(e[t]!==d0[t])return!1;return!0}const pG="tEXt",mG=0,cU=new TextDecoder("latin1");function gG(e){if(wG(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const yG=/^[\u0000-\u00FF]*$/;function wG(e){if(!yG.test(e))throw new Error("invalid latin1 text")}function bG(e,t,r){const n=AU(t);e[n]=vG(t,r-n.length-1)}function AU(e){for(e.mark();e.readByte()!==mG;);const t=e.offset;e.reset();const r=cU.decode(e.readBytes(t-e.offset-1));return e.skip(1),gG(r),r}function vG(e,t){return cU.decode(e.readBytes(t))}const Ha={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},G1={UNKNOWN:-1,DEFLATE:0},xN={UNKNOWN:-1,ADAPTIVE:0},W1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Bg={NONE:0,BACKGROUND:1,PREVIOUS:2},$1={SOURCE:0,OVER:1};class xG extends IB{constructor(r,n={}){super(r);Br(this,"_checkCrc");Br(this,"_inflator");Br(this,"_png");Br(this,"_apng");Br(this,"_end");Br(this,"_hasPalette");Br(this,"_palette");Br(this,"_hasTransparency");Br(this,"_transparency");Br(this,"_compressionMethod");Br(this,"_filterMethod");Br(this,"_interlaceMethod");Br(this,"_colorType");Br(this,"_isAnimated");Br(this,"_numberOfFrames");Br(this,"_numberOfPlays");Br(this,"_frames");Br(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new gN,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=G1.UNKNOWN,this._filterMethod=xN.UNKNOWN,this._interlaceMethod=W1.UNKNOWN,this._colorType=Ha.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(vN(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(vN(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case pG:bG(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?wN(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?wN(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=BG(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Ha.GREYSCALE:i=1;break;case Ha.TRUECOLOUR:i=3;break;case Ha.INDEXED_COLOUR:i=1;break;case Ha.GREYSCALE_ALPHA:i=2;break;case Ha.TRUECOLOUR_ALPHA:i=4;break;case Ha.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==G1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<n;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Ha.GREYSCALE:case Ha.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Ha.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Ha.UNKNOWN:case Ha.GREYSCALE_ALPHA:case Ha.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=AU(this),i=this.readUint8();if(i!==G1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:Zq(s)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=bN({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const s=this._apng.frames.at(r-1);this.disposeFrame(i,s,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case Bg.NONE:break;case Bg.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let a=0;a<this._png.width;a++){const o=(s*r.width+a)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[o+c]=0}break;case Bg.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,s=(a,o)=>{const c=((a+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,A=(a*n.width+o)*this._png.channels;return{index:c,frameIndex:A}};switch(n.blendOp){case $1.SOURCE:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:c,frameIndex:A}=s(a,o);for(let d=0;d<this._png.channels;d++)r.data[c+d]=n.data[A+d]}break;case $1.OVER:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:c,frameIndex:A}=s(a,o);for(let d=0;d<this._png.channels;d++){const h=n.data[A+this._png.channels-1]/i,f=d%(this._png.channels-1)===0?1:n.data[A+d],u=Math.floor(h*f+(1-h)*r.data[c+d]);r.data[c+d]+=u}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==xN.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===W1.NO_INTERLACE)this._png.data=bN({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===W1.ADAM7)this._png.data=oG({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Bg.NONE,blendOp:$1.SOURCE,data:r}),this._inflator=new gN,this._writingDataChunks=!1}}function BG(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var BN;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(BN||(BN={}));function CG(e,t){return new xG(e,t).decode()}var Er=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function V1(){Er.console&&typeof Er.console.log=="function"&&Er.console.log.apply(Er.console,arguments)}var Ln={log:V1,warn:function(e){Er.console&&(typeof Er.console.warn=="function"?Er.console.warn.apply(Er.console,arguments):V1.call(null,arguments))},error:function(e){Er.console&&(typeof Er.console.error=="function"?Er.console.error.apply(Er.console,arguments):V1(e))}};function X1(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){qA(n.response,t,r)},n.onerror=function(){Ln.error("could not download file")},n.send()}function CN(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Cg(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var qA=Er.saveAs||((typeof window>"u"?"undefined":En(window))!=="object"||window!==Er?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Er.URL||Er.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?CN(i.href)?X1(e,t,r):Cg(i,i.target="_blank"):Cg(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Cg(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(CN(e))X1(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Cg(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:En(s)!=="object"&&(Ln.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return X1(e,t,r);var i=e.type==="application/octet-stream",s=/constructor/i.test(Er.HTMLElement)||Er.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":En(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},o.readAsDataURL(e)}else{var c=Er.URL||Er.webkitURL,A=c.createObjectURL(e);n?n.location=A:location.href=A,n=null,setTimeout(function(){c.revokeObjectURL(A)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function uU(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,a=i.exec(e);a&&(t=s(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),A=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),A.length==1&&(A="0"+A),"#"+o+c+A}}var h0=Er.atob.bind(Er),EN=Er.btoa.bind(Er);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Y1(e,t){var r=e[0],n=e[1],i=e[2],s=e[3];r=Fs(r,n,i,s,t[0],7,-680876936),s=Fs(s,r,n,i,t[1],12,-389564586),i=Fs(i,s,r,n,t[2],17,606105819),n=Fs(n,i,s,r,t[3],22,-1044525330),r=Fs(r,n,i,s,t[4],7,-176418897),s=Fs(s,r,n,i,t[5],12,1200080426),i=Fs(i,s,r,n,t[6],17,-1473231341),n=Fs(n,i,s,r,t[7],22,-45705983),r=Fs(r,n,i,s,t[8],7,1770035416),s=Fs(s,r,n,i,t[9],12,-1958414417),i=Fs(i,s,r,n,t[10],17,-42063),n=Fs(n,i,s,r,t[11],22,-1990404162),r=Fs(r,n,i,s,t[12],7,1804603682),s=Fs(s,r,n,i,t[13],12,-40341101),i=Fs(i,s,r,n,t[14],17,-1502002290),r=js(r,n=Fs(n,i,s,r,t[15],22,1236535329),i,s,t[1],5,-165796510),s=js(s,r,n,i,t[6],9,-1069501632),i=js(i,s,r,n,t[11],14,643717713),n=js(n,i,s,r,t[0],20,-373897302),r=js(r,n,i,s,t[5],5,-701558691),s=js(s,r,n,i,t[10],9,38016083),i=js(i,s,r,n,t[15],14,-660478335),n=js(n,i,s,r,t[4],20,-405537848),r=js(r,n,i,s,t[9],5,568446438),s=js(s,r,n,i,t[14],9,-1019803690),i=js(i,s,r,n,t[3],14,-187363961),n=js(n,i,s,r,t[8],20,1163531501),r=js(r,n,i,s,t[13],5,-1444681467),s=js(s,r,n,i,t[2],9,-51403784),i=js(i,s,r,n,t[7],14,1735328473),r=Us(r,n=js(n,i,s,r,t[12],20,-1926607734),i,s,t[5],4,-378558),s=Us(s,r,n,i,t[8],11,-2022574463),i=Us(i,s,r,n,t[11],16,1839030562),n=Us(n,i,s,r,t[14],23,-35309556),r=Us(r,n,i,s,t[1],4,-1530992060),s=Us(s,r,n,i,t[4],11,1272893353),i=Us(i,s,r,n,t[7],16,-155497632),n=Us(n,i,s,r,t[10],23,-1094730640),r=Us(r,n,i,s,t[13],4,681279174),s=Us(s,r,n,i,t[0],11,-358537222),i=Us(i,s,r,n,t[3],16,-722521979),n=Us(n,i,s,r,t[6],23,76029189),r=Us(r,n,i,s,t[9],4,-640364487),s=Us(s,r,n,i,t[12],11,-421815835),i=Us(i,s,r,n,t[15],16,530742520),r=Ls(r,n=Us(n,i,s,r,t[2],23,-995338651),i,s,t[0],6,-198630844),s=Ls(s,r,n,i,t[7],10,1126891415),i=Ls(i,s,r,n,t[14],15,-1416354905),n=Ls(n,i,s,r,t[5],21,-57434055),r=Ls(r,n,i,s,t[12],6,1700485571),s=Ls(s,r,n,i,t[3],10,-1894986606),i=Ls(i,s,r,n,t[10],15,-1051523),n=Ls(n,i,s,r,t[1],21,-2054922799),r=Ls(r,n,i,s,t[8],6,1873313359),s=Ls(s,r,n,i,t[15],10,-30611744),i=Ls(i,s,r,n,t[6],15,-1560198380),n=Ls(n,i,s,r,t[13],21,1309151649),r=Ls(r,n,i,s,t[4],6,-145523070),s=Ls(s,r,n,i,t[11],10,-1120210379),i=Ls(i,s,r,n,t[2],15,718787259),n=Ls(n,i,s,r,t[9],21,-343485551),e[0]=lA(r,e[0]),e[1]=lA(n,e[1]),e[2]=lA(i,e[2]),e[3]=lA(s,e[3])}function Zy(e,t,r,n,i,s){return t=lA(lA(t,e),lA(n,s)),lA(t<<i|t>>>32-i,r)}function Fs(e,t,r,n,i,s,a){return Zy(t&r|~t&n,e,t,i,s,a)}function js(e,t,r,n,i,s,a){return Zy(t&n|r&~n,e,t,i,s,a)}function Us(e,t,r,n,i,s,a){return Zy(t^r^n,e,t,i,s,a)}function Ls(e,t,r,n,i,s,a){return Zy(r^(t|~n),e,t,i,s,a)}function dU(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Y1(n,EG(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Y1(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,Y1(n,i),n}function EG(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var SN="0123456789abcdef".split("");function SG(e){for(var t="",r=0;r<4;r++)t+=SN[e>>8*r+4&15]+SN[e>>8*r&15];return t}function _G(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function K2(e){return dU(e).map(_G).join("")}var NG=function(e){for(var t=0;t<e.length;t++)e[t]=SG(e[t]);return e.join("")}(dU("hello"))!="5d41402abc4b2a76b9719d911017c592";function lA(e,t){if(NG){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function q2(e,t){var r,n,i,s;if(e!==r){for(var a=(i=e,s=1+(256/e.length|0),new Array(s+1).join(i)),o=[],c=0;c<256;c++)o[c]=c;var A=0;for(c=0;c<256;c++){var d=o[c];A=(A+d+a.charCodeAt(c))%256,o[c]=o[A],o[A]=d}r=e,n=o}else o=n;var h=t.length,f=0,u=0,g="";for(c=0;c<h;c++)u=(u+(d=o[f=(f+1)%256]))%256,o[f]=o[u],o[u]=d,a=o[(o[f]+o[u])%256],g+=String.fromCharCode(t.charCodeAt(c)^a);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var _N={print:4,modify:8,copy:16,"annot-forms":32};function ed(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(o){if(_N.perm!==void 0)throw new Error("Invalid permission: "+o);i+=_N[o]}),this.padding="(Â¿N^NuÂŠAd\0NVÃ¿Ãº\b..\0Â¶Ãh>Â€/\fÂ©Ã¾dSiz";var s=(t+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=K2(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=q2(this.encryptionKey,this.padding)}function td(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[n]}return t}function NN(e){if(En(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var s=Math.random().toString(35);return t[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[r]){var a=t[r][s];try{a[0].apply(e,n)}catch(o){Er.console&&Ln.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function fy(e){if(!(this instanceof fy))return new fy(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function hU(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function VA(e,t,r,n,i){if(!(this instanceof VA))return new VA(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,hU.call(this,n,i)}function bd(e,t,r,n,i){if(!(this instanceof bd))return new bd(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,hU.call(this,n,i)}function hr(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,c=16,A="S",d=null;En(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,s=e.compress||e.compressPdf||s,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),A=e.defaultPathOperation||"S"),a=e.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,f={},u={internal:{},__private__:{}};u.__private__.PubSub=NN;var g="1.3",m=u.__private__.getPdfVersion=function(){return g};u.__private__.setPdfVersion=function(z){g=z};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};u.__private__.getPageFormats=function(){return x};var p=u.__private__.getPageFormat=function(z){return x[z]};i=i||"a4";var y="compat",w="advanced",b=y;function I(){this.saveGraphicsState(),te(new Lt(kt,0,0,-kt,0,ma()*kt).toString()+" cm"),this.setFontSize(this.getFontSize()/kt),A="n",b=w}function F(){this.restoreGraphicsState(),A="S",b=y}var R=u.__private__.combineFontStyleAndFontWeight=function(z,we){if(z=="bold"&&we=="normal"||z=="bold"&&we==400||z=="normal"&&we=="italic"||z=="bold"&&we=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return we&&(z=we==400||we==="normal"?z==="italic"?"italic":"normal":we!=700&&we!=="bold"||z!=="normal"?(we==700?"bold":we)+""+z:"bold"),z};u.advancedAPI=function(z){var we=b===y;return we&&I.call(this),typeof z!="function"||(z(this),we&&F.call(this)),this},u.compatAPI=function(z){var we=b===w;return we&&F.call(this),typeof z!="function"||(z(this),we&&I.call(this)),this},u.isAdvancedAPI=function(){return b===w};var Q,k=function(z){if(b!==w)throw new Error(z+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},$=u.roundToPrecision=u.__private__.roundToPrecision=function(z,we){var Te=t||we;if(isNaN(z)||isNaN(Te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return z.toFixed(Te).replace(/0+$/,"")};Q=u.hpf=u.__private__.hpf=typeof c=="number"?function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.hpf");return $(z,c)}:c==="smart"?function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.hpf");return $(z,z>-1&&z<1?16:5)}:function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.hpf");return $(z,16)};var q=u.f2=u.__private__.f2=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.f2");return $(z,2)},T=u.__private__.f3=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.f3");return $(z,3)},K=u.scale=u.__private__.scale=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.scale");return b===y?z*kt:b===w?z:void 0},v=function(z){return K(function(we){return b===y?ma()-we:b===w?we:void 0}(z))};u.__private__.setPrecision=u.setPrecision=function(z){typeof parseInt(z,10)=="number"&&(t=parseInt(z,10))};var re,ge="00000000000000000000000000000000",Y=u.__private__.getFileId=function(){return ge},fe=u.__private__.setFileId=function(z){return ge=z!==void 0&&/^[a-fA-F0-9]{32}$/.test(z)?z.toUpperCase():ge.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(bn=new ed(d.userPermissions,d.userPassword,d.ownerPassword,ge)),ge};u.setFileId=function(z){return fe(z),this},u.getFileId=function(){return Y()};var le=u.__private__.convertDateToPDFDate=function(z){var we=z.getTimezoneOffset(),Te=we<0?"+":"-",Pe=Math.floor(Math.abs(we/60)),Ye=Math.abs(we%60),ft=[Te,G(Pe),"'",G(Ye),"'"].join("");return["D:",z.getFullYear(),G(z.getMonth()+1),G(z.getDate()),G(z.getHours()),G(z.getMinutes()),G(z.getSeconds()),ft].join("")},ne=u.__private__.convertPDFDateToDate=function(z){var we=parseInt(z.substr(2,4),10),Te=parseInt(z.substr(6,2),10)-1,Pe=parseInt(z.substr(8,2),10),Ye=parseInt(z.substr(10,2),10),ft=parseInt(z.substr(12,2),10),Et=parseInt(z.substr(14,2),10);return new Date(we,Te,Pe,Ye,ft,Et,0)},ae=u.__private__.setCreationDate=function(z){var we;if(z===void 0&&(z=new Date),z instanceof Date)we=le(z);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(z))throw new Error("Invalid argument passed to jsPDF.setCreationDate");we=z}return re=we},_=u.__private__.getCreationDate=function(z){var we=re;return z==="jsDate"&&(we=ne(re)),we};u.setCreationDate=function(z){return ae(z),this},u.getCreationDate=function(z){return _(z)};var O,G=u.__private__.padd2=function(z){return("0"+parseInt(z)).slice(-2)},oe=u.__private__.padd2Hex=function(z){return("00"+(z=z.toString())).substr(z.length)},Ae=0,U=[],M=[],J=0,ce=[],ee=[],Z=!1,me=M;u.__private__.setCustomOutputDestination=function(z){Z=!0,me=z};var B=function(z){Z||(me=z)};u.__private__.resetCustomOutputDestination=function(){Z=!1,me=M};var te=u.__private__.out=function(z){return z=z.toString(),J+=z.length+1,me.push(z),me},H=u.__private__.write=function(z){return te(arguments.length===1?z.toString():Array.prototype.join.call(arguments," "))},S=u.__private__.getArrayBuffer=function(z){for(var we=z.length,Te=new ArrayBuffer(we),Pe=new Uint8Array(Te);we--;)Pe[we]=z.charCodeAt(we);return Te},E=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];u.__private__.getStandardFonts=function(){return E};var P=e.fontSize||16;u.__private__.setFontSize=u.setFontSize=function(z){return P=b===w?z/kt:z,this};var de,ye=u.__private__.getFontSize=u.getFontSize=function(){return b===y?P:P*kt},ue=e.R2L||!1;u.__private__.setR2L=u.setR2L=function(z){return ue=z,this},u.__private__.getR2L=u.getR2L=function(){return ue};var ke,Oe=u.__private__.setZoomMode=function(z){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(z))de=z;else if(isNaN(z)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(z)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+z+'" is not recognized.');de=z}else de=parseInt(z,10)};u.__private__.getZoomMode=function(){return de};var Ue,_e=u.__private__.setPageMode=function(z){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(z)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+z+'" is not recognized.');ke=z};u.__private__.getPageMode=function(){return ke};var Me=u.__private__.setLayoutMode=function(z){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(z)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+z+'" is not recognized.');Ue=z};u.__private__.getLayoutMode=function(){return Ue},u.__private__.setDisplayMode=u.setDisplayMode=function(z,we,Te){return Oe(z),Me(we),_e(Te),this};var Ze={title:"",subject:"",author:"",keywords:"",creator:""};u.__private__.getDocumentProperty=function(z){if(Object.keys(Ze).indexOf(z)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ze[z]},u.__private__.getDocumentProperties=function(){return Ze},u.__private__.setDocumentProperties=u.setProperties=u.setDocumentProperties=function(z){for(var we in Ze)Ze.hasOwnProperty(we)&&z[we]&&(Ze[we]=z[we]);return this},u.__private__.setDocumentProperty=function(z,we){if(Object.keys(Ze).indexOf(z)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ze[z]=we};var ut,kt,It,ur,Ft,yt={},Yt={},mt=[],$t={},tr={},fr={},Ct={},$e=null,ct=0,st=[],et=new NN(u),qt=e.hotfixes||[],Qt={},Gt={},Tr=[],Lt=function z(we,Te,Pe,Ye,ft,Et){if(!(this instanceof z))return new z(we,Te,Pe,Ye,ft,Et);isNaN(we)&&(we=1),isNaN(Te)&&(Te=0),isNaN(Pe)&&(Pe=0),isNaN(Ye)&&(Ye=1),isNaN(ft)&&(ft=0),isNaN(Et)&&(Et=0),this._matrix=[we,Te,Pe,Ye,ft,Et]};Object.defineProperty(Lt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(z){this._matrix[0]=z}}),Object.defineProperty(Lt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(z){this._matrix[1]=z}}),Object.defineProperty(Lt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(z){this._matrix[2]=z}}),Object.defineProperty(Lt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(z){this._matrix[3]=z}}),Object.defineProperty(Lt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(z){this._matrix[4]=z}}),Object.defineProperty(Lt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(z){this._matrix[5]=z}}),Object.defineProperty(Lt.prototype,"a",{get:function(){return this._matrix[0]},set:function(z){this._matrix[0]=z}}),Object.defineProperty(Lt.prototype,"b",{get:function(){return this._matrix[1]},set:function(z){this._matrix[1]=z}}),Object.defineProperty(Lt.prototype,"c",{get:function(){return this._matrix[2]},set:function(z){this._matrix[2]=z}}),Object.defineProperty(Lt.prototype,"d",{get:function(){return this._matrix[3]},set:function(z){this._matrix[3]=z}}),Object.defineProperty(Lt.prototype,"e",{get:function(){return this._matrix[4]},set:function(z){this._matrix[4]=z}}),Object.defineProperty(Lt.prototype,"f",{get:function(){return this._matrix[5]},set:function(z){this._matrix[5]=z}}),Object.defineProperty(Lt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Lt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Lt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Lt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Lt.prototype.join=function(z){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Q).join(z)},Lt.prototype.multiply=function(z){var we=z.sx*this.sx+z.shy*this.shx,Te=z.sx*this.shy+z.shy*this.sy,Pe=z.shx*this.sx+z.sy*this.shx,Ye=z.shx*this.shy+z.sy*this.sy,ft=z.tx*this.sx+z.ty*this.shx+this.tx,Et=z.tx*this.shy+z.ty*this.sy+this.ty;return new Lt(we,Te,Pe,Ye,ft,Et)},Lt.prototype.decompose=function(){var z=this.sx,we=this.shy,Te=this.shx,Pe=this.sy,Ye=this.tx,ft=this.ty,Et=Math.sqrt(z*z+we*we),Ht=(z/=Et)*Te+(we/=Et)*Pe;Te-=z*Ht,Pe-=we*Ht;var er=Math.sqrt(Te*Te+Pe*Pe);return Ht/=er,z*(Pe/=er)<we*(Te/=er)&&(z=-z,we=-we,Ht=-Ht,Et=-Et),{scale:new Lt(Et,0,0,er,0,0),translate:new Lt(1,0,0,1,Ye,ft),rotate:new Lt(z,we,-we,z,0,0),skew:new Lt(1,0,Ht,1,0,0)}},Lt.prototype.toString=function(z){return this.join(" ")},Lt.prototype.inversed=function(){var z=this.sx,we=this.shy,Te=this.shx,Pe=this.sy,Ye=this.tx,ft=this.ty,Et=1/(z*Pe-we*Te),Ht=Pe*Et,er=-we*Et,pr=-Te*Et,xr=z*Et;return new Lt(Ht,er,pr,xr,-Ht*Ye-pr*ft,-er*Ye-xr*ft)},Lt.prototype.applyToPoint=function(z){var we=z.x*this.sx+z.y*this.shx+this.tx,Te=z.x*this.shy+z.y*this.sy+this.ty;return new dn(we,Te)},Lt.prototype.applyToRectangle=function(z){var we=this.applyToPoint(z),Te=this.applyToPoint(new dn(z.x+z.w,z.y+z.h));return new Hn(we.x,we.y,Te.x-we.x,Te.y-we.y)},Lt.prototype.clone=function(){var z=this.sx,we=this.shy,Te=this.shx,Pe=this.sy,Ye=this.tx,ft=this.ty;return new Lt(z,we,Te,Pe,Ye,ft)},u.Matrix=Lt;var Dr=u.matrixMult=function(z,we){return we.multiply(z)},zr=new Lt(1,0,0,1,0,0);u.unitMatrix=u.identityMatrix=zr;var Lr=function(z,we){if(!tr[z]){var Te=(we instanceof VA?"Sh":"P")+(Object.keys($t).length+1).toString(10);we.id=Te,tr[z]=Te,$t[Te]=we,et.publish("addPattern",we)}};u.ShadingPattern=VA,u.TilingPattern=bd,u.addShadingPattern=function(z,we){return k("addShadingPattern()"),Lr(z,we),this},u.beginTilingPattern=function(z){k("beginTilingPattern()"),Po(z.boundingBox[0],z.boundingBox[1],z.boundingBox[2]-z.boundingBox[0],z.boundingBox[3]-z.boundingBox[1],z.matrix)},u.endTilingPattern=function(z,we){k("endTilingPattern()"),we.stream=ee[O].join(`
`),Lr(z,we),et.publish("endTilingPattern",we),Tr.pop().restore()};var _r,Fn=u.__private__.newObject=function(){var z=gn();return Mn(z,!0),z},gn=u.__private__.newObjectDeferred=function(){return Ae++,U[Ae]=function(){return J},Ae},Mn=function(z,we){return we=typeof we=="boolean"&&we,U[z]=J,we&&te(z+" 0 obj"),z},Gs=u.__private__.newAdditionalObject=function(){var z={objId:gn(),content:""};return ce.push(z),z},Ws=gn(),Yr=gn(),Ni=u.__private__.decodeColorString=function(z){var we=z.split(" ");if(we.length!==2||we[1]!=="g"&&we[1]!=="G")we.length!==5||we[4]!=="k"&&we[4]!=="K"||(we=[(1-we[0])*(1-we[3]),(1-we[1])*(1-we[3]),(1-we[2])*(1-we[3]),"r"]);else{var Te=parseFloat(we[0]);we=[Te,Te,Te,"r"]}for(var Pe="#",Ye=0;Ye<3;Ye++)Pe+=("0"+Math.floor(255*parseFloat(we[Ye])).toString(16)).slice(-2);return Pe},li=u.__private__.encodeColorString=function(z){var we;typeof z=="string"&&(z={ch1:z});var Te=z.ch1,Pe=z.ch2,Ye=z.ch3,ft=z.ch4,Et=z.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Te=="string"&&Te.charAt(0)!=="#"){var Ht=new uU(Te);if(Ht.ok)Te=Ht.toHex();else if(!/^\d*\.?\d*$/.test(Te))throw new Error('Invalid color "'+Te+'" passed to jsPDF.encodeColorString.')}if(typeof Te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Te)&&(Te="#"+Te[1]+Te[1]+Te[2]+Te[2]+Te[3]+Te[3]),typeof Te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Te)){var er=parseInt(Te.substr(1),16);Te=er>>16&255,Pe=er>>8&255,Ye=255&er}if(Pe===void 0||ft===void 0&&Te===Pe&&Pe===Ye)we=typeof Te=="string"?Te+" "+Et[0]:z.precision===2?q(Te/255)+" "+Et[0]:T(Te/255)+" "+Et[0];else if(ft===void 0||En(ft)==="object"){if(ft&&!isNaN(ft.a)&&ft.a===0)return["1.","1.","1.",Et[1]].join(" ");we=typeof Te=="string"?[Te,Pe,Ye,Et[1]].join(" "):z.precision===2?[q(Te/255),q(Pe/255),q(Ye/255),Et[1]].join(" "):[T(Te/255),T(Pe/255),T(Ye/255),Et[1]].join(" ")}else we=typeof Te=="string"?[Te,Pe,Ye,ft,Et[2]].join(" "):z.precision===2?[q(Te),q(Pe),q(Ye),q(ft),Et[2]].join(" "):[T(Te),T(Pe),T(Ye),T(ft),Et[2]].join(" ");return we},ki=u.__private__.getFilters=function(){return a},Es=u.__private__.putStream=function(z){var we=(z=z||{}).data||"",Te=z.filters||ki(),Pe=z.alreadyAppliedFilters||[],Ye=z.addLength1||!1,ft=we.length,Et=z.objectId,Ht=function(Kn){return Kn};if(d!==null&&Et===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Ht=bn.encryptor(Et,0));var er={};Te===!0&&(Te=["FlateEncode"]);var pr=z.additionalKeyValues||[],xr=(er=hr.API.processDataByFilters!==void 0?hr.API.processDataByFilters(we,Te):{data:we,reverseChain:[]}).reverseChain+(Array.isArray(Pe)?Pe.join(" "):Pe.toString());if(er.data.length!==0&&(pr.push({key:"Length",value:er.data.length}),Ye===!0&&pr.push({key:"Length1",value:ft})),xr.length!=0)if(xr.split("/").length-1==1)pr.push({key:"Filter",value:xr});else{pr.push({key:"Filter",value:"["+xr+"]"});for(var Wr=0;Wr<pr.length;Wr+=1)if(pr[Wr].key==="DecodeParms"){for(var Nn=[],zn=0;zn<er.reverseChain.split("/").length-1;zn+=1)Nn.push("null");Nn.push(pr[Wr].value),pr[Wr].value="["+Nn.join(" ")+"]"}}te("<<");for(var on=0;on<pr.length;on++)te("/"+pr[on].key+" "+pr[on].value);te(">>"),er.data.length!==0&&(te("stream"),te(Ht(er.data)),te("endstream"))},Ii=u.__private__.putPage=function(z){var we=z.number,Te=z.data,Pe=z.objId,Ye=z.contentsObjId;Mn(Pe,!0),te("<</Type /Page"),te("/Parent "+z.rootDictionaryObjId+" 0 R"),te("/Resources "+z.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat(Q(z.mediaBox.bottomLeftX))+" "+parseFloat(Q(z.mediaBox.bottomLeftY))+" "+Q(z.mediaBox.topRightX)+" "+Q(z.mediaBox.topRightY)+"]"),z.cropBox!==null&&te("/CropBox ["+Q(z.cropBox.bottomLeftX)+" "+Q(z.cropBox.bottomLeftY)+" "+Q(z.cropBox.topRightX)+" "+Q(z.cropBox.topRightY)+"]"),z.bleedBox!==null&&te("/BleedBox ["+Q(z.bleedBox.bottomLeftX)+" "+Q(z.bleedBox.bottomLeftY)+" "+Q(z.bleedBox.topRightX)+" "+Q(z.bleedBox.topRightY)+"]"),z.trimBox!==null&&te("/TrimBox ["+Q(z.trimBox.bottomLeftX)+" "+Q(z.trimBox.bottomLeftY)+" "+Q(z.trimBox.topRightX)+" "+Q(z.trimBox.topRightY)+"]"),z.artBox!==null&&te("/ArtBox ["+Q(z.artBox.bottomLeftX)+" "+Q(z.artBox.bottomLeftY)+" "+Q(z.artBox.topRightX)+" "+Q(z.artBox.topRightY)+"]"),typeof z.userUnit=="number"&&z.userUnit!==1&&te("/UserUnit "+z.userUnit),et.publish("putPage",{objId:Pe,pageContext:st[we],pageNumber:we,page:Te}),te("/Contents "+Ye+" 0 R"),te(">>"),te("endobj");var ft=Te.join(`
`);return b===w&&(ft+=`
Q`),Mn(Ye,!0),Es({data:ft,filters:ki(),objectId:Ye}),te("endobj"),Pe},Ss=u.__private__.putPages=function(){var z,we,Te=[];for(z=1;z<=ct;z++)st[z].objId=gn(),st[z].contentsObjId=gn();for(z=1;z<=ct;z++)Te.push(Ii({number:z,data:ee[z],objId:st[z].objId,contentsObjId:st[z].contentsObjId,mediaBox:st[z].mediaBox,cropBox:st[z].cropBox,bleedBox:st[z].bleedBox,trimBox:st[z].trimBox,artBox:st[z].artBox,userUnit:st[z].userUnit,rootDictionaryObjId:Ws,resourceDictionaryObjId:Yr}));Mn(Ws,!0),te("<</Type /Pages");var Pe="/Kids [";for(we=0;we<ct;we++)Pe+=Te[we]+" 0 R ";te(Pe+"]"),te("/Count "+ct),te(">>"),te("endobj"),et.publish("postPutPages")},Ti=function(z){et.publish("putFont",{font:z,out:te,newObject:Fn,putStream:Es}),z.isAlreadyPutted!==!0&&(z.objectNumber=Fn(),te("<<"),te("/Type /Font"),te("/BaseFont /"+td(z.postScriptName)),te("/Subtype /Type1"),typeof z.encoding=="string"&&te("/Encoding /"+z.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},Uo=function(z){z.objectNumber=Fn();var we=[];we.push({key:"Type",value:"/XObject"}),we.push({key:"Subtype",value:"/Form"}),we.push({key:"BBox",value:"["+[Q(z.x),Q(z.y),Q(z.x+z.width),Q(z.y+z.height)].join(" ")+"]"}),we.push({key:"Matrix",value:"["+z.matrix.toString()+"]"});var Te=z.pages[1].join(`
`);Es({data:Te,additionalKeyValues:we,objectId:z.objectNumber}),te("endobj")},mi=function(z,we){we||(we=21);var Te=Fn(),Pe=function(Et,Ht){var er,pr=[],xr=1/(Ht-1);for(er=0;er<1;er+=xr)pr.push(er);if(pr.push(1),Et[0].offset!=0){var Wr={offset:0,color:Et[0].color};Et.unshift(Wr)}if(Et[Et.length-1].offset!=1){var Nn={offset:1,color:Et[Et.length-1].color};Et.push(Nn)}for(var zn="",on=0,Kn=0;Kn<pr.length;Kn++){for(er=pr[Kn];er>Et[on+1].offset;)on++;var yn=Et[on].offset,Jn=(er-yn)/(Et[on+1].offset-yn),ts=Et[on].color,gi=Et[on+1].color;zn+=oe(Math.round((1-Jn)*ts[0]+Jn*gi[0]).toString(16))+oe(Math.round((1-Jn)*ts[1]+Jn*gi[1]).toString(16))+oe(Math.round((1-Jn)*ts[2]+Jn*gi[2]).toString(16))}return zn.trim()}(z.colors,we),Ye=[];Ye.push({key:"FunctionType",value:"0"}),Ye.push({key:"Domain",value:"[0.0 1.0]"}),Ye.push({key:"Size",value:"["+we+"]"}),Ye.push({key:"BitsPerSample",value:"8"}),Ye.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ye.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Es({data:Pe,additionalKeyValues:Ye,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Te}),te("endobj"),z.objectNumber=Fn(),te("<< /ShadingType "+z.type),te("/ColorSpace /DeviceRGB");var ft="/Coords ["+Q(parseFloat(z.coords[0]))+" "+Q(parseFloat(z.coords[1]))+" ";z.type===2?ft+=Q(parseFloat(z.coords[2]))+" "+Q(parseFloat(z.coords[3])):ft+=Q(parseFloat(z.coords[2]))+" "+Q(parseFloat(z.coords[3]))+" "+Q(parseFloat(z.coords[4]))+" "+Q(parseFloat(z.coords[5])),te(ft+="]"),z.matrix&&te("/Matrix ["+z.matrix.toString()+"]"),te("/Function "+Te+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},an=function(z,we){var Te=gn(),Pe=Fn();we.push({resourcesOid:Te,objectOid:Pe}),z.objectNumber=Pe;var Ye=[];Ye.push({key:"Type",value:"/Pattern"}),Ye.push({key:"PatternType",value:"1"}),Ye.push({key:"PaintType",value:"1"}),Ye.push({key:"TilingType",value:"1"}),Ye.push({key:"BBox",value:"["+z.boundingBox.map(Q).join(" ")+"]"}),Ye.push({key:"XStep",value:Q(z.xStep)}),Ye.push({key:"YStep",value:Q(z.yStep)}),Ye.push({key:"Resources",value:Te+" 0 R"}),z.matrix&&Ye.push({key:"Matrix",value:"["+z.matrix.toString()+"]"}),Es({data:z.stream,additionalKeyValues:Ye,objectId:z.objectNumber}),te("endobj")},$s=function(z){for(var we in z.objectNumber=Fn(),te("<<"),z)switch(we){case"opacity":te("/ca "+q(z[we]));break;case"stroke-opacity":te("/CA "+q(z[we]))}te(">>"),te("endobj")},Ji=function(z){Mn(z.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var we in te("/Font <<"),yt)yt.hasOwnProperty(we)&&(h===!1||h===!0&&f.hasOwnProperty(we))&&te("/"+we+" "+yt[we].objectNumber+" 0 R");te(">>")}(),function(){if(Object.keys($t).length>0){for(var we in te("/Shading <<"),$t)$t.hasOwnProperty(we)&&$t[we]instanceof VA&&$t[we].objectNumber>=0&&te("/"+we+" "+$t[we].objectNumber+" 0 R");et.publish("putShadingPatternDict"),te(">>")}}(),function(we){if(Object.keys($t).length>0){for(var Te in te("/Pattern <<"),$t)$t.hasOwnProperty(Te)&&$t[Te]instanceof u.TilingPattern&&$t[Te].objectNumber>=0&&$t[Te].objectNumber<we&&te("/"+Te+" "+$t[Te].objectNumber+" 0 R");et.publish("putTilingPatternDict"),te(">>")}}(z.objectOid),function(){if(Object.keys(fr).length>0){var we;for(we in te("/ExtGState <<"),fr)fr.hasOwnProperty(we)&&fr[we].objectNumber>=0&&te("/"+we+" "+fr[we].objectNumber+" 0 R");et.publish("putGStateDict"),te(">>")}}(),function(){for(var we in te("/XObject <<"),Qt)Qt.hasOwnProperty(we)&&Qt[we].objectNumber>=0&&te("/"+we+" "+Qt[we].objectNumber+" 0 R");et.publish("putXobjectDict"),te(">>")}(),te(">>"),te("endobj")},ul=function(z){Yt[z.fontName]=Yt[z.fontName]||{},Yt[z.fontName][z.fontStyle]=z.id},ls=function(z,we,Te,Pe,Ye){var ft={id:"F"+(Object.keys(yt).length+1).toString(10),postScriptName:z,fontName:we,fontStyle:Te,encoding:Pe,isStandardFont:Ye||!1,metadata:{}};return et.publish("addFont",{font:ft,instance:this}),yt[ft.id]=ft,ul(ft),ft.id},Fi=u.__private__.pdfEscape=u.pdfEscape=function(z,we){return function(Te,Pe){var Ye,ft,Et,Ht,er,pr,xr,Wr,Nn;if(Et=(Pe=Pe||{}).sourceEncoding||"Unicode",er=Pe.outputEncoding,(Pe.autoencode||er)&&yt[ut].metadata&&yt[ut].metadata[Et]&&yt[ut].metadata[Et].encoding&&(Ht=yt[ut].metadata[Et].encoding,!er&&yt[ut].encoding&&(er=yt[ut].encoding),!er&&Ht.codePages&&(er=Ht.codePages[0]),typeof er=="string"&&(er=Ht[er]),er)){for(xr=!1,pr=[],Ye=0,ft=Te.length;Ye<ft;Ye++)(Wr=er[Te.charCodeAt(Ye)])?pr.push(String.fromCharCode(Wr)):pr.push(Te[Ye]),pr[Ye].charCodeAt(0)>>8&&(xr=!0);Te=pr.join("")}for(Ye=Te.length;xr===void 0&&Ye!==0;)Te.charCodeAt(Ye-1)>>8&&(xr=!0),Ye--;if(!xr)return Te;for(pr=Pe.noBOM?[]:[254,255],Ye=0,ft=Te.length;Ye<ft;Ye++){if((Nn=(Wr=Te.charCodeAt(Ye))>>8)>>8)throw new Error("Character at position "+Ye+" of string '"+Te+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");pr.push(Nn),pr.push(Wr-(Nn<<8))}return String.fromCharCode.apply(void 0,pr)}(z,we).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ha=u.__private__.beginPage=function(z){ee[++ct]=[],st[ct]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(z[0]),topRightY:Number(z[1])}},Do(ct),B(ee[O])},Lo=function(z,we){var Te,Pe,Ye;switch(r=we||r,typeof z=="string"&&(Te=p(z.toLowerCase()),Array.isArray(Te)&&(Pe=Te[0],Ye=Te[1])),Array.isArray(z)&&(Pe=z[0]*kt,Ye=z[1]*kt),isNaN(Pe)&&(Pe=i[0],Ye=i[1]),(Pe>14400||Ye>14400)&&(Ln.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Pe=Math.min(14400,Pe),Ye=Math.min(14400,Ye)),i=[Pe,Ye],r.substr(0,1)){case"l":Ye>Pe&&(i=[Ye,Pe]);break;case"p":Pe>Ye&&(i=[Ye,Pe])}ha(i),jn(ir),te(W),sr!==0&&te(sr+" J"),br!==0&&te(br+" j"),et.publish("addPage",{pageNumber:ct})},ji=function(z){z>0&&z<=ct&&(ee.splice(z,1),st.splice(z,1),ct--,O>ct&&(O=ct),this.setPage(O))},Do=function(z){z>0&&z<=ct&&(O=z)},co=u.__private__.getNumberOfPages=u.getNumberOfPages=function(){return ee.length-1},dl=function(z,we,Te){var Pe,Ye=void 0;return Te=Te||{},z=z!==void 0?z:yt[ut].fontName,we=we!==void 0?we:yt[ut].fontStyle,Pe=z.toLowerCase(),Yt[Pe]!==void 0&&Yt[Pe][we]!==void 0?Ye=Yt[Pe][we]:Yt[z]!==void 0&&Yt[z][we]!==void 0?Ye=Yt[z][we]:Te.disableWarning===!1&&Ln.warn("Unable to look up font label for font '"+z+"', '"+we+"'. Refer to getFontList() for available fonts."),Ye||Te.noFallback||(Ye=Yt.times[we])==null&&(Ye=Yt.times.normal),Ye},kr=u.__private__.putInfo=function(){var z=Fn(),we=function(Pe){return Pe};for(var Te in d!==null&&(we=bn.encryptor(z,0)),te("<<"),te("/Producer ("+Fi(we("jsPDF "+hr.version))+")"),Ze)Ze.hasOwnProperty(Te)&&Ze[Te]&&te("/"+Te.substr(0,1).toUpperCase()+Te.substr(1)+" ("+Fi(we(Ze[Te]))+")");te("/CreationDate ("+Fi(we(re))+")"),te(">>"),te("endobj")},kc=u.__private__.putCatalog=function(z){var we=(z=z||{}).rootDictionaryObjId||Ws;switch(Fn(),te("<<"),te("/Type /Catalog"),te("/Pages "+we+" 0 R"),de||(de="fullwidth"),de){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Te=""+de;Te.substr(Te.length-1)==="%"&&(de=parseInt(de)/100),typeof de=="number"&&te("/OpenAction [3 0 R /XYZ null null "+q(de)+"]")}switch(Ue||(Ue="continuous"),Ue){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}ke&&te("/PageMode /"+ke),et.publish("putCatalog"),te(">>"),te("endobj")},un=u.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(Ae+1)),te("/Root "+Ae+" 0 R"),te("/Info "+(Ae-1)+" 0 R"),d!==null&&te("/Encrypt "+bn.oid+" 0 R"),te("/ID [ <"+ge+"> <"+ge+"> ]"),te(">>")},Zr=u.__private__.putHeader=function(){te("%PDF-"+g),te("%ÂºÃŸÂ¬Ã ")},Zi=u.__private__.putXRef=function(){var z="0000000000";te("xref"),te("0 "+(Ae+1)),te("0000000000 65535 f ");for(var we=1;we<=Ae;we++)typeof U[we]=="function"?te((z+U[we]()).slice(-10)+" 00000 n "):U[we]!==void 0?te((z+U[we]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},cs=u.__private__.buildDocument=function(){var z;Ae=0,J=0,M=[],U=[],ce=[],Ws=gn(),Yr=gn(),B(M),et.publish("buildDocument"),Zr(),Ss(),function(){et.publish("putAdditionalObjects");for(var Te=0;Te<ce.length;Te++){var Pe=ce[Te];Mn(Pe.objId,!0),te(Pe.content),te("endobj")}et.publish("postPutAdditionalObjects")}(),z=[],function(){for(var Te in yt)yt.hasOwnProperty(Te)&&(h===!1||h===!0&&f.hasOwnProperty(Te))&&Ti(yt[Te])}(),function(){var Te;for(Te in fr)fr.hasOwnProperty(Te)&&$s(fr[Te])}(),function(){for(var Te in Qt)Qt.hasOwnProperty(Te)&&Uo(Qt[Te])}(),function(Te){var Pe;for(Pe in $t)$t.hasOwnProperty(Pe)&&($t[Pe]instanceof VA?mi($t[Pe]):$t[Pe]instanceof bd&&an($t[Pe],Te))}(z),et.publish("putResources"),z.forEach(Ji),Ji({resourcesOid:Yr,objectOid:Number.MAX_SAFE_INTEGER}),et.publish("postPutResources"),d!==null&&(bn.oid=Fn(),te("<<"),te("/Filter /Standard"),te("/V "+bn.v),te("/R "+bn.r),te("/U <"+bn.toHexString(bn.U)+">"),te("/O <"+bn.toHexString(bn.O)+">"),te("/P "+bn.P),te(">>"),te("endobj")),kr(),kc();var we=J;return Zi(),un(),te("startxref"),te(""+we),te("%%EOF"),B(ee[O]),M.join(`
`)},Vs=u.__private__.getBlob=function(z){return new Blob([S(z)],{type:"application/pdf"})},Hi=u.output=u.__private__.output=(_r=function(z,we){switch(typeof(we=we||{})=="string"?we={filename:we}:we.filename=we.filename||"generated.pdf",z){case void 0:return cs();case"save":u.save(we.filename);break;case"arraybuffer":return S(cs());case"blob":return Vs(cs());case"bloburi":case"bloburl":if(Er.URL!==void 0&&typeof Er.URL.createObjectURL=="function")return Er.URL&&Er.URL.createObjectURL(Vs(cs()))||void 0;Ln.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Te="",Pe=cs();try{Te=EN(Pe)}catch{Te=EN(unescape(encodeURIComponent(Pe)))}return"data:application/pdf;filename="+we.filename+";base64,"+Te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Er)==="[object Window]"){var Ye="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ft=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';we.pdfObjectUrl&&(Ye=we.pdfObjectUrl,ft="");var Et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ye+'"'+ft+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(we)+");<\/script></body></html>",Ht=Er.open();return Ht!==null&&Ht.document.write(Et),Ht}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Er)==="[object Window]"){var er='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(we.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+we.filename+'" width="500px" height="400px" /></body></html>',pr=Er.open();if(pr!==null){pr.document.write(er);var xr=this;pr.document.documentElement.querySelector("#pdfViewer").onload=function(){pr.document.title=we.filename,pr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(xr.output("bloburl"))}}return pr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Er)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Wr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",we)+'"></iframe></body></html>',Nn=Er.open();if(Nn!==null&&(Nn.document.write(Wr),Nn.document.title=we.filename),Nn||typeof safari>"u")return Nn;break;case"datauri":case"dataurl":return Er.document.location.href=this.output("datauristring",we);default:return null}},_r.foo=function(){try{return _r.apply(this,arguments)}catch(Te){var z=Te.stack||"";~z.indexOf(" at ")&&(z=z.split(" at ")[1]);var we="Error in function "+z.split(`
`)[0].split("<")[0]+": "+Te.message;if(!Er.console)throw new Error(we);Er.console.error(we,Te),Er.alert&&alert(we)}},_r.foo.bar=_r,_r.foo),Gr=function(z){return Array.isArray(qt)===!0&&qt.indexOf(z)>-1};switch(n){case"pt":kt=1;break;case"mm":kt=72/25.4;break;case"cm":kt=72/2.54;break;case"in":kt=72;break;case"px":kt=Gr("px_scaling")==1?.75:96/72;break;case"pc":case"em":kt=12;break;case"ex":kt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);kt=n}var bn=null;ae(),fe();var ja=u.__private__.getPageInfo=u.getPageInfo=function(z){if(isNaN(z)||z%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:st[z].objId,pageNumber:z,pageContext:st[z]}},_s=u.__private__.getPageInfoByObjId=function(z){if(isNaN(z)||z%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var we in st)if(st[we].objId===z)break;return ja(we)},hl=u.__private__.getCurrentPageInfo=u.getCurrentPageInfo=function(){return{objId:st[O].objId,pageNumber:O,pageContext:st[O]}};u.addPage=function(){return Lo.apply(this,arguments),this},u.setPage=function(){return Do.apply(this,arguments),B.call(this,ee[O]),this},u.insertPage=function(z){return this.addPage(),this.movePage(O,z),this},u.movePage=function(z,we){var Te,Pe;if(z>we){Te=ee[z],Pe=st[z];for(var Ye=z;Ye>we;Ye--)ee[Ye]=ee[Ye-1],st[Ye]=st[Ye-1];ee[we]=Te,st[we]=Pe,this.setPage(we)}else if(z<we){Te=ee[z],Pe=st[z];for(var ft=z;ft<we;ft++)ee[ft]=ee[ft+1],st[ft]=st[ft+1];ee[we]=Te,st[we]=Pe,this.setPage(we)}return this},u.deletePage=function(){return ji.apply(this,arguments),this},u.__private__.text=u.text=function(z,we,Te,Pe,Ye){var ft,Et,Ht,er,pr,xr,Wr,Nn,zn,on=(Pe=Pe||{}).scope||this;if(typeof z=="number"&&typeof we=="number"&&(typeof Te=="string"||Array.isArray(Te))){var Kn=Te;Te=we,we=z,z=Kn}if(arguments[3]instanceof Lt==0?(Ht=arguments[4],er=arguments[5],En(Wr=arguments[3])==="object"&&Wr!==null||(typeof Ht=="string"&&(er=Ht,Ht=null),typeof Wr=="string"&&(er=Wr,Wr=null),typeof Wr=="number"&&(Ht=Wr,Wr=null),Pe={flags:Wr,angle:Ht,align:er})):(k("The transform parameter of text() with a Matrix value"),zn=Ye),isNaN(we)||isNaN(Te)||z==null)throw new Error("Invalid arguments passed to jsPDF.text");if(z.length===0)return on;var yn,Jn="",ts=typeof Pe.lineHeightFactor=="number"?Pe.lineHeightFactor:es,gi=on.internal.scaleFactor;function pl(Le){return Le=Le.split("	").join(Array(Pe.TabLen||9).join(" ")),Fi(Le,Wr)}function ga(Le){for(var qe,Qe=Le.concat(),Ke=[],We=Qe.length;We--;)typeof(qe=Qe.shift())=="string"?Ke.push(qe):Array.isArray(Le)&&(qe.length===1||qe[1]===void 0&&qe[2]===void 0)?Ke.push(qe[0]):Ke.push([qe[0],qe[1],qe[2]]);return Ke}function ho(Le,qe){var Qe;if(typeof Le=="string")Qe=qe(Le)[0];else if(Array.isArray(Le)){for(var Ke,We,Je=Le.concat(),nt=[],lt=Je.length;lt--;)typeof(Ke=Je.shift())=="string"?nt.push(qe(Ke)[0]):Array.isArray(Ke)&&typeof Ke[0]=="string"&&(We=qe(Ke[0],Ke[1],Ke[2]),nt.push([We[0],We[1],We[2]]));Qe=nt}return Qe}var ea=!1,ta=!0;if(typeof z=="string")ea=!0;else if(Array.isArray(z)){var tt=z.concat();Et=[];for(var vt,zt=tt.length;zt--;)(typeof(vt=tt.shift())!="string"||Array.isArray(vt)&&typeof vt[0]!="string")&&(ta=!1);ea=ta}if(ea===!1)throw new Error('Type of text must be string or Array. "'+z+'" is not recognized.');typeof z=="string"&&(z=z.match(/[\r?\n]/)?z.split(/\r\n|\r|\n/g):[z]);var Ar=P/on.internal.scaleFactor,mr=Ar*(ts-1);switch(Pe.baseline){case"bottom":Te-=mr;break;case"top":Te+=Ar-mr;break;case"hanging":Te+=Ar-2*mr;break;case"middle":Te+=Ar/2-mr}if((xr=Pe.maxWidth||0)>0&&(typeof z=="string"?z=on.splitTextToSize(z,xr):Object.prototype.toString.call(z)==="[object Array]"&&(z=z.reduce(function(Le,qe){return Le.concat(on.splitTextToSize(qe,xr))},[]))),ft={text:z,x:we,y:Te,options:Pe,mutex:{pdfEscape:Fi,activeFontKey:ut,fonts:yt,activeFontSize:P}},et.publish("preProcessText",ft),z=ft.text,Ht=(Pe=ft.options).angle,zn instanceof Lt==0&&Ht&&typeof Ht=="number"){Ht*=Math.PI/180,Pe.rotationDirection===0&&(Ht=-Ht),b===w&&(Ht=-Ht);var Vr=Math.cos(Ht),Ui=Math.sin(Ht);zn=new Lt(Vr,Ui,-Ui,Vr,0,0)}else Ht&&Ht instanceof Lt&&(zn=Ht);b!==w||zn||(zn=zr),(pr=Pe.charSpace||rt)!==void 0&&(Jn+=Q(K(pr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Nn=Pe.horizontalScale)!==void 0&&(Jn+=Q(100*Nn)+` Tz
`),Pe.lang;var $r=-1,qn=Pe.renderingMode!==void 0?Pe.renderingMode:Pe.stroke,yi=on.internal.getCurrentPageInfo().pageContext;switch(qn){case 0:case!1:case"fill":$r=0;break;case 1:case!0:case"stroke":$r=1;break;case 2:case"fillThenStroke":$r=2;break;case 3:case"invisible":$r=3;break;case 4:case"fillAndAddForClipping":$r=4;break;case 5:case"strokeAndAddPathForClipping":$r=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":$r=6;break;case 7:case"addToPathForClipping":$r=7}var fo=yi.usedRenderingMode!==void 0?yi.usedRenderingMode:-1;$r!==-1?Jn+=$r+` Tr
`:fo!==-1&&(Jn+=`0 Tr
`),$r!==-1&&(yi.usedRenderingMode=$r),er=Pe.align||"left";var ri,po=P*ts,jA=on.internal.pageSize.getWidth(),UA=yt[ut];pr=Pe.charSpace||rt,xr=Pe.maxWidth||0,Wr=Object.assign({autoencode:!0,noBOM:!0},Pe.flags);var ml=[],mo=function(Le){return on.getStringUnitWidth(Le,{font:UA,charSpace:pr,fontSize:P,doKerning:!1})*P/gi};if(Object.prototype.toString.call(z)==="[object Array]"){var ni;Et=ga(z),er!=="left"&&(ri=Et.map(mo));var en,Da=0;if(er==="right"){we-=ri[0],z=[],zt=Et.length;for(var Ai=0;Ai<zt;Ai++)Ai===0?(en=ci(we),ni=Yn(Te)):(en=K(Da-ri[Ai]),ni=-po),z.push([Et[Ai],en,ni]),Da=ri[Ai]}else if(er==="center"){we-=ri[0]/2,z=[],zt=Et.length;for(var gl=0;gl<zt;gl++)gl===0?(en=ci(we),ni=Yn(Te)):(en=K((Da-ri[gl])/2),ni=-po),z.push([Et[gl],en,ni]),Da=ri[gl]}else if(er==="left"){z=[],zt=Et.length;for(var Vl=0;Vl<zt;Vl++)z.push(Et[Vl])}else if(er==="justify"&&UA.encoding==="Identity-H"){z=[],zt=Et.length,xr=xr!==0?xr:jA;for(var Xl=0,vn=0;vn<zt;vn++)if(ni=vn===0?Yn(Te):-po,en=vn===0?ci(we):Xl,vn<zt-1){var Tc=K((xr-ri[vn])/(Et[vn].split(" ").length-1)),us=Et[vn].split(" ");z.push([us[0]+" ",en,ni]),Xl=0;for(var Ki=1;Ki<us.length;Ki++){var Fc=(mo(us[Ki-1]+" "+us[Ki])-mo(us[Ki]))*gi+Tc;Ki==us.length-1?z.push([us[Ki],Fc,0]):z.push([us[Ki]+" ",Fc,0]),Xl-=Fc}}else z.push([Et[vn],en,ni]);z.push(["",Xl,0])}else{if(er!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(z=[],zt=Et.length,xr=xr!==0?xr:jA,vn=0;vn<zt;vn++){ni=vn===0?Yn(Te):-po,en=vn===0?ci(we):0;var N=Et[vn].split(" ").length-1,D=N>0?(xr-ri[vn])/N:0;vn<zt-1?ml.push(Q(K(D))):ml.push(0),z.push([Et[vn],en,ni])}}}(typeof Pe.R2L=="boolean"?Pe.R2L:ue)===!0&&(z=ho(z,function(Le,qe,Qe){return[Le.split("").reverse().join(""),qe,Qe]})),ft={text:z,x:we,y:Te,options:Pe,mutex:{pdfEscape:Fi,activeFontKey:ut,fonts:yt,activeFontSize:P}},et.publish("postProcessText",ft),z=ft.text,yn=ft.mutex.isHex||!1;var V=yt[ut].encoding;V!=="WinAnsiEncoding"&&V!=="StandardEncoding"||(z=ho(z,function(Le,qe,Qe){return[pl(Le),qe,Qe]})),Et=ga(z),z=[];for(var ie,he,ve,Ie=Array.isArray(Et[0])?1:0,De="",He=function(Le,qe,Qe){var Ke="";return Qe instanceof Lt?(Qe=typeof Pe.angle=="number"?Dr(Qe,new Lt(1,0,0,1,Le,qe)):Dr(new Lt(1,0,0,1,Le,qe),Qe),b===w&&(Qe=Dr(new Lt(1,0,0,-1,0,0),Qe)),Ke=Qe.join(" ")+` Tm
`):Ke=Q(Le)+" "+Q(qe)+` Td
`,Ke},ze=0;ze<Et.length;ze++){switch(De="",Ie){case 1:ve=(yn?"<":"(")+Et[ze][0]+(yn?">":")"),ie=parseFloat(Et[ze][1]),he=parseFloat(Et[ze][2]);break;case 0:ve=(yn?"<":"(")+Et[ze]+(yn?">":")"),ie=ci(we),he=Yn(Te)}ml!==void 0&&ml[ze]!==void 0&&(De=ml[ze]+` Tw
`),ze===0?z.push(De+He(ie,he,zn)+ve):Ie===0?z.push(De+ve):Ie===1&&z.push(De+He(ie,he,zn)+ve)}z=Ie===0?z.join(` Tj
T* `):z.join(` Tj
`),z+=` Tj
`;var Ve=`BT
/`;return Ve+=ut+" "+P+` Tf
`,Ve+=Q(P*ts)+` TL
`,Ve+=Ce+`
`,Ve+=Jn,Ve+=z,te(Ve+="ET"),f[ut]=!0,on};var Kl=u.__private__.clip=u.clip=function(z){return te(z==="evenodd"?"W*":"W"),this};u.clipEvenOdd=function(){return Kl("evenodd")},u.__private__.discardPath=u.discardPath=function(){return te("n"),this};var zi=u.__private__.isValidStyle=function(z){var we=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(z)!==-1&&(we=!0),we};u.__private__.setDefaultPathOperation=u.setDefaultPathOperation=function(z){return zi(z)&&(A=z),this};var fl=u.__private__.getStyle=u.getStyle=function(z){var we=A;switch(z){case"D":case"S":we="S";break;case"F":we="f";break;case"FD":case"DF":we="B";break;case"f":case"f*":case"B":case"B*":we=z}return we},Ua=u.close=function(){return te("h"),this};u.stroke=function(){return te("S"),this},u.fill=function(z){return Xs("f",z),this},u.fillEvenOdd=function(z){return Xs("f*",z),this},u.fillStroke=function(z){return Xs("B",z),this},u.fillStrokeEvenOdd=function(z){return Xs("B*",z),this};var Xs=function(z,we){En(we)==="object"?Ro(we,z):te(z)},ql=function(z){z===null||b===w&&z===void 0||(z=fl(z),te(z))};function Rr(z,we,Te,Pe,Ye){var ft=new bd(we||this.boundingBox,Te||this.xStep,Pe||this.yStep,this.gState,Ye||this.matrix);ft.stream=this.stream;var Et=z+"$$"+this.cloneIndex+++"$$";return Lr(Et,ft),ft}var Ro=function(z,we){var Te=tr[z.key],Pe=$t[Te];if(Pe instanceof VA)te("q"),te(La(we)),Pe.gState&&u.setGState(Pe.gState),te(z.matrix.toString()+" cm"),te("/"+Te+" sh"),te("Q");else if(Pe instanceof bd){var Ye=new Lt(1,0,0,-1,0,ma());z.matrix&&(Ye=Ye.multiply(z.matrix||zr),Te=Rr.call(Pe,z.key,z.boundingBox,z.xStep,z.yStep,Ye).id),te("q"),te("/Pattern cs"),te("/"+Te+" scn"),Pe.gState&&u.setGState(Pe.gState),te(we),te("Q")}},La=function(z){switch(z){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Oo=u.moveTo=function(z,we){return te(Q(K(z))+" "+Q(v(we))+" m"),this},hn=u.lineTo=function(z,we){return te(Q(K(z))+" "+Q(v(we))+" l"),this},Xn=u.curveTo=function(z,we,Te,Pe,Ye,ft){return te([Q(K(z)),Q(v(we)),Q(K(Te)),Q(v(Pe)),Q(K(Ye)),Q(v(ft)),"c"].join(" ")),this};u.__private__.line=u.line=function(z,we,Te,Pe,Ye){if(isNaN(z)||isNaN(we)||isNaN(Te)||isNaN(Pe)||!zi(Ye))throw new Error("Invalid arguments passed to jsPDF.line");return b===y?this.lines([[Te-z,Pe-we]],z,we,[1,1],Ye||"S"):this.lines([[Te-z,Pe-we]],z,we,[1,1]).stroke()},u.__private__.lines=u.lines=function(z,we,Te,Pe,Ye,ft){var Et,Ht,er,pr,xr,Wr,Nn,zn,on,Kn,yn,Jn;if(typeof z=="number"&&(Jn=Te,Te=we,we=z,z=Jn),Pe=Pe||[1,1],ft=ft||!1,isNaN(we)||isNaN(Te)||!Array.isArray(z)||!Array.isArray(Pe)||!zi(Ye)||typeof ft!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Oo(we,Te),Et=Pe[0],Ht=Pe[1],pr=z.length,Kn=we,yn=Te,er=0;er<pr;er++)(xr=z[er]).length===2?(Kn=xr[0]*Et+Kn,yn=xr[1]*Ht+yn,hn(Kn,yn)):(Wr=xr[0]*Et+Kn,Nn=xr[1]*Ht+yn,zn=xr[2]*Et+Kn,on=xr[3]*Ht+yn,Kn=xr[4]*Et+Kn,yn=xr[5]*Ht+yn,Xn(Wr,Nn,zn,on,Kn,yn));return ft&&Ua(),ql(Ye),this},u.path=function(z){for(var we=0;we<z.length;we++){var Te=z[we],Pe=Te.c;switch(Te.op){case"m":Oo(Pe[0],Pe[1]);break;case"l":hn(Pe[0],Pe[1]);break;case"c":Xn.apply(this,Pe);break;case"h":Ua()}}return this},u.__private__.rect=u.rect=function(z,we,Te,Pe,Ye){if(isNaN(z)||isNaN(we)||isNaN(Te)||isNaN(Pe)||!zi(Ye))throw new Error("Invalid arguments passed to jsPDF.rect");return b===y&&(Pe=-Pe),te([Q(K(z)),Q(v(we)),Q(K(Te)),Q(K(Pe)),"re"].join(" ")),ql(Ye),this},u.__private__.triangle=u.triangle=function(z,we,Te,Pe,Ye,ft,Et){if(isNaN(z)||isNaN(we)||isNaN(Te)||isNaN(Pe)||isNaN(Ye)||isNaN(ft)||!zi(Et))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Te-z,Pe-we],[Ye-Te,ft-Pe],[z-Ye,we-ft]],z,we,[1,1],Et,!0),this},u.__private__.roundedRect=u.roundedRect=function(z,we,Te,Pe,Ye,ft,Et){if(isNaN(z)||isNaN(we)||isNaN(Te)||isNaN(Pe)||isNaN(Ye)||isNaN(ft)||!zi(Et))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ht=4/3*(Math.SQRT2-1);return Ye=Math.min(Ye,.5*Te),ft=Math.min(ft,.5*Pe),this.lines([[Te-2*Ye,0],[Ye*Ht,0,Ye,ft-ft*Ht,Ye,ft],[0,Pe-2*ft],[0,ft*Ht,-Ye*Ht,ft,-Ye,ft],[2*Ye-Te,0],[-Ye*Ht,0,-Ye,-ft*Ht,-Ye,-ft],[0,2*ft-Pe],[0,-ft*Ht,Ye*Ht,-ft,Ye,-ft]],z+Ye,we,[1,1],Et,!0),this},u.__private__.ellipse=u.ellipse=function(z,we,Te,Pe,Ye){if(isNaN(z)||isNaN(we)||isNaN(Te)||isNaN(Pe)||!zi(Ye))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ft=4/3*(Math.SQRT2-1)*Te,Et=4/3*(Math.SQRT2-1)*Pe;return Oo(z+Te,we),Xn(z+Te,we-Et,z+ft,we-Pe,z,we-Pe),Xn(z-ft,we-Pe,z-Te,we-Et,z-Te,we),Xn(z-Te,we+Et,z-ft,we+Pe,z,we+Pe),Xn(z+ft,we+Pe,z+Te,we+Et,z+Te,we),ql(Ye),this},u.__private__.circle=u.circle=function(z,we,Te,Pe){if(isNaN(z)||isNaN(we)||isNaN(Te)||!zi(Pe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(z,we,Te,Te,Pe)},u.setFont=function(z,we,Te){return Te&&(we=R(we,Te)),ut=dl(z,we,{disableWarning:!1}),this};var fa=u.__private__.getFont=u.getFont=function(){return yt[dl.apply(u,arguments)]};u.__private__.getFontList=u.getFontList=function(){var z,we,Te={};for(z in Yt)if(Yt.hasOwnProperty(z))for(we in Te[z]=[],Yt[z])Yt[z].hasOwnProperty(we)&&Te[z].push(we);return Te},u.addFont=function(z,we,Te,Pe,Ye){var ft=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ft.indexOf(arguments[3])!==-1?Ye=arguments[3]:arguments[3]&&ft.indexOf(arguments[3])==-1&&(Te=R(Te,Pe)),ls.call(this,z,we,Te,Ye=Ye||"Identity-H")};var es,ir=e.lineWidth||.200025,yr=u.__private__.getLineWidth=u.getLineWidth=function(){return ir},jn=u.__private__.setLineWidth=u.setLineWidth=function(z){return ir=z,te(Q(K(z))+" w"),this};u.__private__.setLineDash=hr.API.setLineDash=hr.API.setLineDashPattern=function(z,we){if(z=z||[],we=we||0,isNaN(we)||!Array.isArray(z))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return z=z.map(function(Te){return Q(K(Te))}).join(" "),we=Q(K(we)),te("["+z+"] "+we+" d"),this};var As=u.__private__.getLineHeight=u.getLineHeight=function(){return P*es};u.__private__.getLineHeight=u.getLineHeight=function(){return P*es};var Ao=u.__private__.setLineHeightFactor=u.setLineHeightFactor=function(z){return typeof(z=z||1.15)=="number"&&(es=z),this},Ys=u.__private__.getLineHeightFactor=u.getLineHeightFactor=function(){return es};Ao(e.lineHeight);var ci=u.__private__.getHorizontalCoordinate=function(z){return K(z)},Yn=u.__private__.getVerticalCoordinate=function(z){return b===w?z:st[O].mediaBox.topRightY-st[O].mediaBox.bottomLeftY-K(z)},Gl=u.__private__.getHorizontalCoordinateString=u.getHorizontalCoordinateString=function(z){return Q(ci(z))},L=u.__private__.getVerticalCoordinateString=u.getVerticalCoordinateString=function(z){return Q(Yn(z))},W=e.strokeColor||"0 G";u.__private__.getStrokeColor=u.getDrawColor=function(){return Ni(W)},u.__private__.setStrokeColor=u.setDrawColor=function(z,we,Te,Pe){return W=li({ch1:z,ch2:we,ch3:Te,ch4:Pe,pdfColorType:"draw",precision:2}),te(W),this};var pe=e.fillColor||"0 g";u.__private__.getFillColor=u.getFillColor=function(){return Ni(pe)},u.__private__.setFillColor=u.setFillColor=function(z,we,Te,Pe){return pe=li({ch1:z,ch2:we,ch3:Te,ch4:Pe,pdfColorType:"fill",precision:2}),te(pe),this};var Ce=e.textColor||"0 g",Re=u.__private__.getTextColor=u.getTextColor=function(){return Ni(Ce)};u.__private__.setTextColor=u.setTextColor=function(z,we,Te,Pe){return Ce=li({ch1:z,ch2:we,ch3:Te,ch4:Pe,pdfColorType:"text",precision:3}),this};var rt=e.charSpace,dt=u.__private__.getCharSpace=u.getCharSpace=function(){return parseFloat(rt||0)};u.__private__.setCharSpace=u.setCharSpace=function(z){if(isNaN(z))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return rt=z,this};var sr=0;u.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},u.__private__.setLineCap=u.setLineCap=function(z){var we=u.CapJoinStyles[z];if(we===void 0)throw new Error("Line cap style of '"+z+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return sr=we,te(we+" J"),this};var br=0;u.__private__.setLineJoin=u.setLineJoin=function(z){var we=u.CapJoinStyles[z];if(we===void 0)throw new Error("Line join style of '"+z+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return br=we,te(we+" j"),this},u.__private__.setLineMiterLimit=u.__private__.setMiterLimit=u.setLineMiterLimit=u.setMiterLimit=function(z){if(z=z||0,isNaN(z))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te(Q(K(z))+" M"),this},u.GState=fy,u.setGState=function(z){(z=typeof z=="string"?fr[Ct[z]]:vr(null,z)).equals($e)||(te("/"+z.id+" gs"),$e=z)};var vr=function(z,we){if(!z||!Ct[z]){var Te=!1;for(var Pe in fr)if(fr.hasOwnProperty(Pe)&&fr[Pe].equals(we)){Te=!0;break}if(Te)we=fr[Pe];else{var Ye="GS"+(Object.keys(fr).length+1).toString(10);fr[Ye]=we,we.id=Ye}return z&&(Ct[z]=we.id),et.publish("addGState",we),we}};u.addGState=function(z,we){return vr(z,we),this},u.saveGraphicsState=function(){return te("q"),mt.push({key:ut,size:P,color:Ce}),this},u.restoreGraphicsState=function(){te("Q");var z=mt.pop();return ut=z.key,P=z.size,Ce=z.color,$e=null,this},u.setCurrentTransformationMatrix=function(z){return te(z.toString()+" cm"),this},u.comment=function(z){return te("#"+z),this};var dn=function(z,we){var Te=z||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Te},set:function(ft){isNaN(ft)||(Te=parseFloat(ft))}});var Pe=we||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Pe},set:function(ft){isNaN(ft)||(Pe=parseFloat(ft))}});var Ye="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ye},set:function(ft){Ye=ft.toString()}}),this},Hn=function(z,we,Te,Pe){dn.call(this,z,we),this.type="rect";var Ye=Te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ye},set:function(Et){isNaN(Et)||(Ye=parseFloat(Et))}});var ft=Pe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ft},set:function(Et){isNaN(Et)||(ft=parseFloat(Et))}}),this},pa=function(){this.page=ct,this.currentPage=O,this.pages=ee.slice(0),this.pagesContext=st.slice(0),this.x=It,this.y=ur,this.matrix=Ft,this.width=Ic(O),this.height=Js(O),this.outputDestination=me,this.id="",this.objectNumber=-1};pa.prototype.restore=function(){ct=this.page,O=this.currentPage,st=this.pagesContext,ee=this.pages,It=this.x,ur=this.y,Ft=this.matrix,Wl(O,this.width),Zs(O,this.height),me=this.outputDestination};var Po=function(z,we,Te,Pe,Ye){Tr.push(new pa),ct=O=0,ee=[],It=z,ur=we,Ft=Ye,ha([Te,Pe])};for(var uo in u.beginFormObject=function(z,we,Te,Pe,Ye){return Po(z,we,Te,Pe,Ye),this},u.endFormObject=function(z){return function(we){if(Gt[we])Tr.pop().restore();else{var Te=new pa,Pe="Xo"+(Object.keys(Qt).length+1).toString(10);Te.id=Pe,Gt[we]=Pe,Qt[Pe]=Te,et.publish("addFormObject",Te),Tr.pop().restore()}}(z),this},u.doFormObject=function(z,we){var Te=Qt[Gt[z]];return te("q"),te(we.toString()+" cm"),te("/"+Te.id+" Do"),te("Q"),this},u.getFormObject=function(z){var we=Qt[Gt[z]];return{x:we.x,y:we.y,width:we.width,height:we.height,matrix:we.matrix}},u.save=function(z,we){return z=z||"generated.pdf",(we=we||{}).returnPromise=we.returnPromise||!1,we.returnPromise===!1?(qA(Vs(cs()),z),typeof qA.unload=="function"&&Er.setTimeout&&setTimeout(qA.unload,911),this):new Promise(function(Te,Pe){try{var Ye=qA(Vs(cs()),z);typeof qA.unload=="function"&&Er.setTimeout&&setTimeout(qA.unload,911),Te(Ye)}catch(ft){Pe(ft.message)}})},hr.API)hr.API.hasOwnProperty(uo)&&(uo==="events"&&hr.API.events.length?function(z,we){var Te,Pe,Ye;for(Ye=we.length-1;Ye!==-1;Ye--)Te=we[Ye][0],Pe=we[Ye][1],z.subscribe.apply(z,[Te].concat(typeof Pe=="function"?[Pe]:Pe))}(et,hr.API.events):u[uo]=hr.API[uo]);function Ic(z){return st[z].mediaBox.topRightX-st[z].mediaBox.bottomLeftX}function Wl(z,we){st[z].mediaBox.topRightX=we+st[z].mediaBox.bottomLeftX}function Js(z){return st[z].mediaBox.topRightY-st[z].mediaBox.bottomLeftY}function Zs(z,we){st[z].mediaBox.topRightY=we+st[z].mediaBox.bottomLeftY}var $l=u.getPageWidth=function(z){return Ic(z=z||O)/kt},Qo=u.setPageWidth=function(z,we){Wl(z,we*kt)},ma=u.getPageHeight=function(z){return Js(z=z||O)/kt},Mo=u.setPageHeight=function(z,we){Zs(z,we*kt)};return u.internal={pdfEscape:Fi,getStyle:fl,getFont:fa,getFontSize:ye,getCharSpace:dt,getTextColor:Re,getLineHeight:As,getLineHeightFactor:Ys,getLineWidth:yr,write:H,getHorizontalCoordinate:ci,getVerticalCoordinate:Yn,getCoordinateString:Gl,getVerticalCoordinateString:L,collections:{},newObject:Fn,newAdditionalObject:Gs,newObjectDeferred:gn,newObjectDeferredBegin:Mn,getFilters:ki,putStream:Es,events:et,scaleFactor:kt,pageSize:{getWidth:function(){return $l(O)},setWidth:function(z){Qo(O,z)},getHeight:function(){return ma(O)},setHeight:function(z){Mo(O,z)}},encryptionOptions:d,encryption:bn,getEncryptor:function(z){return d!==null?bn.encryptor(z,0):function(we){return we}},output:Hi,getNumberOfPages:co,pages:ee,out:te,f2:q,f3:T,getPageInfo:ja,getPageInfoByObjId:_s,getCurrentPageInfo:hl,getPDFVersion:m,Point:dn,Rectangle:Hn,Matrix:Lt,hasHotfix:Gr},Object.defineProperty(u.internal.pageSize,"width",{get:function(){return $l(O)},set:function(z){Qo(O,z)},enumerable:!0,configurable:!0}),Object.defineProperty(u.internal.pageSize,"height",{get:function(){return ma(O)},set:function(z){Mo(O,z)},enumerable:!0,configurable:!0}),(function(z){for(var we=0,Te=E.length;we<Te;we++){var Pe=ls.call(this,z[we][0],z[we][1],z[we][2],E[we][3],!0);h===!1&&(f[Pe]=!0);var Ye=z[we][0].split("-");ul({id:Pe,fontName:Ye[0],fontStyle:Ye[1]||""})}et.publish("addFonts",{fonts:yt,dictionary:Yt})}).call(u,E),ut="F1",Lo(i,r),et.publish("initialized"),u}ed.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},ed.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ed.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},ed.prototype.processOwnerPassword=function(e,t){return q2(K2(t).substr(0,5),e)},ed.prototype.encryptor=function(e,t){var r=K2(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return q2(r,n)}},fy.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||En(e)!==En(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},hr.API={events:[]},hr.version="3.0.3";var fi=hr.API,OB=1,Su=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},zu=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Fr=function(e){return e.toFixed(2)},qc=function(e){return e.toFixed(5)};fi.__acroform__={};var Ta=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},kN=function(e){return e*OB},xl=function(e){var t=new pU,r=ar.internal.getHeight(e)||0,n=ar.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Fr(n)),Number(Fr(r))],t},kG=fi.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},IG=fi.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},TG=fi.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Ci=fi.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return TG(e,t-1)},Ei=fi.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return kG(e,t-1)},Si=fi.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return IG(e,t-1)},FG=fi.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],s=e[1],a=e[2],o=e[3],c={};return c.lowerLeft_X=r(i)||0,c.lowerLeft_Y=n(s+o)||0,c.upperRight_X=r(i+a)||0,c.upperRight_Y=n(s)||0,[Number(Fr(c.lowerLeft_X)),Number(Fr(c.lowerLeft_Y)),Number(Fr(c.upperRight_X)),Number(Fr(c.upperRight_Y))]},jG=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=G2(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Fr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=xl(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},G2=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(q){return q.split(`
`)}):i.map(function(q){return[q]});var s=r,a=ar.internal.getHeight(e)||0;a=a<0?-a:a;var o=ar.internal.getWidth(e)||0;o=o<0?-o:o;var c=function(q,T,K){if(q+1<i.length){var v=T+" "+i[q+1][0];return Eg(v,e,K).width<=o-4}return!1};s++;e:for(;s>0;){t="",s--;var A,d,h=Eg("3",e,s).height,f=e.multiline?a-s:(a-h)/2,u=f+=2,g=0,m=0,x=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+Eg(t,e,s=12).width+", FieldWidth:"+o+`
`;break}for(var p="",y=0,w=0;w<i.length;w++)if(i.hasOwnProperty(w)){var b=!1;if(i[w].length!==1&&x!==i[w].length-1){if((h+2)*(y+2)+2>a)continue e;p+=i[w][x],b=!0,m=w,w--}else{p=(p+=i[w][x]+" ").substr(p.length-1)==" "?p.substr(0,p.length-1):p;var I=parseInt(w),F=c(I,p,s),R=w>=i.length-1;if(F&&!R){p+=" ",x=0;continue}if(F||R){if(R)m=I;else if(e.multiline&&(h+2)*(y+2)+2>a)continue e}else{if(!e.multiline||(h+2)*(y+2)+2>a)continue e;m=I}}for(var Q="",k=g;k<=m;k++){var $=i[k];if(e.multiline){if(k===m){Q+=$[x]+" ",x=(x+1)%$.length;continue}if(k===g){Q+=$[$.length-1]+" ";continue}}Q+=$[0]+" "}switch(Q=Q.substr(Q.length-1)==" "?Q.substr(0,Q.length-1):Q,d=Eg(Q,e,s).width,e.textAlign){case"right":A=o-d-2;break;case"center":A=(o-d)/2;break;default:A=2}t+=Fr(A)+" "+Fr(u)+` Td
`,t+="("+Su(Q)+`) Tj
`,t+=-Fr(A)+` 0 Td
`,u=-(s+2),d=0,g=b?m:m+1,y++,p=""}break}return n.text=t,n.fontSize=s,n},Eg=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},UG={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},LG=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},DG=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(cl.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(UG)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");OB=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new mU,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&LG(s,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],c=[],A=o.Rect;if(o.Rect&&(o.Rect=FG(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=ar.createDefaultAppearanceStream(o),En(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=A,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=jG(o);c.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var h="";for(var f in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(f)){var u=o.appearanceStreamContent[f];if(h+="/"+f+" ",h+="<<",Object.keys(u).length>=1||Array.isArray(u)){for(var a in u)if(u.hasOwnProperty(a)){var g=u[a];typeof g=="function"&&(g=g.call(i,o)),h+="/"+a+" "+g+" ",i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g)}}else typeof(g=u)=="function"&&(g=g.call(i,o)),h+="/"+a+" "+g,i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:o.objId}),i.internal.out("endobj")}s&&function(m,x){for(var p in m)if(m.hasOwnProperty(p)){var y=p,w=m[p];x.internal.newObjectDeferredBegin(w.objId,!0),En(w)==="object"&&typeof w.putStream=="function"&&w.putStream(),delete m[y]}}(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},fU=fi.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(a){return a};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),En(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+Su(n(e[s].toString()))+")"):i+=e[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},J1=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Su(n(e))+")"},Fl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Fl.prototype.toString=function(){return this.objId+" 0 R"},Fl.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Fl.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:fU(i,this.objId,this.scope)}):i instanceof Fl?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var pU=function(){Fl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Ta(pU,Fl);var mU=function(){Fl.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Su(r(e))+")"}},set:function(r){e=r}})};Ta(mU,Fl);var cl=function e(){Fl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(p){if(isNaN(p))throw new Error('Invalid value "'+p+'" for attribute F supplied.');t=p}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ci(t,3)},set:function(p){p?this.F=Ei(t,3):this.F=Si(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(p){if(isNaN(p))throw new Error('Invalid value "'+p+'" for attribute Ff supplied.');r=p}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(p){n=p!==void 0?p:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(p){n[0]=p}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(p){n[1]=p}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(p){n[2]=p}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(p){n[3]=p}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(p){switch(p){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=p;break;default:throw new Error('Invalid value "'+p+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof py)return;s="FieldObject"+e.FieldNum++}var p=function(y){return y};return this.scope&&(p=this.scope.internal.getEncryptor(this.objId)),"("+Su(p(s))+")"},set:function(p){s=p.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(p){s=p}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(p){a=p}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(p){o=p}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(p){c=p}});var A=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return A===void 0?50/OB:A},set:function(p){A=p}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(p){d=p}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof py||this instanceof uu))return J1(h,this.objId,this.scope)},set:function(p){p=p.toString(),h=p}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof ss==0?J1(f,this.objId,this.scope):f},set:function(p){p=p.toString(),f=this instanceof ss==0?p.substr(0,1)==="("?zu(p.substr(1,p.length-2)):zu(p):p}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ss==1?zu(f.substr(1,f.length-1)):f},set:function(p){p=p.toString(),f=this instanceof ss==1?"/"+p:p}});var u=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(u)return u},set:function(p){this.V=p}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(u)return this instanceof ss==0?J1(u,this.objId,this.scope):u},set:function(p){p=p.toString(),u=this instanceof ss==0?p.substr(0,1)==="("?zu(p.substr(1,p.length-2)):zu(p):p}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ss==1?zu(u.substr(1,u.length-1)):u},set:function(p){p=p.toString(),u=this instanceof ss==1?"/"+p:p}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(p){p=!!p,m=p}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(p){g=p}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,1)},set:function(p){p?this.Ff=Ei(this.Ff,1):this.Ff=Si(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,2)},set:function(p){p?this.Ff=Ei(this.Ff,2):this.Ff=Si(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,3)},set:function(p){p?this.Ff=Ei(this.Ff,3):this.Ff=Si(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(p){if([0,1,2].indexOf(p)===-1)throw new Error('Invalid value "'+p+'" for attribute Q supplied.');x=p}}),Object.defineProperty(this,"textAlign",{get:function(){var p;switch(x){case 0:default:p="left";break;case 1:p="center";break;case 2:p="right"}return p},configurable:!0,enumerable:!0,set:function(p){switch(p){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};Ta(cl,Fl);var Ud=function(){cl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return fU(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,a,o){o||(o=1);for(var c,A=[];c=a.exec(s);)A.push(c[o]);return A}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,18)},set:function(r){r?this.Ff=Ei(this.Ff,18):this.Ff=Si(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Ei(this.Ff,19):this.Ff=Si(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,20)},set:function(r){r?(this.Ff=Ei(this.Ff,20),t.sort()):this.Ff=Si(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,22)},set:function(r){r?this.Ff=Ei(this.Ff,22):this.Ff=Si(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,23)},set:function(r){r?this.Ff=Ei(this.Ff,23):this.Ff=Si(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,27)},set:function(r){r?this.Ff=Ei(this.Ff,27):this.Ff=Si(this.Ff,27)}}),this.hasAppearanceStream=!1};Ta(Ud,cl);var Ld=function(){Ud.call(this),this.fontName="helvetica",this.combo=!1};Ta(Ld,Ud);var Dd=function(){Ld.call(this),this.combo=!0};Ta(Dd,Ld);var f0=function(){Dd.call(this),this.edit=!0};Ta(f0,Dd);var ss=function(){cl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,15)},set:function(r){r?this.Ff=Ei(this.Ff,15):this.Ff=Si(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,16)},set:function(r){r?this.Ff=Ei(this.Ff,16):this.Ff=Si(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,17)},set:function(r){r?this.Ff=Ei(this.Ff,17):this.Ff=Si(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,26)},set:function(r){r?this.Ff=Ei(this.Ff,26):this.Ff=Si(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+Su(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){En(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Ta(ss,cl);var p0=function(){ss.call(this),this.pushButton=!0};Ta(p0,ss);var Rd=function(){ss.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ta(Rd,ss);var py=function(){var e,t;cl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+Su(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){En(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ar.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ta(py,cl),Rd.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Rd.prototype.createOption=function(e){var t=new py;return t.Parent=this,t.optionName=e,this.Kids.push(t),RG.call(this.scope,t),t};var m0=function(){ss.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ar.CheckBox.createAppearanceStream()};Ta(m0,ss);var uu=function(){cl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,13)},set:function(t){t?this.Ff=Ei(this.Ff,13):this.Ff=Si(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,21)},set:function(t){t?this.Ff=Ei(this.Ff,21):this.Ff=Si(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,23)},set:function(t){t?this.Ff=Ei(this.Ff,23):this.Ff=Si(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,24)},set:function(t){t?this.Ff=Ei(this.Ff,24):this.Ff=Si(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,25)},set:function(t){t?this.Ff=Ei(this.Ff,25):this.Ff=Si(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,26)},set:function(t){t?this.Ff=Ei(this.Ff,26):this.Ff=Si(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ta(uu,cl);var g0=function(){uu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ci(this.Ff,14)},set:function(e){e?this.Ff=Ei(this.Ff,14):this.Ff=Si(this.Ff,14)}}),this.password=!0};Ta(g0,uu);var ar={CheckBox:{createAppearanceStream:function(){return{N:{On:ar.CheckBox.YesNormal},D:{On:ar.CheckBox.YesPushDown,Off:ar.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=xl(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=G2(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Fr(ar.internal.getWidth(e))+" "+Fr(ar.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Fr(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=xl(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],s=ar.internal.getHeight(e),a=ar.internal.getWidth(e),o=G2(e,e.caption);return i.push("1 g"),i.push("0 0 "+Fr(a)+" "+Fr(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Fr(a-1)+" "+Fr(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Fr(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=xl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Fr(ar.internal.getWidth(e))+" "+Fr(ar.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:ar.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=ar.RadioButton.Circle.YesNormal,t.D[e]=ar.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=xl(e);t.scope=e.scope;var r=[],n=ar.internal.getWidth(e)<=ar.internal.getHeight(e)?ar.internal.getWidth(e)/4:ar.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=ar.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+qc(ar.internal.getWidth(e)/2)+" "+qc(ar.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=xl(e);t.scope=e.scope;var r=[],n=ar.internal.getWidth(e)<=ar.internal.getHeight(e)?ar.internal.getWidth(e)/4:ar.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*ar.internal.Bezier_C).toFixed(5)),a=Number((n*ar.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+qc(ar.internal.getWidth(e)/2)+" "+qc(ar.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+qc(ar.internal.getWidth(e)/2)+" "+qc(ar.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=xl(e);t.scope=e.scope;var r=[],n=ar.internal.getWidth(e)<=ar.internal.getHeight(e)?ar.internal.getWidth(e)/4:ar.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*ar.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+qc(ar.internal.getWidth(e)/2)+" "+qc(ar.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:ar.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=ar.RadioButton.Cross.YesNormal,t.D[e]=ar.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=xl(e);t.scope=e.scope;var r=[],n=ar.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Fr(ar.internal.getWidth(e)-2)+" "+Fr(ar.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Fr(n.x1.x)+" "+Fr(n.x1.y)+" m"),r.push(Fr(n.x2.x)+" "+Fr(n.x2.y)+" l"),r.push(Fr(n.x4.x)+" "+Fr(n.x4.y)+" m"),r.push(Fr(n.x3.x)+" "+Fr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=xl(e);t.scope=e.scope;var r=ar.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Fr(ar.internal.getWidth(e))+" "+Fr(ar.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Fr(ar.internal.getWidth(e)-2)+" "+Fr(ar.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Fr(r.x1.x)+" "+Fr(r.x1.y)+" m"),n.push(Fr(r.x2.x)+" "+Fr(r.x2.y)+" l"),n.push(Fr(r.x4.x)+" "+Fr(r.x4.y)+" m"),n.push(Fr(r.x3.x)+" "+Fr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=xl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Fr(ar.internal.getWidth(e))+" "+Fr(ar.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};ar.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=ar.internal.getWidth(e),r=ar.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},ar.internal.getWidth=function(e){var t=0;return En(e)==="object"&&(t=kN(e.Rect[2])),t},ar.internal.getHeight=function(e){var t=0;return En(e)==="object"&&(t=kN(e.Rect[3])),t};var RG=fi.addField=function(e){if(DG(this,e),!(e instanceof cl))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};fi.AcroFormChoiceField=Ud,fi.AcroFormListBox=Ld,fi.AcroFormComboBox=Dd,fi.AcroFormEditBox=f0,fi.AcroFormButton=ss,fi.AcroFormPushButton=p0,fi.AcroFormRadioButton=Rd,fi.AcroFormCheckBox=m0,fi.AcroFormTextField=uu,fi.AcroFormPasswordField=g0,fi.AcroFormAppearance=ar,fi.AcroForm={ChoiceField:Ud,ListBox:Ld,ComboBox:Dd,EditBox:f0,Button:ss,PushButton:p0,RadioButton:Rd,CheckBox:m0,TextField:uu,PasswordField:g0,Appearance:ar},hr.AcroForm={ChoiceField:Ud,ListBox:Ld,ComboBox:Dd,EditBox:f0,Button:ss,PushButton:p0,RadioButton:Rd,CheckBox:m0,TextField:uu,PasswordField:g0,Appearance:ar};function gU(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(q,T){var K,v,re,ge,Y,fe=r;if((T=T||r)==="RGBA"||q.data!==void 0&&q.data instanceof Uint8ClampedArray&&"height"in q&&"width"in q)return"RGBA";if(F(q))for(Y in n)for(re=n[Y],K=0;K<re.length;K+=1){for(ge=!0,v=0;v<re[K].length;v+=1)if(re[K][v]!==void 0&&re[K][v]!==q[v]){ge=!1;break}if(ge===!0){fe=Y;break}}else for(Y in n)for(re=n[Y],K=0;K<re.length;K+=1){for(ge=!0,v=0;v<re[K].length;v+=1)if(re[K][v]!==void 0&&re[K][v]!==q.charCodeAt(v)){ge=!1;break}if(ge===!0){fe=Y;break}}return fe===r&&T!==r&&(fe=T),fe},s=function q(T){for(var K=this.internal.write,v=this.internal.putStream,re=(0,this.internal.getFilters)();re.indexOf("FlateEncode")!==-1;)re.splice(re.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var ge=[];if(ge.push({key:"Type",value:"/XObject"}),ge.push({key:"Subtype",value:"/Image"}),ge.push({key:"Width",value:T.width}),ge.push({key:"Height",value:T.height}),T.colorSpace===p.INDEXED?ge.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(ge.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===p.DEVICE_CMYK&&ge.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ge.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&ge.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)&&T.transparency.length>0){for(var Y="",fe=0,le=T.transparency.length;fe<le;fe++)Y+=T.transparency[fe]+" "+T.transparency[fe]+" ";ge.push({key:"Mask",value:"["+Y+"]"})}T.sMask!==void 0&&ge.push({key:"SMask",value:T.objectId+1+" 0 R"});var ne=T.filter!==void 0?["/"+T.filter]:void 0;if(v({data:T.data,additionalKeyValues:ge,alreadyAppliedFilters:ne,objectId:T.objectId}),K("endobj"),"sMask"in T&&T.sMask!==void 0){var ae,_=(ae=T.sMaskBitsPerComponent)!==null&&ae!==void 0?ae:T.bitsPerComponent,O={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:_,data:T.sMask};"filter"in T&&(O.decodeParameters="/Predictor ".concat(T.predictor," /Colors 1 /BitsPerComponent ").concat(_," /Columns ").concat(T.width),O.filter=T.filter),q.call(this,O)}if(T.colorSpace===p.INDEXED){var G=this.internal.newObject();v({data:Q(new Uint8Array(T.palette)),objectId:G}),K("endobj")}},a=function(){var q=this.internal.collections[t+"images"];for(var T in q)s.call(this,q[T])},o=function(){var q,T=this.internal.collections[t+"images"],K=this.internal.write;for(var v in T)K("/I"+(q=T[v]).index,q.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},A=function(){var q=this.internal.collections[t+"images"];return c.call(this),q},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},h=function(q){return typeof e["process"+q.toUpperCase()]=="function"},f=function(q){return En(q)==="object"&&q.nodeType===1},u=function(q,T){if(q.nodeName==="IMG"&&q.hasAttribute("src")){var K=""+q.getAttribute("src");if(K.indexOf("data:image/")===0)return h0(unescape(K).split("base64,").pop());var v=e.loadFile(K,!0);if(v!==void 0)return v}if(q.nodeName==="CANVAS"){if(q.width===0||q.height===0)throw new Error("Given canvas must have data. Canvas width: "+q.width+", height: "+q.height);var re;switch(T){case"PNG":re="image/png";break;case"WEBP":re="image/webp";break;default:re="image/jpeg"}return h0(q.toDataURL(re,1).split("base64,").pop())}},g=function(q){var T=this.internal.collections[t+"images"];if(T){for(var K in T)if(q===T[K].alias)return T[K]}},m=function(q,T,K){return q||T||(q=-96,T=-96),q<0&&(q=-1*K.width*72/q/this.internal.scaleFactor),T<0&&(T=-1*K.height*72/T/this.internal.scaleFactor),q===0&&(q=T*K.width/K.height),T===0&&(T=q*K.height/K.width),[q,T]},x=function(q,T,K,v,re,ge){var Y=m.call(this,K,v,re),fe=this.internal.getCoordinateString,le=this.internal.getVerticalCoordinateString,ne=A.call(this);if(K=Y[0],v=Y[1],ne[re.index]=re,ge){ge*=Math.PI/180;var ae=Math.cos(ge),_=Math.sin(ge),O=function(oe){return oe.toFixed(4)},G=[O(ae),O(_),O(-1*_),O(ae),0,0,"cm"]}this.internal.write("q"),ge?(this.internal.write([1,"0","0",1,fe(q),le(T+v),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([fe(K),"0","0",fe(v),"0","0","cm"].join(" "))):this.internal.write([fe(K),"0","0",fe(v),fe(q),le(T+v),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+re.index+" Do"),this.internal.write("Q")},p=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(q){var T,K,v=0;if(typeof q=="string")for(K=q.length,T=0;T<K;T++)v=(v<<5)-v+q.charCodeAt(T),v|=0;else if(F(q))for(K=q.byteLength/2,T=0;T<K;T++)v=(v<<5)-v+q[T],v|=0;return v},b=e.__addimage__.validateStringAsBase64=function(q){(q=q||"").toString().trim();var T=!0;return q.length===0&&(T=!1),q.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(q.substr(0,q.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(q.substr(-2))===!1&&(T=!1),T},I=e.__addimage__.extractImageFromDataUrl=function(q){if(q==null||!(q=q.trim()).startsWith("data:"))return null;var T=q.indexOf(",");return T<0?null:q.substring(0,T).trim().endsWith("base64")?q.substring(T+1):null};e.__addimage__.isArrayBuffer=function(q){return q instanceof ArrayBuffer};var F=e.__addimage__.isArrayBufferView=function(q){return q instanceof Int8Array||q instanceof Uint8Array||q instanceof Uint8ClampedArray||q instanceof Int16Array||q instanceof Uint16Array||q instanceof Int32Array||q instanceof Uint32Array||q instanceof Float32Array||q instanceof Float64Array},R=e.__addimage__.binaryStringToUint8Array=function(q){for(var T=q.length,K=new Uint8Array(T),v=0;v<T;v++)K[v]=q.charCodeAt(v);return K},Q=e.__addimage__.arrayBufferToBinaryString=function(q){for(var T="",K=F(q)?q:new Uint8Array(q),v=0;v<K.length;v+=8192)T+=String.fromCharCode.apply(null,K.subarray(v,v+8192));return T};e.addImage=function(){var q,T,K,v,re,ge,Y,fe,le;if(typeof arguments[1]=="number"?(T=r,K=arguments[1],v=arguments[2],re=arguments[3],ge=arguments[4],Y=arguments[5],fe=arguments[6],le=arguments[7]):(T=arguments[1],K=arguments[2],v=arguments[3],re=arguments[4],ge=arguments[5],Y=arguments[6],fe=arguments[7],le=arguments[8]),En(q=arguments[0])==="object"&&!f(q)&&"imageData"in q){var ne=q;q=ne.imageData,T=ne.format||T||r,K=ne.x||K||0,v=ne.y||v||0,re=ne.w||ne.width||re,ge=ne.h||ne.height||ge,Y=ne.alias||Y,fe=ne.compression||fe,le=ne.rotation||ne.angle||le}var ae=this.internal.getFilters();if(fe===void 0&&ae.indexOf("FlateEncode")!==-1&&(fe="SLOW"),isNaN(K)||isNaN(v))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var _=k.call(this,q,T,Y,fe);return x.call(this,K,v,re,ge,_,le),this};var k=function(q,T,K,v){var re,ge,Y;if(typeof q=="string"&&i(q)===r){q=unescape(q);var fe=$(q,!1);(fe!==""||(fe=e.loadFile(q,!0))!==void 0)&&(q=fe)}if(f(q)&&(q=u(q,T)),T=i(q,T),!h(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((Y=K)==null||Y.length===0)&&(K=function(le){return typeof le=="string"||F(le)?w(le):F(le.data)?w(le.data):null}(q)),(re=g.call(this,K))||(q instanceof Uint8Array||T==="RGBA"||(ge=q,q=R(q)),re=this["process"+T.toUpperCase()](q,d.call(this),K,function(le){return le&&typeof le=="string"&&(le=le.toUpperCase()),le in e.image_compression?le:y.NONE}(v),ge)),!re)throw new Error("An unknown error occurred whilst processing the image.");return re},$=e.__addimage__.convertBase64ToBinaryString=function(q,T){T=typeof T!="boolean"||T;var K,v="";if(typeof q=="string"){var re;K=(re=I(q))!==null&&re!==void 0?re:q;try{v=h0(K)}catch(ge){if(T)throw b(K)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ge.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return v};e.getImageProperties=function(q){var T,K,v="";if(f(q)&&(q=u(q)),typeof q=="string"&&i(q)===r&&((v=$(q,!1))===""&&(v=e.loadFile(q)||""),q=v),K=i(q),!h(K))throw new Error("addImage does not support files of type '"+K+"', please ensure that a plugin for '"+K+"' support is added.");if(q instanceof Uint8Array||(q=R(q)),!(T=this["process"+K.toUpperCase()](q)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=K,T}})(hr.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};hr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),A=r.pageContext.annotations,d=!1,h=0;h<A.length&&!d;h++)switch((n=A[h]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var f=0;f<A.length;f++){n=A[f];var u=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),p=this.internal.getEncryptor(m.objId),y=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+u(p(n.contents))+")",s+=" /Popup "+x.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+u(p(y))+") >>",m.content=s;var w=m.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(s+=" /Open true"),s+=" >>",x.content=s,this.internal.write(m.objId,"0 R",x.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var b=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+u(g(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+b+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var I=this.annotations._nameMap[n.options.name];n.options.pageNumber=I.page,n.options.top=I.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+u(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var F=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+F+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,s,a){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,A=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(r),y:A(n),w:c(r+i),h:A(n+s)},options:a,type:"link"})},e.textWithLink=function(r,n,i,s){var a,o,c=this.getTextWidth(r),A=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var d=this.splitTextToSize(r,o).length;a=Math.ceil(A*d)}else o=c,a=A;return this.text(r,n,i,s),i+=.2*A,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,i-A,o,a,s),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(hr.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(m){return t[m.charCodeAt(0)]!==void 0},a=e.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},o=e.__arabicParser__.isArabicEndLetter=function(m){return a(m)&&s(m)&&t[m.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(m){return a(m)&&i.indexOf(m.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return a(m)&&s(m)&&t[m.charCodeAt(0)].length>=1};var A=e.__arabicParser__.arabicLetterHasFinalForm=function(m){return a(m)&&s(m)&&t[m.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(m){return a(m)&&s(m)&&t[m.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(m){return a(m)&&s(m)&&t[m.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(m){var x=0,p=r,y="",w=0;for(x=0;x<m.length;x+=1)p[m.charCodeAt(x)]!==void 0?(w++,typeof(p=p[m.charCodeAt(x)])=="number"&&(y+=String.fromCharCode(p),p=r,w=0),x===m.length-1&&(p=r,y+=m.charAt(x-(w-1)),x-=w-1,w=0)):(p=r,y+=m.charAt(x-w),x-=w,w=0);return y};e.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var f=e.__arabicParser__.getCorrectForm=function(m,x,p){return a(m)?s(m)===!1?-1:!A(m)||!a(x)&&!a(p)||!a(p)&&o(x)||o(m)&&!a(x)||o(m)&&c(x)||o(m)&&o(x)?0:d(m)&&a(x)&&!o(x)&&a(p)&&A(p)?3:o(m)||!a(p)?1:2:-1},u=function(m){var x=0,p=0,y=0,w="",b="",I="",F=(m=m||"").split("\\s+"),R=[];for(x=0;x<F.length;x+=1){for(R.push(""),p=0;p<F[x].length;p+=1)w=F[x][p],b=F[x][p-1],I=F[x][p+1],a(w)?(y=f(w,b,I),R[x]+=y!==-1?String.fromCharCode(t[w.charCodeAt(0)][y]):w):R[x]+=w;R[x]=h(R[x])}return R.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var m,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,p=[];if(Array.isArray(x)){var y=0;for(p=[],y=0;y<x.length;y+=1)Array.isArray(x[y])?p.push([u(x[y][0]),x[y][1],x[y][2]]):p.push([u(x[y])]);m=p}else m=u(x);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};e.events.push(["preProcessText",g])}(hr.API),hr.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(hr.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var A=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return A},set:function(m){A=m}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var u=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(m){g=m}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,A){n.call(this);var d=(A=A||{}).fontSize||this.getFontSize(),h=A.font||this.getFont(),f=A.scaleFactor||this.internal.scaleFactor,u=0,g=0,m=0,x=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var p=A.maxWidth;p>0?typeof c=="string"?c=this.splitTextToSize(c,p):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(w,b){return w.concat(x.splitTextToSize(b,p))},[])):c=Array.isArray(c)?c:[c];for(var y=0;y<c.length;y++)u<(m=this.getStringUnitWidth(c[y],{font:h})*d)&&(u=m);return u!==0&&(g=c.length),{w:u/=f,h:Math.max((g*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/f,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var A=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,f=this.internal.__cell__.tableHeaderRow,u=this.internal.__cell__.printHeaders;return A.lineNumber!==void 0&&(A.lineNumber===c.lineNumber?(c.x=(A.x||0)+(A.width||0),c.y=A.y||0):A.y+A.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,u&&f&&(this.printHeaderRow(c.lineNumber,!0),c.y+=f[0].height)):c.y=A.y+A.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,A,d,h,f){if(n.call(this),!d)throw new Error("No data for PDF table.");var u,g,m,x,p=[],y=[],w=[],b={},I={},F=[],R=[],Q=(f=f||{}).autoSize||!1,k=f.printHeaders!==!1,$=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,q=f.margins||Object.assign({width:this.getPageWidth()},t),T=typeof f.padding=="number"?f.padding:3,K=f.headerBackgroundColor||"#c8c8c8",v=f.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=q,this.internal.__cell__.table_font_size=$,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=K,this.internal.__cell__.headerTextColor=v,this.setFontSize($),h==null)y=p=Object.keys(d[0]),w=p.map(function(){return"left"});else if(Array.isArray(h)&&En(h[0])==="object")for(p=h.map(function(ne){return ne.name}),y=h.map(function(ne){return ne.prompt||ne.name||""}),w=h.map(function(ne){return ne.align||"left"}),u=0;u<h.length;u+=1)I[h[u].name]=.7499990551181103*h[u].width;else Array.isArray(h)&&typeof h[0]=="string"&&(y=p=h,w=p.map(function(){return"left"}));if(Q||Array.isArray(h)&&typeof h[0]=="string")for(u=0;u<p.length;u+=1){for(b[x=p[u]]=d.map(function(ne){return ne[x]}),this.setFont(void 0,"bold"),F.push(this.getTextDimensions(y[u],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=b[x],this.setFont(void 0,"normal"),m=0;m<g.length;m+=1)F.push(this.getTextDimensions(g[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);I[x]=Math.max.apply(null,F)+T+T,F=[]}if(k){var re={};for(u=0;u<p.length;u+=1)re[p[u]]={},re[p[u]].text=y[u],re[p[u]].align=w[u];var ge=o.call(this,re,I);R=p.map(function(ne){return new s(c,A,I[ne],ge,re[ne].text,void 0,re[ne].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var Y=h.reduce(function(ne,ae){return ne[ae.name]=ae.align,ne},{});for(u=0;u<d.length;u+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:u,data:d[u]},this);var fe=o.call(this,d[u],I);for(m=0;m<p.length;m+=1){var le=d[u][p[m]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:u,col:m,data:le},this),a.call(this,new s(c,A,I[p[m]],fe,le,u+2,Y[p[m]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=A,this};var o=function(c,A){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(c).map(function(u){var g=c[u];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,A[u]-d-d)},this).map(function(u){return this.getLineHeightFactor()*u.length*h/f+d+d},this).reduce(function(u,g){return Math.max(u,g)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,A){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],u=0;u<this.internal.__cell__.tableHeaderRow.length;u+=1){d=this.internal.__cell__.tableHeaderRow[u].clone(),A&&(d.y=this.internal.__cell__.margins.top||0,f.push(d)),d.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(g)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),r=!1}}(hr.API);var yU={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},wU=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],W2=gU(wU),bU=[100,200,300,400,500,600,700,800,900],OG=gU(bU);function Z1(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return yU[s=s||"normal"]?s:"normal"}(e.style),n=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(e.weight),i=function(s){return typeof W2[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function IN(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var PG={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},TN={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function FN(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function jN(e){return e.trimLeft()}function QG(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function MG(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Sg,UN,LN,Ku,_g,DN,RN,ON,eb=["times"];function PN(e,t,r,n,i){var s=4,a=MN;switch(i){case hr.API.image_compression.FAST:s=1,a=QN;break;case hr.API.image_compression.MEDIUM:s=6,a=HN;break;case hr.API.image_compression.SLOW:s=9,a=zN}e=function(c,A,d,h){for(var f,u=c.length/A,g=new Uint8Array(c.length+u),m=[HG,QN,MN,HN,zN],x=0;x<u;x+=1){var p=x*A,y=c.subarray(p,p+A);if(h)g.set(h(y,d,f),p+x);else{for(var w=m.length,b=[],I=0;I<w;I+=1)b[I]=m[I](y,d,f);var F=KG(b.concat());g.set(b[F],p+x)}f=y}return g}(e,t,Math.ceil(r*n/8),a);var o=U2(e,{level:s});return hr.API.__addimage__.arrayBufferToBinaryString(o)}function HG(e){var t=Array.apply([],e);return t.unshift(0),t}function QN(e,t){var r=e.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var s=e[i-t]||0;n[i+1]=e[i]-s+256&255}return n}function MN(e,t,r){var n=e.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var a=r&&r[s]||0;i[s+1]=e[s]-a+256&255}return i}function HN(e,t,r){var n=e.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var a=e[s-t]||0,o=r&&r[s]||0;i[s+1]=e[s]+256-(a+o>>>1)&255}return i}function zN(e,t,r){var n=e.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var a=zG(e[s-t]||0,r&&r[s]||0,r&&r[s-t]||0);i[s+1]=e[s]-a+256&255}return i}function zG(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),i=Math.abs(e-r),s=Math.abs(e+t-r-r);return n<=i&&n<=s?e:i<=s?t:r}function KG(e){var t=e.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function tb(e,t,r){var n=t*r,i=Math.floor(n/8),s=16-(n-8*i+r),a=(1<<r)-1;return vU(e,i)>>s&a}function KN(e,t,r,n){var i=r*n,s=Math.floor(i/8),a=16-(i-8*s+n),o=(1<<n)-1,c=(t&o)<<a;(function(A,d,h){if(d+1<A.byteLength)A.setUint16(d,h,!1);else{var f=h>>8&255;A.setUint8(d,f)}})(e,s,vU(e,s)&~(o<<a)&65535|c)}function vU(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function qG(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,a=1<<1+(7&i);e[t++],e[t++];var o=null,c=null;s&&(o=t,c=a,t+=3*a);var A=!0,d=[],h=0,f=null,u=0,g=null;for(this.width=r,this.height=n;A&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((q=e[t++])>=0))throw Error("Invalid block size");if(q===0)break;t+=q}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var m=e[t++];h=e[t++]|e[t++]<<8,f=e[t++],1&m||(f=null),u=m>>2&7,t++;break;case 254:for(;;){if(!((q=e[t++])>=0))throw Error("Invalid block size");if(q===0)break;t+=q}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var x=e[t++]|e[t++]<<8,p=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,b=e[t++],I=b>>6&1,F=1<<1+(7&b),R=o,Q=c,k=!1;b>>7&&(k=!0,R=t,Q=F,t+=3*F);var $=t;for(t++;;){var q;if(!((q=e[t++])>=0))throw Error("Invalid block size");if(q===0)break;t+=q}d.push({x,y:p,width:y,height:w,has_local_palette:k,palette_offset:R,palette_size:Q,data_offset:$,data_length:t-$,transparent_index:f,interlaced:!!I,delay:h,disposal:u});break;case 59:A=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return g},this.frameInfo=function(T){if(T<0||T>=d.length)throw new Error("Frame index out of range.");return d[T]},this.decodeAndBlitFrameBGRA=function(T,K){var v=this.frameInfo(T),re=v.width*v.height,ge=new Uint8Array(re);qN(e,v.data_offset,ge,re);var Y=v.palette_offset,fe=v.transparent_index;fe===null&&(fe=256);var le=v.width,ne=r-le,ae=le,_=4*(v.y*r+v.x),O=4*((v.y+v.height)*r+v.x),G=_,oe=4*ne;v.interlaced===!0&&(oe+=4*r*7);for(var Ae=8,U=0,M=ge.length;U<M;++U){var J=ge[U];if(ae===0&&(ae=le,(G+=oe)>=O&&(oe=4*ne+4*r*(Ae-1),G=_+(le+ne)*(Ae<<1),Ae>>=1)),J===fe)G+=4;else{var ce=e[Y+3*J],ee=e[Y+3*J+1],Z=e[Y+3*J+2];K[G++]=Z,K[G++]=ee,K[G++]=ce,K[G++]=255}--ae}},this.decodeAndBlitFrameRGBA=function(T,K){var v=this.frameInfo(T),re=v.width*v.height,ge=new Uint8Array(re);qN(e,v.data_offset,ge,re);var Y=v.palette_offset,fe=v.transparent_index;fe===null&&(fe=256);var le=v.width,ne=r-le,ae=le,_=4*(v.y*r+v.x),O=4*((v.y+v.height)*r+v.x),G=_,oe=4*ne;v.interlaced===!0&&(oe+=4*r*7);for(var Ae=8,U=0,M=ge.length;U<M;++U){var J=ge[U];if(ae===0&&(ae=le,(G+=oe)>=O&&(oe=4*ne+4*r*(Ae-1),G=_+(le+ne)*(Ae<<1),Ae>>=1)),J===fe)G+=4;else{var ce=e[Y+3*J],ee=e[Y+3*J+1],Z=e[Y+3*J+2];K[G++]=ce,K[G++]=ee,K[G++]=Z,K[G++]=255}--ae}}}function qN(e,t,r,n){for(var i=e[t++],s=1<<i,a=s+1,o=a+1,c=i+1,A=(1<<c)-1,d=0,h=0,f=0,u=e[t++],g=new Int32Array(4096),m=null;;){for(;d<16&&u!==0;)h|=e[t++]<<d,d+=8,u===1?u=e[t++]:--u;if(d<c)break;var x=h&A;if(h>>=c,d-=c,x!==s){if(x===a)break;for(var p=x<o?x:m,y=0,w=p;w>s;)w=g[w]>>8,++y;var b=w;if(f+y+(p!==x?1:0)>n)return void Ln.log("Warning, gif stream longer than expected.");r[f++]=b;var I=f+=y;for(p!==x&&(r[f++]=b),w=p;y--;)w=g[w],r[--I]=255&w,w>>=8;m!==null&&o<4096&&(g[o++]=m<<8|b,o>=A+1&&c<12&&(++c,A=A<<1|1)),m=x}else o=a+1,A=(1<<(c=i+1))-1,m=null}return f!==n&&Ln.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function rb(e){var t,r,n,i,s,a=Math.floor,o=new Array(64),c=new Array(64),A=new Array(64),d=new Array(64),h=new Array(65535),f=new Array(65535),u=new Array(64),g=new Array(64),m=[],x=0,p=7,y=new Array(64),w=new Array(64),b=new Array(64),I=new Array(256),F=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],q=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],v=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],re=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ge(_,O){for(var G=0,oe=0,Ae=new Array,U=1;U<=16;U++){for(var M=1;M<=_[U];M++)Ae[O[oe]]=[],Ae[O[oe]][0]=G,Ae[O[oe]][1]=U,oe++,G++;G*=2}return Ae}function Y(_){for(var O=_[0],G=_[1]-1;G>=0;)O&1<<G&&(x|=1<<p),G--,--p<0&&(x==255?(fe(255),fe(0)):fe(x),p=7,x=0)}function fe(_){m.push(_)}function le(_){fe(_>>8&255),fe(255&_)}function ne(_,O,G,oe,Ae){for(var U,M=Ae[0],J=Ae[240],ce=function(P,de){var ye,ue,ke,Oe,Ue,_e,Me,Ze,ut,kt,It=0;for(ut=0;ut<8;++ut){ye=P[It],ue=P[It+1],ke=P[It+2],Oe=P[It+3],Ue=P[It+4],_e=P[It+5],Me=P[It+6];var ur=ye+(Ze=P[It+7]),Ft=ye-Ze,yt=ue+Me,Yt=ue-Me,mt=ke+_e,$t=ke-_e,tr=Oe+Ue,fr=Oe-Ue,Ct=ur+tr,$e=ur-tr,ct=yt+mt,st=yt-mt;P[It]=Ct+ct,P[It+4]=Ct-ct;var et=.707106781*(st+$e);P[It+2]=$e+et,P[It+6]=$e-et;var qt=.382683433*((Ct=fr+$t)-(st=Yt+Ft)),Qt=.5411961*Ct+qt,Gt=1.306562965*st+qt,Tr=.707106781*(ct=$t+Yt),Lt=Ft+Tr,Dr=Ft-Tr;P[It+5]=Dr+Qt,P[It+3]=Dr-Qt,P[It+1]=Lt+Gt,P[It+7]=Lt-Gt,It+=8}for(It=0,ut=0;ut<8;++ut){ye=P[It],ue=P[It+8],ke=P[It+16],Oe=P[It+24],Ue=P[It+32],_e=P[It+40],Me=P[It+48];var zr=ye+(Ze=P[It+56]),Lr=ye-Ze,_r=ue+Me,Fn=ue-Me,gn=ke+_e,Mn=ke-_e,Gs=Oe+Ue,Ws=Oe-Ue,Yr=zr+Gs,Ni=zr-Gs,li=_r+gn,ki=_r-gn;P[It]=Yr+li,P[It+32]=Yr-li;var Es=.707106781*(ki+Ni);P[It+16]=Ni+Es,P[It+48]=Ni-Es;var Ii=.382683433*((Yr=Ws+Mn)-(ki=Fn+Lr)),Ss=.5411961*Yr+Ii,Ti=1.306562965*ki+Ii,Uo=.707106781*(li=Mn+Fn),mi=Lr+Uo,an=Lr-Uo;P[It+40]=an+Ss,P[It+24]=an-Ss,P[It+8]=mi+Ti,P[It+56]=mi-Ti,It++}for(ut=0;ut<64;++ut)kt=P[ut]*de[ut],u[ut]=kt>0?kt+.5|0:kt-.5|0;return u}(_,O),ee=0;ee<64;++ee)g[R[ee]]=ce[ee];var Z=g[0]-G;G=g[0],Z==0?Y(oe[0]):(Y(oe[f[U=32767+Z]]),Y(h[U]));for(var me=63;me>0&&g[me]==0;)me--;if(me==0)return Y(M),G;for(var B,te=1;te<=me;){for(var H=te;g[te]==0&&te<=me;)++te;var S=te-H;if(S>=16){B=S>>4;for(var E=1;E<=B;++E)Y(J);S&=15}U=32767+g[te],Y(Ae[(S<<4)+f[U]]),Y(h[U]),te++}return me!=63&&Y(M),G}function ae(_){_=Math.min(Math.max(_,1),100),s!=_&&(function(O){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],oe=0;oe<64;oe++){var Ae=a((G[oe]*O+50)/100);Ae=Math.min(Math.max(Ae,1),255),o[R[oe]]=Ae}for(var U=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],M=0;M<64;M++){var J=a((U[M]*O+50)/100);J=Math.min(Math.max(J,1),255),c[R[M]]=J}for(var ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ee=0,Z=0;Z<8;Z++)for(var me=0;me<8;me++)A[ee]=1/(o[R[ee]]*ce[Z]*ce[me]*8),d[ee]=1/(c[R[ee]]*ce[Z]*ce[me]*8),ee++}(_<50?Math.floor(5e3/_):Math.floor(200-2*_)),s=_)}this.encode=function(_,O){O&&ae(O),m=new Array,x=0,p=7,le(65496),le(65504),le(16),fe(74),fe(70),fe(73),fe(70),fe(0),fe(1),fe(1),fe(0),le(1),le(1),fe(0),fe(0),function(){le(65499),le(132),fe(0);for(var ue=0;ue<64;ue++)fe(o[ue]);fe(1);for(var ke=0;ke<64;ke++)fe(c[ke])}(),function(ue,ke){le(65472),le(17),fe(8),le(ke),le(ue),fe(3),fe(1),fe(17),fe(0),fe(2),fe(17),fe(1),fe(3),fe(17),fe(1)}(_.width,_.height),function(){le(65476),le(418),fe(0);for(var ue=0;ue<16;ue++)fe(Q[ue+1]);for(var ke=0;ke<=11;ke++)fe(k[ke]);fe(16);for(var Oe=0;Oe<16;Oe++)fe($[Oe+1]);for(var Ue=0;Ue<=161;Ue++)fe(q[Ue]);fe(1);for(var _e=0;_e<16;_e++)fe(T[_e+1]);for(var Me=0;Me<=11;Me++)fe(K[Me]);fe(17);for(var Ze=0;Ze<16;Ze++)fe(v[Ze+1]);for(var ut=0;ut<=161;ut++)fe(re[ut])}(),le(65498),le(12),fe(3),fe(1),fe(0),fe(2),fe(17),fe(3),fe(17),fe(0),fe(63),fe(0);var G=0,oe=0,Ae=0;x=0,p=7,this.encode.displayName="_encode_";for(var U,M,J,ce,ee,Z,me,B,te,H=_.data,S=_.width,E=_.height,P=4*S,de=0;de<E;){for(U=0;U<P;){for(ee=P*de+U,me=-1,B=0,te=0;te<64;te++)Z=ee+(B=te>>3)*P+(me=4*(7&te)),de+B>=E&&(Z-=P*(de+1+B-E)),U+me>=P&&(Z-=U+me-P+4),M=H[Z++],J=H[Z++],ce=H[Z++],y[te]=(F[M]+F[J+256|0]+F[ce+512|0]>>16)-128,w[te]=(F[M+768|0]+F[J+1024|0]+F[ce+1280|0]>>16)-128,b[te]=(F[M+1280|0]+F[J+1536|0]+F[ce+1792|0]>>16)-128;G=ne(y,A,G,t,n),oe=ne(w,d,oe,r,i),Ae=ne(b,d,Ae,r,i),U+=32}de+=8}if(p>=0){var ye=[];ye[1]=p+1,ye[0]=(1<<p+1)-1,Y(ye)}return le(65497),new Uint8Array(m)},e=e||50,function(){for(var _=String.fromCharCode,O=0;O<256;O++)I[O]=_(O)}(),t=ge(Q,k),r=ge(T,K),n=ge($,q),i=ge(v,re),function(){for(var _=1,O=2,G=1;G<=15;G++){for(var oe=_;oe<O;oe++)f[32767+oe]=G,h[32767+oe]=[],h[32767+oe][1]=G,h[32767+oe][0]=oe;for(var Ae=-(O-1);Ae<=-_;Ae++)f[32767+Ae]=G,h[32767+Ae]=[],h[32767+Ae][1]=G,h[32767+Ae][0]=O-1+Ae;_<<=1,O<<=1}}(),function(){for(var _=0;_<256;_++)F[_]=19595*_,F[_+256|0]=38470*_,F[_+512|0]=7471*_+32768,F[_+768|0]=-11059*_,F[_+1024|0]=-21709*_,F[_+1280|0]=32768*_+8421375,F[_+1536|0]=-27439*_,F[_+1792|0]=-5329*_}(),ae(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Wo(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function GN(e){function t(k){if(!k)throw Error("assert :P")}function r(k,$,q){for(var T=0;4>T;T++)if(k[$+T]!=q.charCodeAt(T))return!0;return!1}function n(k,$,q,T,K){for(var v=0;v<K;v++)k[$+v]=q[T+v]}function i(k,$,q,T){for(var K=0;K<T;K++)k[$+K]=q}function s(k){return new Int32Array(k)}function a(k,$){for(var q=[],T=0;T<k;T++)q.push(new $);return q}function o(k,$){var q=[];return function T(K,v,re){for(var ge=re[v],Y=0;Y<ge&&(K.push(re.length>v+1?[]:new $),!(re.length<v+1));Y++)T(K[Y],v+1,re)}(q,0,k),q}var c=function(){var k=this;function $(C,j){for(var X=1<<j-1>>>0;C&X;)X>>>=1;return X?(C&X-1)+X:C}function q(C,j,X,se,be){t(!(se%X));do C[j+(se-=X)]=be;while(0<se)}function T(C,j,X,se,be){if(t(2328>=be),512>=be)var xe=s(512);else if((xe=s(be))==null)return 0;return function(Be,Ee,Ne,Fe,Ge,ot){var je,Xe,it=Ee,pt=1<<Ne,at=s(16),gt=s(16);for(t(Ge!=0),t(Fe!=null),t(Be!=null),t(0<Ne),Xe=0;Xe<Ge;++Xe){if(15<Fe[Xe])return 0;++at[Fe[Xe]]}if(at[0]==Ge)return 0;for(gt[1]=0,je=1;15>je;++je){if(at[je]>1<<je)return 0;gt[je+1]=gt[je]+at[je]}for(Xe=0;Xe<Ge;++Xe)je=Fe[Xe],0<Fe[Xe]&&(ot[gt[je]++]=Xe);if(gt[15]==1)return(Fe=new K).g=0,Fe.value=ot[0],q(Be,it,1,pt,Fe),pt;var wt,Tt=-1,_t=pt-1,dr=0,nr=1,Pr=1,or=1<<Ne;for(Xe=0,je=1,Ge=2;je<=Ne;++je,Ge<<=1){if(nr+=Pr<<=1,0>(Pr-=at[je]))return 0;for(;0<at[je];--at[je])(Fe=new K).g=je,Fe.value=ot[Xe++],q(Be,it+dr,Ge,or,Fe),dr=$(dr,je)}for(je=Ne+1,Ge=2;15>=je;++je,Ge<<=1){if(nr+=Pr<<=1,0>(Pr-=at[je]))return 0;for(;0<at[je];--at[je]){if(Fe=new K,(dr&_t)!=Tt){for(it+=or,wt=1<<(Tt=je)-Ne;15>Tt&&!(0>=(wt-=at[Tt]));)++Tt,wt<<=1;pt+=or=1<<(wt=Tt-Ne),Be[Ee+(Tt=dr&_t)].g=wt+Ne,Be[Ee+Tt].value=it-Ee-Tt}Fe.g=je-Ne,Fe.value=ot[Xe++],q(Be,it+(dr>>Ne),Ge,or,Fe),dr=$(dr,je)}}return nr!=2*gt[15]-1?0:pt}(C,j,X,se,be,xe)}function K(){this.value=this.g=0}function v(){this.value=this.g=0}function re(){this.G=a(5,K),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(mo,v)}function ge(C,j,X,se){t(C!=null),t(j!=null),t(2147483648>se),C.Ca=254,C.I=0,C.b=-8,C.Ka=0,C.oa=j,C.pa=X,C.Jd=j,C.Yc=X+se,C.Zc=4<=se?X+se-4+1:X,M(C)}function Y(C,j){for(var X=0;0<j--;)X|=ce(C,128)<<j;return X}function fe(C,j){var X=Y(C,j);return J(C)?-X:X}function le(C,j,X,se){var be,xe=0;for(t(C!=null),t(j!=null),t(4294967288>se),C.Sb=se,C.Ra=0,C.u=0,C.h=0,4<se&&(se=4),be=0;be<se;++be)xe+=j[X+be]<<8*be;C.Ra=xe,C.bb=se,C.oa=j,C.pa=X}function ne(C){for(;8<=C.u&&C.bb<C.Sb;)C.Ra>>>=8,C.Ra+=C.oa[C.pa+C.bb]<<Da-8>>>0,++C.bb,C.u-=8;oe(C)&&(C.h=1,C.u=0)}function ae(C,j){if(t(0<=j),!C.h&&j<=en){var X=G(C)&ni[j];return C.u+=j,ne(C),X}return C.h=1,C.u=0}function _(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function O(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function G(C){return C.Ra>>>(C.u&Da-1)>>>0}function oe(C){return t(C.bb<=C.Sb),C.h||C.bb==C.Sb&&C.u>Da}function Ae(C,j){C.u=j,C.h=oe(C)}function U(C){C.u>=Ai&&(t(C.u>=Ai),ne(C))}function M(C){t(C!=null&&C.oa!=null),C.pa<C.Zc?(C.I=(C.oa[C.pa++]|C.I<<8)>>>0,C.b+=8):(t(C!=null&&C.oa!=null),C.pa<C.Yc?(C.b+=8,C.I=C.oa[C.pa++]|C.I<<8):C.Ka?C.b=0:(C.I<<=8,C.b+=8,C.Ka=1))}function J(C){return Y(C,1)}function ce(C,j){var X=C.Ca;0>C.b&&M(C);var se=C.b,be=X*j>>>8,xe=(C.I>>>se>be)+0;for(xe?(X-=be,C.I-=be+1<<se>>>0):X=be+1,se=X,be=0;256<=se;)be+=8,se>>=8;return se=7^be+gl[se],C.b-=se,C.Ca=(X<<se)-1,xe}function ee(C,j,X){C[j+0]=X>>24&255,C[j+1]=X>>16&255,C[j+2]=X>>8&255,C[j+3]=255&X}function Z(C,j){return C[j+0]|C[j+1]<<8}function me(C,j){return Z(C,j)|C[j+2]<<16}function B(C,j){return Z(C,j)|Z(C,j+2)<<16}function te(C,j){var X=1<<j;return t(C!=null),t(0<j),C.X=s(X),C.X==null?0:(C.Mb=32-j,C.Xa=j,1)}function H(C,j){t(C!=null),t(j!=null),t(C.Xa==j.Xa),n(j.X,0,C.X,0,1<<j.Xa)}function S(){this.X=[],this.Xa=this.Mb=0}function E(C,j,X,se){t(X!=null),t(se!=null);var be=X[0],xe=se[0];return be==0&&(be=(C*xe+j/2)/j),xe==0&&(xe=(j*be+C/2)/C),0>=be||0>=xe?0:(X[0]=be,se[0]=xe,1)}function P(C,j){return C+(1<<j)-1>>>j}function de(C,j){return((4278255360&C)+(4278255360&j)>>>0&4278255360)+((16711935&C)+(16711935&j)>>>0&16711935)>>>0}function ye(C,j){k[j]=function(X,se,be,xe,Be,Ee,Ne){var Fe;for(Fe=0;Fe<Be;++Fe){var Ge=k[C](Ee[Ne+Fe-1],be,xe+Fe);Ee[Ne+Fe]=de(X[se+Fe],Ge)}}}function ue(){this.ud=this.hd=this.jd=0}function ke(C,j){return((4278124286&(C^j))>>>1)+(C&j)>>>0}function Oe(C){return 0<=C&&256>C?C:0>C?0:255<C?255:void 0}function Ue(C,j){return Oe(C+(C-j+.5>>1))}function _e(C,j,X){return Math.abs(j-X)-Math.abs(C-X)}function Me(C,j,X,se,be,xe,Be){for(se=xe[Be-1],X=0;X<be;++X)xe[Be+X]=se=de(C[j+X],se)}function Ze(C,j,X,se,be){var xe;for(xe=0;xe<X;++xe){var Be=C[j+xe],Ee=Be>>8&255,Ne=16711935&(Ne=(Ne=16711935&Be)+((Ee<<16)+Ee));se[be+xe]=(4278255360&Be)+Ne>>>0}}function ut(C,j){j.jd=255&C,j.hd=C>>8&255,j.ud=C>>16&255}function kt(C,j,X,se,be,xe){var Be;for(Be=0;Be<se;++Be){var Ee=j[X+Be],Ne=Ee>>>8,Fe=Ee,Ge=255&(Ge=(Ge=Ee>>>16)+((C.jd<<24>>24)*(Ne<<24>>24)>>>5));Fe=255&(Fe=(Fe+=(C.hd<<24>>24)*(Ne<<24>>24)>>>5)+((C.ud<<24>>24)*(Ge<<24>>24)>>>5)),be[xe+Be]=(4278255360&Ee)+(Ge<<16)+Fe}}function It(C,j,X,se,be){k[j]=function(xe,Be,Ee,Ne,Fe,Ge,ot,je,Xe){for(Ne=ot;Ne<je;++Ne)for(ot=0;ot<Xe;++ot)Fe[Ge++]=be(Ee[se(xe[Be++])])},k[C]=function(xe,Be,Ee,Ne,Fe,Ge,ot){var je=8>>xe.b,Xe=xe.Ea,it=xe.K[0],pt=xe.w;if(8>je)for(xe=(1<<xe.b)-1,pt=(1<<je)-1;Be<Ee;++Be){var at,gt=0;for(at=0;at<Xe;++at)at&xe||(gt=se(Ne[Fe++])),Ge[ot++]=be(it[gt&pt]),gt>>=je}else k["VP8LMapColor"+X](Ne,Fe,it,pt,Ge,ot,Be,Ee,Xe)}}function ur(C,j,X,se,be){for(X=j+X;j<X;){var xe=C[j++];se[be++]=xe>>16&255,se[be++]=xe>>8&255,se[be++]=255&xe}}function Ft(C,j,X,se,be){for(X=j+X;j<X;){var xe=C[j++];se[be++]=xe>>16&255,se[be++]=xe>>8&255,se[be++]=255&xe,se[be++]=xe>>24&255}}function yt(C,j,X,se,be){for(X=j+X;j<X;){var xe=(Be=C[j++])>>16&240|Be>>12&15,Be=240&Be|Be>>28&15;se[be++]=xe,se[be++]=Be}}function Yt(C,j,X,se,be){for(X=j+X;j<X;){var xe=(Be=C[j++])>>16&248|Be>>13&7,Be=Be>>5&224|Be>>3&31;se[be++]=xe,se[be++]=Be}}function mt(C,j,X,se,be){for(X=j+X;j<X;){var xe=C[j++];se[be++]=255&xe,se[be++]=xe>>8&255,se[be++]=xe>>16&255}}function $t(C,j,X,se,be,xe){if(xe==0)for(X=j+X;j<X;)ee(se,((xe=C[j++])[0]>>24|xe[1]>>8&65280|xe[2]<<8&16711680|xe[3]<<24)>>>0),be+=32;else n(se,be,C,j,X)}function tr(C,j){k[j][0]=k[C+"0"],k[j][1]=k[C+"1"],k[j][2]=k[C+"2"],k[j][3]=k[C+"3"],k[j][4]=k[C+"4"],k[j][5]=k[C+"5"],k[j][6]=k[C+"6"],k[j][7]=k[C+"7"],k[j][8]=k[C+"8"],k[j][9]=k[C+"9"],k[j][10]=k[C+"10"],k[j][11]=k[C+"11"],k[j][12]=k[C+"12"],k[j][13]=k[C+"13"],k[j][14]=k[C+"0"],k[j][15]=k[C+"0"]}function fr(C){return C==dw||C==hw||C==im||C==fw}function Ct(){this.eb=[],this.size=this.A=this.fb=0}function $e(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ct(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ct,this.f.kb=new $e,this.sd=null}function st(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function et(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function qt(C){return alert("todo:WebPSamplerProcessPlane"),C.T}function Qt(C,j){var X=C.T,se=j.ba.f.RGBA,be=se.eb,xe=se.fb+C.ka*se.A,Be=go[j.ba.S],Ee=C.y,Ne=C.O,Fe=C.f,Ge=C.N,ot=C.ea,je=C.W,Xe=j.cc,it=j.dc,pt=j.Mc,at=j.Nc,gt=C.ka,wt=C.ka+C.T,Tt=C.U,_t=Tt+1>>1;for(gt==0?Be(Ee,Ne,null,null,Fe,Ge,ot,je,Fe,Ge,ot,je,be,xe,null,null,Tt):(Be(j.ec,j.fc,Ee,Ne,Xe,it,pt,at,Fe,Ge,ot,je,be,xe-se.A,be,xe,Tt),++X);gt+2<wt;gt+=2)Xe=Fe,it=Ge,pt=ot,at=je,Ge+=C.Rc,je+=C.Rc,xe+=2*se.A,Be(Ee,(Ne+=2*C.fa)-C.fa,Ee,Ne,Xe,it,pt,at,Fe,Ge,ot,je,be,xe-se.A,be,xe,Tt);return Ne+=C.fa,C.j+wt<C.o?(n(j.ec,j.fc,Ee,Ne,Tt),n(j.cc,j.dc,Fe,Ge,_t),n(j.Mc,j.Nc,ot,je,_t),X--):1&wt||Be(Ee,Ne,null,null,Fe,Ge,ot,je,Fe,Ge,ot,je,be,xe+se.A,null,null,Tt),X}function Gt(C,j,X){var se=C.F,be=[C.J];if(se!=null){var xe=C.U,Be=j.ba.S,Ee=Be==nm||Be==im;j=j.ba.f.RGBA;var Ne=[0],Fe=C.ka;Ne[0]=C.T,C.Kb&&(Fe==0?--Ne[0]:(--Fe,be[0]-=C.width),C.j+C.ka+C.T==C.o&&(Ne[0]=C.o-C.j-Fe));var Ge=j.eb;Fe=j.fb+Fe*j.A,C=Jt(se,be[0],C.width,xe,Ne,Ge,Fe+(Ee?0:3),j.A),t(X==Ne),C&&fr(Be)&&Mt(Ge,Fe,Ee,xe,Ne,j.A)}return 0}function Tr(C){var j=C.ma,X=j.ba.S,se=11>X,be=X==tm||X==rm||X==nm||X==uw||X==12||fr(X);if(j.memory=null,j.Ib=null,j.Jb=null,j.Nd=null,!jA(j.Oa,C,be?11:12))return 0;if(be&&fr(X)&&pl(),C.da)alert("todo:use_scaling");else{if(se){if(j.Ib=qt,C.Kb){if(X=C.U+1>>1,j.memory=s(C.U+2*X),j.memory==null)return 0;j.ec=j.memory,j.fc=0,j.cc=j.ec,j.dc=j.fc+C.U,j.Mc=j.cc,j.Nc=j.dc+X,j.Ib=Qt,pl()}}else alert("todo:EmitYUV");be&&(j.Jb=Gt,se&&ts())}if(se&&!CC){for(C=0;256>C;++C)SD[C]=89858*(C-128)+am>>sm,kD[C]=-22014*(C-128)+am,ND[C]=-45773*(C-128),_D[C]=113618*(C-128)+am>>sm;for(C=Bh;C<gw;++C)j=76283*(C-16)+am>>sm,ID[C-Bh]=$r(j,255),TD[C-Bh]=$r(j+8>>4,15);CC=1}return 1}function Lt(C){var j=C.ma,X=C.U,se=C.T;return t(!(1&C.ka)),0>=X||0>=se?0:(X=j.Ib(C,j),j.Jb!=null&&j.Jb(C,j,X),j.Dc+=X,1)}function Dr(C){C.ma.memory=null}function zr(C,j,X,se){return ae(C,8)!=47?0:(j[0]=ae(C,14)+1,X[0]=ae(C,14)+1,se[0]=ae(C,1),ae(C,3)!=0?0:!C.h)}function Lr(C,j){if(4>C)return C+1;var X=C-2>>1;return(2+(1&C)<<X)+ae(j,X)+1}function _r(C,j){return 120<j?j-120:1<=(X=((X=dD[j-1])>>4)*C+(8-(15&X)))?X:1;var X}function Fn(C,j,X){var se=G(X),be=C[j+=255&se].g-8;return 0<be&&(Ae(X,X.u+8),se=G(X),j+=C[j].value,j+=se&(1<<be)-1),Ae(X,X.u+C[j].g),C[j].value}function gn(C,j,X){return X.g+=C.g,X.value+=C.value<<j>>>0,t(8>=X.g),C.g}function Mn(C,j,X){var se=C.xc;return t((j=se==0?0:C.vc[C.md*(X>>se)+(j>>se)])<C.Wb),C.Ya[j]}function Gs(C,j,X,se){var be=C.ab,xe=C.c*j,Be=C.C;j=Be+j;var Ee=X,Ne=se;for(se=C.Ta,X=C.Ua;0<be--;){var Fe=C.gc[be],Ge=Be,ot=j,je=Ee,Xe=Ne,it=(Ne=se,Ee=X,Fe.Ea);switch(t(Ge<ot),t(ot<=Fe.nc),Fe.hc){case 2:vn(je,Xe,(ot-Ge)*it,Ne,Ee);break;case 0:var pt=Ge,at=ot,gt=Ne,wt=Ee,Tt=(or=Fe).Ea;pt==0&&(Vl(je,Xe,null,null,1,gt,wt),Me(je,Xe+1,0,0,Tt-1,gt,wt+1),Xe+=Tt,wt+=Tt,++pt);for(var _t=1<<or.b,dr=_t-1,nr=P(Tt,or.b),Pr=or.K,or=or.w+(pt>>or.b)*nr;pt<at;){var tn=Pr,Gi=or,Qr=1;for(Xl(je,Xe,gt,wt-Tt,1,gt,wt);Qr<Tt;){var lr=(Qr&~dr)+_t;lr>Tt&&(lr=Tt),(0,N[tn[Gi++]>>8&15])(je,Xe+ +Qr,gt,wt+Qr-Tt,lr-Qr,gt,wt+Qr),Qr=lr}Xe+=Tt,wt+=Tt,++pt&dr||(or+=nr)}ot!=Fe.nc&&n(Ne,Ee-it,Ne,Ee+(ot-Ge-1)*it,it);break;case 1:for(it=je,at=Xe,Tt=(je=Fe.Ea)-(wt=je&~(gt=(Xe=1<<Fe.b)-1)),pt=P(je,Fe.b),_t=Fe.K,Fe=Fe.w+(Ge>>Fe.b)*pt;Ge<ot;){for(dr=_t,nr=Fe,Pr=new ue,or=at+wt,tn=at+je;at<or;)ut(dr[nr++],Pr),D(Pr,it,at,Xe,Ne,Ee),at+=Xe,Ee+=Xe;at<tn&&(ut(dr[nr++],Pr),D(Pr,it,at,Tt,Ne,Ee),at+=Tt,Ee+=Tt),++Ge&gt||(Fe+=pt)}break;case 3:if(je==Ne&&Xe==Ee&&0<Fe.b){for(at=Ne,je=it=Ee+(ot-Ge)*it-(wt=(ot-Ge)*P(Fe.Ea,Fe.b)),Xe=Ne,gt=Ee,pt=[],wt=(Tt=wt)-1;0<=wt;--wt)pt[wt]=Xe[gt+wt];for(wt=Tt-1;0<=wt;--wt)at[je+wt]=pt[wt];Tc(Fe,Ge,ot,Ne,it,Ne,Ee)}else Tc(Fe,Ge,ot,je,Xe,Ne,Ee)}Ee=se,Ne=X}Ne!=X&&n(se,X,Ee,Ne,xe)}function Ws(C,j){var X=C.V,se=C.Ba+C.c*C.C,be=j-C.C;if(t(j<=C.l.o),t(16>=be),0<be){var xe=C.l,Be=C.Ta,Ee=C.Ua,Ne=xe.width;if(Gs(C,be,X,se),be=Ee=[Ee],t((X=C.C)<(se=j)),t(xe.v<xe.va),se>xe.o&&(se=xe.o),X<xe.j){var Fe=xe.j-X;X=xe.j,be[0]+=Fe*Ne}if(X>=se?X=0:(be[0]+=4*xe.v,xe.ka=X-xe.j,xe.U=xe.va-xe.v,xe.T=se-X,X=1),X){if(Ee=Ee[0],11>(X=C.ca).S){var Ge=X.f.RGBA,ot=(se=X.S,be=xe.U,xe=xe.T,Fe=Ge.eb,Ge.A),je=xe;for(Ge=Ge.fb+C.Ma*Ge.A;0<je--;){var Xe=Be,it=Ee,pt=be,at=Fe,gt=Ge;switch(se){case jc:V(Xe,it,pt,at,gt);break;case tm:ie(Xe,it,pt,at,gt);break;case dw:ie(Xe,it,pt,at,gt),Mt(at,gt,0,pt,1,0);break;case fC:Ie(Xe,it,pt,at,gt);break;case rm:$t(Xe,it,pt,at,gt,1);break;case hw:$t(Xe,it,pt,at,gt,1),Mt(at,gt,0,pt,1,0);break;case nm:$t(Xe,it,pt,at,gt,0);break;case im:$t(Xe,it,pt,at,gt,0),Mt(at,gt,1,pt,1,0);break;case uw:he(Xe,it,pt,at,gt);break;case fw:he(Xe,it,pt,at,gt),Pt(at,gt,pt,1,0);break;case pC:ve(Xe,it,pt,at,gt);break;default:t(0)}Ee+=Ne,Ge+=ot}C.Ma+=xe}else alert("todo:EmitRescaledRowsYUVA");t(C.Ma<=X.height)}}C.C=j,t(C.C<=C.i)}function Yr(C){var j;if(0<C.ua)return 0;for(j=0;j<C.Wb;++j){var X=C.Ya[j].G,se=C.Ya[j].H;if(0<X[1][se[1]+0].g||0<X[2][se[2]+0].g||0<X[3][se[3]+0].g)return 0}return 1}function Ni(C,j,X,se,be,xe){if(C.Z!=0){var Be=C.qd,Ee=C.rd;for(t(Lc[C.Z]!=null);j<X;++j)Lc[C.Z](Be,Ee,se,be,se,be,xe),Be=se,Ee=be,be+=xe;C.qd=Be,C.rd=Ee}}function li(C,j){var X=C.l.ma,se=X.Z==0||X.Z==1?C.l.j:C.C;if(se=C.C<se?se:C.C,t(j<=C.l.o),j>se){var be=C.l.width,xe=X.ca,Be=X.tb+be*se,Ee=C.V,Ne=C.Ba+C.c*se,Fe=C.gc;t(C.ab==1),t(Fe[0].hc==3),Ki(Fe[0],se,j,Ee,Ne,xe,Be),Ni(X,se,j,xe,Be,be)}C.C=C.Ma=j}function ki(C,j,X,se,be,xe,Be){var Ee=C.$/se,Ne=C.$%se,Fe=C.m,Ge=C.s,ot=X+C.$,je=ot;be=X+se*be;var Xe=X+se*xe,it=280+Ge.ua,pt=C.Pb?Ee:16777216,at=0<Ge.ua?Ge.Wa:null,gt=Ge.wc,wt=ot<Xe?Mn(Ge,Ne,Ee):null;t(C.C<xe),t(Xe<=be);var Tt=!1;e:for(;;){for(;Tt||ot<Xe;){var _t=0;if(Ee>=pt){var dr=ot-X;t((pt=C).Pb),pt.wd=pt.m,pt.xd=dr,0<pt.s.ua&&H(pt.s.Wa,pt.s.vb),pt=Ee+fD}if(Ne&gt||(wt=Mn(Ge,Ne,Ee)),t(wt!=null),wt.Qb&&(j[ot]=wt.qb,Tt=!0),!Tt)if(U(Fe),wt.jc){_t=Fe,dr=j;var nr=ot,Pr=wt.pd[G(_t)&mo-1];t(wt.jc),256>Pr.g?(Ae(_t,_t.u+Pr.g),dr[nr]=Pr.value,_t=0):(Ae(_t,_t.u+Pr.g-256),t(256<=Pr.value),_t=Pr.value),_t==0&&(Tt=!0)}else _t=Fn(wt.G[0],wt.H[0],Fe);if(Fe.h)break;if(Tt||256>_t){if(!Tt)if(wt.nd)j[ot]=(wt.qb|_t<<8)>>>0;else{if(U(Fe),Tt=Fn(wt.G[1],wt.H[1],Fe),U(Fe),dr=Fn(wt.G[2],wt.H[2],Fe),nr=Fn(wt.G[3],wt.H[3],Fe),Fe.h)break;j[ot]=(nr<<24|Tt<<16|_t<<8|dr)>>>0}if(Tt=!1,++ot,++Ne>=se&&(Ne=0,++Ee,Be!=null&&Ee<=xe&&!(Ee%16)&&Be(C,Ee),at!=null))for(;je<ot;)_t=j[je++],at.X[(506832829*_t&4294967295)>>>at.Mb]=_t}else if(280>_t){if(_t=Lr(_t-256,Fe),dr=Fn(wt.G[4],wt.H[4],Fe),U(Fe),dr=_r(se,dr=Lr(dr,Fe)),Fe.h)break;if(ot-X<dr||be-ot<_t)break e;for(nr=0;nr<_t;++nr)j[ot+nr]=j[ot+nr-dr];for(ot+=_t,Ne+=_t;Ne>=se;)Ne-=se,++Ee,Be!=null&&Ee<=xe&&!(Ee%16)&&Be(C,Ee);if(t(ot<=be),Ne&gt&&(wt=Mn(Ge,Ne,Ee)),at!=null)for(;je<ot;)_t=j[je++],at.X[(506832829*_t&4294967295)>>>at.Mb]=_t}else{if(!(_t<it))break e;for(Tt=_t-280,t(at!=null);je<ot;)_t=j[je++],at.X[(506832829*_t&4294967295)>>>at.Mb]=_t;_t=ot,t(!(Tt>>>(dr=at).Xa)),j[_t]=dr.X[Tt],Tt=!0}Tt||t(Fe.h==oe(Fe))}if(C.Pb&&Fe.h&&ot<be)t(C.m.h),C.a=5,C.m=C.wd,C.$=C.xd,0<C.s.ua&&H(C.s.vb,C.s.Wa);else{if(Fe.h)break e;Be!=null&&Be(C,Ee>xe?xe:Ee),C.a=0,C.$=ot-X}return 1}return C.a=3,0}function Es(C){t(C!=null),C.vc=null,C.yc=null,C.Ya=null;var j=C.Wa;j!=null&&(j.X=null),C.vb=null,t(C!=null)}function Ii(){var C=new er;return C==null?null:(C.a=0,C.xb=yC,tr("Predictor","VP8LPredictors"),tr("Predictor","VP8LPredictors_C"),tr("PredictorAdd","VP8LPredictorsAdd"),tr("PredictorAdd","VP8LPredictorsAdd_C"),vn=Ze,D=kt,V=ur,ie=Ft,he=yt,ve=Yt,Ie=mt,k.VP8LMapColor32b=us,k.VP8LMapColor8b=Fc,C)}function Ss(C,j,X,se,be){var xe=1,Be=[C],Ee=[j],Ne=se.m,Fe=se.s,Ge=null,ot=0;e:for(;;){if(X)for(;xe&&ae(Ne,1);){var je=Be,Xe=Ee,it=se,pt=1,at=it.m,gt=it.gc[it.ab],wt=ae(at,2);if(it.Oc&1<<wt)xe=0;else{switch(it.Oc|=1<<wt,gt.hc=wt,gt.Ea=je[0],gt.nc=Xe[0],gt.K=[null],++it.ab,t(4>=it.ab),wt){case 0:case 1:gt.b=ae(at,3)+2,pt=Ss(P(gt.Ea,gt.b),P(gt.nc,gt.b),0,it,gt.K),gt.K=gt.K[0];break;case 3:var Tt,_t=ae(at,8)+1,dr=16<_t?0:4<_t?1:2<_t?2:3;if(je[0]=P(gt.Ea,dr),gt.b=dr,Tt=pt=Ss(_t,1,0,it,gt.K)){var nr,Pr=_t,or=gt,tn=1<<(8>>or.b),Gi=s(tn);if(Gi==null)Tt=0;else{var Qr=or.K[0],lr=or.w;for(Gi[0]=or.K[0][0],nr=1;nr<1*Pr;++nr)Gi[nr]=de(Qr[lr+nr],Gi[nr-1]);for(;nr<4*tn;++nr)Gi[nr]=0;or.K[0]=null,or.K[0]=Gi,Tt=1}}pt=Tt;break;case 2:break;default:t(0)}xe=pt}}if(Be=Be[0],Ee=Ee[0],xe&&ae(Ne,1)&&!(xe=1<=(ot=ae(Ne,4))&&11>=ot)){se.a=3;break e}var Wt;if(Wt=xe)t:{var wi,Ur,nn,Gn=se,ds=Be,ra=Ee,ui=ot,ks=X,na=Gn.m,Wi=Gn.s,ln=[null],Bn=1,di=0,Cn=hD[ui];r:for(;;){if(ks&&ae(na,1)){var hs=ae(na,3)+2,zo=P(ds,hs),bi=P(ra,hs),ya=zo*bi;if(!Ss(zo,bi,0,Gn,ln))break r;for(ln=ln[0],Wi.xc=hs,wi=0;wi<ya;++wi){var Un=ln[wi]>>8&65535;ln[wi]=Un,Un>=Bn&&(Bn=Un+1)}}if(na.h)break r;for(Ur=0;5>Ur;++Ur){var $i=mC[Ur];!Ur&&0<ui&&($i+=1<<ui),di<$i&&(di=$i)}var Ra=a(Bn*Cn,K),ia=Bn,Oa=a(ia,re);if(Oa==null)var Pa=null;else t(65536>=ia),Pa=Oa;var wa=s(di);if(Pa==null||wa==null||Ra==null){Gn.a=1;break r}var Qa=Ra;for(wi=nn=0;wi<Bn;++wi){var Dn=Pa[wi],Ma=Dn.G,Ko=Dn.H,LA=0,Zl=1,fs=0;for(Ur=0;5>Ur;++Ur){$i=mC[Ur],Ma[Ur]=Qa,Ko[Ur]=nn,!Ur&&0<ui&&($i+=1<<ui);i:{var lm,yw=$i,cm=Gn,Ch=wa,UD=Qa,LD=nn,ww=0,Dc=cm.m,DD=ae(Dc,1);if(i(Ch,0,0,yw),DD){var RD=ae(Dc,1)+1,OD=ae(Dc,1),_C=ae(Dc,OD==0?1:8);Ch[_C]=1,RD==2&&(Ch[_C=ae(Dc,8)]=1);var Am=1}else{var NC=s(19),kC=ae(Dc,4)+4;if(19<kC){cm.a=3;var um=0;break i}for(lm=0;lm<kC;++lm)NC[uD[lm]]=ae(Dc,3);var bw=void 0,Eh=void 0,IC=cm,PD=NC,dm=yw,TC=Ch,vw=0,Rc=IC.m,FC=8,jC=a(128,K);n:for(;T(jC,0,7,PD,19);){if(ae(Rc,1)){var QD=2+2*ae(Rc,3);if((bw=2+ae(Rc,QD))>dm)break n}else bw=dm;for(Eh=0;Eh<dm&&bw--;){U(Rc);var UC=jC[0+(127&G(Rc))];Ae(Rc,Rc.u+UC.g);var Iu=UC.value;if(16>Iu)TC[Eh++]=Iu,Iu!=0&&(FC=Iu);else{var MD=Iu==16,LC=Iu-16,HD=cD[LC],DC=ae(Rc,lD[LC])+HD;if(Eh+DC>dm)break n;for(var zD=MD?FC:0;0<DC--;)TC[Eh++]=zD}}vw=1;break n}vw||(IC.a=3),Am=vw}(Am=Am&&!Dc.h)&&(ww=T(UD,LD,8,Ch,yw)),Am&&ww!=0?um=ww:(cm.a=3,um=0)}if(um==0)break r;if(Zl&&AD[Ur]==1&&(Zl=Qa[nn].g==0),LA+=Qa[nn].g,nn+=um,3>=Ur){var Sh,xw=wa[0];for(Sh=1;Sh<$i;++Sh)wa[Sh]>xw&&(xw=wa[Sh]);fs+=xw}}if(Dn.nd=Zl,Dn.Qb=0,Zl&&(Dn.qb=(Ma[3][Ko[3]+0].value<<24|Ma[1][Ko[1]+0].value<<16|Ma[2][Ko[2]+0].value)>>>0,LA==0&&256>Ma[0][Ko[0]+0].value&&(Dn.Qb=1,Dn.qb+=Ma[0][Ko[0]+0].value<<8)),Dn.jc=!Dn.Qb&&6>fs,Dn.jc){var hm,ec=Dn;for(hm=0;hm<mo;++hm){var Oc=hm,Pc=ec.pd[Oc],fm=ec.G[0][ec.H[0]+Oc];256<=fm.value?(Pc.g=fm.g+256,Pc.value=fm.value):(Pc.g=0,Pc.value=0,Oc>>=gn(fm,8,Pc),Oc>>=gn(ec.G[1][ec.H[1]+Oc],16,Pc),Oc>>=gn(ec.G[2][ec.H[2]+Oc],0,Pc),gn(ec.G[3][ec.H[3]+Oc],24,Pc))}}}Wi.vc=ln,Wi.Wb=Bn,Wi.Ya=Pa,Wi.yc=Ra,Wt=1;break t}Wt=0}if(!(xe=Wt)){se.a=3;break e}if(0<ot){if(Fe.ua=1<<ot,!te(Fe.Wa,ot)){se.a=1,xe=0;break e}}else Fe.ua=0;var Bw=se,RC=Be,KD=Ee,Cw=Bw.s,Ew=Cw.xc;if(Bw.c=RC,Bw.i=KD,Cw.md=P(RC,Ew),Cw.wc=Ew==0?-1:(1<<Ew)-1,X){se.xb=vD;break e}if((Ge=s(Be*Ee))==null){se.a=1,xe=0;break e}xe=(xe=ki(se,Ge,0,Be,Ee,Ee,null))&&!Ne.h;break e}return xe?(be!=null?be[0]=Ge:(t(Ge==null),t(X)),se.$=0,X||Es(Fe)):Es(Fe),xe}function Ti(C,j){var X=C.c*C.i,se=X+j+16*j;return t(C.c<=j),C.V=s(se),C.V==null?(C.Ta=null,C.Ua=0,C.a=1,0):(C.Ta=C.V,C.Ua=C.Ba+X+j,1)}function Uo(C,j){var X=C.C,se=j-X,be=C.V,xe=C.Ba+C.c*X;for(t(j<=C.l.o);0<se;){var Be=16<se?16:se,Ee=C.l.ma,Ne=C.l.width,Fe=Ne*Be,Ge=Ee.ca,ot=Ee.tb+Ne*X,je=C.Ta,Xe=C.Ua;Gs(C,Be,be,xe),Ir(je,Xe,Ge,ot,Fe),Ni(Ee,X,X+Be,Ge,ot,Ne),se-=Be,be+=Be*C.c,X+=Be}t(X==j),C.C=C.Ma=j}function mi(){this.ub=this.yd=this.td=this.Rb=0}function an(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function $s(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Ji(){this.Yb=function(){var C=[];return function j(X,se,be){for(var xe=be[se],Be=0;Be<xe&&(X.push(be.length>se+1?[]:0),!(be.length<se+1));Be++)j(X[Be],se+1,be)}(C,0,[3,11]),C}()}function ul(){this.jb=s(3),this.Wc=o([4,8],Ji),this.Xc=o([4,17],Ji)}function ls(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Fi(){this.ld=this.La=this.dd=this.tc=0}function ha(){this.Na=this.la=0}function Lo(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ji(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Do(){this.uc=this.M=this.Nb=0,this.wa=Array(new Fi),this.Y=0,this.ya=Array(new ji),this.aa=0,this.l=new kr}function co(){this.y=s(16),this.f=s(8),this.ea=s(8)}function dl(){this.cb=this.a=0,this.sc="",this.m=new _,this.Od=new mi,this.Kc=new an,this.ed=new ls,this.Qa=new $s,this.Ic=this.$c=this.Aa=0,this.D=new Do,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,_),this.ia=0,this.pb=a(4,Lo),this.Pa=new ul,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new co),this.Hd=0,this.rb=Array(new ha),this.sb=0,this.wa=Array(new Fi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ji),this.L=this.aa=0,this.gd=o([4,2],Fi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function kr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function kc(){var C=new dl;return C!=null&&(C.a=0,C.sc="OK",C.cb=0,C.Xb=0,xh||(xh=cs)),C}function un(C,j,X){return C.a==0&&(C.a=j,C.sc=X,C.cb=0),0}function Zr(C,j,X){return 3<=X&&C[j+0]==157&&C[j+1]==1&&C[j+2]==42}function Zi(C,j){if(C==null)return 0;if(C.a=0,C.sc="OK",j==null)return un(C,2,"null VP8Io passed to VP8GetHeaders()");var X=j.data,se=j.w,be=j.ha;if(4>be)return un(C,7,"Truncated header.");var xe=X[se+0]|X[se+1]<<8|X[se+2]<<16,Be=C.Od;if(Be.Rb=!(1&xe),Be.td=xe>>1&7,Be.yd=xe>>4&1,Be.ub=xe>>5,3<Be.td)return un(C,3,"Incorrect keyframe parameters.");if(!Be.yd)return un(C,4,"Frame not displayable.");se+=3,be-=3;var Ee=C.Kc;if(Be.Rb){if(7>be)return un(C,7,"cannot parse picture header");if(!Zr(X,se,be))return un(C,3,"Bad code word");Ee.c=16383&(X[se+4]<<8|X[se+3]),Ee.Td=X[se+4]>>6,Ee.i=16383&(X[se+6]<<8|X[se+5]),Ee.Ud=X[se+6]>>6,se+=7,be-=7,C.za=Ee.c+15>>4,C.Ub=Ee.i+15>>4,j.width=Ee.c,j.height=Ee.i,j.Da=0,j.j=0,j.v=0,j.va=j.width,j.o=j.height,j.da=0,j.ib=j.width,j.hb=j.height,j.U=j.width,j.T=j.height,i((xe=C.Pa).jb,0,255,xe.jb.length),t((xe=C.Qa)!=null),xe.Cb=0,xe.Bb=0,xe.Fb=1,i(xe.Zb,0,0,xe.Zb.length),i(xe.Lb,0,0,xe.Lb)}if(Be.ub>be)return un(C,7,"bad partition length");ge(xe=C.m,X,se,Be.ub),se+=Be.ub,be-=Be.ub,Be.Rb&&(Ee.Ld=J(xe),Ee.Kd=J(xe)),Ee=C.Qa;var Ne,Fe=C.Pa;if(t(xe!=null),t(Ee!=null),Ee.Cb=J(xe),Ee.Cb){if(Ee.Bb=J(xe),J(xe)){for(Ee.Fb=J(xe),Ne=0;4>Ne;++Ne)Ee.Zb[Ne]=J(xe)?fe(xe,7):0;for(Ne=0;4>Ne;++Ne)Ee.Lb[Ne]=J(xe)?fe(xe,6):0}if(Ee.Bb)for(Ne=0;3>Ne;++Ne)Fe.jb[Ne]=J(xe)?Y(xe,8):255}else Ee.Bb=0;if(xe.Ka)return un(C,3,"cannot parse segment header");if((Ee=C.ed).zd=J(xe),Ee.Tb=Y(xe,6),Ee.wb=Y(xe,3),Ee.Pc=J(xe),Ee.Pc&&J(xe)){for(Fe=0;4>Fe;++Fe)J(xe)&&(Ee.vd[Fe]=fe(xe,6));for(Fe=0;4>Fe;++Fe)J(xe)&&(Ee.od[Fe]=fe(xe,6))}if(C.L=Ee.Tb==0?0:Ee.zd?1:2,xe.Ka)return un(C,3,"cannot parse filter header");var Ge=be;if(be=Ne=se,se=Ne+Ge,Ee=Ge,C.Xb=(1<<Y(C.m,2))-1,Ge<3*(Fe=C.Xb))X=7;else{for(Ne+=3*Fe,Ee-=3*Fe,Ge=0;Ge<Fe;++Ge){var ot=X[be+0]|X[be+1]<<8|X[be+2]<<16;ot>Ee&&(ot=Ee),ge(C.Jc[+Ge],X,Ne,ot),Ne+=ot,Ee-=ot,be+=3}ge(C.Jc[+Fe],X,Ne,Ee),X=Ne<se?0:5}if(X!=0)return un(C,X,"cannot parse partitions");for(X=Y(Ne=C.m,7),be=J(Ne)?fe(Ne,4):0,se=J(Ne)?fe(Ne,4):0,Ee=J(Ne)?fe(Ne,4):0,Fe=J(Ne)?fe(Ne,4):0,Ne=J(Ne)?fe(Ne,4):0,Ge=C.Qa,ot=0;4>ot;++ot){if(Ge.Cb){var je=Ge.Zb[ot];Ge.Fb||(je+=X)}else{if(0<ot){C.pb[ot]=C.pb[0];continue}je=X}var Xe=C.pb[ot];Xe.Sc[0]=pw[$r(je+be,127)],Xe.Sc[1]=mw[$r(je+0,127)],Xe.Eb[0]=2*pw[$r(je+se,127)],Xe.Eb[1]=101581*mw[$r(je+Ee,127)]>>16,8>Xe.Eb[1]&&(Xe.Eb[1]=8),Xe.Qc[0]=pw[$r(je+Fe,117)],Xe.Qc[1]=mw[$r(je+Ne,127)],Xe.lc=je+Ne}if(!Be.Rb)return un(C,4,"Not a key frame.");for(J(xe),Be=C.Pa,X=0;4>X;++X){for(be=0;8>be;++be)for(se=0;3>se;++se)for(Ee=0;11>Ee;++Ee)Fe=ce(xe,wD[X][be][se][Ee])?Y(xe,8):gD[X][be][se][Ee],Be.Wc[X][be].Yb[se][Ee]=Fe;for(be=0;17>be;++be)Be.Xc[X][be]=Be.Wc[X][bD[be]]}return C.kc=J(xe),C.kc&&(C.Bd=Y(xe,8)),C.cb=1}function cs(C,j,X,se,be,xe,Be){var Ee=j[be].Yb[X];for(X=0;16>be;++be){if(!ce(C,Ee[X+0]))return be;for(;!ce(C,Ee[X+1]);)if(Ee=j[++be].Yb[0],X=0,be==16)return 16;var Ne=j[be+1].Yb;if(ce(C,Ee[X+2])){var Fe=C,Ge=0;if(ce(Fe,(je=Ee)[(ot=X)+3]))if(ce(Fe,je[ot+6])){for(Ee=0,ot=2*(Ge=ce(Fe,je[ot+8]))+(je=ce(Fe,je[ot+9+Ge])),Ge=0,je=pD[ot];je[Ee];++Ee)Ge+=Ge+ce(Fe,je[Ee]);Ge+=3+(8<<ot)}else ce(Fe,je[ot+7])?(Ge=7+2*ce(Fe,165),Ge+=ce(Fe,145)):Ge=5+ce(Fe,159);else Ge=ce(Fe,je[ot+4])?3+ce(Fe,je[ot+5]):2;Ee=Ne[2]}else Ge=1,Ee=Ne[1];Ne=Be+mD[be],0>(Fe=C).b&&M(Fe);var ot,je=Fe.b,Xe=(ot=Fe.Ca>>1)-(Fe.I>>je)>>31;--Fe.b,Fe.Ca+=Xe,Fe.Ca|=1,Fe.I-=(ot+1&Xe)<<je,xe[Ne]=((Ge^Xe)-Xe)*se[(0<be)+0]}return 16}function Vs(C){var j=C.rb[C.sb-1];j.la=0,j.Na=0,i(C.zc,0,0,C.zc.length),C.ja=0}function Hi(C,j,X,se,be){be=C[j+X+32*se]+(be>>3),C[j+X+32*se]=-256&be?0>be?0:255:be}function Gr(C,j,X,se,be,xe){Hi(C,j,0,X,se+be),Hi(C,j,1,X,se+xe),Hi(C,j,2,X,se-xe),Hi(C,j,3,X,se-be)}function bn(C){return(20091*C>>16)+C}function ja(C,j,X,se){var be,xe=0,Be=s(16);for(be=0;4>be;++be){var Ee=C[j+0]+C[j+8],Ne=C[j+0]-C[j+8],Fe=(35468*C[j+4]>>16)-bn(C[j+12]),Ge=bn(C[j+4])+(35468*C[j+12]>>16);Be[xe+0]=Ee+Ge,Be[xe+1]=Ne+Fe,Be[xe+2]=Ne-Fe,Be[xe+3]=Ee-Ge,xe+=4,j++}for(be=xe=0;4>be;++be)Ee=(C=Be[xe+0]+4)+Be[xe+8],Ne=C-Be[xe+8],Fe=(35468*Be[xe+4]>>16)-bn(Be[xe+12]),Hi(X,se,0,0,Ee+(Ge=bn(Be[xe+4])+(35468*Be[xe+12]>>16))),Hi(X,se,1,0,Ne+Fe),Hi(X,se,2,0,Ne-Fe),Hi(X,se,3,0,Ee-Ge),xe++,se+=32}function _s(C,j,X,se){var be=C[j+0]+4,xe=35468*C[j+4]>>16,Be=bn(C[j+4]),Ee=35468*C[j+1]>>16;Gr(X,se,0,be+Be,C=bn(C[j+1]),Ee),Gr(X,se,1,be+xe,C,Ee),Gr(X,se,2,be-xe,C,Ee),Gr(X,se,3,be-Be,C,Ee)}function hl(C,j,X,se,be){ja(C,j,X,se),be&&ja(C,j+16,X,se+4)}function Kl(C,j,X,se){He(C,j+0,X,se,1),He(C,j+32,X,se+128,1)}function zi(C,j,X,se){var be;for(C=C[j+0]+4,be=0;4>be;++be)for(j=0;4>j;++j)Hi(X,se,j,be,C)}function fl(C,j,X,se){C[j+0]&&Le(C,j+0,X,se),C[j+16]&&Le(C,j+16,X,se+4),C[j+32]&&Le(C,j+32,X,se+128),C[j+48]&&Le(C,j+48,X,se+128+4)}function Ua(C,j,X,se){var be,xe=s(16);for(be=0;4>be;++be){var Be=C[j+0+be]+C[j+12+be],Ee=C[j+4+be]+C[j+8+be],Ne=C[j+4+be]-C[j+8+be],Fe=C[j+0+be]-C[j+12+be];xe[0+be]=Be+Ee,xe[8+be]=Be-Ee,xe[4+be]=Fe+Ne,xe[12+be]=Fe-Ne}for(be=0;4>be;++be)Be=(C=xe[0+4*be]+3)+xe[3+4*be],Ee=xe[1+4*be]+xe[2+4*be],Ne=xe[1+4*be]-xe[2+4*be],Fe=C-xe[3+4*be],X[se+0]=Be+Ee>>3,X[se+16]=Fe+Ne>>3,X[se+32]=Be-Ee>>3,X[se+48]=Fe-Ne>>3,se+=64}function Xs(C,j,X){var se,be=j-32,xe=xn,Be=255-C[be-1];for(se=0;se<X;++se){var Ee,Ne=xe,Fe=Be+C[j-1];for(Ee=0;Ee<X;++Ee)C[j+Ee]=Ne[Fe+C[be+Ee]];j+=32}}function ql(C,j){Xs(C,j,4)}function Rr(C,j){Xs(C,j,8)}function Ro(C,j){Xs(C,j,16)}function La(C,j){var X;for(X=0;16>X;++X)n(C,j+32*X,C,j-32,16)}function Oo(C,j){var X;for(X=16;0<X;--X)i(C,j,C[j-1],16),j+=32}function hn(C,j,X){var se;for(se=0;16>se;++se)i(j,X+32*se,C,16)}function Xn(C,j){var X,se=16;for(X=0;16>X;++X)se+=C[j-1+32*X]+C[j+X-32];hn(se>>5,C,j)}function fa(C,j){var X,se=8;for(X=0;16>X;++X)se+=C[j-1+32*X];hn(se>>4,C,j)}function es(C,j){var X,se=8;for(X=0;16>X;++X)se+=C[j+X-32];hn(se>>4,C,j)}function ir(C,j){hn(128,C,j)}function yr(C,j,X){return C+2*j+X+2>>2}function jn(C,j){var X,se=j-32;for(se=new Uint8Array([yr(C[se-1],C[se+0],C[se+1]),yr(C[se+0],C[se+1],C[se+2]),yr(C[se+1],C[se+2],C[se+3]),yr(C[se+2],C[se+3],C[se+4])]),X=0;4>X;++X)n(C,j+32*X,se,0,se.length)}function As(C,j){var X=C[j-1],se=C[j-1+32],be=C[j-1+64],xe=C[j-1+96];ee(C,j+0,16843009*yr(C[j-1-32],X,se)),ee(C,j+32,16843009*yr(X,se,be)),ee(C,j+64,16843009*yr(se,be,xe)),ee(C,j+96,16843009*yr(be,xe,xe))}function Ao(C,j){var X,se=4;for(X=0;4>X;++X)se+=C[j+X-32]+C[j-1+32*X];for(se>>=3,X=0;4>X;++X)i(C,j+32*X,se,4)}function Ys(C,j){var X=C[j-1+0],se=C[j-1+32],be=C[j-1+64],xe=C[j-1-32],Be=C[j+0-32],Ee=C[j+1-32],Ne=C[j+2-32],Fe=C[j+3-32];C[j+0+96]=yr(se,be,C[j-1+96]),C[j+1+96]=C[j+0+64]=yr(X,se,be),C[j+2+96]=C[j+1+64]=C[j+0+32]=yr(xe,X,se),C[j+3+96]=C[j+2+64]=C[j+1+32]=C[j+0+0]=yr(Be,xe,X),C[j+3+64]=C[j+2+32]=C[j+1+0]=yr(Ee,Be,xe),C[j+3+32]=C[j+2+0]=yr(Ne,Ee,Be),C[j+3+0]=yr(Fe,Ne,Ee)}function ci(C,j){var X=C[j+1-32],se=C[j+2-32],be=C[j+3-32],xe=C[j+4-32],Be=C[j+5-32],Ee=C[j+6-32],Ne=C[j+7-32];C[j+0+0]=yr(C[j+0-32],X,se),C[j+1+0]=C[j+0+32]=yr(X,se,be),C[j+2+0]=C[j+1+32]=C[j+0+64]=yr(se,be,xe),C[j+3+0]=C[j+2+32]=C[j+1+64]=C[j+0+96]=yr(be,xe,Be),C[j+3+32]=C[j+2+64]=C[j+1+96]=yr(xe,Be,Ee),C[j+3+64]=C[j+2+96]=yr(Be,Ee,Ne),C[j+3+96]=yr(Ee,Ne,Ne)}function Yn(C,j){var X=C[j-1+0],se=C[j-1+32],be=C[j-1+64],xe=C[j-1-32],Be=C[j+0-32],Ee=C[j+1-32],Ne=C[j+2-32],Fe=C[j+3-32];C[j+0+0]=C[j+1+64]=xe+Be+1>>1,C[j+1+0]=C[j+2+64]=Be+Ee+1>>1,C[j+2+0]=C[j+3+64]=Ee+Ne+1>>1,C[j+3+0]=Ne+Fe+1>>1,C[j+0+96]=yr(be,se,X),C[j+0+64]=yr(se,X,xe),C[j+0+32]=C[j+1+96]=yr(X,xe,Be),C[j+1+32]=C[j+2+96]=yr(xe,Be,Ee),C[j+2+32]=C[j+3+96]=yr(Be,Ee,Ne),C[j+3+32]=yr(Ee,Ne,Fe)}function Gl(C,j){var X=C[j+0-32],se=C[j+1-32],be=C[j+2-32],xe=C[j+3-32],Be=C[j+4-32],Ee=C[j+5-32],Ne=C[j+6-32],Fe=C[j+7-32];C[j+0+0]=X+se+1>>1,C[j+1+0]=C[j+0+64]=se+be+1>>1,C[j+2+0]=C[j+1+64]=be+xe+1>>1,C[j+3+0]=C[j+2+64]=xe+Be+1>>1,C[j+0+32]=yr(X,se,be),C[j+1+32]=C[j+0+96]=yr(se,be,xe),C[j+2+32]=C[j+1+96]=yr(be,xe,Be),C[j+3+32]=C[j+2+96]=yr(xe,Be,Ee),C[j+3+64]=yr(Be,Ee,Ne),C[j+3+96]=yr(Ee,Ne,Fe)}function L(C,j){var X=C[j-1+0],se=C[j-1+32],be=C[j-1+64],xe=C[j-1+96];C[j+0+0]=X+se+1>>1,C[j+2+0]=C[j+0+32]=se+be+1>>1,C[j+2+32]=C[j+0+64]=be+xe+1>>1,C[j+1+0]=yr(X,se,be),C[j+3+0]=C[j+1+32]=yr(se,be,xe),C[j+3+32]=C[j+1+64]=yr(be,xe,xe),C[j+3+64]=C[j+2+64]=C[j+0+96]=C[j+1+96]=C[j+2+96]=C[j+3+96]=xe}function W(C,j){var X=C[j-1+0],se=C[j-1+32],be=C[j-1+64],xe=C[j-1+96],Be=C[j-1-32],Ee=C[j+0-32],Ne=C[j+1-32],Fe=C[j+2-32];C[j+0+0]=C[j+2+32]=X+Be+1>>1,C[j+0+32]=C[j+2+64]=se+X+1>>1,C[j+0+64]=C[j+2+96]=be+se+1>>1,C[j+0+96]=xe+be+1>>1,C[j+3+0]=yr(Ee,Ne,Fe),C[j+2+0]=yr(Be,Ee,Ne),C[j+1+0]=C[j+3+32]=yr(X,Be,Ee),C[j+1+32]=C[j+3+64]=yr(se,X,Be),C[j+1+64]=C[j+3+96]=yr(be,se,X),C[j+1+96]=yr(xe,be,se)}function pe(C,j){var X;for(X=0;8>X;++X)n(C,j+32*X,C,j-32,8)}function Ce(C,j){var X;for(X=0;8>X;++X)i(C,j,C[j-1],8),j+=32}function Re(C,j,X){var se;for(se=0;8>se;++se)i(j,X+32*se,C,8)}function rt(C,j){var X,se=8;for(X=0;8>X;++X)se+=C[j+X-32]+C[j-1+32*X];Re(se>>4,C,j)}function dt(C,j){var X,se=4;for(X=0;8>X;++X)se+=C[j+X-32];Re(se>>3,C,j)}function sr(C,j){var X,se=4;for(X=0;8>X;++X)se+=C[j-1+32*X];Re(se>>3,C,j)}function br(C,j){Re(128,C,j)}function vr(C,j,X){var se=C[j-X],be=C[j+0],xe=3*(be-se)+Li[1020+C[j-2*X]-C[j+X]],Be=Yl[112+(xe+4>>3)];C[j-X]=xn[255+se+Yl[112+(xe+3>>3)]],C[j+0]=xn[255+be-Be]}function dn(C,j,X,se){var be=C[j+0],xe=C[j+X];return Di[255+C[j-2*X]-C[j-X]]>se||Di[255+xe-be]>se}function Hn(C,j,X,se){return 4*Di[255+C[j-X]-C[j+0]]+Di[255+C[j-2*X]-C[j+X]]<=se}function pa(C,j,X,se,be){var xe=C[j-3*X],Be=C[j-2*X],Ee=C[j-X],Ne=C[j+0],Fe=C[j+X],Ge=C[j+2*X],ot=C[j+3*X];return 4*Di[255+Ee-Ne]+Di[255+Be-Fe]>se?0:Di[255+C[j-4*X]-xe]<=be&&Di[255+xe-Be]<=be&&Di[255+Be-Ee]<=be&&Di[255+ot-Ge]<=be&&Di[255+Ge-Fe]<=be&&Di[255+Fe-Ne]<=be}function Po(C,j,X,se){var be=2*se+1;for(se=0;16>se;++se)Hn(C,j+se,X,be)&&vr(C,j+se,X)}function uo(C,j,X,se){var be=2*se+1;for(se=0;16>se;++se)Hn(C,j+se*X,1,be)&&vr(C,j+se*X,1)}function Ic(C,j,X,se){var be;for(be=3;0<be;--be)Po(C,j+=4*X,X,se)}function Wl(C,j,X,se){var be;for(be=3;0<be;--be)uo(C,j+=4,X,se)}function Js(C,j,X,se,be,xe,Be,Ee){for(xe=2*xe+1;0<be--;){if(pa(C,j,X,xe,Be))if(dn(C,j,X,Ee))vr(C,j,X);else{var Ne=C,Fe=j,Ge=X,ot=Ne[Fe-2*Ge],je=Ne[Fe-Ge],Xe=Ne[Fe+0],it=Ne[Fe+Ge],pt=Ne[Fe+2*Ge],at=27*(wt=Li[1020+3*(Xe-je)+Li[1020+ot-it]])+63>>7,gt=18*wt+63>>7,wt=9*wt+63>>7;Ne[Fe-3*Ge]=xn[255+Ne[Fe-3*Ge]+wt],Ne[Fe-2*Ge]=xn[255+ot+gt],Ne[Fe-Ge]=xn[255+je+at],Ne[Fe+0]=xn[255+Xe-at],Ne[Fe+Ge]=xn[255+it-gt],Ne[Fe+2*Ge]=xn[255+pt-wt]}j+=se}}function Zs(C,j,X,se,be,xe,Be,Ee){for(xe=2*xe+1;0<be--;){if(pa(C,j,X,xe,Be))if(dn(C,j,X,Ee))vr(C,j,X);else{var Ne=C,Fe=j,Ge=X,ot=Ne[Fe-Ge],je=Ne[Fe+0],Xe=Ne[Fe+Ge],it=Yl[112+(4+(pt=3*(je-ot))>>3)],pt=Yl[112+(pt+3>>3)],at=it+1>>1;Ne[Fe-2*Ge]=xn[255+Ne[Fe-2*Ge]+at],Ne[Fe-Ge]=xn[255+ot+pt],Ne[Fe+0]=xn[255+je-it],Ne[Fe+Ge]=xn[255+Xe-at]}j+=se}}function $l(C,j,X,se,be,xe){Js(C,j,X,1,16,se,be,xe)}function Qo(C,j,X,se,be,xe){Js(C,j,1,X,16,se,be,xe)}function ma(C,j,X,se,be,xe){var Be;for(Be=3;0<Be;--Be)Zs(C,j+=4*X,X,1,16,se,be,xe)}function Mo(C,j,X,se,be,xe){var Be;for(Be=3;0<Be;--Be)Zs(C,j+=4,1,X,16,se,be,xe)}function z(C,j,X,se,be,xe,Be,Ee){Js(C,j,be,1,8,xe,Be,Ee),Js(X,se,be,1,8,xe,Be,Ee)}function we(C,j,X,se,be,xe,Be,Ee){Js(C,j,1,be,8,xe,Be,Ee),Js(X,se,1,be,8,xe,Be,Ee)}function Te(C,j,X,se,be,xe,Be,Ee){Zs(C,j+4*be,be,1,8,xe,Be,Ee),Zs(X,se+4*be,be,1,8,xe,Be,Ee)}function Pe(C,j,X,se,be,xe,Be,Ee){Zs(C,j+4,1,be,8,xe,Be,Ee),Zs(X,se+4,1,be,8,xe,Be,Ee)}function Ye(){this.ba=new ct,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new et,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ft(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Et(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ht(){this.ua=0,this.Wa=new S,this.vb=new S,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new re,this.yc=new K}function er(){this.xb=this.a=0,this.l=new kr,this.ca=new ct,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new O,this.Pb=0,this.wd=new O,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ht,this.ab=0,this.gc=a(4,Et),this.Oc=0}function pr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new kr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function xr(C,j,X,se,be,xe,Be){for(C=C==null?0:C[j+0],j=0;j<Be;++j)be[xe+j]=C+X[se+j]&255,C=be[xe+j]}function Wr(C,j,X,se,be,xe,Be){var Ee;if(C==null)xr(null,null,X,se,be,xe,Be);else for(Ee=0;Ee<Be;++Ee)be[xe+Ee]=C[j+Ee]+X[se+Ee]&255}function Nn(C,j,X,se,be,xe,Be){if(C==null)xr(null,null,X,se,be,xe,Be);else{var Ee,Ne=C[j+0],Fe=Ne,Ge=Ne;for(Ee=0;Ee<Be;++Ee)Fe=Ge+(Ne=C[j+Ee])-Fe,Ge=X[se+Ee]+(-256&Fe?0>Fe?0:255:Fe)&255,Fe=Ne,be[xe+Ee]=Ge}}function zn(C,j,X,se){var be=j.width,xe=j.o;if(t(C!=null&&j!=null),0>X||0>=se||X+se>xe)return null;if(!C.Cc){if(C.ga==null){var Be;if(C.ga=new pr,(Be=C.ga==null)||(Be=j.width*j.o,t(C.Gb.length==0),C.Gb=s(Be),C.Uc=0,C.Gb==null?Be=0:(C.mb=C.Gb,C.nb=C.Uc,C.rc=null,Be=1),Be=!Be),!Be){Be=C.ga;var Ee=C.Fa,Ne=C.P,Fe=C.qc,Ge=C.mb,ot=C.nb,je=Ne+1,Xe=Fe-1,it=Be.l;if(t(Ee!=null&&Ge!=null&&j!=null),Lc[0]=null,Lc[1]=xr,Lc[2]=Wr,Lc[3]=Nn,Be.ca=Ge,Be.tb=ot,Be.c=j.width,Be.i=j.height,t(0<Be.c&&0<Be.i),1>=Fe)j=0;else if(Be.$a=3&Ee[Ne+0],Be.Z=Ee[Ne+0]>>2&3,Be.Lc=Ee[Ne+0]>>4&3,Ne=Ee[Ne+0]>>6&3,0>Be.$a||1<Be.$a||4<=Be.Z||1<Be.Lc||Ne)j=0;else if(it.put=Lt,it.ac=Tr,it.bc=Dr,it.ma=Be,it.width=j.width,it.height=j.height,it.Da=j.Da,it.v=j.v,it.va=j.va,it.j=j.j,it.o=j.o,Be.$a)e:{t(Be.$a==1),j=Ii();t:for(;;){if(j==null){j=0;break e}if(t(Be!=null),Be.mc=j,j.c=Be.c,j.i=Be.i,j.l=Be.l,j.l.ma=Be,j.l.width=Be.c,j.l.height=Be.i,j.a=0,le(j.m,Ee,je,Xe),!Ss(Be.c,Be.i,1,j,null)||(j.ab==1&&j.gc[0].hc==3&&Yr(j.s)?(Be.ic=1,Ee=j.c*j.i,j.Ta=null,j.Ua=0,j.V=s(Ee),j.Ba=0,j.V==null?(j.a=1,j=0):j=1):(Be.ic=0,j=Ti(j,Be.c)),!j))break t;j=1;break e}Be.mc=null,j=0}else j=Xe>=Be.c*Be.i;Be=!j}if(Be)return null;C.ga.Lc!=1?C.Ga=0:se=xe-X}t(C.ga!=null),t(X+se<=xe);e:{if(j=(Ee=C.ga).c,xe=Ee.l.o,Ee.$a==0){if(je=C.rc,Xe=C.Vc,it=C.Fa,Ne=C.P+1+X*j,Fe=C.mb,Ge=C.nb+X*j,t(Ne<=C.P+C.qc),Ee.Z!=0)for(t(Lc[Ee.Z]!=null),Be=0;Be<se;++Be)Lc[Ee.Z](je,Xe,it,Ne,Fe,Ge,j),je=Fe,Xe=Ge,Ge+=j,Ne+=j;else for(Be=0;Be<se;++Be)n(Fe,Ge,it,Ne,j),je=Fe,Xe=Ge,Ge+=j,Ne+=j;C.rc=je,C.Vc=Xe}else{if(t(Ee.mc!=null),j=X+se,t((Be=Ee.mc)!=null),t(j<=Be.i),Be.C>=j)j=1;else if(Ee.ic||ts(),Ee.ic){Ee=Be.V,je=Be.Ba,Xe=Be.c;var pt=Be.i,at=(it=1,Ne=Be.$/Xe,Fe=Be.$%Xe,Ge=Be.m,ot=Be.s,Be.$),gt=Xe*pt,wt=Xe*j,Tt=ot.wc,_t=at<wt?Mn(ot,Fe,Ne):null;t(at<=gt),t(j<=pt),t(Yr(ot));t:for(;;){for(;!Ge.h&&at<wt;){if(Fe&Tt||(_t=Mn(ot,Fe,Ne)),t(_t!=null),U(Ge),256>(pt=Fn(_t.G[0],_t.H[0],Ge)))Ee[je+at]=pt,++at,++Fe>=Xe&&(Fe=0,++Ne<=j&&!(Ne%16)&&li(Be,Ne));else{if(!(280>pt)){it=0;break t}pt=Lr(pt-256,Ge);var dr,nr=Fn(_t.G[4],_t.H[4],Ge);if(U(Ge),!(at>=(nr=_r(Xe,nr=Lr(nr,Ge)))&&gt-at>=pt)){it=0;break t}for(dr=0;dr<pt;++dr)Ee[je+at+dr]=Ee[je+at+dr-nr];for(at+=pt,Fe+=pt;Fe>=Xe;)Fe-=Xe,++Ne<=j&&!(Ne%16)&&li(Be,Ne);at<wt&&Fe&Tt&&(_t=Mn(ot,Fe,Ne))}t(Ge.h==oe(Ge))}li(Be,Ne>j?j:Ne);break t}!it||Ge.h&&at<gt?(it=0,Be.a=Ge.h?5:3):Be.$=at,j=it}else j=ki(Be,Be.V,Be.Ba,Be.c,Be.i,j,Uo);if(!j){se=0;break e}}X+se>=xe&&(C.Cc=1),se=1}if(!se)return null;if(C.Cc&&((se=C.ga)!=null&&(se.mc=null),C.ga=null,0<C.Ga))return alert("todo:WebPDequantizeLevels"),null}return C.nb+X*be}function on(C,j,X,se,be,xe){for(;0<be--;){var Be,Ee=C,Ne=j+(X?1:0),Fe=C,Ge=j+(X?0:3);for(Be=0;Be<se;++Be){var ot=Fe[Ge+4*Be];ot!=255&&(ot*=32897,Ee[Ne+4*Be+0]=Ee[Ne+4*Be+0]*ot>>23,Ee[Ne+4*Be+1]=Ee[Ne+4*Be+1]*ot>>23,Ee[Ne+4*Be+2]=Ee[Ne+4*Be+2]*ot>>23)}j+=xe}}function Kn(C,j,X,se,be){for(;0<se--;){var xe;for(xe=0;xe<X;++xe){var Be=C[j+2*xe+0],Ee=15&(Fe=C[j+2*xe+1]),Ne=4369*Ee,Fe=(240&Fe|Fe>>4)*Ne>>16;C[j+2*xe+0]=(240&Be|Be>>4)*Ne>>16&240|(15&Be|Be<<4)*Ne>>16>>4&15,C[j+2*xe+1]=240&Fe|Ee}j+=be}}function yn(C,j,X,se,be,xe,Be,Ee){var Ne,Fe,Ge=255;for(Fe=0;Fe<be;++Fe){for(Ne=0;Ne<se;++Ne){var ot=C[j+Ne];xe[Be+4*Ne]=ot,Ge&=ot}j+=X,Be+=Ee}return Ge!=255}function Jn(C,j,X,se,be){var xe;for(xe=0;xe<be;++xe)X[se+xe]=C[j+xe]>>8}function ts(){Mt=on,Pt=Kn,Jt=yn,Ir=Jn}function gi(C,j,X){k[C]=function(se,be,xe,Be,Ee,Ne,Fe,Ge,ot,je,Xe,it,pt,at,gt,wt,Tt){var _t,dr=Tt-1>>1,nr=Ee[Ne+0]|Fe[Ge+0]<<16,Pr=ot[je+0]|Xe[it+0]<<16;t(se!=null);var or=3*nr+Pr+131074>>2;for(j(se[be+0],255&or,or>>16,pt,at),xe!=null&&(or=3*Pr+nr+131074>>2,j(xe[Be+0],255&or,or>>16,gt,wt)),_t=1;_t<=dr;++_t){var tn=Ee[Ne+_t]|Fe[Ge+_t]<<16,Gi=ot[je+_t]|Xe[it+_t]<<16,Qr=nr+tn+Pr+Gi+524296,lr=Qr+2*(tn+Pr)>>3;or=lr+nr>>1,nr=(Qr=Qr+2*(nr+Gi)>>3)+tn>>1,j(se[be+2*_t-1],255&or,or>>16,pt,at+(2*_t-1)*X),j(se[be+2*_t-0],255&nr,nr>>16,pt,at+(2*_t-0)*X),xe!=null&&(or=Qr+Pr>>1,nr=lr+Gi>>1,j(xe[Be+2*_t-1],255&or,or>>16,gt,wt+(2*_t-1)*X),j(xe[Be+2*_t+0],255&nr,nr>>16,gt,wt+(2*_t+0)*X)),nr=tn,Pr=Gi}1&Tt||(or=3*nr+Pr+131074>>2,j(se[be+Tt-1],255&or,or>>16,pt,at+(Tt-1)*X),xe!=null&&(or=3*Pr+nr+131074>>2,j(xe[Be+Tt-1],255&or,or>>16,gt,wt+(Tt-1)*X)))}}function pl(){go[jc]=xD,go[tm]=wC,go[fC]=BD,go[rm]=bC,go[nm]=vC,go[uw]=xC,go[pC]=CD,go[dw]=wC,go[hw]=bC,go[im]=vC,go[fw]=xC}function ga(C){return C&~ED?0>C?0:255:C>>BC}function ho(C,j){return ga((19077*C>>8)+(26149*j>>8)-14234)}function ea(C,j,X){return ga((19077*C>>8)-(6419*j>>8)-(13320*X>>8)+8708)}function ta(C,j){return ga((19077*C>>8)+(33050*j>>8)-17685)}function tt(C,j,X,se,be){se[be+0]=ho(C,X),se[be+1]=ea(C,j,X),se[be+2]=ta(C,j)}function vt(C,j,X,se,be){se[be+0]=ta(C,j),se[be+1]=ea(C,j,X),se[be+2]=ho(C,X)}function zt(C,j,X,se,be){var xe=ea(C,j,X);j=xe<<3&224|ta(C,j)>>3,se[be+0]=248&ho(C,X)|xe>>5,se[be+1]=j}function Ar(C,j,X,se,be){var xe=240&ta(C,j)|15;se[be+0]=240&ho(C,X)|ea(C,j,X)>>4,se[be+1]=xe}function mr(C,j,X,se,be){se[be+0]=255,tt(C,j,X,se,be+1)}function Vr(C,j,X,se,be){vt(C,j,X,se,be),se[be+3]=255}function Ui(C,j,X,se,be){tt(C,j,X,se,be),se[be+3]=255}function $r(C,j){return 0>C?0:C>j?j:C}function qn(C,j,X){k[C]=function(se,be,xe,Be,Ee,Ne,Fe,Ge,ot){for(var je=Ge+(-2&ot)*X;Ge!=je;)j(se[be+0],xe[Be+0],Ee[Ne+0],Fe,Ge),j(se[be+1],xe[Be+0],Ee[Ne+0],Fe,Ge+X),be+=2,++Be,++Ne,Ge+=2*X;1&ot&&j(se[be+0],xe[Be+0],Ee[Ne+0],Fe,Ge)}}function yi(C,j,X){return X==0?C==0?j==0?6:5:j==0?4:0:X}function fo(C,j,X,se,be){switch(C>>>30){case 3:He(j,X,se,be,0);break;case 2:ze(j,X,se,be);break;case 1:Le(j,X,se,be)}}function ri(C,j){var X,se,be=j.M,xe=j.Nb,Be=C.oc,Ee=C.pc+40,Ne=C.oc,Fe=C.pc+584,Ge=C.oc,ot=C.pc+600;for(X=0;16>X;++X)Be[Ee+32*X-1]=129;for(X=0;8>X;++X)Ne[Fe+32*X-1]=129,Ge[ot+32*X-1]=129;for(0<be?Be[Ee-1-32]=Ne[Fe-1-32]=Ge[ot-1-32]=129:(i(Be,Ee-32-1,127,21),i(Ne,Fe-32-1,127,9),i(Ge,ot-32-1,127,9)),se=0;se<C.za;++se){var je=j.ya[j.aa+se];if(0<se){for(X=-1;16>X;++X)n(Be,Ee+32*X-4,Be,Ee+32*X+12,4);for(X=-1;8>X;++X)n(Ne,Fe+32*X-4,Ne,Fe+32*X+4,4),n(Ge,ot+32*X-4,Ge,ot+32*X+4,4)}var Xe=C.Gd,it=C.Hd+se,pt=je.ad,at=je.Hc;if(0<be&&(n(Be,Ee-32,Xe[it].y,0,16),n(Ne,Fe-32,Xe[it].f,0,8),n(Ge,ot-32,Xe[it].ea,0,8)),je.Za){var gt=Be,wt=Ee-32+16;for(0<be&&(se>=C.za-1?i(gt,wt,Xe[it].y[15],4):n(gt,wt,Xe[it+1].y,0,4)),X=0;4>X;X++)gt[wt+128+X]=gt[wt+256+X]=gt[wt+384+X]=gt[wt+0+X];for(X=0;16>X;++X,at<<=2)gt=Be,wt=Ee+EC[X],Ho[je.Ob[X]](gt,wt),fo(at,pt,16*+X,gt,wt)}else if(gt=yi(se,be,je.Ob[0]),Uc[gt](Be,Ee),at!=0)for(X=0;16>X;++X,at<<=2)fo(at,pt,16*+X,Be,Ee+EC[X]);for(X=je.Gc,gt=yi(se,be,je.Dd),Jl[gt](Ne,Fe),Jl[gt](Ge,ot),at=pt,gt=Ne,wt=Fe,255&(je=0|X)&&(170&je?Ve(at,256,gt,wt):qe(at,256,gt,wt)),je=Ge,at=ot,255&(X>>=8)&&(170&X?Ve(pt,320,je,at):qe(pt,320,je,at)),be<C.Ub-1&&(n(Xe[it].y,0,Be,Ee+480,16),n(Xe[it].f,0,Ne,Fe+224,8),n(Xe[it].ea,0,Ge,ot+224,8)),X=8*xe*C.B,Xe=C.sa,it=C.ta+16*se+16*xe*C.R,pt=C.qa,je=C.ra+8*se+X,at=C.Ha,gt=C.Ia+8*se+X,X=0;16>X;++X)n(Xe,it+X*C.R,Be,Ee+32*X,16);for(X=0;8>X;++X)n(pt,je+X*C.B,Ne,Fe+32*X,8),n(at,gt+X*C.B,Ge,ot+32*X,8)}}function po(C,j,X,se,be,xe,Be,Ee,Ne){var Fe=[0],Ge=[0],ot=0,je=Ne!=null?Ne.kd:0,Xe=Ne??new ft;if(C==null||12>X)return 7;Xe.data=C,Xe.w=j,Xe.ha=X,j=[j],X=[X],Xe.gb=[Xe.gb];e:{var it=j,pt=X,at=Xe.gb;if(t(C!=null),t(pt!=null),t(at!=null),at[0]=0,12<=pt[0]&&!r(C,it[0],"RIFF")){if(r(C,it[0]+8,"WEBP")){at=3;break e}var gt=B(C,it[0]+4);if(12>gt||4294967286<gt){at=3;break e}if(je&&gt>pt[0]-8){at=7;break e}at[0]=gt,it[0]+=12,pt[0]-=12}at=0}if(at!=0)return at;for(gt=0<Xe.gb[0],X=X[0];;){e:{var wt=C;pt=j,at=X;var Tt=Fe,_t=Ge,dr=it=[0];if((or=ot=[ot])[0]=0,8>at[0])at=7;else{if(!r(wt,pt[0],"VP8X")){if(B(wt,pt[0]+4)!=10){at=3;break e}if(18>at[0]){at=7;break e}var nr=B(wt,pt[0]+8),Pr=1+me(wt,pt[0]+12);if(2147483648<=Pr*(wt=1+me(wt,pt[0]+15))){at=3;break e}dr!=null&&(dr[0]=nr),Tt!=null&&(Tt[0]=Pr),_t!=null&&(_t[0]=wt),pt[0]+=18,at[0]-=18,or[0]=1}at=0}}if(ot=ot[0],it=it[0],at!=0)return at;if(pt=!!(2&it),!gt&&ot)return 3;if(xe!=null&&(xe[0]=!!(16&it)),Be!=null&&(Be[0]=pt),Ee!=null&&(Ee[0]=0),Be=Fe[0],it=Ge[0],ot&&pt&&Ne==null){at=0;break}if(4>X){at=7;break}if(gt&&ot||!gt&&!ot&&!r(C,j[0],"ALPH")){X=[X],Xe.na=[Xe.na],Xe.P=[Xe.P],Xe.Sa=[Xe.Sa];e:{nr=C,at=j,gt=X;var or=Xe.gb;Tt=Xe.na,_t=Xe.P,dr=Xe.Sa,Pr=22,t(nr!=null),t(gt!=null),wt=at[0];var tn=gt[0];for(t(Tt!=null),t(dr!=null),Tt[0]=null,_t[0]=null,dr[0]=0;;){if(at[0]=wt,gt[0]=tn,8>tn){at=7;break e}var Gi=B(nr,wt+4);if(4294967286<Gi){at=3;break e}var Qr=8+Gi+1&-2;if(Pr+=Qr,0<or&&Pr>or){at=3;break e}if(!r(nr,wt,"VP8 ")||!r(nr,wt,"VP8L")){at=0;break e}if(tn[0]<Qr){at=7;break e}r(nr,wt,"ALPH")||(Tt[0]=nr,_t[0]=wt+8,dr[0]=Gi),wt+=Qr,tn-=Qr}}if(X=X[0],Xe.na=Xe.na[0],Xe.P=Xe.P[0],Xe.Sa=Xe.Sa[0],at!=0)break}X=[X],Xe.Ja=[Xe.Ja],Xe.xa=[Xe.xa];e:if(or=C,at=j,gt=X,Tt=Xe.gb[0],_t=Xe.Ja,dr=Xe.xa,nr=at[0],wt=!r(or,nr,"VP8 "),Pr=!r(or,nr,"VP8L"),t(or!=null),t(gt!=null),t(_t!=null),t(dr!=null),8>gt[0])at=7;else{if(wt||Pr){if(or=B(or,nr+4),12<=Tt&&or>Tt-12){at=3;break e}if(je&&or>gt[0]-8){at=7;break e}_t[0]=or,at[0]+=8,gt[0]-=8,dr[0]=Pr}else dr[0]=5<=gt[0]&&or[nr+0]==47&&!(or[nr+4]>>5),_t[0]=gt[0];at=0}if(X=X[0],Xe.Ja=Xe.Ja[0],Xe.xa=Xe.xa[0],j=j[0],at!=0)break;if(4294967286<Xe.Ja)return 3;if(Ee==null||pt||(Ee[0]=Xe.xa?2:1),Be=[Be],it=[it],Xe.xa){if(5>X){at=7;break}Ee=Be,je=it,pt=xe,C==null||5>X?C=0:5<=X&&C[j+0]==47&&!(C[j+4]>>5)?(gt=[0],or=[0],Tt=[0],le(_t=new O,C,j,X),zr(_t,gt,or,Tt)?(Ee!=null&&(Ee[0]=gt[0]),je!=null&&(je[0]=or[0]),pt!=null&&(pt[0]=Tt[0]),C=1):C=0):C=0}else{if(10>X){at=7;break}Ee=it,C==null||10>X||!Zr(C,j+3,X-3)?C=0:(je=C[j+0]|C[j+1]<<8|C[j+2]<<16,pt=16383&(C[j+7]<<8|C[j+6]),C=16383&(C[j+9]<<8|C[j+8]),1&je||3<(je>>1&7)||!(je>>4&1)||je>>5>=Xe.Ja||!pt||!C?C=0:(Be&&(Be[0]=pt),Ee&&(Ee[0]=C),C=1))}if(!C||(Be=Be[0],it=it[0],ot&&(Fe[0]!=Be||Ge[0]!=it)))return 3;Ne!=null&&(Ne[0]=Xe,Ne.offset=j-Ne.w,t(4294967286>j-Ne.w),t(Ne.offset==Ne.ha-X));break}return at==0||at==7&&ot&&Ne==null?(xe!=null&&(xe[0]|=Xe.na!=null&&0<Xe.na.length),se!=null&&(se[0]=Be),be!=null&&(be[0]=it),0):at}function jA(C,j,X){var se=j.width,be=j.height,xe=0,Be=0,Ee=se,Ne=be;if(j.Da=C!=null&&0<C.Da,j.Da&&(Ee=C.cd,Ne=C.bd,xe=C.v,Be=C.j,11>X||(xe&=-2,Be&=-2),0>xe||0>Be||0>=Ee||0>=Ne||xe+Ee>se||Be+Ne>be))return 0;if(j.v=xe,j.j=Be,j.va=xe+Ee,j.o=Be+Ne,j.U=Ee,j.T=Ne,j.da=C!=null&&0<C.da,j.da){if(!E(Ee,Ne,X=[C.ib],xe=[C.hb]))return 0;j.ib=X[0],j.hb=xe[0]}return j.ob=C!=null&&C.ob,j.Kb=C==null||!C.Sd,j.da&&(j.ob=j.ib<3*se/4&&j.hb<3*be/4,j.Kb=0),1}function UA(C){if(C==null)return 2;if(11>C.S){var j=C.f.RGBA;j.fb+=(C.height-1)*j.A,j.A=-j.A}else j=C.f.kb,C=C.height,j.O+=(C-1)*j.fa,j.fa=-j.fa,j.N+=(C-1>>1)*j.Ab,j.Ab=-j.Ab,j.W+=(C-1>>1)*j.Db,j.Db=-j.Db,j.F!=null&&(j.J+=(C-1)*j.lb,j.lb=-j.lb);return 0}function ml(C,j,X,se){if(se==null||0>=C||0>=j)return 2;if(X!=null){if(X.Da){var be=X.cd,xe=X.bd,Be=-2&X.v,Ee=-2&X.j;if(0>Be||0>Ee||0>=be||0>=xe||Be+be>C||Ee+xe>j)return 2;C=be,j=xe}if(X.da){if(!E(C,j,be=[X.ib],xe=[X.hb]))return 2;C=be[0],j=xe[0]}}se.width=C,se.height=j;e:{var Ne=se.width,Fe=se.height;if(C=se.S,0>=Ne||0>=Fe||!(C>=jc&&13>C))C=2;else{if(0>=se.Rd&&se.sd==null){Be=xe=be=j=0;var Ge=(Ee=Ne*SC[C])*Fe;if(11>C||(xe=(Fe+1)/2*(j=(Ne+1)/2),C==12&&(Be=(be=Ne)*Fe)),(Fe=s(Ge+2*xe+Be))==null){C=1;break e}se.sd=Fe,11>C?((Ne=se.f.RGBA).eb=Fe,Ne.fb=0,Ne.A=Ee,Ne.size=Ge):((Ne=se.f.kb).y=Fe,Ne.O=0,Ne.fa=Ee,Ne.Fd=Ge,Ne.f=Fe,Ne.N=0+Ge,Ne.Ab=j,Ne.Cd=xe,Ne.ea=Fe,Ne.W=0+Ge+xe,Ne.Db=j,Ne.Ed=xe,C==12&&(Ne.F=Fe,Ne.J=0+Ge+2*xe),Ne.Tc=Be,Ne.lb=be)}if(j=1,be=se.S,xe=se.width,Be=se.height,be>=jc&&13>be)if(11>be)C=se.f.RGBA,j&=(Ee=Math.abs(C.A))*(Be-1)+xe<=C.size,j&=Ee>=xe*SC[be],j&=C.eb!=null;else{C=se.f.kb,Ee=(xe+1)/2,Ge=(Be+1)/2,Ne=Math.abs(C.fa),Fe=Math.abs(C.Ab);var ot=Math.abs(C.Db),je=Math.abs(C.lb),Xe=je*(Be-1)+xe;j&=Ne*(Be-1)+xe<=C.Fd,j&=Fe*(Ge-1)+Ee<=C.Cd,j=(j&=ot*(Ge-1)+Ee<=C.Ed)&Ne>=xe&Fe>=Ee&ot>=Ee,j&=C.y!=null,j&=C.f!=null,j&=C.ea!=null,be==12&&(j&=je>=xe,j&=Xe<=C.Tc,j&=C.F!=null)}else j=0;C=j?0:2}}return C!=0||X!=null&&X.fd&&(C=UA(se)),C}var mo=64,ni=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],en=24,Da=32,Ai=8,gl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ye("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(C){return C},k.Predictor2=function(C,j,X){return j[X+0]},k.Predictor3=function(C,j,X){return j[X+1]},k.Predictor4=function(C,j,X){return j[X-1]},k.Predictor5=function(C,j,X){return ke(ke(C,j[X+1]),j[X+0])},k.Predictor6=function(C,j,X){return ke(C,j[X-1])},k.Predictor7=function(C,j,X){return ke(C,j[X+0])},k.Predictor8=function(C,j,X){return ke(j[X-1],j[X+0])},k.Predictor9=function(C,j,X){return ke(j[X+0],j[X+1])},k.Predictor10=function(C,j,X){return ke(ke(C,j[X-1]),ke(j[X+0],j[X+1]))},k.Predictor11=function(C,j,X){var se=j[X+0];return 0>=_e(se>>24&255,C>>24&255,(j=j[X-1])>>24&255)+_e(se>>16&255,C>>16&255,j>>16&255)+_e(se>>8&255,C>>8&255,j>>8&255)+_e(255&se,255&C,255&j)?se:C},k.Predictor12=function(C,j,X){var se=j[X+0];return(Oe((C>>24&255)+(se>>24&255)-((j=j[X-1])>>24&255))<<24|Oe((C>>16&255)+(se>>16&255)-(j>>16&255))<<16|Oe((C>>8&255)+(se>>8&255)-(j>>8&255))<<8|Oe((255&C)+(255&se)-(255&j)))>>>0},k.Predictor13=function(C,j,X){var se=j[X-1];return(Ue((C=ke(C,j[X+0]))>>24&255,se>>24&255)<<24|Ue(C>>16&255,se>>16&255)<<16|Ue(C>>8&255,se>>8&255)<<8|Ue(255&C,255&se))>>>0};var Vl=k.PredictorAdd0;k.PredictorAdd1=Me,ye("Predictor2","PredictorAdd2"),ye("Predictor3","PredictorAdd3"),ye("Predictor4","PredictorAdd4"),ye("Predictor5","PredictorAdd5"),ye("Predictor6","PredictorAdd6"),ye("Predictor7","PredictorAdd7"),ye("Predictor8","PredictorAdd8"),ye("Predictor9","PredictorAdd9"),ye("Predictor10","PredictorAdd10"),ye("Predictor11","PredictorAdd11"),ye("Predictor12","PredictorAdd12"),ye("Predictor13","PredictorAdd13");var Xl=k.PredictorAdd2;It("ColorIndexInverseTransform","MapARGB","32b",function(C){return C>>8&255},function(C){return C}),It("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(C){return C},function(C){return C>>8&255});var vn,Tc=k.ColorIndexInverseTransform,us=k.MapARGB,Ki=k.VP8LColorIndexInverseTransformAlpha,Fc=k.MapAlpha,N=k.VP8LPredictorsAdd=[];N.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var D,V,ie,he,ve,Ie,De,He,ze,Ve,Le,qe,Qe,Ke,We,Je,nt,lt,ht,xt,Rt,Kt,jt,Ot,Mt,Pt,Jt,Ir,jr=s(511),Or=s(2041),Ns=s(225),Nr=s(767),qi=0,Li=Or,Yl=Ns,xn=Nr,Di=jr,jc=0,tm=1,fC=2,rm=3,nm=4,uw=5,pC=6,dw=7,hw=8,im=9,fw=10,lD=[2,3,7],cD=[3,3,11],mC=[280,256,256,256,40],AD=[0,1,1,1,0],uD=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],dD=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],hD=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],fD=8,pw=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],mw=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],xh=null,pD=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],mD=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],gC=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],gD=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],yD=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],wD=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],bD=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Uc=[],Ho=[],Jl=[],vD=1,yC=2,Lc=[],go=[];gi("UpsampleRgbLinePair",tt,3),gi("UpsampleBgrLinePair",vt,3),gi("UpsampleRgbaLinePair",Ui,4),gi("UpsampleBgraLinePair",Vr,4),gi("UpsampleArgbLinePair",mr,4),gi("UpsampleRgba4444LinePair",Ar,2),gi("UpsampleRgb565LinePair",zt,2);var xD=k.UpsampleRgbLinePair,BD=k.UpsampleBgrLinePair,wC=k.UpsampleRgbaLinePair,bC=k.UpsampleBgraLinePair,vC=k.UpsampleArgbLinePair,xC=k.UpsampleRgba4444LinePair,CD=k.UpsampleRgb565LinePair,sm=16,am=1<<sm-1,Bh=-227,gw=482,BC=6,ED=(256<<BC)-1,CC=0,SD=s(256),_D=s(256),ND=s(256),kD=s(256),ID=s(gw-Bh),TD=s(gw-Bh);qn("YuvToRgbRow",tt,3),qn("YuvToBgrRow",vt,3),qn("YuvToRgbaRow",Ui,4),qn("YuvToBgraRow",Vr,4),qn("YuvToArgbRow",mr,4),qn("YuvToRgba4444Row",Ar,2),qn("YuvToRgb565Row",zt,2);var EC=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],om=[0,2,8],FD=[8,7,6,4,4,2,2,2,1,1,1,1],jD=1;this.WebPDecodeRGBA=function(C,j,X,se,be){var xe=tm,Be=new Ye,Ee=new ct;Be.ba=Ee,Ee.S=xe,Ee.width=[Ee.width],Ee.height=[Ee.height];var Ne=Ee.width,Fe=Ee.height,Ge=new st;if(Ge==null||C==null)var ot=2;else t(Ge!=null),ot=po(C,j,X,Ge.width,Ge.height,Ge.Pd,Ge.Qd,Ge.format,null);if(ot!=0?Ne=0:(Ne!=null&&(Ne[0]=Ge.width[0]),Fe!=null&&(Fe[0]=Ge.height[0]),Ne=1),Ne){Ee.width=Ee.width[0],Ee.height=Ee.height[0],se!=null&&(se[0]=Ee.width),be!=null&&(be[0]=Ee.height);e:{if(se=new kr,(be=new ft).data=C,be.w=j,be.ha=X,be.kd=1,j=[0],t(be!=null),((C=po(be.data,be.w,be.ha,null,null,null,j,null,be))==0||C==7)&&j[0]&&(C=4),(j=C)==0){if(t(Be!=null),se.data=be.data,se.w=be.w+be.offset,se.ha=be.ha-be.offset,se.put=Lt,se.ac=Tr,se.bc=Dr,se.ma=Be,be.xa){if((C=Ii())==null){Be=1;break e}if(function(je,Xe){var it=[0],pt=[0],at=[0];t:for(;;){if(je==null)return 0;if(Xe==null)return je.a=2,0;if(je.l=Xe,je.a=0,le(je.m,Xe.data,Xe.w,Xe.ha),!zr(je.m,it,pt,at)){je.a=3;break t}if(je.xb=yC,Xe.width=it[0],Xe.height=pt[0],!Ss(it[0],pt[0],1,je,null))break t;return 1}return t(je.a!=0),0}(C,se)){if(se=(j=ml(se.width,se.height,Be.Oa,Be.ba))==0){t:{se=C;r:for(;;){if(se==null){se=0;break t}if(t(se.s.yc!=null),t(se.s.Ya!=null),t(0<se.s.Wb),t((X=se.l)!=null),t((be=X.ma)!=null),se.xb!=0){if(se.ca=be.ba,se.tb=be.tb,t(se.ca!=null),!jA(be.Oa,X,rm)){se.a=2;break r}if(!Ti(se,X.width)||X.da)break r;if((X.da||fr(se.ca.S))&&ts(),11>se.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),se.ca.f.kb.F!=null&&ts()),se.Pb&&0<se.s.ua&&se.s.vb.X==null&&!te(se.s.vb,se.s.Wa.Xa)){se.a=1;break r}se.xb=0}if(!ki(se,se.V,se.Ba,se.c,se.i,X.o,Ws))break r;be.Dc=se.Ma,se=1;break t}t(se.a!=0),se=0}se=!se}se&&(j=C.a)}else j=C.a}else{if((C=new kc)==null){Be=1;break e}if(C.Fa=be.na,C.P=be.P,C.qc=be.Sa,Zi(C,se)){if((j=ml(se.width,se.height,Be.Oa,Be.ba))==0){if(C.Aa=0,X=Be.Oa,t((be=C)!=null),X!=null){if(0<(Ne=0>(Ne=X.Md)?0:100<Ne?255:255*Ne/100)){for(Fe=Ge=0;4>Fe;++Fe)12>(ot=be.pb[Fe]).lc&&(ot.ia=Ne*FD[0>ot.lc?0:ot.lc]>>3),Ge|=ot.ia;Ge&&(alert("todo:VP8InitRandom"),be.ia=1)}be.Ga=X.Id,100<be.Ga?be.Ga=100:0>be.Ga&&(be.Ga=0)}(function(je,Xe){if(je==null)return 0;if(Xe==null)return un(je,2,"NULL VP8Io parameter in VP8Decode().");if(!je.cb&&!Zi(je,Xe))return 0;if(t(je.cb),Xe.ac==null||Xe.ac(Xe)){Xe.ob&&(je.L=0);var it=om[je.L];if(je.L==2?(je.yb=0,je.zb=0):(je.yb=Xe.v-it>>4,je.zb=Xe.j-it>>4,0>je.yb&&(je.yb=0),0>je.zb&&(je.zb=0)),je.Va=Xe.o+15+it>>4,je.Hb=Xe.va+15+it>>4,je.Hb>je.za&&(je.Hb=je.za),je.Va>je.Ub&&(je.Va=je.Ub),0<je.L){var pt=je.ed;for(it=0;4>it;++it){var at;if(je.Qa.Cb){var gt=je.Qa.Lb[it];je.Qa.Fb||(gt+=pt.Tb)}else gt=pt.Tb;for(at=0;1>=at;++at){var wt=je.gd[it][at],Tt=gt;if(pt.Pc&&(Tt+=pt.vd[0],at&&(Tt+=pt.od[0])),0<(Tt=0>Tt?0:63<Tt?63:Tt)){var _t=Tt;0<pt.wb&&(_t=4<pt.wb?_t>>2:_t>>1)>9-pt.wb&&(_t=9-pt.wb),1>_t&&(_t=1),wt.dd=_t,wt.tc=2*Tt+_t,wt.ld=40<=Tt?2:15<=Tt?1:0}else wt.tc=0;wt.La=at}}}it=0}else un(je,6,"Frame setup failed"),it=je.a;if(it=it==0){if(it){je.$c=0,0<je.Aa||(je.Ic=jD);t:{it=je.Ic,pt=4*(_t=je.za);var dr=32*_t,nr=_t+1,Pr=0<je.L?_t*(0<je.Aa?2:1):0,or=(je.Aa==2?2:1)*_t;if((wt=pt+832+(at=3*(16*it+om[je.L])/2*dr)+(gt=je.Fa!=null&&0<je.Fa.length?je.Kc.c*je.Kc.i:0))!=wt)it=0;else{if(wt>je.Vb){if(je.Vb=0,je.Ec=s(wt),je.Fc=0,je.Ec==null){it=un(je,1,"no memory during frame initialization.");break t}je.Vb=wt}wt=je.Ec,Tt=je.Fc,je.Ac=wt,je.Bc=Tt,Tt+=pt,je.Gd=a(dr,co),je.Hd=0,je.rb=a(nr+1,ha),je.sb=1,je.wa=Pr?a(Pr,Fi):null,je.Y=0,je.D.Nb=0,je.D.wa=je.wa,je.D.Y=je.Y,0<je.Aa&&(je.D.Y+=_t),t(!0),je.oc=wt,je.pc=Tt,Tt+=832,je.ya=a(or,ji),je.aa=0,je.D.ya=je.ya,je.D.aa=je.aa,je.Aa==2&&(je.D.aa+=_t),je.R=16*_t,je.B=8*_t,_t=(dr=om[je.L])*je.R,dr=dr/2*je.B,je.sa=wt,je.ta=Tt+_t,je.qa=je.sa,je.ra=je.ta+16*it*je.R+dr,je.Ha=je.qa,je.Ia=je.ra+8*it*je.B+dr,je.$c=0,Tt+=at,je.mb=gt?wt:null,je.nb=gt?Tt:null,t(Tt+gt<=je.Fc+je.Vb),Vs(je),i(je.Ac,je.Bc,0,pt),it=1}}if(it){if(Xe.ka=0,Xe.y=je.sa,Xe.O=je.ta,Xe.f=je.qa,Xe.N=je.ra,Xe.ea=je.Ha,Xe.Vd=je.Ia,Xe.fa=je.R,Xe.Rc=je.B,Xe.F=null,Xe.J=0,!qi){for(it=-255;255>=it;++it)jr[255+it]=0>it?-it:it;for(it=-1020;1020>=it;++it)Or[1020+it]=-128>it?-128:127<it?127:it;for(it=-112;112>=it;++it)Ns[112+it]=-16>it?-16:15<it?15:it;for(it=-255;510>=it;++it)Nr[255+it]=0>it?0:255<it?255:it;qi=1}De=Ua,He=hl,Ve=Kl,Le=zi,qe=fl,ze=_s,Qe=$l,Ke=Qo,We=z,Je=we,nt=ma,lt=Mo,ht=Te,xt=Pe,Rt=Po,Kt=uo,jt=Ic,Ot=Wl,Ho[0]=Ao,Ho[1]=ql,Ho[2]=jn,Ho[3]=As,Ho[4]=Ys,Ho[5]=Yn,Ho[6]=ci,Ho[7]=Gl,Ho[8]=W,Ho[9]=L,Uc[0]=Xn,Uc[1]=Ro,Uc[2]=La,Uc[3]=Oo,Uc[4]=fa,Uc[5]=es,Uc[6]=ir,Jl[0]=rt,Jl[1]=Rr,Jl[2]=pe,Jl[3]=Ce,Jl[4]=sr,Jl[5]=dt,Jl[6]=br,it=1}else it=0}it&&(it=function(tn,Gi){for(tn.M=0;tn.M<tn.Va;++tn.M){var Qr,lr=tn.Jc[tn.M&tn.Xb],Wt=tn.m,wi=tn;for(Qr=0;Qr<wi.za;++Qr){var Ur=Wt,nn=wi,Gn=nn.Ac,ds=nn.Bc+4*Qr,ra=nn.zc,ui=nn.ya[nn.aa+Qr];if(nn.Qa.Bb?ui.$b=ce(Ur,nn.Pa.jb[0])?2+ce(Ur,nn.Pa.jb[2]):ce(Ur,nn.Pa.jb[1]):ui.$b=0,nn.kc&&(ui.Ad=ce(Ur,nn.Bd)),ui.Za=!ce(Ur,145)+0,ui.Za){var ks=ui.Ob,na=0;for(nn=0;4>nn;++nn){var Wi,ln=ra[0+nn];for(Wi=0;4>Wi;++Wi){ln=yD[Gn[ds+Wi]][ln];for(var Bn=gC[ce(Ur,ln[0])];0<Bn;)Bn=gC[2*Bn+ce(Ur,ln[Bn])];ln=-Bn,Gn[ds+Wi]=ln}n(ks,na,Gn,ds,4),na+=4,ra[0+nn]=ln}}else ln=ce(Ur,156)?ce(Ur,128)?1:3:ce(Ur,163)?2:0,ui.Ob[0]=ln,i(Gn,ds,ln,4),i(ra,0,ln,4);ui.Dd=ce(Ur,142)?ce(Ur,114)?ce(Ur,183)?1:3:2:0}if(wi.m.Ka)return un(tn,7,"Premature end-of-partition0 encountered.");for(;tn.ja<tn.za;++tn.ja){if(wi=lr,Ur=(Wt=tn).rb[Wt.sb-1],Gn=Wt.rb[Wt.sb+Wt.ja],Qr=Wt.ya[Wt.aa+Wt.ja],ds=Wt.kc?Qr.Ad:0)Ur.la=Gn.la=0,Qr.Za||(Ur.Na=Gn.Na=0),Qr.Hc=0,Qr.Gc=0,Qr.ia=0;else{var di,Cn;if(Ur=Gn,Gn=wi,ds=Wt.Pa.Xc,ra=Wt.ya[Wt.aa+Wt.ja],ui=Wt.pb[ra.$b],nn=ra.ad,ks=0,na=Wt.rb[Wt.sb-1],ln=Wi=0,i(nn,ks,0,384),ra.Za)var hs=0,zo=ds[3];else{Bn=s(16);var bi=Ur.Na+na.Na;if(bi=xh(Gn,ds[1],bi,ui.Eb,0,Bn,0),Ur.Na=na.Na=(0<bi)+0,1<bi)De(Bn,0,nn,ks);else{var ya=Bn[0]+3>>3;for(Bn=0;256>Bn;Bn+=16)nn[ks+Bn]=ya}hs=1,zo=ds[0]}var Un=15&Ur.la,$i=15&na.la;for(Bn=0;4>Bn;++Bn){var Ra=1&$i;for(ya=Cn=0;4>ya;++ya)Un=Un>>1|(Ra=(bi=xh(Gn,zo,bi=Ra+(1&Un),ui.Sc,hs,nn,ks))>hs)<<7,Cn=Cn<<2|(3<bi?3:1<bi?2:nn[ks+0]!=0),ks+=16;Un>>=4,$i=$i>>1|Ra<<7,Wi=(Wi<<8|Cn)>>>0}for(zo=Un,hs=$i>>4,di=0;4>di;di+=2){for(Cn=0,Un=Ur.la>>4+di,$i=na.la>>4+di,Bn=0;2>Bn;++Bn){for(Ra=1&$i,ya=0;2>ya;++ya)bi=Ra+(1&Un),Un=Un>>1|(Ra=0<(bi=xh(Gn,ds[2],bi,ui.Qc,0,nn,ks)))<<3,Cn=Cn<<2|(3<bi?3:1<bi?2:nn[ks+0]!=0),ks+=16;Un>>=2,$i=$i>>1|Ra<<5}ln|=Cn<<4*di,zo|=Un<<4<<di,hs|=(240&$i)<<di}Ur.la=zo,na.la=hs,ra.Hc=Wi,ra.Gc=ln,ra.ia=43690&ln?0:ui.ia,ds=!(Wi|ln)}if(0<Wt.L&&(Wt.wa[Wt.Y+Wt.ja]=Wt.gd[Qr.$b][Qr.Za],Wt.wa[Wt.Y+Wt.ja].La|=!ds),wi.Ka)return un(tn,7,"Premature end-of-file encountered.")}if(Vs(tn),Wt=Gi,wi=1,Qr=(lr=tn).D,Ur=0<lr.L&&lr.M>=lr.zb&&lr.M<=lr.Va,lr.Aa==0)t:{if(Qr.M=lr.M,Qr.uc=Ur,ri(lr,Qr),wi=1,Qr=(Cn=lr.D).Nb,Ur=(ln=om[lr.L])*lr.R,Gn=ln/2*lr.B,Bn=16*Qr*lr.R,ya=8*Qr*lr.B,ds=lr.sa,ra=lr.ta-Ur+Bn,ui=lr.qa,nn=lr.ra-Gn+ya,ks=lr.Ha,na=lr.Ia-Gn+ya,$i=(Un=Cn.M)==0,Wi=Un>=lr.Va-1,lr.Aa==2&&ri(lr,Cn),Cn.uc)for(Ra=(bi=lr).D.M,t(bi.D.uc),Cn=bi.yb;Cn<bi.Hb;++Cn){hs=Cn,zo=Ra;var ia=(Oa=(fs=bi).D).Nb;di=fs.R;var Oa=Oa.wa[Oa.Y+hs],Pa=fs.sa,wa=fs.ta+16*ia*di+16*hs,Qa=Oa.dd,Dn=Oa.tc;if(Dn!=0)if(t(3<=Dn),fs.L==1)0<hs&&Kt(Pa,wa,di,Dn+4),Oa.La&&Ot(Pa,wa,di,Dn),0<zo&&Rt(Pa,wa,di,Dn+4),Oa.La&&jt(Pa,wa,di,Dn);else{var Ma=fs.B,Ko=fs.qa,LA=fs.ra+8*ia*Ma+8*hs,Zl=fs.Ha,fs=fs.Ia+8*ia*Ma+8*hs;ia=Oa.ld,0<hs&&(Ke(Pa,wa,di,Dn+4,Qa,ia),Je(Ko,LA,Zl,fs,Ma,Dn+4,Qa,ia)),Oa.La&&(lt(Pa,wa,di,Dn,Qa,ia),xt(Ko,LA,Zl,fs,Ma,Dn,Qa,ia)),0<zo&&(Qe(Pa,wa,di,Dn+4,Qa,ia),We(Ko,LA,Zl,fs,Ma,Dn+4,Qa,ia)),Oa.La&&(nt(Pa,wa,di,Dn,Qa,ia),ht(Ko,LA,Zl,fs,Ma,Dn,Qa,ia))}}if(lr.ia&&alert("todo:DitherRow"),Wt.put!=null){if(Cn=16*Un,Un=16*(Un+1),$i?(Wt.y=lr.sa,Wt.O=lr.ta+Bn,Wt.f=lr.qa,Wt.N=lr.ra+ya,Wt.ea=lr.Ha,Wt.W=lr.Ia+ya):(Cn-=ln,Wt.y=ds,Wt.O=ra,Wt.f=ui,Wt.N=nn,Wt.ea=ks,Wt.W=na),Wi||(Un-=ln),Un>Wt.o&&(Un=Wt.o),Wt.F=null,Wt.J=null,lr.Fa!=null&&0<lr.Fa.length&&Cn<Un&&(Wt.J=zn(lr,Wt,Cn,Un-Cn),Wt.F=lr.mb,Wt.F==null&&Wt.F.length==0)){wi=un(lr,3,"Could not decode alpha data.");break t}Cn<Wt.j&&(ln=Wt.j-Cn,Cn=Wt.j,t(!(1&ln)),Wt.O+=lr.R*ln,Wt.N+=lr.B*(ln>>1),Wt.W+=lr.B*(ln>>1),Wt.F!=null&&(Wt.J+=Wt.width*ln)),Cn<Un&&(Wt.O+=Wt.v,Wt.N+=Wt.v>>1,Wt.W+=Wt.v>>1,Wt.F!=null&&(Wt.J+=Wt.v),Wt.ka=Cn-Wt.j,Wt.U=Wt.va-Wt.v,Wt.T=Un-Cn,wi=Wt.put(Wt))}Qr+1!=lr.Ic||Wi||(n(lr.sa,lr.ta-Ur,ds,ra+16*lr.R,Ur),n(lr.qa,lr.ra-Gn,ui,nn+8*lr.B,Gn),n(lr.Ha,lr.Ia-Gn,ks,na+8*lr.B,Gn))}if(!wi)return un(tn,6,"Output aborted.")}return 1}(je,Xe)),Xe.bc!=null&&Xe.bc(Xe),it&=1}return it?(je.cb=0,it):0})(C,se)||(j=C.a)}}else j=C.a}j==0&&Be.Oa!=null&&Be.Oa.fd&&(j=UA(Be.ba))}Be=j}xe=Be!=0?null:11>xe?Ee.f.RGBA.eb:Ee.f.kb.y}else xe=null;return xe};var SC=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function A(k,$){for(var q="",T=0;T<4;T++)q+=String.fromCharCode(k[$++]);return q}function d(k,$){return k[$+0]|k[$+1]<<8}function h(k,$){return(k[$+0]|k[$+1]<<8|k[$+2]<<16)>>>0}function f(k,$){return(k[$+0]|k[$+1]<<8|k[$+2]<<16|k[$+3]<<24)>>>0}new c;var u=[0],g=[0],m=[],x=new c,p=e,y=function(k,$){var q={},T=0,K=!1,v=0,re=0;if(q.frames=[],!function(_,O){for(var G=0;G<4;G++)if(_[O+G]!="RIFF".charCodeAt(G))return!0;return!1}(k,$)){for(f(k,$+=4),$+=8;$<k.length;){var ge=A(k,$),Y=f(k,$+=4);$+=4;var fe=Y+(1&Y);switch(ge){case"VP8 ":case"VP8L":q.frames[T]===void 0&&(q.frames[T]={}),(ae=q.frames[T]).src_off=K?re:$-8,ae.src_size=v+Y+8,T++,K&&(K=!1,v=0,re=0);break;case"VP8X":(ae=q.header={}).feature_flags=k[$];var le=$+4;ae.canvas_width=1+h(k,le),le+=3,ae.canvas_height=1+h(k,le),le+=3;break;case"ALPH":K=!0,v=fe+8,re=$-8;break;case"ANIM":(ae=q.header).bgcolor=f(k,$),le=$+4,ae.loop_count=d(k,le),le+=2;break;case"ANMF":var ne,ae;(ae=q.frames[T]={}).offset_x=2*h(k,$),$+=3,ae.offset_y=2*h(k,$),$+=3,ae.width=1+h(k,$),$+=3,ae.height=1+h(k,$),$+=3,ae.duration=h(k,$),$+=3,ne=k[$++],ae.dispose=1&ne,ae.blend=ne>>1&1}ge!="ANMF"&&($+=fe)}return q}}(p,0);y.response=p,y.rgbaoutput=!0,y.dataurl=!1;var w=y.header?y.header:null,b=y.frames?y.frames:null;if(w){w.loop_counter=w.loop_count,u=[w.canvas_height],g=[w.canvas_width];for(var I=0;I<b.length&&b[I].blend!=0;I++);}var F=b[0],R=x.WebPDecodeRGBA(p,F.src_off,F.src_size,g,u);F.rgba=R,F.imgwidth=g[0],F.imgheight=u[0];for(var Q=0;Q<g[0]*u[0]*4;Q++)m[Q]=R[Q];return this.width=g,this.height=u,this.data=m,this}(function(e){var t,r,n,i,s,a,o,c,A,d=function(_){return _=_||{},this.isStrokeTransparent=_.isStrokeTransparent||!1,this.strokeOpacity=_.strokeOpacity||1,this.strokeStyle=_.strokeStyle||"#000000",this.fillStyle=_.fillStyle||"#000000",this.isFillTransparent=_.isFillTransparent||!1,this.fillOpacity=_.fillOpacity||1,this.font=_.font||"10px sans-serif",this.textBaseline=_.textBaseline||"alphabetic",this.textAlign=_.textAlign||"left",this.lineWidth=_.lineWidth||1,this.lineJoin=_.lineJoin||"miter",this.lineCap=_.lineCap||"butt",this.path=_.path||[],this.transform=_.transform!==void 0?_.transform.clone():new c,this.globalCompositeOperation=_.globalCompositeOperation||"normal",this.globalAlpha=_.globalAlpha||1,this.clip_path=_.clip_path||[],this.currentPoint=_.currentPoint||new a,this.miterLimit=_.miterLimit||10,this.lastPoint=_.lastPoint||new a,this.lineDashOffset=_.lineDashOffset||0,this.lineDash=_.lineDash||[],this.margin=_.margin||[0,0,0,0],this.prevPageLastElemOffset=_.prevPageLastElemOffset||0,this.ignoreClearRect=typeof _.ignoreClearRect!="boolean"||_.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,A=new d}]);var h=function(_){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var O=_;Object.defineProperty(this,"pdf",{get:function(){return O}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(B){G=!!B}});var oe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return oe},set:function(B){oe=!!B}});var Ae=0;Object.defineProperty(this,"posX",{get:function(){return Ae},set:function(B){isNaN(B)||(Ae=B)}});var U=0;Object.defineProperty(this,"posY",{get:function(){return U},set:function(B){isNaN(B)||(U=B)}}),Object.defineProperty(this,"margin",{get:function(){return A.margin},set:function(B){var te;typeof B=="number"?te=[B,B,B,B]:((te=new Array(4))[0]=B[0],te[1]=B.length>=2?B[1]:te[0],te[2]=B.length>=3?B[2]:te[0],te[3]=B.length>=4?B[3]:te[1]),A.margin=te}});var M=!1;Object.defineProperty(this,"autoPaging",{get:function(){return M},set:function(B){M=B}});var J=0;Object.defineProperty(this,"lastBreak",{get:function(){return J},set:function(B){J=B}});var ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ce},set:function(B){ce=B}}),Object.defineProperty(this,"ctx",{get:function(){return A},set:function(B){B instanceof d&&(A=B)}}),Object.defineProperty(this,"path",{get:function(){return A.path},set:function(B){A.path=B}});var ee=[];Object.defineProperty(this,"ctxStack",{get:function(){return ee},set:function(B){ee=B}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(B){var te;te=f(B),this.ctx.fillStyle=te.style,this.ctx.isFillTransparent=te.a===0,this.ctx.fillOpacity=te.a,this.pdf.setFillColor(te.r,te.g,te.b,{a:te.a}),this.pdf.setTextColor(te.r,te.g,te.b,{a:te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(B){var te=f(B);this.ctx.strokeStyle=te.style,this.ctx.isStrokeTransparent=te.a===0,this.ctx.strokeOpacity=te.a,te.a===0?this.pdf.setDrawColor(255,255,255):(te.a,this.pdf.setDrawColor(te.r,te.g,te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(B){["butt","round","square"].indexOf(B)!==-1&&(this.ctx.lineCap=B,this.pdf.setLineCap(B))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(B){isNaN(B)||(this.ctx.lineWidth=B,this.pdf.setLineWidth(B))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(B){["bevel","round","miter"].indexOf(B)!==-1&&(this.ctx.lineJoin=B,this.pdf.setLineJoin(B))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(B){isNaN(B)||(this.ctx.miterLimit=B,this.pdf.setMiterLimit(B))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(B){this.ctx.textBaseline=B}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(B){["right","end","center","left","start"].indexOf(B)!==-1&&(this.ctx.textAlign=B)}});var Z=null,me=null;Object.defineProperty(this,"fontFaces",{get:function(){return me},set:function(B){Z=null,me=B}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(B){var te;if(this.ctx.font=B,(te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(B))!==null){var H=te[1];te[2];var S=te[3],E=te[4];te[5];var P=te[6],de=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(E)[2];E=Math.floor(de==="px"?parseFloat(E)*this.pdf.internal.scaleFactor:de==="em"?parseFloat(E)*this.pdf.getFontSize():parseFloat(E)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(E);var ye=function(kt){var It,ur,Ft=[],yt=kt.trim();if(yt==="")return eb;if(yt in TN)return[TN[yt]];for(;yt!=="";){switch(ur=null,It=(yt=jN(yt)).charAt(0)){case'"':case"'":ur=QG(yt.substring(1),It);break;default:ur=MG(yt)}if(ur===null||(Ft.push(ur[0]),(yt=jN(ur[1]))!==""&&yt.charAt(0)!==","))return eb;yt=yt.replace(/^,/,"")}return Ft}(P);if(this.fontFaces){var ue=function(kt,It){if(Z===null){var ur=function(Ft){var yt=[];return Object.keys(Ft).forEach(function(Yt){Ft[Yt].forEach(function(mt){var $t=null;switch(mt){case"bold":$t={family:Yt,weight:"bold"};break;case"italic":$t={family:Yt,style:"italic"};break;case"bolditalic":$t={family:Yt,weight:"bold",style:"italic"};break;case"":case"normal":$t={family:Yt}}$t!==null&&($t.ref={name:Yt,style:mt},yt.push($t))})}),yt}(kt.getFontList());Z=function(Ft){for(var yt={},Yt=0;Yt<Ft.length;++Yt){var mt=Z1(Ft[Yt]),$t=mt.family,tr=mt.stretch,fr=mt.style,Ct=mt.weight;yt[$t]=yt[$t]||{},yt[$t][tr]=yt[$t][tr]||{},yt[$t][tr][fr]=yt[$t][tr][fr]||{},yt[$t][tr][fr][Ct]=mt}return yt}(ur.concat(It))}return Z}(this.pdf,this.fontFaces),ke=ye.map(function(kt){return{family:kt,stretch:"normal",weight:S,style:H}}),Oe=function(kt,It,ur){for(var Ft=(ur=ur||{}).defaultFontFamily||"times",yt=Object.assign({},PG,ur.genericFontFamilies||{}),Yt=null,mt=null,$t=0;$t<It.length;++$t)if(yt[(Yt=Z1(It[$t])).family]&&(Yt.family=yt[Yt.family]),kt.hasOwnProperty(Yt.family)){mt=kt[Yt.family];break}if(!(mt=mt||kt[Ft]))throw new Error("Could not find a font-family for the rule '"+FN(Yt)+"' and default family '"+Ft+"'.");if(mt=function(tr,fr){if(fr[tr])return fr[tr];var Ct=W2[tr],$e=Ct<=W2.normal?-1:1,ct=IN(fr,wU,Ct,$e);if(!ct)throw new Error("Could not find a matching font-stretch value for "+tr);return ct}(Yt.stretch,mt),mt=function(tr,fr){if(fr[tr])return fr[tr];for(var Ct=yU[tr],$e=0;$e<Ct.length;++$e)if(fr[Ct[$e]])return fr[Ct[$e]];throw new Error("Could not find a matching font-style for "+tr)}(Yt.style,mt),!(mt=function(tr,fr){if(fr[tr])return fr[tr];if(tr===400&&fr[500])return fr[500];if(tr===500&&fr[400])return fr[400];var Ct=OG[tr],$e=IN(fr,bU,Ct,tr<400?-1:1);if(!$e)throw new Error("Could not find a matching font-weight for value "+tr);return $e}(Yt.weight,mt)))throw new Error("Failed to resolve a font for the rule '"+FN(Yt)+"'.");return mt}(ue,ke);this.pdf.setFont(Oe.ref.name,Oe.ref.style)}else{var Ue="";(S==="bold"||parseInt(S,10)>=700||H==="bold")&&(Ue="bold"),H==="italic"&&(Ue+="italic"),Ue.length===0&&(Ue="normal");for(var _e="",Me={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ze=0;Ze<ye.length;Ze++){if(this.pdf.internal.getFont(ye[Ze],Ue,{noFallback:!0,disableWarning:!0})!==void 0){_e=ye[Ze];break}if(Ue==="bolditalic"&&this.pdf.internal.getFont(ye[Ze],"bold",{noFallback:!0,disableWarning:!0})!==void 0)_e=ye[Ze],Ue="bold";else if(this.pdf.internal.getFont(ye[Ze],"normal",{noFallback:!0,disableWarning:!0})!==void 0){_e=ye[Ze],Ue="normal";break}}if(_e===""){for(var ut=0;ut<ye.length;ut++)if(Me[ye[ut]]){_e=Me[ye[ut]];break}}_e=_e===""?"Times":_e,this.pdf.setFont(_e,Ue)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(B){this.ctx.globalCompositeOperation=B}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(B){this.ctx.globalAlpha=B}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(B){this.ctx.lineDashOffset=B,ae.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(B){this.ctx.lineDash=B,ae.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(B){this.ctx.ignoreClearRect=!!B}})};h.prototype.setLineDash=function(_){this.lineDash=_},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){b.call(this,"fill",!1)},h.prototype.stroke=function(){b.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(_,O){if(isNaN(_)||isNaN(O))throw Ln.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new a(_,O));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new a(_,O)},h.prototype.closePath=function(){var _=new a(0,0),O=0;for(O=this.path.length-1;O!==-1;O--)if(this.path[O].type==="begin"&&En(this.path[O+1])==="object"&&typeof this.path[O+1].x=="number"){_=new a(this.path[O+1].x,this.path[O+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(_.x,_.y)},h.prototype.lineTo=function(_,O){if(isNaN(_)||isNaN(O))throw Ln.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new a(_,O));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new a(G.x,G.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),b.call(this,null,!0)},h.prototype.quadraticCurveTo=function(_,O,G,oe){if(isNaN(G)||isNaN(oe)||isNaN(_)||isNaN(O))throw Ln.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Ae=this.ctx.transform.applyToPoint(new a(G,oe)),U=this.ctx.transform.applyToPoint(new a(_,O));this.path.push({type:"qct",x1:U.x,y1:U.y,x:Ae.x,y:Ae.y}),this.ctx.lastPoint=new a(Ae.x,Ae.y)},h.prototype.bezierCurveTo=function(_,O,G,oe,Ae,U){if(isNaN(Ae)||isNaN(U)||isNaN(_)||isNaN(O)||isNaN(G)||isNaN(oe))throw Ln.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var M=this.ctx.transform.applyToPoint(new a(Ae,U)),J=this.ctx.transform.applyToPoint(new a(_,O)),ce=this.ctx.transform.applyToPoint(new a(G,oe));this.path.push({type:"bct",x1:J.x,y1:J.y,x2:ce.x,y2:ce.y,x:M.x,y:M.y}),this.ctx.lastPoint=new a(M.x,M.y)},h.prototype.arc=function(_,O,G,oe,Ae,U){if(isNaN(_)||isNaN(O)||isNaN(G)||isNaN(oe)||isNaN(Ae))throw Ln.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(U=!!U,!this.ctx.transform.isIdentity){var M=this.ctx.transform.applyToPoint(new a(_,O));_=M.x,O=M.y;var J=this.ctx.transform.applyToPoint(new a(0,G)),ce=this.ctx.transform.applyToPoint(new a(0,0));G=Math.sqrt(Math.pow(J.x-ce.x,2)+Math.pow(J.y-ce.y,2))}Math.abs(Ae-oe)>=2*Math.PI&&(oe=0,Ae=2*Math.PI),this.path.push({type:"arc",x:_,y:O,radius:G,startAngle:oe,endAngle:Ae,counterclockwise:U})},h.prototype.arcTo=function(_,O,G,oe,Ae){throw new Error("arcTo not implemented.")},h.prototype.rect=function(_,O,G,oe){if(isNaN(_)||isNaN(O)||isNaN(G)||isNaN(oe))throw Ln.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(_,O),this.lineTo(_+G,O),this.lineTo(_+G,O+oe),this.lineTo(_,O+oe),this.lineTo(_,O),this.lineTo(_+G,O),this.lineTo(_,O)},h.prototype.fillRect=function(_,O,G,oe){if(isNaN(_)||isNaN(O)||isNaN(G)||isNaN(oe))throw Ln.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!u.call(this)){var Ae={};this.lineCap!=="butt"&&(Ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(_,O,G,oe),this.fill(),Ae.hasOwnProperty("lineCap")&&(this.lineCap=Ae.lineCap),Ae.hasOwnProperty("lineJoin")&&(this.lineJoin=Ae.lineJoin)}},h.prototype.strokeRect=function(_,O,G,oe){if(isNaN(_)||isNaN(O)||isNaN(G)||isNaN(oe))throw Ln.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(_,O,G,oe),this.stroke())},h.prototype.clearRect=function(_,O,G,oe){if(isNaN(_)||isNaN(O)||isNaN(G)||isNaN(oe))throw Ln.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(_,O,G,oe))},h.prototype.save=function(_){_=typeof _!="boolean"||_;for(var O=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(O),_){this.ctx.fontSize=this.pdf.internal.getFontSize();var oe=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=oe}},h.prototype.restore=function(_){_=typeof _!="boolean"||_;for(var O=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(O),_&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(_){var O,G,oe,Ae;if(_.isCanvasGradient===!0&&(_=_.getColor()),!_)return{r:0,g:0,b:0,a:0,style:_};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(_))O=0,G=0,oe=0,Ae=0;else{var U=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(_);if(U!==null)O=parseInt(U[1]),G=parseInt(U[2]),oe=parseInt(U[3]),Ae=1;else if((U=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(_))!==null)O=parseInt(U[1]),G=parseInt(U[2]),oe=parseInt(U[3]),Ae=parseFloat(U[4]);else{if(Ae=1,typeof _=="string"&&_.charAt(0)!=="#"){var M=new uU(_);_=M.ok?M.toHex():"#000000"}_.length===4?(O=_.substring(1,2),O+=O,G=_.substring(2,3),G+=G,oe=_.substring(3,4),oe+=oe):(O=_.substring(1,3),G=_.substring(3,5),oe=_.substring(5,7)),O=parseInt(O,16),G=parseInt(G,16),oe=parseInt(oe,16)}}return{r:O,g:G,b:oe,a:Ae,style:_}},u=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(_,O,G,oe){if(isNaN(O)||isNaN(G)||typeof _!="string")throw Ln.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(oe=isNaN(oe)?void 0:oe,!u.call(this)){var Ae=fe(this.ctx.transform.rotation),U=this.ctx.transform.scaleX;T.call(this,{text:_,x:O,y:G,scale:U,angle:Ae,align:this.textAlign,maxWidth:oe})}},h.prototype.strokeText=function(_,O,G,oe){if(isNaN(O)||isNaN(G)||typeof _!="string")throw Ln.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){oe=isNaN(oe)?void 0:oe;var Ae=fe(this.ctx.transform.rotation),U=this.ctx.transform.scaleX;T.call(this,{text:_,x:O,y:G,scale:U,renderingMode:"stroke",angle:Ae,align:this.textAlign,maxWidth:oe})}},h.prototype.measureText=function(_){if(typeof _!="string")throw Ln.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var O=this.pdf,G=this.pdf.internal.scaleFactor,oe=O.internal.getFontSize(),Ae=O.getStringUnitWidth(_)*oe/O.internal.scaleFactor;return new function(U){var M=(U=U||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return M}}),this}({width:Ae*=Math.round(96*G/72*1e4)/1e4})},h.prototype.scale=function(_,O){if(isNaN(_)||isNaN(O))throw Ln.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new c(_,0,0,O,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},h.prototype.rotate=function(_){if(isNaN(_))throw Ln.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var O=new c(Math.cos(_),Math.sin(_),-Math.sin(_),Math.cos(_),0,0);this.ctx.transform=this.ctx.transform.multiply(O)},h.prototype.translate=function(_,O){if(isNaN(_)||isNaN(O))throw Ln.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new c(1,0,0,1,_,O);this.ctx.transform=this.ctx.transform.multiply(G)},h.prototype.transform=function(_,O,G,oe,Ae,U){if(isNaN(_)||isNaN(O)||isNaN(G)||isNaN(oe)||isNaN(Ae)||isNaN(U))throw Ln.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var M=new c(_,O,G,oe,Ae,U);this.ctx.transform=this.ctx.transform.multiply(M)},h.prototype.setTransform=function(_,O,G,oe,Ae,U){_=isNaN(_)?1:_,O=isNaN(O)?0:O,G=isNaN(G)?0:G,oe=isNaN(oe)?1:oe,Ae=isNaN(Ae)?0:Ae,U=isNaN(U)?0:U,this.ctx.transform=new c(_,O,G,oe,Ae,U)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(_,O,G,oe,Ae,U,M,J,ce){var ee=this.pdf.getImageProperties(_),Z=1,me=1,B=1,te=1;oe!==void 0&&J!==void 0&&(B=J/oe,te=ce/Ae,Z=ee.width/oe*J/oe,me=ee.height/Ae*ce/Ae),U===void 0&&(U=O,M=G,O=0,G=0),oe!==void 0&&J===void 0&&(J=oe,ce=Ae),oe===void 0&&J===void 0&&(J=ee.width,ce=ee.height);for(var H,S=this.ctx.transform.decompose(),E=fe(S.rotate.shx),P=new c,de=(P=(P=(P=P.multiply(S.translate)).multiply(S.skew)).multiply(S.scale)).applyToRectangle(new o(U-O*B,M-G*te,oe*Z,Ae*me)),ye=x.call(this,de),ue=[],ke=0;ke<ye.length;ke+=1)ue.indexOf(ye[ke])===-1&&ue.push(ye[ke]);if(w(ue),this.autoPaging)for(var Oe=ue[0],Ue=ue[ue.length-1],_e=Oe;_e<Ue+1;_e++){this.pdf.setPage(_e);var Me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ze=_e===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],It=_e===1?0:ut+(_e-2)*kt;if(this.ctx.clip_path.length!==0){var ur=this.path;H=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(H,this.posX+this.margin[3],-It+Ze+this.ctx.prevPageLastElemOffset),I.call(this,"fill",!0),this.path=ur}var Ft=JSON.parse(JSON.stringify(de));Ft=y([Ft],this.posX+this.margin[3],-It+Ze+this.ctx.prevPageLastElemOffset)[0];var yt=(_e>Oe||_e<Ue)&&m.call(this);yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Me,kt,null).clip().discardPath()),this.pdf.addImage(_,"JPEG",Ft.x,Ft.y,Ft.w,Ft.h,null,null,E),yt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(_,"JPEG",de.x,de.y,de.w,de.h,null,null,E)};var x=function(_,O,G){var oe=[];O=O||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Ae=this.posY+this.ctx.prevPageLastElemOffset;switch(_.type){default:case"mt":case"lt":oe.push(Math.floor((_.y+Ae)/G)+1);break;case"arc":oe.push(Math.floor((_.y+Ae-_.radius)/G)+1),oe.push(Math.floor((_.y+Ae+_.radius)/G)+1);break;case"qct":var U=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_.x1,_.y1,_.x,_.y);oe.push(Math.floor((U.y+Ae)/G)+1),oe.push(Math.floor((U.y+U.h+Ae)/G)+1);break;case"bct":var M=ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_.x1,_.y1,_.x2,_.y2,_.x,_.y);oe.push(Math.floor((M.y+Ae)/G)+1),oe.push(Math.floor((M.y+M.h+Ae)/G)+1);break;case"rect":oe.push(Math.floor((_.y+Ae)/G)+1),oe.push(Math.floor((_.y+_.h+Ae)/G)+1)}for(var J=0;J<oe.length;J+=1)for(;this.pdf.internal.getNumberOfPages()<oe[J];)p.call(this);return oe},p=function(){var _=this.fillStyle,O=this.strokeStyle,G=this.font,oe=this.lineCap,Ae=this.lineWidth,U=this.lineJoin;this.pdf.addPage(),this.fillStyle=_,this.strokeStyle=O,this.font=G,this.lineCap=oe,this.lineWidth=Ae,this.lineJoin=U},y=function(_,O,G){for(var oe=0;oe<_.length;oe++)switch(_[oe].type){case"bct":_[oe].x2+=O,_[oe].y2+=G;case"qct":_[oe].x1+=O,_[oe].y1+=G;default:_[oe].x+=O,_[oe].y+=G}return _},w=function(_){return _.sort(function(O,G){return O-G})},b=function(_,O){for(var G,oe,Ae=this.fillStyle,U=this.strokeStyle,M=this.lineCap,J=this.lineWidth,ce=Math.abs(J*this.ctx.transform.scaleX),ee=this.lineJoin,Z=JSON.parse(JSON.stringify(this.path)),me=JSON.parse(JSON.stringify(this.path)),B=[],te=0;te<me.length;te++)if(me[te].x!==void 0)for(var H=x.call(this,me[te]),S=0;S<H.length;S+=1)B.indexOf(H[S])===-1&&B.push(H[S]);for(var E=0;E<B.length;E++)for(;this.pdf.internal.getNumberOfPages()<B[E];)p.call(this);if(w(B),this.autoPaging)for(var P=B[0],de=B[B.length-1],ye=P;ye<de+1;ye++){this.pdf.setPage(ye),this.fillStyle=Ae,this.strokeStyle=U,this.lineCap=M,this.lineWidth=ce,this.lineJoin=ee;var ue=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ke=ye===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ue=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],_e=ye===1?0:Oe+(ye-2)*Ue;if(this.ctx.clip_path.length!==0){var Me=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(G,this.posX+this.margin[3],-_e+ke+this.ctx.prevPageLastElemOffset),I.call(this,_,!0),this.path=Me}if(oe=JSON.parse(JSON.stringify(Z)),this.path=y(oe,this.posX+this.margin[3],-_e+ke+this.ctx.prevPageLastElemOffset),O===!1||ye===0){var Ze=(ye>P||ye<de)&&m.call(this);Ze&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ue,Ue,null).clip().discardPath()),I.call(this,_,O),Ze&&this.pdf.restoreGraphicsState()}this.lineWidth=J}else this.lineWidth=ce,I.call(this,_,O),this.lineWidth=J;this.path=Z},I=function(_,O){if((_!=="stroke"||O||!g.call(this))&&(_==="stroke"||O||!u.call(this))){for(var G,oe,Ae=[],U=this.path,M=0;M<U.length;M++){var J=U[M];switch(J.type){case"begin":Ae.push({begin:!0});break;case"close":Ae.push({close:!0});break;case"mt":Ae.push({start:J,deltas:[],abs:[]});break;case"lt":var ce=Ae.length;if(U[M-1]&&!isNaN(U[M-1].x)&&(G=[J.x-U[M-1].x,J.y-U[M-1].y],ce>0)){for(;ce>=0;ce--)if(Ae[ce-1].close!==!0&&Ae[ce-1].begin!==!0){Ae[ce-1].deltas.push(G),Ae[ce-1].abs.push(J);break}}break;case"bct":G=[J.x1-U[M-1].x,J.y1-U[M-1].y,J.x2-U[M-1].x,J.y2-U[M-1].y,J.x-U[M-1].x,J.y-U[M-1].y],Ae[Ae.length-1].deltas.push(G);break;case"qct":var ee=U[M-1].x+2/3*(J.x1-U[M-1].x),Z=U[M-1].y+2/3*(J.y1-U[M-1].y),me=J.x+2/3*(J.x1-J.x),B=J.y+2/3*(J.y1-J.y),te=J.x,H=J.y;G=[ee-U[M-1].x,Z-U[M-1].y,me-U[M-1].x,B-U[M-1].y,te-U[M-1].x,H-U[M-1].y],Ae[Ae.length-1].deltas.push(G);break;case"arc":Ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(Ae[Ae.length-1].abs)&&Ae[Ae.length-1].abs.push(J)}}oe=O?null:_==="stroke"?"stroke":"fill";for(var S=!1,E=0;E<Ae.length;E++)if(Ae[E].arc)for(var P=Ae[E].abs,de=0;de<P.length;de++){var ye=P[de];ye.type==="arc"?Q.call(this,ye.x,ye.y,ye.radius,ye.startAngle,ye.endAngle,ye.counterclockwise,void 0,O,!S):K.call(this,ye.x,ye.y),S=!0}else if(Ae[E].close===!0)this.pdf.internal.out("h"),S=!1;else if(Ae[E].begin!==!0){var ue=Ae[E].start.x,ke=Ae[E].start.y;v.call(this,Ae[E].deltas,ue,ke),S=!0}oe&&k.call(this,oe),O&&$.call(this)}},F=function(_){var O=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=O*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return _-G;case"top":return _+O-G;case"hanging":return _+O-2*G;case"middle":return _+O/2-G;default:return _}},R=function(_){return _+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var _=function(){};return _.colorStops=[],_.addColorStop=function(O,G){this.colorStops.push([O,G])},_.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},_.isCanvasGradient=!0,_},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Q=function(_,O,G,oe,Ae,U,M,J,ce){for(var ee=ge.call(this,G,oe,Ae,U),Z=0;Z<ee.length;Z++){var me=ee[Z];Z===0&&(ce?q.call(this,me.x1+_,me.y1+O):K.call(this,me.x1+_,me.y1+O)),re.call(this,_,O,me.x2,me.y2,me.x3,me.y3,me.x4,me.y4)}J?$.call(this):k.call(this,M)},k=function(_){switch(_){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},$=function(){this.pdf.clip(),this.pdf.discardPath()},q=function(_,O){this.pdf.internal.out(r(_)+" "+n(O)+" m")},T=function(_){var O;switch(_.align){case"right":case"end":O="right";break;case"center":O="center";break;default:O="left"}var G=this.pdf.getTextDimensions(_.text),oe=F.call(this,_.y),Ae=R.call(this,oe)-G.h,U=this.ctx.transform.applyToPoint(new a(_.x,oe)),M=this.ctx.transform.decompose(),J=new c;J=(J=(J=J.multiply(M.translate)).multiply(M.skew)).multiply(M.scale);for(var ce,ee,Z,me=this.ctx.transform.applyToRectangle(new o(_.x,oe,G.w,G.h)),B=J.applyToRectangle(new o(_.x,Ae,G.w,G.h)),te=x.call(this,B),H=[],S=0;S<te.length;S+=1)H.indexOf(te[S])===-1&&H.push(te[S]);if(w(H),this.autoPaging)for(var E=H[0],P=H[H.length-1],de=E;de<P+1;de++){this.pdf.setPage(de);var ye=de===1?this.posY+this.margin[0]:this.margin[0],ue=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ke=this.pdf.internal.pageSize.height-this.margin[2],Oe=ke-this.margin[0],Ue=this.pdf.internal.pageSize.width-this.margin[1],_e=Ue-this.margin[3],Me=de===1?0:ue+(de-2)*Oe;if(this.ctx.clip_path.length!==0){var Ze=this.path;ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ce,this.posX+this.margin[3],-1*Me+ye),I.call(this,"fill",!0),this.path=Ze}var ut=y([JSON.parse(JSON.stringify(B))],this.posX+this.margin[3],-Me+ye+this.ctx.prevPageLastElemOffset)[0];_.scale>=.01&&(ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ee*_.scale),Z=this.lineWidth,this.lineWidth=Z*_.scale);var kt=this.autoPaging!=="text";if(kt||ut.y+ut.h<=ke){if(kt||ut.y>=ye&&ut.x<=Ue){var It=kt?_.text:this.pdf.splitTextToSize(_.text,_.maxWidth||Ue-ut.x)[0],ur=y([JSON.parse(JSON.stringify(me))],this.posX+this.margin[3],-Me+ye+this.ctx.prevPageLastElemOffset)[0],Ft=kt&&(de>E||de<P)&&m.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_e,Oe,null).clip().discardPath()),this.pdf.text(It,ur.x,ur.y,{angle:_.angle,align:O,renderingMode:_.renderingMode}),Ft&&this.pdf.restoreGraphicsState()}}else ut.y<ke&&(this.ctx.prevPageLastElemOffset+=ke-ut.y);_.scale>=.01&&(this.pdf.setFontSize(ee),this.lineWidth=Z)}else _.scale>=.01&&(ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ee*_.scale),Z=this.lineWidth,this.lineWidth=Z*_.scale),this.pdf.text(_.text,U.x+this.posX,U.y+this.posY,{angle:_.angle,align:O,renderingMode:_.renderingMode,maxWidth:_.maxWidth}),_.scale>=.01&&(this.pdf.setFontSize(ee),this.lineWidth=Z)},K=function(_,O,G,oe){G=G||0,oe=oe||0,this.pdf.internal.out(r(_+G)+" "+n(O+oe)+" l")},v=function(_,O,G){return this.pdf.lines(_,O,G,null,null)},re=function(_,O,G,oe,Ae,U,M,J){this.pdf.internal.out([t(i(G+_)),t(s(oe+O)),t(i(Ae+_)),t(s(U+O)),t(i(M+_)),t(s(J+O)),"c"].join(" "))},ge=function(_,O,G,oe){for(var Ae=2*Math.PI,U=Math.PI/2;O>G;)O-=Ae;var M=Math.abs(G-O);M<Ae&&oe&&(M=Ae-M);for(var J=[],ce=oe?-1:1,ee=O;M>1e-5;){var Z=ee+ce*Math.min(M,U);J.push(Y.call(this,_,ee,Z)),M-=Math.abs(Z-ee),ee=Z}return J},Y=function(_,O,G){var oe=(G-O)/2,Ae=_*Math.cos(oe),U=_*Math.sin(oe),M=Ae,J=-U,ce=M*M+J*J,ee=ce+M*Ae+J*U,Z=4/3*(Math.sqrt(2*ce*ee)-ee)/(M*U-J*Ae),me=M-Z*J,B=J+Z*M,te=me,H=-B,S=oe+O,E=Math.cos(S),P=Math.sin(S);return{x1:_*Math.cos(O),y1:_*Math.sin(O),x2:me*E-B*P,y2:me*P+B*E,x3:te*E-H*P,y3:te*P+H*E,x4:_*Math.cos(G),y4:_*Math.sin(G)}},fe=function(_){return 180*_/Math.PI},le=function(_,O,G,oe,Ae,U){var M=_+.5*(G-_),J=O+.5*(oe-O),ce=Ae+.5*(G-Ae),ee=U+.5*(oe-U),Z=Math.min(_,Ae,M,ce),me=Math.max(_,Ae,M,ce),B=Math.min(O,U,J,ee),te=Math.max(O,U,J,ee);return new o(Z,B,me-Z,te-B)},ne=function(_,O,G,oe,Ae,U,M,J){var ce,ee,Z,me,B,te,H,S,E,P,de,ye,ue,ke,Oe=G-_,Ue=oe-O,_e=Ae-G,Me=U-oe,Ze=M-Ae,ut=J-U;for(ee=0;ee<41;ee++)E=(H=(Z=_+(ce=ee/40)*Oe)+ce*((B=G+ce*_e)-Z))+ce*(B+ce*(Ae+ce*Ze-B)-H),P=(S=(me=O+ce*Ue)+ce*((te=oe+ce*Me)-me))+ce*(te+ce*(U+ce*ut-te)-S),ee==0?(de=E,ye=P,ue=E,ke=P):(de=Math.min(de,E),ye=Math.min(ye,P),ue=Math.max(ue,E),ke=Math.max(ke,P));return new o(Math.round(de),Math.round(ye),Math.round(ue-de),Math.round(ke-ye))},ae=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var _,O,G=(_=this.ctx.lineDash,O=this.ctx.lineDashOffset,JSON.stringify({lineDash:_,lineDashOffset:O}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(hr.API),function(e){var t=function(a){var o,c,A,d,h,f,u,g,m,x;for(c=[],A=0,d=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;d>A;A+=4)(h=(a.charCodeAt(A)<<24)+(a.charCodeAt(A+1)<<16)+(a.charCodeAt(A+2)<<8)+a.charCodeAt(A+3))!==0?(f=(h=((h=((h=((h=(h-(x=h%85))/85)-(m=h%85))/85)-(g=h%85))/85)-(u=h%85))/85)%85,c.push(f+33,u+33,g+33,m+33,x+33)):c.push(122);return function(p,y){for(var w=y;w>0;w--)p.pop()}(c,o.length),String.fromCharCode.apply(String,c)+"~>"},r=function(a){var o,c,A,d,h,f=String,u="length",g=255,m="charCodeAt",x="slice",p="replace";for(a[x](-2),a=a[x](0,-2)[p](/\s/g,"")[p]("z","!!!!!"),A=[],d=0,h=(a+=o="uuuuu"[x](a[u]%5||5))[u];h>d;d+=5)c=52200625*(a[m](d)-33)+614125*(a[m](d+1)-33)+7225*(a[m](d+2)-33)+85*(a[m](d+3)-33)+(a[m](d+4)-33),A.push(g&c>>24,g&c>>16,g&c>>8,g&c);return function(y,w){for(var b=w;b>0;b--)y.pop()}(A,o[u]),f.fromCharCode.apply(f,A)},n=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var c="",A=0;A<a.length;A+=2)c+=String.fromCharCode("0x"+(a[A]+a[A+1]));return c},s=function(a){for(var o=new Uint8Array(a.length),c=a.length;c--;)o[c]=a.charCodeAt(c);return(o=U2(o)).reduce(function(A,d){return A+String.fromCharCode(d)},"")};e.processDataByFilters=function(a,o){var c=0,A=a||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":A=r(A),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":A=t(A),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":A=i(A),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":A=n(A),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":A=s(A),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:A,reverseChain:d.reverse().join(" ")}}}(hr.API),function(e){e.loadFile=function(t,r,n){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(c,A,d){var h=new XMLHttpRequest,f=0,u=function(g){var m=g.length,x=[],p=String.fromCharCode;for(f=0;f<m;f+=1)x.push(p(255&g.charCodeAt(f)));return x.join("")};if(h.open("GET",c,!A),h.overrideMimeType("text/plain; charset=x-user-defined"),A===!1&&(h.onload=function(){h.status===200?d(u(this.responseText)):d(void 0)}),h.send(null),A&&h.status===200)return u(h.responseText)}(i,s,a)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(hr.API),function(e){function t(){return(Er.html2canvas?Promise.resolve(Er.html2canvas):Mf(()=>Promise.resolve().then(()=>nz),void 0,import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(Er.DOMPurify?Promise.resolve(Er.DOMPurify):Mf(()=>import("./purify.es-96e69d58.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var c=En(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(o,c){var A=document.createElement(o);for(var d in c.className&&(A.className=c.className),c.innerHTML&&c.dompurify&&(A.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)A.style[d]=c.style[d];return A},s=function o(c,A){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)A!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||d.appendChild(o(h,A));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},a=function o(c){var A=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),A);return(d=d.setProgress(1,o,1,[o])).set(c)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,c){return o.__proto__=c||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,c){return this.then(function(){switch(c=c||function(A){switch(n(A)){case"string":return"string";case"element":return A.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),c){case"string":return this.then(r).then(function(A){return this.set({src:i("div",{innerHTML:o,dompurify:A})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var A=Object.assign({},this.opt.html2canvas);return delete A.onrendered,c(this.prop.container,A)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var A=this.opt.jsPDF,d=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,A.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,A.context2d.posX=this.opt.x,A.context2d.posY=this.opt.y,A.context2d.margin=this.opt.margin,A.context2d.fontFaces=d,d)for(var u=0;u<d.length;++u){var g=d[u],m=g.src.find(function(x){return x.format==="truetype"});m&&A.addFont(m.url,g.ref.name,g.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,A.context2d.save(!0),c(this.prop.container,f)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,c,A){return(A=A||"pdf").toLowerCase()==="img"||A.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},a.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(n(o)!=="object")return this;var c=Object.keys(o||{}).map(function(A){if(A in a.template.prop)return function(){this.prop[A]=o[A]};switch(A){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[A]=o[A]}}},this);return this.then(function(){return this.thenList(c)})},a.prototype.get=function(o,c){return this.then(function(){var A=o in a.template.prop?this.prop[o]:this.opt[o];return c?c(A):A})},a.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function c(A,d){return Math.floor(A*d/72*96)}return this.then(function(){(o=o||hr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,c,A,d){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),A!=null&&(this.progress.n=A),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,c,A,d){return this.setProgress(o?this.progress.val+o:null,c||null,A?this.progress.n+A:null,d?this.progress.stack.concat(d):null)},a.prototype.then=function(o,c){var A=this;return this.thenCore(o,c,function(d,h){return A.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(f){return A.updateProgress(null,d),f}).then(d,h).then(function(f){return A.updateProgress(1),f})})},a.prototype.thenCore=function(o,c,A){A=A||Promise.prototype.then;var d=this;o&&(o=o.bind(d)),c&&(c=c.bind(d));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:a.convert(Object.assign({},d),Promise.prototype),f=A.call(h,o,c);return a.convert(f,d.__proto__)},a.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},a.prototype.thenList=function(o){var c=this;return o.forEach(function(A){c=c.thenCore(A)}),c},a.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return a.convert(c,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,hr.getPageSize=function(o,c,A){if(En(o)==="object"){var d=o;o=d.orientation,c=d.unit||c,A=d.format||A}c=c||"mm",A=A||"a4",o=(""+(o||"P")).toLowerCase();var h,f=(""+A).toLowerCase(),u={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+c}var g,m=0,x=0;if(u.hasOwnProperty(f))m=u[f][1]/h,x=u[f][0]/h;else try{m=A[1],x=A[0]}catch{throw new Error("Invalid format: "+A)}if(o==="p"||o==="portrait")o="p",x>m&&(g=x,x=m,m=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",m>x&&(g=x,x=m,m=g)}return{width:x,height:m,unit:c,k:h,orientation:o}},e.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(Z1):null;var A=new a(c);return c.worker?A:A.from(o).doCallback()}}(hr.API),hr.API.addJS=function(e){return LN=e,this.internal.events.subscribe("postPutResources",function(){Sg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Sg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),UN=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+LN+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Sg!==void 0&&UN!==void 0&&this.internal.out("/Names <</JavaScript "+Sg+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=n.exec(a);if(o!=null){var c=o[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var A=this.internal.pages.length,d=[];for(s=0;s<A;s++){var h=r.internal.newObject();d.push(h);var f=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var u=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<d.length;s++)r.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+u+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var c=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var A=0;A<n.children.length;A++)this.renderItems(n.children[A])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(hr.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,s,a,o){var c,A=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=function(h){for(var f,u=256*h.charCodeAt(4)+h.charCodeAt(5),g=h.length,m={width:0,height:0,numcomponents:1},x=4;x<g;x+=2){if(x+=u,t.indexOf(h.charCodeAt(x+1))!==-1){f=256*h.charCodeAt(x+5)+h.charCodeAt(x+6),m={width:256*h.charCodeAt(x+7)+h.charCodeAt(x+8),height:f,numcomponents:h.charCodeAt(x+9)};break}u=256*h.charCodeAt(x+2)+h.charCodeAt(x+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:A,index:n,alias:i}}return d}}(hr.API),hr.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,s=CG(e,{checkCrc:!0}),a=s.width,o=s.height,c=s.channels,A=s.palette,d=s.depth;i=A&&c===1?function(Q){for(var k=Q.width,$=Q.height,q=Q.data,T=Q.palette,K=Q.depth,v=!1,re=[],ge=[],Y=void 0,fe=!1,le=0,ne=0;ne<T.length;ne++){var ae=k_(T[ne],4),_=ae[0],O=ae[1],G=ae[2],oe=ae[3];re.push(_,O,G),oe!=null&&(oe===0?(le++,ge.length<1&&ge.push(ne)):oe<255&&(fe=!0))}if(fe||le>1){v=!0,ge=void 0;var Ae=k*$;Y=new Uint8Array(Ae);for(var U=new DataView(q.buffer),M=0;M<Ae;M++){var J=tb(U,M,K),ce=k_(T[J],4)[3];Y[M]=ce}}else le===0&&(ge=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:v?8:void 0,colorBytes:q,alphaBytes:Y,needSMask:v,palette:re,mask:ge}}(s):c===2||c===4?function(Q){for(var k=Q.data,$=Q.width,q=Q.height,T=Q.channels,K=Q.depth,v=T===2?"DeviceGray":"DeviceRGB",re=T-1,ge=$*q,Y=re,fe=ge*Y,le=1*ge,ne=Math.ceil(fe*K/8),ae=Math.ceil(le*K/8),_=new Uint8Array(ne),O=new Uint8Array(ae),G=new DataView(k.buffer),oe=new DataView(_.buffer),Ae=new DataView(O.buffer),U=!1,M=0;M<ge;M++){for(var J=M*T,ce=0;ce<Y;ce++)KN(oe,tb(G,J+ce,K),M*Y+ce,K);var ee=tb(G,J+Y,K);ee<(1<<K)-1&&(U=!0),KN(Ae,ee,1*M,K)}return{colorSpace:v,colorsPerPixel:re,sMaskBitsPerComponent:U?K:void 0,colorBytes:_,alphaBytes:O,needSMask:U}}(s):function(Q){var k=Q.data,$=Q.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:$,colorsPerPixel:$==="DeviceGray"?1:3,colorBytes:k instanceof Uint16Array?function(q){for(var T=q.length,K=new Uint8Array(2*T),v=new DataView(K.buffer,K.byteOffset,K.byteLength),re=0;re<T;re++)v.setUint16(2*re,q[re],!1);return K}(k):k,needSMask:!1}}(s);var h,f,u,g=i,m=g.colorSpace,x=g.colorsPerPixel,p=g.sMaskBitsPerComponent,y=g.colorBytes,w=g.alphaBytes,b=g.needSMask,I=g.palette,F=g.mask,R=null;return n!==hr.API.image_compression.NONE&&typeof U2=="function"?(R=function(Q){var k;switch(Q){case hr.API.image_compression.FAST:k=11;break;case hr.API.image_compression.MEDIUM:k=13;break;case hr.API.image_compression.SLOW:k=14;break;default:k=12}return k}(n),h=this.decode.FLATE_DECODE,f="/Predictor ".concat(R," /Colors ").concat(x," /BitsPerComponent ").concat(d," /Columns ").concat(a),e=PN(y,Math.ceil(a*x*d/8),x,d,n),b&&(u=PN(w,Math.ceil(a*p/8),1,p,n))):(h=void 0,f=void 0,e=y,b&&(u=w)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(u&&this.__addimage__.isArrayBuffer(u)||this.__addimage__.isArrayBufferView(u))&&(u=this.__addimage__.arrayBufferToBinaryString(u)),{alias:r,data:e,index:t,filter:h,decodeParameters:f,transparency:F,palette:I,sMask:u,predictor:R,width:a,height:o,bitsPerComponent:d,sMaskBitsPerComponent:p,colorSpace:m}}},function(e){e.processGIF89A=function(t,r,n,i){var s=new qG(t),a=s.width,o=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var A={data:c,width:a,height:o},d=new rb(100).encode(A,100);return e.processJPEG.call(this,d,r,n,i)},e.processGIF87A=e.processGIF89A}(hr.API),Wo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Wo.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Ln.log("bit decode error:"+r)}},Wo.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var c=this.palette[s>>7-o&1];this.data[a+4*o]=c.blue,this.data[a+4*o+1]=c.green,this.data[a+4*o+2]=c.red,this.data[a+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Wo.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,o=s>>4,c=15&s,A=this.palette[o];if(this.data[a]=A.blue,this.data[a+1]=A.green,this.data[a+2]=A.red,this.data[a+3]=255,2*i+1>=this.width)break;A=this.palette[c],this.data[a+4]=A.blue,this.data[a+4+1]=A.green,this.data[a+4+2]=A.red,this.data[a+4+3]=255}t!==0&&(this.pos+=4-t)}},Wo.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},Wo.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&t)/t*255|0,o=(s>>5&t)/t*255|0,c=(s>>10&t)/t*255|0,A=s>>15?255:0,d=n*this.width*4+4*i;this.data[d]=c,this.data[d+1]=o,this.data[d+2]=a,this.data[d+3]=A}this.pos+=e}},Wo.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,c=(a>>5&r)/r*255|0,A=(a>>11)/t*255|0,d=i*this.width*4+4*s;this.data[d]=A,this.data[d+1]=c,this.data[d+2]=o,this.data[d+3]=255}this.pos+=e}},Wo.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},Wo.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}},Wo.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,i){var s=new Wo(t,!1),a=s.width,o=s.height,c={data:s.getData(),width:a,height:o},A=new rb(100).encode(c,100);return e.processJPEG.call(this,A,r,n,i)}}(hr.API),GN.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,i){var s=new GN(t),a=s.width,o=s.height,c={data:s.getData(),width:a,height:o},A=new rb(100).encode(c,100);return e.processJPEG.call(this,A,r,n,i)}}(hr.API),hr.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,c=0,A=0;A<i;A+=4){var d=n[A],h=n[A+1],f=n[A+2],u=n[A+3];s[o++]=d,s[o++]=h,s[o++]=f,a[c++]=u}var g=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:g,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},hr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ku=hr.API,_g=Ku.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:i.metadata.Unicode.widths,c=o.fof?o.fof:1,A=t.kerning?t.kerning:i.metadata.Unicode.kerning,d=A.fof?A.fof:1,h=t.doKerning!==!1,f=0,u=e.length,g=0,m=o[0]||c,x=[];for(r=0;r<u;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?x.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(f=h&&En(A[n])==="object"&&!isNaN(parseInt(A[n][g],10))?A[n][g]/d:0,x.push((o[n]||m)/c+f)),g=n;return x},DN=Ku.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return Ku.processArabic&&(e=Ku.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:_g.apply(this,arguments).reduce(function(s,a){return s+a},0)},RN=function(e,t,r,n){for(var i=[],s=0,a=e.length,o=0;s!==a&&o+t[s]<r;)o+=t[s],s++;i.push(e.slice(0,s));var c=s;for(o=0;s!==a;)o+t[s]>n&&(i.push(e.slice(c,s)),o=0,c=s),o+=t[s],s++;return c!==s&&i.push(e.slice(c,s)),i},ON=function(e,t,r){r||(r={});var n,i,s,a,o,c,A,d=[],h=[d],f=r.textIndent||0,u=0,g=0,m=e.split(" "),x=_g.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var p=Array(c).join(" "),y=[];m.map(function(b){(b=b.split(/\s*\n/)).length>1?y=y.concat(b.map(function(I,F){return(F&&I.length?`
`:"")+I})):y.push(b[0])}),m=y,c=DN.apply(this,[p,r])}for(s=0,a=m.length;s<a;s++){var w=0;if(n=m[s],c&&n[0]==`
`&&(n=n.substr(1),w=1),f+u+(g=(i=_g.apply(this,[n,r])).reduce(function(b,I){return b+I},0))>t||w){if(g>t){for(o=RN.apply(this,[n,i,t-(f+u),t]),d.push(o.shift()),d=[o.pop()];o.length;)h.push([o.shift()]);g=i.slice(n.length-(d[0]?d[0].length:0)).reduce(function(b,I){return b+I},0)}else d=[n];h.push(d),f=g+c,u=x}else d.push(n),f+=u+g,u=x}return A=c?function(b,I){return(I?p:"")+b.join(" ")}:function(b){return b.join(" ")},h.map(A)},Ku.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle),f="Unicode";return h.metadata[f]?{widths:h.metadata[f].widths||{0:1},kerning:h.metadata[f].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var o,c,A=[];for(o=0,c=n.length;o<c;o++)A=A.concat(ON.apply(this,[n[o],a,s]));return A},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[r[s]]=t[s],i[t[s]]=r[s];var a=function(f){return"0x"+parseInt(f,10).toString(16)},o=e.__fontmetrics__.compress=function(f){var u,g,m,x,p=["{"];for(var y in f){if(u=f[y],isNaN(parseInt(y,10))?g="'"+y+"'":(y=parseInt(y,10),g=(g=a(y).slice(2)).slice(0,-1)+i[g.slice(-1)]),typeof u=="number")u<0?(m=a(u).slice(3),x="-"):(m=a(u).slice(2),x=""),m=x+m.slice(0,-1)+i[m.slice(-1)];else{if(En(u)!=="object")throw new Error("Don't know what to do with value type "+En(u)+".");m=o(u)}p.push(g+m)}return p.push("}"),p.join("")},c=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var u,g,m,x,p={},y=1,w=p,b=[],I="",F="",R=f.length-1,Q=1;Q<R;Q+=1)(x=f[Q])=="'"?u?(m=u.join(""),u=void 0):u=[]:u?u.push(x):x=="{"?(b.push([w,m]),w={},m=void 0):x=="}"?((g=b.pop())[0][g[1]]=w,m=void 0,w=g[0]):x=="-"?y=-1:m===void 0?n.hasOwnProperty(x)?(I+=n[x],m=parseInt(I,16)*y,y=1,I=""):I+=x:n.hasOwnProperty(x)?(F+=n[x],w[m]=parseInt(F,16)*y,y=1,m=void 0,F=""):F+=x;return p},A={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:A,"Courier-Bold":A,"Courier-BoldOblique":A,"Courier-Oblique":A,Helvetica:A,"Helvetica-Bold":A,"Helvetica-BoldOblique":A,"Helvetica-Oblique":A,"Times-Roman":A,"Times-Bold":A,"Times-BoldItalic":A,"Times-Italic":A}},h={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var u=f.font,g=h.Unicode[u.postScriptName];g&&(u.metadata.Unicode={},u.metadata.Unicode.widths=g.widths,u.metadata.Unicode.kerning=g.kerning);var m=d.Unicode[u.postScriptName];m&&(u.metadata.Unicode.encoding=m,u.encoding=m.codePages[0])}])}(hr.API),function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(h0(o)),a.metadata=e.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])}(hr),hr.API.addSvgAsImage=function(e,t,r,n,i,s,a,o){if(isNaN(t)||isNaN(r))throw Ln.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Ln.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=i;var A=c.getContext("2d");A.fillStyle="#fff",A.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(Er.canvg?Promise.resolve(Er.canvg):Mf(()=>import("./index.es-0f31882c.js"),[],import.meta.url)).catch(function(f){return Promise.reject(new Error("Could not load canvg: "+f))}).then(function(f){return f.default?f.default:f}).then(function(f){return f.fromString(A,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(f){return f.render(d)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),t,r,n,i,a,o)})},hr.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},hr.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),c=[],A=0,d=0,h=0;function f(g,m){var x,p=!1;for(x=0;x<g.length;x+=1)g[x]===m&&(p=!0);return p}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var u=o.length;for(h=0;h<u;h+=1)r[o[h]].value=r[o[h]].defaultValue,r[o[h]].explicitSet=!1}if(En(e)==="object"){for(i in e)if(s=e[i],f(o,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&f(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(A=0;A<s.length;A+=1)if(n=!0,s[A].length===1&&typeof s[A][0]=="number")c.push(String(s[A]-1));else if(s[A].length>1){for(d=0;d<s[A].length;d+=1)typeof s[A][d]!="number"&&(n=!1);n===!0&&c.push([s[A][0]-1,s[A][1]-1].join(" "))}r[i].value="["+c.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,m=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?m.push("/"+g+" /"+r[g].value):m.push("/"+g+" "+r[g].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),A=s.length+a.length+o.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+A+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(hr.API),function(e){var t=e.API,r=t.pdfEscape16=function(s,a){for(var o,c=a.metadata.Unicode.widths,A=["","0","00","000","0000"],d=[""],h=0,f=s.length;h<f;++h){if(o=a.metadata.characterToGlyph(s.charCodeAt(h)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(h),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(A[4-o.length],o)}return d.join("")},n=function(s){var a,o,c,A,d,h,f;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,f=(o=Object.keys(s).sort(function(u,g){return u-g})).length;h<f;h++)a=o[h],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(A=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+A+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(a){var o=a.font,c=a.out,A=a.newObject,d=a.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var h=o.metadata.Unicode.widths,f=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),u="",g=0;g<f.length;g++)u+=String.fromCharCode(f[g]);var m=A();d({data:u,addLength1:!0,objectId:m}),c("endobj");var x=A();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var p=A();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+td(o.fontName)),c("/FontFile2 "+m+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var y=A();c("<<"),c("/Type /Font"),c("/BaseFont /"+td(o.fontName)),c("/FontDescriptor "+p+" 0 R"),c("/W "+e.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=A(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+x+" 0 R"),c("/BaseFont /"+td(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+y+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(a){var o=a.font,c=a.out,A=a.newObject,d=a.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var h=o.metadata.rawData,f="",u=0;u<h.length;u++)f+=String.fromCharCode(h[u]);var g=A();d({data:f,addLength1:!0,objectId:g}),c("endobj");var m=A();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:m}),c("endobj");var x=A();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+td(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=A();for(var p=0;p<o.metadata.hmtx.widths.length;p++)o.metadata.hmtx.widths[p]=parseInt(o.metadata.hmtx.widths[p]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+td(o.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",c=s.x,A=s.y,d=s.options||{},h=s.mutex||{},f=h.pdfEscape,u=h.activeFontKey,g=h.fonts,m=u,x="",p=0,y="",w=g[m].encoding;if(g[m].encoding!=="Identity-H")return{text:o,x:c,y:A,options:d,mutex:h};for(y=o,m=u,Array.isArray(o)&&(y=o[0]),p=0;p<y.length;p+=1)g[m].metadata.hasOwnProperty("cmap")&&(a=g[m].metadata.cmap.unicode.codeMap[y[p].charCodeAt(0)]),a||y[p].charCodeAt(0)<256&&g[m].metadata.hasOwnProperty("Unicode")?x+=y[p]:x+="";var b="";return parseInt(m.slice(1))<14||w==="WinAnsiEncoding"?b=f(x,m).split("").map(function(I){return I.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(b=r(x,g[m])),h.isHex=!0,{text:b,x:c,y:A,options:d,mutex:h}};t.events.push(["postProcessText",function(s){var a=s.text||"",o=[],c={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var A=0;for(A=0;A<a.length;A+=1)Array.isArray(a[A])&&a[A].length===3?o.push([i(Object.assign({},c,{text:a[A][0]})).text,a[A][1],a[A][2]]):o.push(i(Object.assign({},c,{text:a[A]})).text);s.text=o}else s.text=i(Object.assign({},c,{text:a})).text}])}(hr),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(hr.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,s,a,o,c,A,d,h=t,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","Â«","Â»","Â«","â€¹","â€º","â€¹","â…","â†","â…","â½","â¾","â½","â‚","â‚Ž","â‚","â‰¤","â‰¥","â‰¤","âŒ©","âŒª","âŒ©","ï¹™","ï¹š","ï¹™","ï¹›","ï¹œ","ï¹›","ï¹","ï¹ž","ï¹","ï¹¤","ï¹¥","ï¹¤"],p=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,w=0;this.__bidiEngine__={};var b=function(q){var T=q.charCodeAt(),K=T>>8,v=m[K];return v!==void 0?h[256*v+(255&T)]:K===252||K===253?"AL":p.test(K)?"L":K===8?"R":"N"},I=function(q){for(var T,K=0;K<q.length;K++){if((T=b(q.charAt(K)))==="L")return!1;if(T==="R")return!0}return!1},F=function(q,T,K,v){var re,ge,Y,fe,le=T[v];switch(le){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"N":case"AN":break;case"EN":y&&(le="AN");break;case"AL":y=!0,le="R";break;case"WS":case"BN":le="N";break;case"CS":v<1||v+1>=T.length||(re=K[v-1])!=="EN"&&re!=="AN"||(ge=T[v+1])!=="EN"&&ge!=="AN"?le="N":y&&(ge="AN"),le=ge===re?ge:"N";break;case"ES":le=(re=v>0?K[v-1]:"B")==="EN"&&v+1<T.length&&T[v+1]==="EN"?"EN":"N";break;case"ET":if(v>0&&K[v-1]==="EN"){le="EN";break}if(y){le="N";break}for(Y=v+1,fe=T.length;Y<fe&&T[Y]==="ET";)Y++;le=Y<fe&&T[Y]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(fe=T.length,Y=v+1;Y<fe&&T[Y]==="NSM";)Y++;if(Y<fe){var ne=q[v],ae=ne>=1425&&ne<=2303||ne===64286;if(re=T[Y],ae&&(re==="R"||re==="AL")){le="R";break}}}le=v<1||(re=T[v-1])==="B"?"N":K[v-1];break;case"B":y=!1,i=!0,le=w;break;case"S":s=!0,le="N"}return le},R=function(q,T,K){var v=q.split("");return K&&Q(v,K,{hiLevel:w}),v.reverse(),T&&T.reverse(),v.join("")},Q=function(q,T,K){var v,re,ge,Y,fe,le=-1,ne=q.length,ae=0,_=[],O=w?u:f,G=[];for(y=!1,i=!1,s=!1,re=0;re<ne;re++)G[re]=b(q[re]);for(ge=0;ge<ne;ge++){if(fe=ae,_[ge]=F(q,G,_,ge),v=240&(ae=O[fe][g[_[ge]]]),ae&=15,T[ge]=Y=O[ae][5],v>0)if(v===16){for(re=le;re<ge;re++)T[re]=1;le=-1}else le=-1;if(O[ae][6])le===-1&&(le=ge);else if(le>-1){for(re=le;re<ge;re++)T[re]=Y;le=-1}G[ge]==="B"&&(T[ge]=0),K.hiLevel|=Y}s&&function(oe,Ae,U){for(var M=0;M<U;M++)if(oe[M]==="S"){Ae[M]=w;for(var J=M-1;J>=0&&oe[J]==="WS";J--)Ae[J]=w}}(G,T,ne)},k=function(q,T,K,v,re){if(!(re.hiLevel<q)){if(q===1&&w===1&&!i)return T.reverse(),void(K&&K.reverse());for(var ge,Y,fe,le,ne=T.length,ae=0;ae<ne;){if(v[ae]>=q){for(fe=ae+1;fe<ne&&v[fe]>=q;)fe++;for(le=ae,Y=fe-1;le<Y;le++,Y--)ge=T[le],T[le]=T[Y],T[Y]=ge,K&&(ge=K[le],K[le]=K[Y],K[Y]=ge);ae=fe}ae++}}},$=function(q,T,K){var v=q.split(""),re={hiLevel:w};return K||(K=[]),Q(v,K,re),function(ge,Y,fe){if(fe.hiLevel!==0&&d)for(var le,ne=0;ne<ge.length;ne++)Y[ne]===1&&(le=x.indexOf(ge[ne]))>=0&&(ge[ne]=x[le+1])}(v,K,re),k(2,v,T,K,re),k(1,v,T,K,re),v.join("")};return this.__bidiEngine__.doBidiReorder=function(q,T,K){if(function(re,ge){if(ge)for(var Y=0;Y<re.length;Y++)ge[Y]=Y;o===void 0&&(o=I(re)),A===void 0&&(A=I(re))}(q,T),a||!c||A)if(a&&c&&o^A)w=o?1:0,q=R(q,T,K);else if(!a&&c&&A)w=o?1:0,q=$(q,T,K),q=R(q,T);else if(!a||o||c||A){if(a&&!c&&o^A)q=R(q,T),o?(w=0,q=$(q,T,K)):(w=1,q=$(q,T,K),q=R(q,T));else if(a&&o&&!c&&A)w=1,q=$(q,T,K),q=R(q,T);else if(!a&&!c&&o^A){var v=d;o?(w=1,q=$(q,T,K),w=0,d=!1,q=$(q,T,K),d=v):(w=0,q=$(q,T,K),q=R(q,T),w=1,d=!1,q=$(q,T,K),d=v,q=R(q,T))}}else w=0,q=$(q,T,K);else w=o?1:0,q=$(q,T,K);return q},this.__bidiEngine__.setOptions=function(q){q&&(a=q.isInputVisual,c=q.isOutputVisual,o=q.isInputRtl,A=q.isOutputRtl,d=q.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([r.doBidiReorder(i[o])]);n.text=a}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(hr),hr.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new EA(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new aW(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new GG(this.contents),this.head=new $G(this),this.name=new ZG(this),this.cmap=new xU(this),this.toUnicode={},this.hhea=new VG(this),this.maxp=new eW(this),this.hmtx=new tW(this),this.post=new YG(this),this.os2=new XG(this),this.loca=new sW(this),this.glyf=new rW(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,c,A;for(A=[],a=0,o=(c=this.bbox).length;a<o;a++)t=c[a],A.push(Math.round(t*this.scaleFactor));return A}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,s,a,o;for(a=0,s=0,o=(t=""+t).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=t.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return a*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Al,EA=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,s,a,o,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*a+256*o+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,s;for(s=[],n=0,i=t.length;n<i;n++)r=t[n],s.push(this.writeByte(r));return s},e}(),GG=function(){var e;function t(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,s,a,o,c,A,d,h,f,u,g,m;for(m in u=Object.keys(r).length,c=Math.log(2),h=16*Math.floor(Math.log(u)/c),a=Math.floor(h/c),d=16*u-h,(i=new EA).writeInt(this.scalarType),i.writeShort(u),i.writeShort(h),i.writeShort(a),i.writeShort(d),s=16*u,A=i.pos+s,o=null,g=[],r)for(f=r[m],i.writeString(m),i.writeInt(e(f)),i.writeInt(A),i.writeInt(f.length),g=g.concat(f),m==="head"&&(o=A),A+=f.length;A%4;)g.push(0),A++;return i.write(g),n=2981146554-e(i.data),i.pos=o+8,i.writeUInt32(n),i.data},e=function(r){var n,i,s,a;for(r=BU.call(r);r.length%4;)r.push(0);for(s=new EA(r),i=0,n=0,a=r.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},t}(),WG={}.hasOwnProperty,Hl=function(e,t){for(var r in t)WG.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Al=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var $G=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hl(e,Al),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new EA).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),WN=function(){function e(t,r){var n,i,s,a,o,c,A,d,h,f,u,g,m,x,p,y,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(u=t.readUInt16(),f=u/2,t.pos+=6,s=function(){var b,I;for(I=[],c=b=0;0<=f?b<f:b>f;c=0<=f?++b:--b)I.push(t.readUInt16());return I}(),t.pos+=2,m=function(){var b,I;for(I=[],c=b=0;0<=f?b<f:b>f;c=0<=f?++b:--b)I.push(t.readUInt16());return I}(),A=function(){var b,I;for(I=[],c=b=0;0<=f?b<f:b>f;c=0<=f?++b:--b)I.push(t.readUInt16());return I}(),d=function(){var b,I;for(I=[],c=b=0;0<=f?b<f:b>f;c=0<=f?++b:--b)I.push(t.readUInt16());return I}(),i=(this.length-t.pos+this.offset)/2,o=function(){var b,I;for(I=[],c=b=0;0<=i?b<i:b>i;c=0<=i?++b:--b)I.push(t.readUInt16());return I}(),c=p=0,w=s.length;p<w;c=++p)for(x=s[c],n=y=g=m[c];g<=x?y<=x:y>=x;n=g<=x?++y:--y)d[c]===0?a=n+A[c]:(a=o[d[c]/2+(n-g)-(f-c)]||0)!==0&&(a+=A[c]),this.codeMap[n]=65535&a}t.pos=h}return e.encode=function(t,r){var n,i,s,a,o,c,A,d,h,f,u,g,m,x,p,y,w,b,I,F,R,Q,k,$,q,T,K,v,re,ge,Y,fe,le,ne,ae,_,O,G,oe,Ae,U,M,J,ce,ee,Z;switch(v=new EA,a=Object.keys(t).sort(function(me,B){return me-B}),r){case"macroman":for(m=0,x=function(){var me=[];for(g=0;g<256;++g)me.push(0);return me}(),y={0:0},s={},re=0,le=a.length;re<le;re++)y[J=t[i=a[re]]]==null&&(y[J]=++m),s[i]={old:t[i],new:y[t[i]]},x[i]=y[t[i]];return v.writeUInt16(1),v.writeUInt16(0),v.writeUInt32(12),v.writeUInt16(0),v.writeUInt16(262),v.writeUInt16(0),v.write(x),{charMap:s,subtable:v.data,maxGlyphID:m+1};case"unicode":for(T=[],h=[],w=0,y={},n={},p=A=null,ge=0,ne=a.length;ge<ne;ge++)y[I=t[i=a[ge]]]==null&&(y[I]=++w),n[i]={old:I,new:y[I]},o=y[I]-i,p!=null&&o===A||(p&&h.push(p),T.push(i),A=o),p=i;for(p&&h.push(p),h.push(65535),T.push(65535),$=2*(k=T.length),Q=2*Math.pow(Math.log(k)/Math.LN2,2),f=Math.log(Q/2)/Math.LN2,R=2*k-Q,c=[],F=[],u=[],g=Y=0,ae=T.length;Y<ae;g=++Y){if(q=T[g],d=h[g],q===65535){c.push(0),F.push(0);break}if(q-(K=n[q].new)>=32768)for(c.push(0),F.push(2*(u.length+k-g)),i=fe=q;q<=d?fe<=d:fe>=d;i=q<=d?++fe:--fe)u.push(n[i].new);else c.push(K-q),F.push(0)}for(v.writeUInt16(3),v.writeUInt16(1),v.writeUInt32(12),v.writeUInt16(4),v.writeUInt16(16+8*k+2*u.length),v.writeUInt16(0),v.writeUInt16($),v.writeUInt16(Q),v.writeUInt16(f),v.writeUInt16(R),U=0,_=h.length;U<_;U++)i=h[U],v.writeUInt16(i);for(v.writeUInt16(0),M=0,O=T.length;M<O;M++)i=T[M],v.writeUInt16(i);for(ce=0,G=c.length;ce<G;ce++)o=c[ce],v.writeUInt16(o);for(ee=0,oe=F.length;ee<oe;ee++)b=F[ee],v.writeUInt16(b);for(Z=0,Ae=u.length;Z<Ae;Z++)m=u[Z],v.writeUInt16(m);return{charMap:n,subtable:v.data,maxGlyphID:w+1}}},e}(),xU=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hl(e,Al),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new WN(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,i;return r==null&&(r="macroman"),n=WN.encode(t,r),(i=new EA).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},e}(),VG=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hl(e,Al),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),XG=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hl(e,Al),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),YG=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hl(e,Al),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)r=t.readByte(),i.push(this.names.push(t.readString(r)));return i;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var a,o,c;for(c=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)c.push(t.readUInt32());return c}).call(this)}},e}(),JG=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},ZG=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hl(e,Al),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,i,s,a,o,c,A,d,h,f;for(t.pos=this.offset,t.readShort(),r=t.readShort(),o=t.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(c={},s=d=0,h=n.length;d<h;s=++d)i=n[s],t.pos=i.offset,A=t.readString(i.length),a=new JG(A,i),c[f=i.nameID]==null&&(c[f]=[]),c[i.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),eW=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hl(e,Al),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),tW=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hl(e,Al),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,i,s,a,o,c;for(t.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var A,d;for(d=[],r=A=0;0<=i?A<i:A>i;r=0<=i?++A:--A)d.push(t.readInt16());return d}(),this.widths=(function(){var A,d,h,f;for(f=[],A=0,d=(h=this.metrics).length;A<d;A++)s=h[A],f.push(s.advance);return f}).call(this),n=this.widths[this.widths.length-1],c=[],r=a=0;0<=i?a<i:a>i;r=0<=i?++a:--a)c.push(this.widths.push(n));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),BU=[].slice,rW=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hl(e,Al),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,i,s,a,o,c,A,d,h;return t in this.cache?this.cache[t]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(t),(i=s.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,a=(o=new EA(r.read(i))).readShort(),A=o.readShort(),h=o.readShort(),c=o.readShort(),d=o.readShort(),this.cache[t]=a===-1?new iW(o,A,h,c,d):new nW(o,a,A,h,c,d),this.cache[t]))},e.prototype.encode=function(t,r,n){var i,s,a,o,c;for(a=[],s=[],o=0,c=r.length;o<c;o++)i=t[r[o]],s.push(a.length),i&&(a=a.concat(i.encode(n)));return s.push(a.length),{table:a,offsets:s}},e}(),nW=function(){function e(t,r,n,i,s,a){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),iW=function(){function e(t,r,n,i,s){var a,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new EA(BU.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),sW=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hl(e,Al),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(t.readUInt32());return s}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<n.length;++a)if(n[a]=i,s<r.length&&r[s]==a){++s,n[a]=i;var o=this.offsets[a],c=this.offsets[a+1]-o;c>0&&(i+=c)}for(var A=new Array(4*n.length),d=0;d<n.length;++d)A[4*d+3]=255&n[d],A[4*d+2]=(65280&n[d])>>8,A[4*d+1]=(16711680&n[d])>>16,A[4*d]=(4278190080&n[d])>>24;return A},e}(),aW=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,s,a,o,c;for(i={},a=0,o=t.length;a<o;a++)i[s=t[a]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in c=this.glyphsFor(r))n=c[s],i[s]=n;return i},e.prototype.encode=function(t,r){var n,i,s,a,o,c,A,d,h,f,u,g,m,x,p;for(i in n=xU.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),u={0:0},p=n.charMap)u[(c=p[i]).old]=c.new;for(g in f=n.maxGlyphID,a)g in u||(u[g]=f++);return d=function(y){var w,b;for(w in b={},y)b[y[w]]=w;return b}(u),h=Object.keys(d).sort(function(y,w){return y-w}),m=function(){var y,w,b;for(b=[],y=0,w=h.length;y<w;y++)o=h[y],b.push(d[o]);return b}(),s=this.font.glyf.encode(a,m,u),A=this.font.loca.encode(s.offsets,m),x={cmap:this.font.cmap.raw(),glyf:s.table,loca:A,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},e}();hr.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,s,a;if(Array.isArray(r))return"["+function(){var o,c,A;for(A=[],o=0,c=r.length;o<c;o++)n=r[o],A.push(t.convert(n));return A}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)a=r[i],s.push("/"+i+" "+t.convert(a));return s.push(">>"),s.join(`
`)}return""+r},t}();class oW{escapeHtml(t){if(!t)return"";const r=document.createElement("div");return r.textContent=t,r.innerHTML}generateCoverPage(t,r,n,i,s){const a=(s==null?void 0:s.showOrangeLine)!==!1;s==null||s.showOrganization;const o=(s==null?void 0:s.showProjectName)!==!1;return s!=null&&s.organizationName,s!=null&&s.logoText,`
      <div style="min-height: 800px; display: flex; flex-direction: column; align-items: center; justify-content: center; position: relative; background-color: #FFFFFF; padding: 40px; margin-bottom: 40px;">
        ${a?'<div style="position: absolute; top: 0; bottom: 0; right: 20%; width: 4px; background-color: #FF6B35;"></div>':""}
        
        ${o?`
        <div style="text-align: center; margin-bottom: 40pt; width: 80%; max-width: 600px;">
          <h2 style="font-size: 36pt; font-weight: bold; color: #1F2937; margin-bottom: 16pt; margin-top: 0;">${this.escapeHtml(t)}</h2>
          ${r?`<p style="font-size: 20pt; color: #4B5563; margin-bottom: 24pt;">${this.escapeHtml(r)}</p>`:""}
        </div>
        `:""}
      </div>
    `}removeDuplicateSectionTitle(t,r){if(!t||!r)return t;const n=r.match(/(\d+\.\s*)?(.+)/),s=(n?n[2].trim():r.trim()).replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),o=[new RegExp(`<h[123][^>]*>\\s*${a}\\s*</h[123]>`,"gi"),new RegExp(`<h[123][^>]*>\\s*\\d+\\.\\s*${s}\\s*</h[123]>`,"gi"),new RegExp(`<h[123][^>]*>\\s*${s}\\s*</h[123]>`,"gi"),new RegExp(`<h[123][^>]*>\\s*(\\d+\\.\\s*)?${s}\\s*</h[123]>`,"gi")];let c=t;for(const A of o)c=c.replace(A,"");return c.trim()}formatContentForPdf(t){if(!t)return"";let r=t.trim();return r=r.replace(/<p>\s*<\/p>/gi,""),r=r.replace(/<p><\/p>/gi,""),r=r.replace(/>\s+</g,"><"),r=r.replace(/\n\s*\n\s*\n+/g,`
`),r=r.replace(/<div[^>]*>\s*<\/div>/gi,""),r.trim()}createTempHtmlElement(t){const r=document.createElement("div");r.style.position="fixed",r.style.top="0",r.style.left="0",r.style.width="100vw",r.style.height="100vh",r.style.overflow="auto",r.style.zIndex="999999",r.style.backgroundColor="#FFFFFF",r.style.pointerEvents="none";const n=document.createElement("div");return n.style.width="794px",n.style.maxWidth="794px",n.style.margin="0 auto",n.style.padding="76px",n.style.fontFamily="Arial, sans-serif",n.style.fontSize="11pt",n.style.lineHeight="1.5",n.style.color="#000000",n.style.backgroundColor="#FFFFFF",n.style.boxSizing="border-box",n.style.minHeight="1123px",n.innerHTML=t,r.appendChild(n),document.body.appendChild(r),n.offsetHeight,n.offsetWidth,n.scrollHeight,n.scrollWidth,n}generateHtmlDocument(t){const{sections:r,generatedContent:n,projectContext:i,coverPageSettings:s}=t,a=r;return`
      <!DOCTYPE html>
      <html>
      <head>
        <meta charset="utf-8">
        <style>
          * {
            box-sizing: border-box;
          }
          
          body {
            font-family: 'Arial', 'Calibri', sans-serif;
            font-size: 11pt;
            line-height: 1.5;
            color: #000000;
            margin: 0;
            padding: 0;
            background-color: #FFFFFF;
            width: 100%;
            min-height: 100vh;
          }
          
          .page-container {
            width: 794px;
            min-height: 1123px;
            padding: 76px;
            background-color: #FFFFFF;
            margin: 0 auto;
          }
          
          h1 {
            color: #8B1A1A;
            font-size: 24pt;
            font-weight: bold;
            margin-top: 0;
            margin-bottom: 12pt;
            page-break-after: avoid;
          }
          
          h2 {
            color: #8B1A1A;
            font-size: 18pt;
            font-weight: bold;
            margin-top: 24pt;
            margin-bottom: 12pt;
            page-break-after: avoid;
            page-break-inside: avoid;
          }
          
          h2:first-of-type {
            margin-top: 0;
          }
          
          h3 {
            color: #333333;
            font-size: 14pt;
            font-weight: bold;
            margin-top: 16pt;
            margin-bottom: 8pt;
            page-break-after: avoid;
          }
          
          h4 {
            color: #555555;
            font-size: 12pt;
            font-weight: bold;
            margin-top: 12pt;
            margin-bottom: 6pt;
          }
          
          p {
            font-size: 11pt;
            margin-top: 0;
            margin-bottom: 12pt;
            text-align: justify;
          }
          
          ul, ol {
            margin-top: 0;
            margin-bottom: 12pt;
            padding-left: 36pt;
          }
          
          li {
            font-size: 11pt;
            margin-top: 0;
            margin-bottom: 6pt;
            line-height: 1.5;
          }
          
          table {
            border-collapse: collapse;
            width: 100%;
            margin-top: 12pt;
            margin-bottom: 12pt;
            page-break-inside: avoid;
          }
          
          th, td {
            border: 1px solid #333333;
            padding: 6pt;
            text-align: left;
            font-size: 10pt;
            vertical-align: top;
          }
          
          th {
            background-color: #f0f0f0;
            font-weight: bold;
            text-align: center;
          }
          
          .section-container {
            page-break-inside: avoid;
            margin-top: 24pt;
            margin-bottom: 24pt;
          }
          
          .section-content {
            margin-top: 12pt;
          }
          
          blockquote {
            margin: 12pt 24pt;
            padding-left: 12pt;
            border-left: 3px solid #8B1A1A;
            font-style: italic;
          }
          
          code {
            font-family: 'Courier New', monospace;
            font-size: 10pt;
            background-color: #f5f5f5;
            padding: 2pt 4pt;
          }
          
          pre {
            font-family: 'Courier New', monospace;
            font-size: 10pt;
            background-color: #f5f5f5;
            padding: 12pt;
            border: 1px solid #ddd;
            overflow-x: auto;
            page-break-inside: avoid;
            margin-top: 0;
            margin-bottom: 12pt;
          }
        </style>
      </head>
      <body>
        <div class="page-container">
        ${this.generateCoverPage(i||"Solution Design Document","",(s==null?void 0:s.version)||"1.0",(s==null?void 0:s.date)||new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"}),s)}
        
        <div style="margin-top: 0;">
          ${a.map((c,A)=>{try{let d=n[c.id];if(c.id==="table-of-contents"){const f=a.map(u=>{var g;return{...u,displayNumber:typeof u=="object"&&"displayNumber"in u?u.displayNumber:parseInt(((g=(u.title||"").match(/^(\d+)\./))==null?void 0:g[1])||"0")}});d=WA(f,n),(!d||d.trim()==="")&&(d="<p><em>Table of Contents will be generated once sections are created.</em></p>")}if(c.id==="cover-page")return"";let h="";if(A>0&&(h+=`<!-- Section Break -->
`),h+=`<div class="section-container" data-section-id="${c.id}" style="margin-bottom: 30px; padding-bottom: 20px; border-bottom: 1px solid #e5e5e5;">`,h+=`<h2 style="color: #8B1A1A; font-size: 18pt; font-weight: bold; margin-top: 24px; margin-bottom: 12px;">${this.escapeHtml(c.title)}</h2>`,d){const f=this.removeDuplicateSectionTitle(d,c.title);let u=this.formatContentForPdf(f);u&&u.trim()!==""?h+=`<div class="section-content" style="line-height: 1.6;">${u}</div>`:h+='<p style="color: #666; font-style: italic;">Content pending generation.</p>'}else h+='<p style="color: #666; font-style: italic;">Content pending generation.</p>';return h+="</div>",h}catch(d){return console.error(`Error processing section ${c.title}:`,d),`<div class="section-container" data-section-id="${c.id}" style="margin-bottom: 30px;">
                <h2 style="color: #8B1A1A; font-size: 18pt; font-weight: bold; margin-top: 24px; margin-bottom: 12px;">${this.escapeHtml(c.title)}</h2>
                <p style="color: #d00; font-style: italic;">Error loading content for this section.</p>
              </div>`}}).filter(c=>c!=="").join(`
`)}
        </div>
        </div>
      </body>
      </html>
    `}exportToWord(t,r){throw new Error("Use exportToPdf method for PDF export")}async waitForImages(t){const r=t.querySelectorAll("img"),n=[];r.forEach(i=>{if(i.complete)return;const s=new Promise(a=>{i.onload=()=>a(),i.onerror=()=>{console.warn("Image failed to load:",i.src),a()},setTimeout(()=>{console.warn("Image load timeout:",i.src),a()},5e3)});n.push(s)}),await Promise.all(n),await new Promise(i=>setTimeout(i,300))}async exportToPdf(t,r){var i;let n=null;try{const s=this.generateHtmlDocument(t);if(!s||s.length<100)throw new Error("Generated HTML content is too short or empty");if(console.log("Generated HTML length:",s.length),console.log("HTML preview:",s.substring(0,500)),n=this.createTempHtmlElement(s),!n||!n.parentNode)throw new Error("Failed to create temporary element");if(!n)throw new Error("Temporary element is null after creation");n.style.opacity="1",n.style.visibility="visible",n.style.display="block",await this.waitForImages(n);const a=()=>{n&&(n.offsetHeight,n.offsetWidth,n.scrollHeight,n.scrollWidth)};if(a(),await new Promise(k=>setTimeout(k,200)),a(),!n)throw new Error("Temporary element became null during processing");const o=n.getBoundingClientRect(),c=n.scrollWidth||o.width||794,A=n.scrollHeight||o.height;if(console.log("Element dimensions:",{scrollWidth:n.scrollWidth,scrollHeight:n.scrollHeight,clientWidth:n.clientWidth,clientHeight:n.clientHeight,rectWidth:o.width,rectHeight:o.height,computedWidth:c,computedHeight:A,innerHTMLLength:n.innerHTML.length}),n.scrollHeight===0||A===0)throw console.error("Element has no height. Checking content..."),console.error("Element innerHTML length:",n.innerHTML.length),console.error("Element text content:",(i=n.textContent)==null?void 0:i.substring(0,200)),console.error("Element children count:",n.children.length),new Error("Element has no height - content may not be rendering. Check console for details.");const d=n.textContent||"";d.trim().length<10&&console.warn("Warning: Element has very little text content:",d.length,"characters"),await new Promise(k=>setTimeout(k,1e3));const h=await fj(n,{scale:1.5,useCORS:!0,allowTaint:!1,logging:!1,backgroundColor:"#FFFFFF",width:c,height:A,windowWidth:c,windowHeight:A,removeContainer:!1,imageTimeout:15e3,onclone:(k,$)=>{const q=$;q.style.opacity="1",q.style.visibility="visible",q.style.display="block",q.style.position="static",q.style.width=`${c}px`,q.style.height="auto",q.style.minHeight=`${A}px`,q.querySelectorAll("*").forEach(v=>{const re=v;re.style&&(re.style.display==="none"&&(re.style.display="block"),re.style.visibility==="hidden"&&(re.style.visibility="visible"),re.style.opacity==="0"&&(re.style.opacity="1"))}),k.querySelectorAll("img").forEach(v=>{(!v.complete||!v.naturalWidth)&&(v.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iI2VlZSIvPjx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiM5OTkiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5JbWFnZSBub3QgYXZhaWxhYmxlPC90ZXh0Pjwvc3ZnPg==")})}});if(!h)throw new Error("Canvas is null - html2canvas failed to create canvas");if(h.width===0||h.height===0)throw console.error("Canvas dimensions:",{width:h.width,height:h.height}),console.error("Element dimensions:",{scrollWidth:n.scrollWidth,scrollHeight:n.scrollHeight,clientWidth:n.clientWidth,clientHeight:n.clientHeight}),new Error(`Canvas is empty: width=${h.width}, height=${h.height}`);if(console.log("Canvas created successfully:",{width:h.width,height:h.height,elementWidth:n.scrollWidth,elementHeight:n.scrollHeight}),n&&n.parentNode){const k=n.parentNode;k&&k.parentNode===document.body?document.body.removeChild(k):n.parentNode===document.body&&document.body.removeChild(n),n=null}let f;try{if(f=h.toDataURL("image/png",.95),!f||f.length<100||!f.startsWith("data:image/png"))throw new Error("Invalid PNG data generated")}catch(k){console.error("Error generating data URL:",k),f=h.toDataURL("image/jpeg",.95)}const u=210,g=297,m=h.width,x=h.height,p=new hr("portrait","mm","a4"),y=g,w=u,b=x*w/m;let I=b,F=0;const R=f.startsWith("data:image/png")?"PNG":"JPEG";for(p.addImage(f,R,0,F,w,b),I-=y;I>0;)F=I-b,p.addPage(),p.addImage(f,R,0,F,w,b),I-=y;const Q=`Solution_Architecture_Design_${(r||"Document").replace(/\s+/g,"_")}.pdf`;p.save(Q),console.log("âœ… PDF export completed:",{fileName:Q,pages:p.getNumberOfPages(),imageHeight:b,canvasHeight:x,canvasWidth:m})}catch(s){if(n&&n.parentNode)try{const a=n.parentNode;a&&a.parentNode===document.body?document.body.removeChild(a):n.parentNode===document.body&&document.body.removeChild(n)}catch(a){console.warn("Error cleaning up temporary element:",a)}throw console.error("Error exporting to PDF:",s),s}}}var lW=Object.defineProperty,cW=Object.defineProperties,AW=Object.getOwnPropertyDescriptors,$N=Object.getOwnPropertySymbols,uW=Object.prototype.hasOwnProperty,dW=Object.prototype.propertyIsEnumerable,$2=(e,t,r)=>t in e?lW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,sn=(e,t)=>{for(var r in t||(t={}))uW.call(t,r)&&$2(e,r,t[r]);if($N)for(var r of $N(t))dW.call(t,r)&&$2(e,r,t[r]);return e},nh=(e,t)=>cW(e,AW(t)),bt=(e,t,r)=>$2(e,typeof t!="symbol"?t+"":t,r),hW=(e,t,r)=>new Promise((n,i)=>{var s=c=>{try{o(r.next(c))}catch(A){i(A)}},a=c=>{try{o(r.throw(c))}catch(A){i(A)}},o=c=>c.done?n(c.value):Promise.resolve(c.value).then(s,a);o((r=r.apply(e,t)).next())});class my{constructor(t){bt(this,"rootKey"),this.rootKey=t}}const fW=Object.seal({});class Bt extends my{constructor(t){super(t),bt(this,"root"),this.root=new Array}prepForXml(t){var r;t.stack.push(this);const n=this.root.map(i=>i instanceof my?i.prepForXml(t):i).filter(i=>i!==void 0);return t.stack.pop(),{[this.rootKey]:n.length?n.length===1&&((r=n[0])!=null&&r._attr)?n[0]:n:fW}}addChildElement(t){return this.root.push(t),this}}class _c extends Bt{prepForXml(t){const r=super.prepForXml(t);if(r&&(typeof r[this.rootKey]!="object"||Object.keys(r[this.rootKey]).length))return r}}class wr extends my{constructor(t){super("_attr"),bt(this,"xmlKeys"),this.root=t}prepForXml(t){const r={};return Object.entries(this.root).forEach(([n,i])=>{if(i!==void 0){const s=this.xmlKeys&&this.xmlKeys[n]||n;r[s]=i}}),{_attr:r}}}class kA extends my{constructor(t){super("_attr"),this.root=t}prepForXml(t){return{_attr:Object.values(this.root).filter(({value:n})=>n!==void 0).reduce((n,{key:i,value:s})=>nh(sn({},n),{[i]:s}),{})}}}class oi extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var jl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function CU(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nb={},Ng={exports:{}},VN;function PB(){if(VN)return Ng.exports;VN=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(I,F,R){return Function.prototype.apply.call(I,F,R)},r;e&&typeof e.ownKeys=="function"?r=e.ownKeys:Object.getOwnPropertySymbols?r=function(I){return Object.getOwnPropertyNames(I).concat(Object.getOwnPropertySymbols(I))}:r=function(I){return Object.getOwnPropertyNames(I)};function n(b){console&&console.warn&&console.warn(b)}var i=Number.isNaN||function(I){return I!==I};function s(){s.init.call(this)}Ng.exports=s,Ng.exports.once=p,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function o(b){if(typeof b!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(b){if(typeof b!="number"||b<0||i(b))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+b+".");a=b}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(I){if(typeof I!="number"||I<0||i(I))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+I+".");return this._maxListeners=I,this};function c(b){return b._maxListeners===void 0?s.defaultMaxListeners:b._maxListeners}s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(I){for(var F=[],R=1;R<arguments.length;R++)F.push(arguments[R]);var Q=I==="error",k=this._events;if(k!==void 0)Q=Q&&k.error===void 0;else if(!Q)return!1;if(Q){var $;if(F.length>0&&($=F[0]),$ instanceof Error)throw $;var q=new Error("Unhandled error."+($?" ("+$.message+")":""));throw q.context=$,q}var T=k[I];if(T===void 0)return!1;if(typeof T=="function")t(T,this,F);else for(var K=T.length,v=g(T,K),R=0;R<K;++R)t(v[R],this,F);return!0};function A(b,I,F,R){var Q,k,$;if(o(F),k=b._events,k===void 0?(k=b._events=Object.create(null),b._eventsCount=0):(k.newListener!==void 0&&(b.emit("newListener",I,F.listener?F.listener:F),k=b._events),$=k[I]),$===void 0)$=k[I]=F,++b._eventsCount;else if(typeof $=="function"?$=k[I]=R?[F,$]:[$,F]:R?$.unshift(F):$.push(F),Q=c(b),Q>0&&$.length>Q&&!$.warned){$.warned=!0;var q=new Error("Possible EventEmitter memory leak detected. "+$.length+" "+String(I)+" listeners added. Use emitter.setMaxListeners() to increase limit");q.name="MaxListenersExceededWarning",q.emitter=b,q.type=I,q.count=$.length,n(q)}return b}s.prototype.addListener=function(I,F){return A(this,I,F,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(I,F){return A(this,I,F,!0)};function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(b,I,F){var R={fired:!1,wrapFn:void 0,target:b,type:I,listener:F},Q=d.bind(R);return Q.listener=F,R.wrapFn=Q,Q}s.prototype.once=function(I,F){return o(F),this.on(I,h(this,I,F)),this},s.prototype.prependOnceListener=function(I,F){return o(F),this.prependListener(I,h(this,I,F)),this},s.prototype.removeListener=function(I,F){var R,Q,k,$,q;if(o(F),Q=this._events,Q===void 0)return this;if(R=Q[I],R===void 0)return this;if(R===F||R.listener===F)--this._eventsCount===0?this._events=Object.create(null):(delete Q[I],Q.removeListener&&this.emit("removeListener",I,R.listener||F));else if(typeof R!="function"){for(k=-1,$=R.length-1;$>=0;$--)if(R[$]===F||R[$].listener===F){q=R[$].listener,k=$;break}if(k<0)return this;k===0?R.shift():m(R,k),R.length===1&&(Q[I]=R[0]),Q.removeListener!==void 0&&this.emit("removeListener",I,q||F)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(I){var F,R,Q;if(R=this._events,R===void 0)return this;if(R.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):R[I]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete R[I]),this;if(arguments.length===0){var k=Object.keys(R),$;for(Q=0;Q<k.length;++Q)$=k[Q],$!=="removeListener"&&this.removeAllListeners($);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(F=R[I],typeof F=="function")this.removeListener(I,F);else if(F!==void 0)for(Q=F.length-1;Q>=0;Q--)this.removeListener(I,F[Q]);return this};function f(b,I,F){var R=b._events;if(R===void 0)return[];var Q=R[I];return Q===void 0?[]:typeof Q=="function"?F?[Q.listener||Q]:[Q]:F?x(Q):g(Q,Q.length)}s.prototype.listeners=function(I){return f(this,I,!0)},s.prototype.rawListeners=function(I){return f(this,I,!1)},s.listenerCount=function(b,I){return typeof b.listenerCount=="function"?b.listenerCount(I):u.call(b,I)},s.prototype.listenerCount=u;function u(b){var I=this._events;if(I!==void 0){var F=I[b];if(typeof F=="function")return 1;if(F!==void 0)return F.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function g(b,I){for(var F=new Array(I),R=0;R<I;++R)F[R]=b[R];return F}function m(b,I){for(;I+1<b.length;I++)b[I]=b[I+1];b.pop()}function x(b){for(var I=new Array(b.length),F=0;F<I.length;++F)I[F]=b[F].listener||b[F];return I}function p(b,I){return new Promise(function(F,R){function Q($){b.removeListener(I,k),R($)}function k(){typeof b.removeListener=="function"&&b.removeListener("error",Q),F([].slice.call(arguments))}w(b,I,k,{once:!0}),I!=="error"&&y(b,Q,{once:!0})})}function y(b,I,F){typeof b.on=="function"&&w(b,"error",I,F)}function w(b,I,F,R){if(typeof b.on=="function")R.once?b.once(I,F):b.on(I,F);else if(typeof b.addEventListener=="function")b.addEventListener(I,function Q(k){R.once&&b.removeEventListener(I,Q),F(k)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof b)}return Ng.exports}var kg={exports:{}},XN;function IA(){return XN||(XN=1,typeof Object.create=="function"?kg.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:kg.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),kg.exports}function pW(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var EU={exports:{}},_i=EU.exports={},El,Sl;function V2(){throw new Error("setTimeout has not been defined")}function X2(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?El=setTimeout:El=V2}catch{El=V2}try{typeof clearTimeout=="function"?Sl=clearTimeout:Sl=X2}catch{Sl=X2}})();function SU(e){if(El===setTimeout)return setTimeout(e,0);if((El===V2||!El)&&setTimeout)return El=setTimeout,setTimeout(e,0);try{return El(e,0)}catch{try{return El.call(null,e,0)}catch{return El.call(this,e,0)}}}function mW(e){if(Sl===clearTimeout)return clearTimeout(e);if((Sl===X2||!Sl)&&clearTimeout)return Sl=clearTimeout,clearTimeout(e);try{return Sl(e)}catch{try{return Sl.call(null,e)}catch{return Sl.call(this,e)}}}var gc=[],Od=!1,iu,y0=-1;function gW(){!Od||!iu||(Od=!1,iu.length?gc=iu.concat(gc):y0=-1,gc.length&&_U())}function _U(){if(!Od){var e=SU(gW);Od=!0;for(var t=gc.length;t;){for(iu=gc,gc=[];++y0<t;)iu&&iu[y0].run();y0=-1,t=gc.length}iu=null,Od=!1,mW(e)}}_i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];gc.push(new NU(e,t)),gc.length===1&&!Od&&SU(_U)};function NU(e,t){this.fun=e,this.array=t}NU.prototype.run=function(){this.fun.apply(null,this.array)};_i.title="browser";_i.browser=!0;_i.env={};_i.argv=[];_i.version="";_i.versions={};function Nc(){}_i.on=Nc;_i.addListener=Nc;_i.once=Nc;_i.off=Nc;_i.removeListener=Nc;_i.removeAllListeners=Nc;_i.emit=Nc;_i.prependListener=Nc;_i.prependOnceListener=Nc;_i.listeners=function(e){return[]};_i.binding=function(e){throw new Error("process.binding is not supported")};_i.cwd=function(){return"/"};_i.chdir=function(e){throw new Error("process.chdir is not supported")};_i.umask=function(){return 0};var yW=EU.exports;const Kr=pW(yW);var ib,YN;function kU(){return YN||(YN=1,ib=PB().EventEmitter),ib}var sb={},tf={},JN;function wW(){if(JN)return tf;JN=1,tf.byteLength=o,tf.toByteArray=A,tf.fromByteArray=f;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=n.length;i<s;++i)e[i]=n[i],t[n.charCodeAt(i)]=i;t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63;function a(u){var g=u.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=u.indexOf("=");m===-1&&(m=g);var x=m===g?0:4-m%4;return[m,x]}function o(u){var g=a(u),m=g[0],x=g[1];return(m+x)*3/4-x}function c(u,g,m){return(g+m)*3/4-m}function A(u){var g,m=a(u),x=m[0],p=m[1],y=new r(c(u,x,p)),w=0,b=p>0?x-4:x,I;for(I=0;I<b;I+=4)g=t[u.charCodeAt(I)]<<18|t[u.charCodeAt(I+1)]<<12|t[u.charCodeAt(I+2)]<<6|t[u.charCodeAt(I+3)],y[w++]=g>>16&255,y[w++]=g>>8&255,y[w++]=g&255;return p===2&&(g=t[u.charCodeAt(I)]<<2|t[u.charCodeAt(I+1)]>>4,y[w++]=g&255),p===1&&(g=t[u.charCodeAt(I)]<<10|t[u.charCodeAt(I+1)]<<4|t[u.charCodeAt(I+2)]>>2,y[w++]=g>>8&255,y[w++]=g&255),y}function d(u){return e[u>>18&63]+e[u>>12&63]+e[u>>6&63]+e[u&63]}function h(u,g,m){for(var x,p=[],y=g;y<m;y+=3)x=(u[y]<<16&16711680)+(u[y+1]<<8&65280)+(u[y+2]&255),p.push(d(x));return p.join("")}function f(u){for(var g,m=u.length,x=m%3,p=[],y=16383,w=0,b=m-x;w<b;w+=y)p.push(h(u,w,w+y>b?b:w+y));return x===1?(g=u[m-1],p.push(e[g>>2]+e[g<<4&63]+"==")):x===2&&(g=(u[m-2]<<8)+u[m-1],p.push(e[g>>10]+e[g>>4&63]+e[g<<2&63]+"=")),p.join("")}return tf}var Ig={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var ZN;function bW(){return ZN||(ZN=1,Ig.read=function(e,t,r,n,i){var s,a,o=i*8-n-1,c=(1<<o)-1,A=c>>1,d=-7,h=r?i-1:0,f=r?-1:1,u=e[t+h];for(h+=f,s=u&(1<<-d)-1,u>>=-d,d+=o;d>0;s=s*256+e[t+h],h+=f,d-=8);for(a=s&(1<<-d)-1,s>>=-d,d+=n;d>0;a=a*256+e[t+h],h+=f,d-=8);if(s===0)s=1-A;else{if(s===c)return a?NaN:(u?-1:1)*(1/0);a=a+Math.pow(2,n),s=s-A}return(u?-1:1)*a*Math.pow(2,s-n)},Ig.write=function(e,t,r,n,i,s){var a,o,c,A=s*8-i-1,d=(1<<A)-1,h=d>>1,f=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,u=n?0:s-1,g=n?1:-1,m=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,a=d):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),a+h>=1?t+=f/c:t+=f*Math.pow(2,1-h),t*c>=2&&(a++,c/=2),a+h>=d?(o=0,a=d):a+h>=1?(o=(t*c-1)*Math.pow(2,i),a=a+h):(o=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[r+u]=o&255,u+=g,o/=256,i-=8);for(a=a<<i|o,A+=i;A>0;e[r+u]=a&255,u+=g,a/=256,A-=8);e[r+u-g]|=m*128}),Ig}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var e4;function ew(){return e4||(e4=1,function(e){var t=wW(),r=bW(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=o,e.SlowBuffer=y,e.INSPECT_MAX_BYTES=50;var i=2147483647;e.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=s(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var H=new Uint8Array(1),S={foo:function(){return 42}};return Object.setPrototypeOf(S,Uint8Array.prototype),Object.setPrototypeOf(H,S),H.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function a(H){if(H>i)throw new RangeError('The value "'+H+'" is invalid for option "size"');var S=new Uint8Array(H);return Object.setPrototypeOf(S,o.prototype),S}function o(H,S,E){if(typeof H=="number"){if(typeof S=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(H)}return c(H,S,E)}o.poolSize=8192;function c(H,S,E){if(typeof H=="string")return f(H,S);if(ArrayBuffer.isView(H))return g(H);if(H==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H);if(me(H,ArrayBuffer)||H&&me(H.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(me(H,SharedArrayBuffer)||H&&me(H.buffer,SharedArrayBuffer)))return m(H,S,E);if(typeof H=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var P=H.valueOf&&H.valueOf();if(P!=null&&P!==H)return o.from(P,S,E);var de=x(H);if(de)return de;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof H[Symbol.toPrimitive]=="function")return o.from(H[Symbol.toPrimitive]("string"),S,E);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H)}o.from=function(H,S,E){return c(H,S,E)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function A(H){if(typeof H!="number")throw new TypeError('"size" argument must be of type number');if(H<0)throw new RangeError('The value "'+H+'" is invalid for option "size"')}function d(H,S,E){return A(H),H<=0?a(H):S!==void 0?typeof E=="string"?a(H).fill(S,E):a(H).fill(S):a(H)}o.alloc=function(H,S,E){return d(H,S,E)};function h(H){return A(H),a(H<0?0:p(H)|0)}o.allocUnsafe=function(H){return h(H)},o.allocUnsafeSlow=function(H){return h(H)};function f(H,S){if((typeof S!="string"||S==="")&&(S="utf8"),!o.isEncoding(S))throw new TypeError("Unknown encoding: "+S);var E=w(H,S)|0,P=a(E),de=P.write(H,S);return de!==E&&(P=P.slice(0,de)),P}function u(H){for(var S=H.length<0?0:p(H.length)|0,E=a(S),P=0;P<S;P+=1)E[P]=H[P]&255;return E}function g(H){if(me(H,Uint8Array)){var S=new Uint8Array(H);return m(S.buffer,S.byteOffset,S.byteLength)}return u(H)}function m(H,S,E){if(S<0||H.byteLength<S)throw new RangeError('"offset" is outside of buffer bounds');if(H.byteLength<S+(E||0))throw new RangeError('"length" is outside of buffer bounds');var P;return S===void 0&&E===void 0?P=new Uint8Array(H):E===void 0?P=new Uint8Array(H,S):P=new Uint8Array(H,S,E),Object.setPrototypeOf(P,o.prototype),P}function x(H){if(o.isBuffer(H)){var S=p(H.length)|0,E=a(S);return E.length===0||H.copy(E,0,0,S),E}if(H.length!==void 0)return typeof H.length!="number"||B(H.length)?a(0):u(H);if(H.type==="Buffer"&&Array.isArray(H.data))return u(H.data)}function p(H){if(H>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return H|0}function y(H){return+H!=H&&(H=0),o.alloc(+H)}o.isBuffer=function(S){return S!=null&&S._isBuffer===!0&&S!==o.prototype},o.compare=function(S,E){if(me(S,Uint8Array)&&(S=o.from(S,S.offset,S.byteLength)),me(E,Uint8Array)&&(E=o.from(E,E.offset,E.byteLength)),!o.isBuffer(S)||!o.isBuffer(E))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(S===E)return 0;for(var P=S.length,de=E.length,ye=0,ue=Math.min(P,de);ye<ue;++ye)if(S[ye]!==E[ye]){P=S[ye],de=E[ye];break}return P<de?-1:de<P?1:0},o.isEncoding=function(S){switch(String(S).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(S,E){if(!Array.isArray(S))throw new TypeError('"list" argument must be an Array of Buffers');if(S.length===0)return o.alloc(0);var P;if(E===void 0)for(E=0,P=0;P<S.length;++P)E+=S[P].length;var de=o.allocUnsafe(E),ye=0;for(P=0;P<S.length;++P){var ue=S[P];if(me(ue,Uint8Array))ye+ue.length>de.length?o.from(ue).copy(de,ye):Uint8Array.prototype.set.call(de,ue,ye);else if(o.isBuffer(ue))ue.copy(de,ye);else throw new TypeError('"list" argument must be an Array of Buffers');ye+=ue.length}return de};function w(H,S){if(o.isBuffer(H))return H.length;if(ArrayBuffer.isView(H)||me(H,ArrayBuffer))return H.byteLength;if(typeof H!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof H);var E=H.length,P=arguments.length>2&&arguments[2]===!0;if(!P&&E===0)return 0;for(var de=!1;;)switch(S){case"ascii":case"latin1":case"binary":return E;case"utf8":case"utf-8":return M(H).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E*2;case"hex":return E>>>1;case"base64":return ee(H).length;default:if(de)return P?-1:M(H).length;S=(""+S).toLowerCase(),de=!0}}o.byteLength=w;function b(H,S,E){var P=!1;if((S===void 0||S<0)&&(S=0),S>this.length||((E===void 0||E>this.length)&&(E=this.length),E<=0)||(E>>>=0,S>>>=0,E<=S))return"";for(H||(H="utf8");;)switch(H){case"hex":return le(this,S,E);case"utf8":case"utf-8":return v(this,S,E);case"ascii":return Y(this,S,E);case"latin1":case"binary":return fe(this,S,E);case"base64":return K(this,S,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne(this,S,E);default:if(P)throw new TypeError("Unknown encoding: "+H);H=(H+"").toLowerCase(),P=!0}}o.prototype._isBuffer=!0;function I(H,S,E){var P=H[S];H[S]=H[E],H[E]=P}o.prototype.swap16=function(){var S=this.length;if(S%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var E=0;E<S;E+=2)I(this,E,E+1);return this},o.prototype.swap32=function(){var S=this.length;if(S%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var E=0;E<S;E+=4)I(this,E,E+3),I(this,E+1,E+2);return this},o.prototype.swap64=function(){var S=this.length;if(S%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var E=0;E<S;E+=8)I(this,E,E+7),I(this,E+1,E+6),I(this,E+2,E+5),I(this,E+3,E+4);return this},o.prototype.toString=function(){var S=this.length;return S===0?"":arguments.length===0?v(this,0,S):b.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(S){if(!o.isBuffer(S))throw new TypeError("Argument must be a Buffer");return this===S?!0:o.compare(this,S)===0},o.prototype.inspect=function(){var S="",E=e.INSPECT_MAX_BYTES;return S=this.toString("hex",0,E).replace(/(.{2})/g,"$1 ").trim(),this.length>E&&(S+=" ... "),"<Buffer "+S+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(S,E,P,de,ye){if(me(S,Uint8Array)&&(S=o.from(S,S.offset,S.byteLength)),!o.isBuffer(S))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof S);if(E===void 0&&(E=0),P===void 0&&(P=S?S.length:0),de===void 0&&(de=0),ye===void 0&&(ye=this.length),E<0||P>S.length||de<0||ye>this.length)throw new RangeError("out of range index");if(de>=ye&&E>=P)return 0;if(de>=ye)return-1;if(E>=P)return 1;if(E>>>=0,P>>>=0,de>>>=0,ye>>>=0,this===S)return 0;for(var ue=ye-de,ke=P-E,Oe=Math.min(ue,ke),Ue=this.slice(de,ye),_e=S.slice(E,P),Me=0;Me<Oe;++Me)if(Ue[Me]!==_e[Me]){ue=Ue[Me],ke=_e[Me];break}return ue<ke?-1:ke<ue?1:0};function F(H,S,E,P,de){if(H.length===0)return-1;if(typeof E=="string"?(P=E,E=0):E>2147483647?E=2147483647:E<-2147483648&&(E=-2147483648),E=+E,B(E)&&(E=de?0:H.length-1),E<0&&(E=H.length+E),E>=H.length){if(de)return-1;E=H.length-1}else if(E<0)if(de)E=0;else return-1;if(typeof S=="string"&&(S=o.from(S,P)),o.isBuffer(S))return S.length===0?-1:R(H,S,E,P,de);if(typeof S=="number")return S=S&255,typeof Uint8Array.prototype.indexOf=="function"?de?Uint8Array.prototype.indexOf.call(H,S,E):Uint8Array.prototype.lastIndexOf.call(H,S,E):R(H,[S],E,P,de);throw new TypeError("val must be string, number or Buffer")}function R(H,S,E,P,de){var ye=1,ue=H.length,ke=S.length;if(P!==void 0&&(P=String(P).toLowerCase(),P==="ucs2"||P==="ucs-2"||P==="utf16le"||P==="utf-16le")){if(H.length<2||S.length<2)return-1;ye=2,ue/=2,ke/=2,E/=2}function Oe(ut,kt){return ye===1?ut[kt]:ut.readUInt16BE(kt*ye)}var Ue;if(de){var _e=-1;for(Ue=E;Ue<ue;Ue++)if(Oe(H,Ue)===Oe(S,_e===-1?0:Ue-_e)){if(_e===-1&&(_e=Ue),Ue-_e+1===ke)return _e*ye}else _e!==-1&&(Ue-=Ue-_e),_e=-1}else for(E+ke>ue&&(E=ue-ke),Ue=E;Ue>=0;Ue--){for(var Me=!0,Ze=0;Ze<ke;Ze++)if(Oe(H,Ue+Ze)!==Oe(S,Ze)){Me=!1;break}if(Me)return Ue}return-1}o.prototype.includes=function(S,E,P){return this.indexOf(S,E,P)!==-1},o.prototype.indexOf=function(S,E,P){return F(this,S,E,P,!0)},o.prototype.lastIndexOf=function(S,E,P){return F(this,S,E,P,!1)};function Q(H,S,E,P){E=Number(E)||0;var de=H.length-E;P?(P=Number(P),P>de&&(P=de)):P=de;var ye=S.length;P>ye/2&&(P=ye/2);for(var ue=0;ue<P;++ue){var ke=parseInt(S.substr(ue*2,2),16);if(B(ke))return ue;H[E+ue]=ke}return ue}function k(H,S,E,P){return Z(M(S,H.length-E),H,E,P)}function $(H,S,E,P){return Z(J(S),H,E,P)}function q(H,S,E,P){return Z(ee(S),H,E,P)}function T(H,S,E,P){return Z(ce(S,H.length-E),H,E,P)}o.prototype.write=function(S,E,P,de){if(E===void 0)de="utf8",P=this.length,E=0;else if(P===void 0&&typeof E=="string")de=E,P=this.length,E=0;else if(isFinite(E))E=E>>>0,isFinite(P)?(P=P>>>0,de===void 0&&(de="utf8")):(de=P,P=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ye=this.length-E;if((P===void 0||P>ye)&&(P=ye),S.length>0&&(P<0||E<0)||E>this.length)throw new RangeError("Attempt to write outside buffer bounds");de||(de="utf8");for(var ue=!1;;)switch(de){case"hex":return Q(this,S,E,P);case"utf8":case"utf-8":return k(this,S,E,P);case"ascii":case"latin1":case"binary":return $(this,S,E,P);case"base64":return q(this,S,E,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,S,E,P);default:if(ue)throw new TypeError("Unknown encoding: "+de);de=(""+de).toLowerCase(),ue=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function K(H,S,E){return S===0&&E===H.length?t.fromByteArray(H):t.fromByteArray(H.slice(S,E))}function v(H,S,E){E=Math.min(H.length,E);for(var P=[],de=S;de<E;){var ye=H[de],ue=null,ke=ye>239?4:ye>223?3:ye>191?2:1;if(de+ke<=E){var Oe,Ue,_e,Me;switch(ke){case 1:ye<128&&(ue=ye);break;case 2:Oe=H[de+1],(Oe&192)===128&&(Me=(ye&31)<<6|Oe&63,Me>127&&(ue=Me));break;case 3:Oe=H[de+1],Ue=H[de+2],(Oe&192)===128&&(Ue&192)===128&&(Me=(ye&15)<<12|(Oe&63)<<6|Ue&63,Me>2047&&(Me<55296||Me>57343)&&(ue=Me));break;case 4:Oe=H[de+1],Ue=H[de+2],_e=H[de+3],(Oe&192)===128&&(Ue&192)===128&&(_e&192)===128&&(Me=(ye&15)<<18|(Oe&63)<<12|(Ue&63)<<6|_e&63,Me>65535&&Me<1114112&&(ue=Me))}}ue===null?(ue=65533,ke=1):ue>65535&&(ue-=65536,P.push(ue>>>10&1023|55296),ue=56320|ue&1023),P.push(ue),de+=ke}return ge(P)}var re=4096;function ge(H){var S=H.length;if(S<=re)return String.fromCharCode.apply(String,H);for(var E="",P=0;P<S;)E+=String.fromCharCode.apply(String,H.slice(P,P+=re));return E}function Y(H,S,E){var P="";E=Math.min(H.length,E);for(var de=S;de<E;++de)P+=String.fromCharCode(H[de]&127);return P}function fe(H,S,E){var P="";E=Math.min(H.length,E);for(var de=S;de<E;++de)P+=String.fromCharCode(H[de]);return P}function le(H,S,E){var P=H.length;(!S||S<0)&&(S=0),(!E||E<0||E>P)&&(E=P);for(var de="",ye=S;ye<E;++ye)de+=te[H[ye]];return de}function ne(H,S,E){for(var P=H.slice(S,E),de="",ye=0;ye<P.length-1;ye+=2)de+=String.fromCharCode(P[ye]+P[ye+1]*256);return de}o.prototype.slice=function(S,E){var P=this.length;S=~~S,E=E===void 0?P:~~E,S<0?(S+=P,S<0&&(S=0)):S>P&&(S=P),E<0?(E+=P,E<0&&(E=0)):E>P&&(E=P),E<S&&(E=S);var de=this.subarray(S,E);return Object.setPrototypeOf(de,o.prototype),de};function ae(H,S,E){if(H%1!==0||H<0)throw new RangeError("offset is not uint");if(H+S>E)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(S,E,P){S=S>>>0,E=E>>>0,P||ae(S,E,this.length);for(var de=this[S],ye=1,ue=0;++ue<E&&(ye*=256);)de+=this[S+ue]*ye;return de},o.prototype.readUintBE=o.prototype.readUIntBE=function(S,E,P){S=S>>>0,E=E>>>0,P||ae(S,E,this.length);for(var de=this[S+--E],ye=1;E>0&&(ye*=256);)de+=this[S+--E]*ye;return de},o.prototype.readUint8=o.prototype.readUInt8=function(S,E){return S=S>>>0,E||ae(S,1,this.length),this[S]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(S,E){return S=S>>>0,E||ae(S,2,this.length),this[S]|this[S+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(S,E){return S=S>>>0,E||ae(S,2,this.length),this[S]<<8|this[S+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(S,E){return S=S>>>0,E||ae(S,4,this.length),(this[S]|this[S+1]<<8|this[S+2]<<16)+this[S+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(S,E){return S=S>>>0,E||ae(S,4,this.length),this[S]*16777216+(this[S+1]<<16|this[S+2]<<8|this[S+3])},o.prototype.readIntLE=function(S,E,P){S=S>>>0,E=E>>>0,P||ae(S,E,this.length);for(var de=this[S],ye=1,ue=0;++ue<E&&(ye*=256);)de+=this[S+ue]*ye;return ye*=128,de>=ye&&(de-=Math.pow(2,8*E)),de},o.prototype.readIntBE=function(S,E,P){S=S>>>0,E=E>>>0,P||ae(S,E,this.length);for(var de=E,ye=1,ue=this[S+--de];de>0&&(ye*=256);)ue+=this[S+--de]*ye;return ye*=128,ue>=ye&&(ue-=Math.pow(2,8*E)),ue},o.prototype.readInt8=function(S,E){return S=S>>>0,E||ae(S,1,this.length),this[S]&128?(255-this[S]+1)*-1:this[S]},o.prototype.readInt16LE=function(S,E){S=S>>>0,E||ae(S,2,this.length);var P=this[S]|this[S+1]<<8;return P&32768?P|4294901760:P},o.prototype.readInt16BE=function(S,E){S=S>>>0,E||ae(S,2,this.length);var P=this[S+1]|this[S]<<8;return P&32768?P|4294901760:P},o.prototype.readInt32LE=function(S,E){return S=S>>>0,E||ae(S,4,this.length),this[S]|this[S+1]<<8|this[S+2]<<16|this[S+3]<<24},o.prototype.readInt32BE=function(S,E){return S=S>>>0,E||ae(S,4,this.length),this[S]<<24|this[S+1]<<16|this[S+2]<<8|this[S+3]},o.prototype.readFloatLE=function(S,E){return S=S>>>0,E||ae(S,4,this.length),r.read(this,S,!0,23,4)},o.prototype.readFloatBE=function(S,E){return S=S>>>0,E||ae(S,4,this.length),r.read(this,S,!1,23,4)},o.prototype.readDoubleLE=function(S,E){return S=S>>>0,E||ae(S,8,this.length),r.read(this,S,!0,52,8)},o.prototype.readDoubleBE=function(S,E){return S=S>>>0,E||ae(S,8,this.length),r.read(this,S,!1,52,8)};function _(H,S,E,P,de,ye){if(!o.isBuffer(H))throw new TypeError('"buffer" argument must be a Buffer instance');if(S>de||S<ye)throw new RangeError('"value" argument is out of bounds');if(E+P>H.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(S,E,P,de){if(S=+S,E=E>>>0,P=P>>>0,!de){var ye=Math.pow(2,8*P)-1;_(this,S,E,P,ye,0)}var ue=1,ke=0;for(this[E]=S&255;++ke<P&&(ue*=256);)this[E+ke]=S/ue&255;return E+P},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(S,E,P,de){if(S=+S,E=E>>>0,P=P>>>0,!de){var ye=Math.pow(2,8*P)-1;_(this,S,E,P,ye,0)}var ue=P-1,ke=1;for(this[E+ue]=S&255;--ue>=0&&(ke*=256);)this[E+ue]=S/ke&255;return E+P},o.prototype.writeUint8=o.prototype.writeUInt8=function(S,E,P){return S=+S,E=E>>>0,P||_(this,S,E,1,255,0),this[E]=S&255,E+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(S,E,P){return S=+S,E=E>>>0,P||_(this,S,E,2,65535,0),this[E]=S&255,this[E+1]=S>>>8,E+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(S,E,P){return S=+S,E=E>>>0,P||_(this,S,E,2,65535,0),this[E]=S>>>8,this[E+1]=S&255,E+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(S,E,P){return S=+S,E=E>>>0,P||_(this,S,E,4,4294967295,0),this[E+3]=S>>>24,this[E+2]=S>>>16,this[E+1]=S>>>8,this[E]=S&255,E+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(S,E,P){return S=+S,E=E>>>0,P||_(this,S,E,4,4294967295,0),this[E]=S>>>24,this[E+1]=S>>>16,this[E+2]=S>>>8,this[E+3]=S&255,E+4},o.prototype.writeIntLE=function(S,E,P,de){if(S=+S,E=E>>>0,!de){var ye=Math.pow(2,8*P-1);_(this,S,E,P,ye-1,-ye)}var ue=0,ke=1,Oe=0;for(this[E]=S&255;++ue<P&&(ke*=256);)S<0&&Oe===0&&this[E+ue-1]!==0&&(Oe=1),this[E+ue]=(S/ke>>0)-Oe&255;return E+P},o.prototype.writeIntBE=function(S,E,P,de){if(S=+S,E=E>>>0,!de){var ye=Math.pow(2,8*P-1);_(this,S,E,P,ye-1,-ye)}var ue=P-1,ke=1,Oe=0;for(this[E+ue]=S&255;--ue>=0&&(ke*=256);)S<0&&Oe===0&&this[E+ue+1]!==0&&(Oe=1),this[E+ue]=(S/ke>>0)-Oe&255;return E+P},o.prototype.writeInt8=function(S,E,P){return S=+S,E=E>>>0,P||_(this,S,E,1,127,-128),S<0&&(S=255+S+1),this[E]=S&255,E+1},o.prototype.writeInt16LE=function(S,E,P){return S=+S,E=E>>>0,P||_(this,S,E,2,32767,-32768),this[E]=S&255,this[E+1]=S>>>8,E+2},o.prototype.writeInt16BE=function(S,E,P){return S=+S,E=E>>>0,P||_(this,S,E,2,32767,-32768),this[E]=S>>>8,this[E+1]=S&255,E+2},o.prototype.writeInt32LE=function(S,E,P){return S=+S,E=E>>>0,P||_(this,S,E,4,2147483647,-2147483648),this[E]=S&255,this[E+1]=S>>>8,this[E+2]=S>>>16,this[E+3]=S>>>24,E+4},o.prototype.writeInt32BE=function(S,E,P){return S=+S,E=E>>>0,P||_(this,S,E,4,2147483647,-2147483648),S<0&&(S=4294967295+S+1),this[E]=S>>>24,this[E+1]=S>>>16,this[E+2]=S>>>8,this[E+3]=S&255,E+4};function O(H,S,E,P,de,ye){if(E+P>H.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("Index out of range")}function G(H,S,E,P,de){return S=+S,E=E>>>0,de||O(H,S,E,4),r.write(H,S,E,P,23,4),E+4}o.prototype.writeFloatLE=function(S,E,P){return G(this,S,E,!0,P)},o.prototype.writeFloatBE=function(S,E,P){return G(this,S,E,!1,P)};function oe(H,S,E,P,de){return S=+S,E=E>>>0,de||O(H,S,E,8),r.write(H,S,E,P,52,8),E+8}o.prototype.writeDoubleLE=function(S,E,P){return oe(this,S,E,!0,P)},o.prototype.writeDoubleBE=function(S,E,P){return oe(this,S,E,!1,P)},o.prototype.copy=function(S,E,P,de){if(!o.isBuffer(S))throw new TypeError("argument should be a Buffer");if(P||(P=0),!de&&de!==0&&(de=this.length),E>=S.length&&(E=S.length),E||(E=0),de>0&&de<P&&(de=P),de===P||S.length===0||this.length===0)return 0;if(E<0)throw new RangeError("targetStart out of bounds");if(P<0||P>=this.length)throw new RangeError("Index out of range");if(de<0)throw new RangeError("sourceEnd out of bounds");de>this.length&&(de=this.length),S.length-E<de-P&&(de=S.length-E+P);var ye=de-P;return this===S&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(E,P,de):Uint8Array.prototype.set.call(S,this.subarray(P,de),E),ye},o.prototype.fill=function(S,E,P,de){if(typeof S=="string"){if(typeof E=="string"?(de=E,E=0,P=this.length):typeof P=="string"&&(de=P,P=this.length),de!==void 0&&typeof de!="string")throw new TypeError("encoding must be a string");if(typeof de=="string"&&!o.isEncoding(de))throw new TypeError("Unknown encoding: "+de);if(S.length===1){var ye=S.charCodeAt(0);(de==="utf8"&&ye<128||de==="latin1")&&(S=ye)}}else typeof S=="number"?S=S&255:typeof S=="boolean"&&(S=Number(S));if(E<0||this.length<E||this.length<P)throw new RangeError("Out of range index");if(P<=E)return this;E=E>>>0,P=P===void 0?this.length:P>>>0,S||(S=0);var ue;if(typeof S=="number")for(ue=E;ue<P;++ue)this[ue]=S;else{var ke=o.isBuffer(S)?S:o.from(S,de),Oe=ke.length;if(Oe===0)throw new TypeError('The value "'+S+'" is invalid for argument "value"');for(ue=0;ue<P-E;++ue)this[ue+E]=ke[ue%Oe]}return this};var Ae=/[^+/0-9A-Za-z-_]/g;function U(H){if(H=H.split("=")[0],H=H.trim().replace(Ae,""),H.length<2)return"";for(;H.length%4!==0;)H=H+"=";return H}function M(H,S){S=S||1/0;for(var E,P=H.length,de=null,ye=[],ue=0;ue<P;++ue){if(E=H.charCodeAt(ue),E>55295&&E<57344){if(!de){if(E>56319){(S-=3)>-1&&ye.push(239,191,189);continue}else if(ue+1===P){(S-=3)>-1&&ye.push(239,191,189);continue}de=E;continue}if(E<56320){(S-=3)>-1&&ye.push(239,191,189),de=E;continue}E=(de-55296<<10|E-56320)+65536}else de&&(S-=3)>-1&&ye.push(239,191,189);if(de=null,E<128){if((S-=1)<0)break;ye.push(E)}else if(E<2048){if((S-=2)<0)break;ye.push(E>>6|192,E&63|128)}else if(E<65536){if((S-=3)<0)break;ye.push(E>>12|224,E>>6&63|128,E&63|128)}else if(E<1114112){if((S-=4)<0)break;ye.push(E>>18|240,E>>12&63|128,E>>6&63|128,E&63|128)}else throw new Error("Invalid code point")}return ye}function J(H){for(var S=[],E=0;E<H.length;++E)S.push(H.charCodeAt(E)&255);return S}function ce(H,S){for(var E,P,de,ye=[],ue=0;ue<H.length&&!((S-=2)<0);++ue)E=H.charCodeAt(ue),P=E>>8,de=E%256,ye.push(de),ye.push(P);return ye}function ee(H){return t.toByteArray(U(H))}function Z(H,S,E,P){for(var de=0;de<P&&!(de+E>=S.length||de>=H.length);++de)S[de+E]=H[de];return de}function me(H,S){return H instanceof S||H!=null&&H.constructor!=null&&H.constructor.name!=null&&H.constructor.name===S.name}function B(H){return H!==H}var te=function(){for(var H="0123456789abcdef",S=new Array(256),E=0;E<16;++E)for(var P=E*16,de=0;de<16;++de)S[P+de]=H[E]+H[de];return S}()}(sb)),sb}var ab={},ob={},lb,t4;function IU(){return t4||(t4=1,lb=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[r]=i;for(var s in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var a=Object.getOwnPropertySymbols(t);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(t,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0}),lb}var cb,r4;function QB(){if(r4)return cb;r4=1;var e=IU();return cb=function(){return e()&&!!Symbol.toStringTag},cb}var Ab,n4;function TU(){return n4||(n4=1,Ab=Object),Ab}var ub,i4;function vW(){return i4||(i4=1,ub=Error),ub}var db,s4;function xW(){return s4||(s4=1,db=EvalError),db}var hb,a4;function BW(){return a4||(a4=1,hb=RangeError),hb}var fb,o4;function CW(){return o4||(o4=1,fb=ReferenceError),fb}var pb,l4;function FU(){return l4||(l4=1,pb=SyntaxError),pb}var mb,c4;function Wp(){return c4||(c4=1,mb=TypeError),mb}var gb,A4;function EW(){return A4||(A4=1,gb=URIError),gb}var yb,u4;function SW(){return u4||(u4=1,yb=Math.abs),yb}var wb,d4;function _W(){return d4||(d4=1,wb=Math.floor),wb}var bb,h4;function NW(){return h4||(h4=1,bb=Math.max),bb}var vb,f4;function kW(){return f4||(f4=1,vb=Math.min),vb}var xb,p4;function IW(){return p4||(p4=1,xb=Math.pow),xb}var Bb,m4;function TW(){return m4||(m4=1,Bb=Math.round),Bb}var Cb,g4;function FW(){return g4||(g4=1,Cb=Number.isNaN||function(t){return t!==t}),Cb}var Eb,y4;function jW(){if(y4)return Eb;y4=1;var e=FW();return Eb=function(r){return e(r)||r===0?r:r<0?-1:1},Eb}var Sb,w4;function UW(){return w4||(w4=1,Sb=Object.getOwnPropertyDescriptor),Sb}var _b,b4;function $p(){if(b4)return _b;b4=1;var e=UW();if(e)try{e([],"length")}catch{e=null}return _b=e,_b}var Nb,v4;function tw(){if(v4)return Nb;v4=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return Nb=e,Nb}var kb,x4;function LW(){if(x4)return kb;x4=1;var e=typeof Symbol<"u"&&Symbol,t=IU();return kb=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},kb}var Ib,B4;function jU(){return B4||(B4=1,Ib=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Ib}var Tb,C4;function UU(){if(C4)return Tb;C4=1;var e=TU();return Tb=e.getPrototypeOf||null,Tb}var Fb,E4;function DW(){if(E4)return Fb;E4=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(c,A){for(var d=[],h=0;h<c.length;h+=1)d[h]=c[h];for(var f=0;f<A.length;f+=1)d[f+c.length]=A[f];return d},s=function(c,A){for(var d=[],h=A,f=0;h<c.length;h+=1,f+=1)d[f]=c[h];return d},a=function(o,c){for(var A="",d=0;d<o.length;d+=1)A+=o[d],d+1<o.length&&(A+=c);return A};return Fb=function(c){var A=this;if(typeof A!="function"||t.apply(A)!==n)throw new TypeError(e+A);for(var d=s(arguments,1),h,f=function(){if(this instanceof h){var p=A.apply(this,i(d,arguments));return Object(p)===p?p:this}return A.apply(c,i(d,arguments))},u=r(0,A.length-d.length),g=[],m=0;m<u;m++)g[m]="$"+m;if(h=Function("binder","return function ("+a(g,",")+"){ return binder.apply(this,arguments); }")(f),A.prototype){var x=function(){};x.prototype=A.prototype,h.prototype=new x,x.prototype=null}return h},Fb}var jb,S4;function Vp(){if(S4)return jb;S4=1;var e=DW();return jb=Function.prototype.bind||e,jb}var Ub,_4;function MB(){return _4||(_4=1,Ub=Function.prototype.call),Ub}var Lb,N4;function LU(){return N4||(N4=1,Lb=Function.prototype.apply),Lb}var Db,k4;function RW(){return k4||(k4=1,Db=typeof Reflect<"u"&&Reflect&&Reflect.apply),Db}var Rb,I4;function OW(){if(I4)return Rb;I4=1;var e=Vp(),t=LU(),r=MB(),n=RW();return Rb=n||e.call(r,t),Rb}var Ob,T4;function PW(){if(T4)return Ob;T4=1;var e=Vp(),t=Wp(),r=MB(),n=OW();return Ob=function(s){if(s.length<1||typeof s[0]!="function")throw new t("a function is required");return n(e,r,s)},Ob}var Pb,F4;function QW(){if(F4)return Pb;F4=1;var e=PW(),t=$p(),r;try{r=[].__proto__===Array.prototype}catch(a){if(!a||typeof a!="object"||!("code"in a)||a.code!=="ERR_PROTO_ACCESS")throw a}var n=!!r&&t&&t(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return Pb=n&&typeof n.get=="function"?e([n.get]):typeof s=="function"?function(o){return s(o==null?o:i(o))}:!1,Pb}var Qb,j4;function MW(){if(j4)return Qb;j4=1;var e=jU(),t=UU(),r=QW();return Qb=e?function(i){return e(i)}:t?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return t(i)}:r?function(i){return r(i)}:null,Qb}var Mb,U4;function HW(){if(U4)return Mb;U4=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=Vp();return Mb=r.call(e,t),Mb}var Hb,L4;function HB(){if(L4)return Hb;L4=1;var e,t=TU(),r=vW(),n=xW(),i=BW(),s=CW(),a=FU(),o=Wp(),c=EW(),A=SW(),d=_W(),h=NW(),f=kW(),u=IW(),g=TW(),m=jW(),x=Function,p=function(J){try{return x('"use strict"; return ('+J+").constructor;")()}catch{}},y=$p(),w=tw(),b=function(){throw new o},I=y?function(){try{return arguments.callee,b}catch{try{return y(arguments,"callee").get}catch{return b}}}():b,F=LW()(),R=MW(),Q=UU(),k=jU(),$=LU(),q=MB(),T={},K=typeof Uint8Array>"u"||!R?e:R(Uint8Array),v={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":F&&R?R([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":T,"%AsyncGenerator%":T,"%AsyncGeneratorFunction%":T,"%AsyncIteratorPrototype%":T,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?e:Float16Array,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":x,"%GeneratorFunction%":T,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":F&&R?R(R([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!F||!R?e:R(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":t,"%Object.getOwnPropertyDescriptor%":y,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":i,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!F||!R?e:R(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":F&&R?R(""[Symbol.iterator]()):e,"%Symbol%":F?Symbol:e,"%SyntaxError%":a,"%ThrowTypeError%":I,"%TypedArray%":K,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":c,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet,"%Function.prototype.call%":q,"%Function.prototype.apply%":$,"%Object.defineProperty%":w,"%Object.getPrototypeOf%":Q,"%Math.abs%":A,"%Math.floor%":d,"%Math.max%":h,"%Math.min%":f,"%Math.pow%":u,"%Math.round%":g,"%Math.sign%":m,"%Reflect.getPrototypeOf%":k};if(R)try{null.error}catch(J){var re=R(R(J));v["%Error.prototype%"]=re}var ge=function J(ce){var ee;if(ce==="%AsyncFunction%")ee=p("async function () {}");else if(ce==="%GeneratorFunction%")ee=p("function* () {}");else if(ce==="%AsyncGeneratorFunction%")ee=p("async function* () {}");else if(ce==="%AsyncGenerator%"){var Z=J("%AsyncGeneratorFunction%");Z&&(ee=Z.prototype)}else if(ce==="%AsyncIteratorPrototype%"){var me=J("%AsyncGenerator%");me&&R&&(ee=R(me.prototype))}return v[ce]=ee,ee},Y={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},fe=Vp(),le=HW(),ne=fe.call(q,Array.prototype.concat),ae=fe.call($,Array.prototype.splice),_=fe.call(q,String.prototype.replace),O=fe.call(q,String.prototype.slice),G=fe.call(q,RegExp.prototype.exec),oe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ae=/\\(\\)?/g,U=function(ce){var ee=O(ce,0,1),Z=O(ce,-1);if(ee==="%"&&Z!=="%")throw new a("invalid intrinsic syntax, expected closing `%`");if(Z==="%"&&ee!=="%")throw new a("invalid intrinsic syntax, expected opening `%`");var me=[];return _(ce,oe,function(B,te,H,S){me[me.length]=H?_(S,Ae,"$1"):te||B}),me},M=function(ce,ee){var Z=ce,me;if(le(Y,Z)&&(me=Y[Z],Z="%"+me[0]+"%"),le(v,Z)){var B=v[Z];if(B===T&&(B=ge(Z)),typeof B>"u"&&!ee)throw new o("intrinsic "+ce+" exists, but is not available. Please file an issue!");return{alias:me,name:Z,value:B}}throw new a("intrinsic "+ce+" does not exist!")};return Hb=function(ce,ee){if(typeof ce!="string"||ce.length===0)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ee!="boolean")throw new o('"allowMissing" argument must be a boolean');if(G(/^%?[^%]*%?$/,ce)===null)throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Z=U(ce),me=Z.length>0?Z[0]:"",B=M("%"+me+"%",ee),te=B.name,H=B.value,S=!1,E=B.alias;E&&(me=E[0],ae(Z,ne([0,1],E)));for(var P=1,de=!0;P<Z.length;P+=1){var ye=Z[P],ue=O(ye,0,1),ke=O(ye,-1);if((ue==='"'||ue==="'"||ue==="`"||ke==='"'||ke==="'"||ke==="`")&&ue!==ke)throw new a("property names with quotes must have matching quotes");if((ye==="constructor"||!de)&&(S=!0),me+="."+ye,te="%"+me+"%",le(v,te))H=v[te];else if(H!=null){if(!(ye in H)){if(!ee)throw new o("base intrinsic for "+ce+" exists, but the property is not available.");return}if(y&&P+1>=Z.length){var Oe=y(H,ye);de=!!Oe,de&&"get"in Oe&&!("originalValue"in Oe.get)?H=Oe.get:H=H[ye]}else de=le(H,ye),H=H[ye];de&&!S&&(v[te]=H)}}return H},Hb}var zb={exports:{}},Kb,D4;function zW(){if(D4)return Kb;D4=1;var e=tw(),t=FU(),r=Wp(),n=$p();return Kb=function(s,a,o){if(!s||typeof s!="object"&&typeof s!="function")throw new r("`obj` must be an object or a function`");if(typeof a!="string"&&typeof a!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var c=arguments.length>3?arguments[3]:null,A=arguments.length>4?arguments[4]:null,d=arguments.length>5?arguments[5]:null,h=arguments.length>6?arguments[6]:!1,f=!!n&&n(s,a);if(e)e(s,a,{configurable:d===null&&f?f.configurable:!d,enumerable:c===null&&f?f.enumerable:!c,value:o,writable:A===null&&f?f.writable:!A});else if(h||!c&&!A&&!d)s[a]=o;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Kb}var qb,R4;function KW(){if(R4)return qb;R4=1;var e=tw(),t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},qb=t,qb}var Gb,O4;function qW(){if(O4)return Gb;O4=1;var e=HB(),t=zW(),r=KW()(),n=$p(),i=Wp(),s=e("%Math.floor%");return Gb=function(o,c){if(typeof o!="function")throw new i("`fn` is not a function");if(typeof c!="number"||c<0||c>4294967295||s(c)!==c)throw new i("`length` must be a positive 32-bit integer");var A=arguments.length>2&&!!arguments[2],d=!0,h=!0;if("length"in o&&n){var f=n(o,"length");f&&!f.configurable&&(d=!1),f&&!f.writable&&(h=!1)}return(d||h||!A)&&(r?t(o,"length",c,!0,!0):t(o,"length",c)),o},Gb}var P4;function DU(){return P4||(P4=1,function(e){var t=Vp(),r=HB(),n=qW(),i=Wp(),s=r("%Function.prototype.apply%"),a=r("%Function.prototype.call%"),o=r("%Reflect.apply%",!0)||t.call(a,s),c=tw(),A=r("%Math.max%");e.exports=function(f){if(typeof f!="function")throw new i("a function is required");var u=o(t,a,arguments);return n(u,1+A(0,f.length-(arguments.length-1)),!0)};var d=function(){return o(t,s,arguments)};c?c(e.exports,"apply",{value:d}):e.exports.apply=d}(zb)),zb.exports}var Wb,Q4;function RU(){if(Q4)return Wb;Q4=1;var e=HB(),t=DU(),r=t(e("String.prototype.indexOf"));return Wb=function(i,s){var a=e(i,!!s);return typeof a=="function"&&r(i,".prototype.")>-1?t(a):a},Wb}var $b,M4;function GW(){if(M4)return $b;M4=1;var e=QB()(),t=RU(),r=t("Object.prototype.toString"),n=function(o){return e&&o&&typeof o=="object"&&Symbol.toStringTag in o?!1:r(o)==="[object Arguments]"},i=function(o){return n(o)?!0:o!==null&&typeof o=="object"&&typeof o.length=="number"&&o.length>=0&&r(o)!=="[object Array]"&&r(o.callee)==="[object Function]"},s=function(){return n(arguments)}();return n.isLegacyArguments=i,$b=s?n:i,$b}var Vb,H4;function WW(){if(H4)return Vb;H4=1;var e=Object.prototype.toString,t=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=QB()(),i=Object.getPrototypeOf,s=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},a;return Vb=function(c){if(typeof c!="function")return!1;if(r.test(t.call(c)))return!0;if(!n){var A=e.call(c);return A==="[object GeneratorFunction]"}if(!i)return!1;if(typeof a>"u"){var d=s();a=d?i(d):!1}return i(c)===a},Vb}var Xb,z4;function $W(){if(z4)return Xb;z4=1;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},t(function(){throw 42},null,r)}catch(y){y!==n&&(t=null)}else t=null;var i=/^\s*class\b/,s=function(w){try{var b=e.call(w);return i.test(b)}catch{return!1}},a=function(w){try{return s(w)?!1:(e.call(w),!0)}catch{return!1}},o=Object.prototype.toString,c="[object Object]",A="[object Function]",d="[object GeneratorFunction]",h="[object HTMLAllCollection]",f="[object HTML document.all class]",u="[object HTMLCollection]",g=typeof Symbol=="function"&&!!Symbol.toStringTag,m=!(0 in[,]),x=function(){return!1};if(typeof document=="object"){var p=document.all;o.call(p)===o.call(document.all)&&(x=function(w){if((m||!w)&&(typeof w>"u"||typeof w=="object"))try{var b=o.call(w);return(b===h||b===f||b===u||b===c)&&w("")==null}catch{}return!1})}return Xb=t?function(w){if(x(w))return!0;if(!w||typeof w!="function"&&typeof w!="object")return!1;try{t(w,null,r)}catch(b){if(b!==n)return!1}return!s(w)&&a(w)}:function(w){if(x(w))return!0;if(!w||typeof w!="function"&&typeof w!="object")return!1;if(g)return a(w);if(s(w))return!1;var b=o.call(w);return b!==A&&b!==d&&!/^\[object HTML/.test(b)?!1:a(w)},Xb}var Yb,K4;function VW(){if(K4)return Yb;K4=1;var e=$W(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(c,A,d){for(var h=0,f=c.length;h<f;h++)r.call(c,h)&&(d==null?A(c[h],h,c):A.call(d,c[h],h,c))},i=function(c,A,d){for(var h=0,f=c.length;h<f;h++)d==null?A(c.charAt(h),h,c):A.call(d,c.charAt(h),h,c)},s=function(c,A,d){for(var h in c)r.call(c,h)&&(d==null?A(c[h],h,c):A.call(d,c[h],h,c))},a=function(c,A,d){if(!e(A))throw new TypeError("iterator must be a function");var h;arguments.length>=3&&(h=d),t.call(c)==="[object Array]"?n(c,A,h):typeof c=="string"?i(c,A,h):s(c,A,h)};return Yb=a,Yb}var Jb,q4;function XW(){return q4||(q4=1,Jb=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),Jb}var Zb,G4;function YW(){if(G4)return Zb;G4=1;var e=XW(),t=typeof globalThis>"u"?jl:globalThis;return Zb=function(){for(var n=[],i=0;i<e.length;i++)typeof t[e[i]]=="function"&&(n[n.length]=e[i]);return n},Zb}var ev,W4;function OU(){if(W4)return ev;W4=1;var e=VW(),t=YW(),r=DU(),n=RU(),i=$p(),s=n("Object.prototype.toString"),a=QB()(),o=typeof globalThis>"u"?jl:globalThis,c=t(),A=n("String.prototype.slice"),d=Object.getPrototypeOf,h=n("Array.prototype.indexOf",!0)||function(x,p){for(var y=0;y<x.length;y+=1)if(x[y]===p)return y;return-1},f={__proto__:null};a&&i&&d?e(c,function(m){var x=new o[m];if(Symbol.toStringTag in x){var p=d(x),y=i(p,Symbol.toStringTag);if(!y){var w=d(p);y=i(w,Symbol.toStringTag)}f["$"+m]=r(y.get)}}):e(c,function(m){var x=new o[m],p=x.slice||x.set;p&&(f["$"+m]=r(p))});var u=function(x){var p=!1;return e(f,function(y,w){if(!p)try{"$"+y(x)===w&&(p=A(w,1))}catch{}}),p},g=function(x){var p=!1;return e(f,function(y,w){if(!p)try{y(x),p=A(w,1)}catch{}}),p};return ev=function(x){if(!x||typeof x!="object")return!1;if(!a){var p=A(s(x),8,-1);return h(c,p)>-1?p:p!=="Object"?!1:g(x)}return i?u(x):null},ev}var tv,$4;function JW(){if($4)return tv;$4=1;var e=OU();return tv=function(r){return!!e(r)},tv}var V4;function ZW(){return V4||(V4=1,function(e){var t=GW(),r=WW(),n=OU(),i=JW();function s(P){return P.call.bind(P)}var a=typeof BigInt<"u",o=typeof Symbol<"u",c=s(Object.prototype.toString),A=s(Number.prototype.valueOf),d=s(String.prototype.valueOf),h=s(Boolean.prototype.valueOf);if(a)var f=s(BigInt.prototype.valueOf);if(o)var u=s(Symbol.prototype.valueOf);function g(P,de){if(typeof P!="object")return!1;try{return de(P),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=i;function m(P){return typeof Promise<"u"&&P instanceof Promise||P!==null&&typeof P=="object"&&typeof P.then=="function"&&typeof P.catch=="function"}e.isPromise=m;function x(P){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(P):i(P)||O(P)}e.isArrayBufferView=x;function p(P){return n(P)==="Uint8Array"}e.isUint8Array=p;function y(P){return n(P)==="Uint8ClampedArray"}e.isUint8ClampedArray=y;function w(P){return n(P)==="Uint16Array"}e.isUint16Array=w;function b(P){return n(P)==="Uint32Array"}e.isUint32Array=b;function I(P){return n(P)==="Int8Array"}e.isInt8Array=I;function F(P){return n(P)==="Int16Array"}e.isInt16Array=F;function R(P){return n(P)==="Int32Array"}e.isInt32Array=R;function Q(P){return n(P)==="Float32Array"}e.isFloat32Array=Q;function k(P){return n(P)==="Float64Array"}e.isFloat64Array=k;function $(P){return n(P)==="BigInt64Array"}e.isBigInt64Array=$;function q(P){return n(P)==="BigUint64Array"}e.isBigUint64Array=q;function T(P){return c(P)==="[object Map]"}T.working=typeof Map<"u"&&T(new Map);function K(P){return typeof Map>"u"?!1:T.working?T(P):P instanceof Map}e.isMap=K;function v(P){return c(P)==="[object Set]"}v.working=typeof Set<"u"&&v(new Set);function re(P){return typeof Set>"u"?!1:v.working?v(P):P instanceof Set}e.isSet=re;function ge(P){return c(P)==="[object WeakMap]"}ge.working=typeof WeakMap<"u"&&ge(new WeakMap);function Y(P){return typeof WeakMap>"u"?!1:ge.working?ge(P):P instanceof WeakMap}e.isWeakMap=Y;function fe(P){return c(P)==="[object WeakSet]"}fe.working=typeof WeakSet<"u"&&fe(new WeakSet);function le(P){return fe(P)}e.isWeakSet=le;function ne(P){return c(P)==="[object ArrayBuffer]"}ne.working=typeof ArrayBuffer<"u"&&ne(new ArrayBuffer);function ae(P){return typeof ArrayBuffer>"u"?!1:ne.working?ne(P):P instanceof ArrayBuffer}e.isArrayBuffer=ae;function _(P){return c(P)==="[object DataView]"}_.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&_(new DataView(new ArrayBuffer(1),0,1));function O(P){return typeof DataView>"u"?!1:_.working?_(P):P instanceof DataView}e.isDataView=O;var G=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function oe(P){return c(P)==="[object SharedArrayBuffer]"}function Ae(P){return typeof G>"u"?!1:(typeof oe.working>"u"&&(oe.working=oe(new G)),oe.working?oe(P):P instanceof G)}e.isSharedArrayBuffer=Ae;function U(P){return c(P)==="[object AsyncFunction]"}e.isAsyncFunction=U;function M(P){return c(P)==="[object Map Iterator]"}e.isMapIterator=M;function J(P){return c(P)==="[object Set Iterator]"}e.isSetIterator=J;function ce(P){return c(P)==="[object Generator]"}e.isGeneratorObject=ce;function ee(P){return c(P)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=ee;function Z(P){return g(P,A)}e.isNumberObject=Z;function me(P){return g(P,d)}e.isStringObject=me;function B(P){return g(P,h)}e.isBooleanObject=B;function te(P){return a&&g(P,f)}e.isBigIntObject=te;function H(P){return o&&g(P,u)}e.isSymbolObject=H;function S(P){return Z(P)||me(P)||B(P)||te(P)||H(P)}e.isBoxedPrimitive=S;function E(P){return typeof Uint8Array<"u"&&(ae(P)||Ae(P))}e.isAnyArrayBuffer=E,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(P){Object.defineProperty(e,P,{enumerable:!1,value:function(){throw new Error(P+" is not supported in userland")}})})}(ob)),ob}var rv,X4;function e$(){return X4||(X4=1,rv=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),rv}var Y4;function PU(){return Y4||(Y4=1,function(e){var t=Object.getOwnPropertyDescriptors||function(O){for(var G=Object.keys(O),oe={},Ae=0;Ae<G.length;Ae++)oe[G[Ae]]=Object.getOwnPropertyDescriptor(O,G[Ae]);return oe},r=/%[sdj%]/g;e.format=function(_){if(!I(_)){for(var O=[],G=0;G<arguments.length;G++)O.push(a(arguments[G]));return O.join(" ")}for(var G=1,oe=arguments,Ae=oe.length,U=String(_).replace(r,function(J){if(J==="%%")return"%";if(G>=Ae)return J;switch(J){case"%s":return String(oe[G++]);case"%d":return Number(oe[G++]);case"%j":try{return JSON.stringify(oe[G++])}catch{return"[Circular]"}default:return J}}),M=oe[G];G<Ae;M=oe[++G])y(M)||!k(M)?U+=" "+M:U+=" "+a(M);return U},e.deprecate=function(_,O){if(typeof Kr<"u"&&Kr.noDeprecation===!0)return _;if(typeof Kr>"u")return function(){return e.deprecate(_,O).apply(this,arguments)};var G=!1;function oe(){if(!G){if(Kr.throwDeprecation)throw new Error(O);Kr.traceDeprecation?console.trace(O):console.error(O),G=!0}return _.apply(this,arguments)}return oe};var n={},i=/^$/;if(Kr.env.NODE_DEBUG){var s=Kr.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}e.debuglog=function(_){if(_=_.toUpperCase(),!n[_])if(i.test(_)){var O=Kr.pid;n[_]=function(){var G=e.format.apply(e,arguments);console.error("%s %d: %s",_,O,G)}}else n[_]=function(){};return n[_]};function a(_,O){var G={seen:[],stylize:c};return arguments.length>=3&&(G.depth=arguments[2]),arguments.length>=4&&(G.colors=arguments[3]),p(O)?G.showHidden=O:O&&e._extend(G,O),R(G.showHidden)&&(G.showHidden=!1),R(G.depth)&&(G.depth=2),R(G.colors)&&(G.colors=!1),R(G.customInspect)&&(G.customInspect=!0),G.colors&&(G.stylize=o),d(G,_,G.depth)}e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function o(_,O){var G=a.styles[O];return G?"\x1B["+a.colors[G][0]+"m"+_+"\x1B["+a.colors[G][1]+"m":_}function c(_,O){return _}function A(_){var O={};return _.forEach(function(G,oe){O[G]=!0}),O}function d(_,O,G){if(_.customInspect&&O&&T(O.inspect)&&O.inspect!==e.inspect&&!(O.constructor&&O.constructor.prototype===O)){var oe=O.inspect(G,_);return I(oe)||(oe=d(_,oe,G)),oe}var Ae=h(_,O);if(Ae)return Ae;var U=Object.keys(O),M=A(U);if(_.showHidden&&(U=Object.getOwnPropertyNames(O)),q(O)&&(U.indexOf("message")>=0||U.indexOf("description")>=0))return f(O);if(U.length===0){if(T(O)){var J=O.name?": "+O.name:"";return _.stylize("[Function"+J+"]","special")}if(Q(O))return _.stylize(RegExp.prototype.toString.call(O),"regexp");if($(O))return _.stylize(Date.prototype.toString.call(O),"date");if(q(O))return f(O)}var ce="",ee=!1,Z=["{","}"];if(x(O)&&(ee=!0,Z=["[","]"]),T(O)){var me=O.name?": "+O.name:"";ce=" [Function"+me+"]"}if(Q(O)&&(ce=" "+RegExp.prototype.toString.call(O)),$(O)&&(ce=" "+Date.prototype.toUTCString.call(O)),q(O)&&(ce=" "+f(O)),U.length===0&&(!ee||O.length==0))return Z[0]+ce+Z[1];if(G<0)return Q(O)?_.stylize(RegExp.prototype.toString.call(O),"regexp"):_.stylize("[Object]","special");_.seen.push(O);var B;return ee?B=u(_,O,G,M,U):B=U.map(function(te){return g(_,O,G,M,te,ee)}),_.seen.pop(),m(B,ce,Z)}function h(_,O){if(R(O))return _.stylize("undefined","undefined");if(I(O)){var G="'"+JSON.stringify(O).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return _.stylize(G,"string")}if(b(O))return _.stylize(""+O,"number");if(p(O))return _.stylize(""+O,"boolean");if(y(O))return _.stylize("null","null")}function f(_){return"["+Error.prototype.toString.call(_)+"]"}function u(_,O,G,oe,Ae){for(var U=[],M=0,J=O.length;M<J;++M)fe(O,String(M))?U.push(g(_,O,G,oe,String(M),!0)):U.push("");return Ae.forEach(function(ce){ce.match(/^\d+$/)||U.push(g(_,O,G,oe,ce,!0))}),U}function g(_,O,G,oe,Ae,U){var M,J,ce;if(ce=Object.getOwnPropertyDescriptor(O,Ae)||{value:O[Ae]},ce.get?ce.set?J=_.stylize("[Getter/Setter]","special"):J=_.stylize("[Getter]","special"):ce.set&&(J=_.stylize("[Setter]","special")),fe(oe,Ae)||(M="["+Ae+"]"),J||(_.seen.indexOf(ce.value)<0?(y(G)?J=d(_,ce.value,null):J=d(_,ce.value,G-1),J.indexOf(`
`)>-1&&(U?J=J.split(`
`).map(function(ee){return"  "+ee}).join(`
`).slice(2):J=`
`+J.split(`
`).map(function(ee){return"   "+ee}).join(`
`))):J=_.stylize("[Circular]","special")),R(M)){if(U&&Ae.match(/^\d+$/))return J;M=JSON.stringify(""+Ae),M.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(M=M.slice(1,-1),M=_.stylize(M,"name")):(M=M.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),M=_.stylize(M,"string"))}return M+": "+J}function m(_,O,G){var oe=_.reduce(function(Ae,U){return U.indexOf(`
`)>=0,Ae+U.replace(/\u001b\[\d\d?m/g,"").length+1},0);return oe>60?G[0]+(O===""?"":O+`
 `)+" "+_.join(`,
  `)+" "+G[1]:G[0]+O+" "+_.join(", ")+" "+G[1]}e.types=ZW();function x(_){return Array.isArray(_)}e.isArray=x;function p(_){return typeof _=="boolean"}e.isBoolean=p;function y(_){return _===null}e.isNull=y;function w(_){return _==null}e.isNullOrUndefined=w;function b(_){return typeof _=="number"}e.isNumber=b;function I(_){return typeof _=="string"}e.isString=I;function F(_){return typeof _=="symbol"}e.isSymbol=F;function R(_){return _===void 0}e.isUndefined=R;function Q(_){return k(_)&&v(_)==="[object RegExp]"}e.isRegExp=Q,e.types.isRegExp=Q;function k(_){return typeof _=="object"&&_!==null}e.isObject=k;function $(_){return k(_)&&v(_)==="[object Date]"}e.isDate=$,e.types.isDate=$;function q(_){return k(_)&&(v(_)==="[object Error]"||_ instanceof Error)}e.isError=q,e.types.isNativeError=q;function T(_){return typeof _=="function"}e.isFunction=T;function K(_){return _===null||typeof _=="boolean"||typeof _=="number"||typeof _=="string"||typeof _=="symbol"||typeof _>"u"}e.isPrimitive=K,e.isBuffer=e$();function v(_){return Object.prototype.toString.call(_)}function re(_){return _<10?"0"+_.toString(10):_.toString(10)}var ge=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Y(){var _=new Date,O=[re(_.getHours()),re(_.getMinutes()),re(_.getSeconds())].join(":");return[_.getDate(),ge[_.getMonth()],O].join(" ")}e.log=function(){console.log("%s - %s",Y(),e.format.apply(e,arguments))},e.inherits=IA(),e._extend=function(_,O){if(!O||!k(O))return _;for(var G=Object.keys(O),oe=G.length;oe--;)_[G[oe]]=O[G[oe]];return _};function fe(_,O){return Object.prototype.hasOwnProperty.call(_,O)}var le=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(O){if(typeof O!="function")throw new TypeError('The "original" argument must be of type Function');if(le&&O[le]){var G=O[le];if(typeof G!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(G,le,{value:G,enumerable:!1,writable:!1,configurable:!0}),G}function G(){for(var oe,Ae,U=new Promise(function(ce,ee){oe=ce,Ae=ee}),M=[],J=0;J<arguments.length;J++)M.push(arguments[J]);M.push(function(ce,ee){ce?Ae(ce):oe(ee)});try{O.apply(this,M)}catch(ce){Ae(ce)}return U}return Object.setPrototypeOf(G,Object.getPrototypeOf(O)),le&&Object.defineProperty(G,le,{value:G,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(G,t(O))},e.promisify.custom=le;function ne(_,O){if(!_){var G=new Error("Promise was rejected with a falsy value");G.reason=_,_=G}return O(_)}function ae(_){if(typeof _!="function")throw new TypeError('The "original" argument must be of type Function');function O(){for(var G=[],oe=0;oe<arguments.length;oe++)G.push(arguments[oe]);var Ae=G.pop();if(typeof Ae!="function")throw new TypeError("The last argument must be of type Function");var U=this,M=function(){return Ae.apply(U,arguments)};_.apply(this,G).then(function(J){Kr.nextTick(M.bind(null,null,J))},function(J){Kr.nextTick(ne.bind(null,J,M))})}return Object.setPrototypeOf(O,Object.getPrototypeOf(_)),Object.defineProperties(O,t(_)),O}e.callbackify=ae}(ab)),ab}var nv,J4;function t$(){if(J4)return nv;J4=1;function e(f,u){var g=Object.keys(f);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(f);u&&(m=m.filter(function(x){return Object.getOwnPropertyDescriptor(f,x).enumerable})),g.push.apply(g,m)}return g}function t(f){for(var u=1;u<arguments.length;u++){var g=arguments[u]!=null?arguments[u]:{};u%2?e(Object(g),!0).forEach(function(m){r(f,m,g[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(g)):e(Object(g)).forEach(function(m){Object.defineProperty(f,m,Object.getOwnPropertyDescriptor(g,m))})}return f}function r(f,u,g){return u in f?Object.defineProperty(f,u,{value:g,enumerable:!0,configurable:!0,writable:!0}):f[u]=g,f}function n(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function i(f,u){for(var g=0;g<u.length;g++){var m=u[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}function s(f,u,g){return u&&i(f.prototype,u),f}var a=ew(),o=a.Buffer,c=PU(),A=c.inspect,d=A&&A.custom||"inspect";function h(f,u,g){o.prototype.copy.call(f,u,g)}return nv=function(){function f(){n(this,f),this.head=null,this.tail=null,this.length=0}return s(f,[{key:"push",value:function(g){var m={data:g,next:null};this.length>0?this.tail.next=m:this.head=m,this.tail=m,++this.length}},{key:"unshift",value:function(g){var m={data:g,next:this.head};this.length===0&&(this.tail=m),this.head=m,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var m=this.head,x=""+m.data;m=m.next;)x+=g+m.data;return x}},{key:"concat",value:function(g){if(this.length===0)return o.alloc(0);for(var m=o.allocUnsafe(g>>>0),x=this.head,p=0;x;)h(x.data,m,p),p+=x.data.length,x=x.next;return m}},{key:"consume",value:function(g,m){var x;return g<this.head.data.length?(x=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):g===this.head.data.length?x=this.shift():x=m?this._getString(g):this._getBuffer(g),x}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var m=this.head,x=1,p=m.data;for(g-=p.length;m=m.next;){var y=m.data,w=g>y.length?y.length:g;if(w===y.length?p+=y:p+=y.slice(0,g),g-=w,g===0){w===y.length?(++x,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=y.slice(w));break}++x}return this.length-=x,p}},{key:"_getBuffer",value:function(g){var m=o.allocUnsafe(g),x=this.head,p=1;for(x.data.copy(m),g-=x.data.length;x=x.next;){var y=x.data,w=g>y.length?y.length:g;if(y.copy(m,m.length-g,0,w),g-=w,g===0){w===y.length?(++p,x.next?this.head=x.next:this.head=this.tail=null):(this.head=x,x.data=y.slice(w));break}++p}return this.length-=p,m}},{key:d,value:function(g,m){return A(this,t({},m,{depth:0,customInspect:!1}))}}]),f}(),nv}var iv,Z4;function QU(){if(Z4)return iv;Z4=1;function e(a,o){var c=this,A=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return A||d?(o?o(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Kr.nextTick(i,this,a)):Kr.nextTick(i,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(h){!o&&h?c._writableState?c._writableState.errorEmitted?Kr.nextTick(r,c):(c._writableState.errorEmitted=!0,Kr.nextTick(t,c,h)):Kr.nextTick(t,c,h):o?(Kr.nextTick(r,c),o(h)):Kr.nextTick(r,c)}),this)}function t(a,o){i(a,o),r(a)}function r(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(a,o){a.emit("error",o)}function s(a,o){var c=a._readableState,A=a._writableState;c&&c.autoDestroy||A&&A.autoDestroy?a.destroy(o):a.emit("error",o)}return iv={destroy:e,undestroy:n,errorOrDestroy:s},iv}var sv={},e3;function wh(){if(e3)return sv;e3=1;function e(o,c){o.prototype=Object.create(c.prototype),o.prototype.constructor=o,o.__proto__=c}var t={};function r(o,c,A){A||(A=Error);function d(f,u,g){return typeof c=="string"?c:c(f,u,g)}var h=function(f){e(u,f);function u(g,m,x){return f.call(this,d(g,m,x))||this}return u}(A);h.prototype.name=A.name,h.prototype.code=o,t[o]=h}function n(o,c){if(Array.isArray(o)){var A=o.length;return o=o.map(function(d){return String(d)}),A>2?"one of ".concat(c," ").concat(o.slice(0,A-1).join(", "),", or ")+o[A-1]:A===2?"one of ".concat(c," ").concat(o[0]," or ").concat(o[1]):"of ".concat(c," ").concat(o[0])}else return"of ".concat(c," ").concat(String(o))}function i(o,c,A){return o.substr(0,c.length)===c}function s(o,c,A){return(A===void 0||A>o.length)&&(A=o.length),o.substring(A-c.length,A)===c}function a(o,c,A){return typeof A!="number"&&(A=0),A+c.length>o.length?!1:o.indexOf(c,A)!==-1}return r("ERR_INVALID_OPT_VALUE",function(o,c){return'The value "'+c+'" is invalid for option "'+o+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(o,c,A){var d;typeof c=="string"&&i(c,"not ")?(d="must not be",c=c.replace(/^not /,"")):d="must be";var h;if(s(o," argument"))h="The ".concat(o," ").concat(d," ").concat(n(c,"type"));else{var f=a(o,".")?"property":"argument";h='The "'.concat(o,'" ').concat(f," ").concat(d," ").concat(n(c,"type"))}return h+=". Received type ".concat(typeof A),h},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(o){return"The "+o+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(o){return"Cannot call "+o+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(o){return"Unknown encoding: "+o},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),sv.codes=t,sv}var av,t3;function MU(){if(t3)return av;t3=1;var e=wh().codes.ERR_INVALID_OPT_VALUE;function t(n,i,s){return n.highWaterMark!=null?n.highWaterMark:i?n[s]:null}function r(n,i,s,a){var o=t(i,a,s);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0){var c=a?s:"highWaterMark";throw new e(c,o)}return Math.floor(o)}return n.objectMode?16:16*1024}return av={getHighWaterMark:r},av}var ov,r3;function r$(){if(r3)return ov;r3=1,ov=e;function e(r,n){if(t("noDeprecation"))return r;var i=!1;function s(){if(!i){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this,arguments)}return s}function t(r){try{if(!jl.localStorage)return!1}catch{return!1}var n=jl.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return ov}var lv,n3;function HU(){if(n3)return lv;n3=1,lv=Q;function e(Ae){var U=this;this.next=null,this.entry=null,this.finish=function(){oe(U,Ae)}}var t;Q.WritableState=F;var r={deprecate:r$()},n=kU(),i=ew().Buffer,s=jl.Uint8Array||function(){};function a(Ae){return i.from(Ae)}function o(Ae){return i.isBuffer(Ae)||Ae instanceof s}var c=QU(),A=MU(),d=A.getHighWaterMark,h=wh().codes,f=h.ERR_INVALID_ARG_TYPE,u=h.ERR_METHOD_NOT_IMPLEMENTED,g=h.ERR_MULTIPLE_CALLBACK,m=h.ERR_STREAM_CANNOT_PIPE,x=h.ERR_STREAM_DESTROYED,p=h.ERR_STREAM_NULL_VALUES,y=h.ERR_STREAM_WRITE_AFTER_END,w=h.ERR_UNKNOWN_ENCODING,b=c.errorOrDestroy;IA()(Q,n);function I(){}function F(Ae,U,M){t=t||ih(),Ae=Ae||{},typeof M!="boolean"&&(M=U instanceof t),this.objectMode=!!Ae.objectMode,M&&(this.objectMode=this.objectMode||!!Ae.writableObjectMode),this.highWaterMark=d(this,Ae,"writableHighWaterMark",M),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var J=Ae.decodeStrings===!1;this.decodeStrings=!J,this.defaultEncoding=Ae.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ce){ge(U,ce)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Ae.emitClose!==!1,this.autoDestroy=!!Ae.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}F.prototype.getBuffer=function(){for(var U=this.bufferedRequest,M=[];U;)M.push(U),U=U.next;return M},function(){try{Object.defineProperty(F.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var R;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(R=Function.prototype[Symbol.hasInstance],Object.defineProperty(Q,Symbol.hasInstance,{value:function(U){return R.call(this,U)?!0:this!==Q?!1:U&&U._writableState instanceof F}})):R=function(U){return U instanceof this};function Q(Ae){t=t||ih();var U=this instanceof t;if(!U&&!R.call(Q,this))return new Q(Ae);this._writableState=new F(Ae,this,U),this.writable=!0,Ae&&(typeof Ae.write=="function"&&(this._write=Ae.write),typeof Ae.writev=="function"&&(this._writev=Ae.writev),typeof Ae.destroy=="function"&&(this._destroy=Ae.destroy),typeof Ae.final=="function"&&(this._final=Ae.final)),n.call(this)}Q.prototype.pipe=function(){b(this,new m)};function k(Ae,U){var M=new y;b(Ae,M),Kr.nextTick(U,M)}function $(Ae,U,M,J){var ce;return M===null?ce=new p:typeof M!="string"&&!U.objectMode&&(ce=new f("chunk",["string","Buffer"],M)),ce?(b(Ae,ce),Kr.nextTick(J,ce),!1):!0}Q.prototype.write=function(Ae,U,M){var J=this._writableState,ce=!1,ee=!J.objectMode&&o(Ae);return ee&&!i.isBuffer(Ae)&&(Ae=a(Ae)),typeof U=="function"&&(M=U,U=null),ee?U="buffer":U||(U=J.defaultEncoding),typeof M!="function"&&(M=I),J.ending?k(this,M):(ee||$(this,J,Ae,M))&&(J.pendingcb++,ce=T(this,J,ee,Ae,U,M)),ce},Q.prototype.cork=function(){this._writableState.corked++},Q.prototype.uncork=function(){var Ae=this._writableState;Ae.corked&&(Ae.corked--,!Ae.writing&&!Ae.corked&&!Ae.bufferProcessing&&Ae.bufferedRequest&&le(this,Ae))},Q.prototype.setDefaultEncoding=function(U){if(typeof U=="string"&&(U=U.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((U+"").toLowerCase())>-1))throw new w(U);return this._writableState.defaultEncoding=U,this},Object.defineProperty(Q.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function q(Ae,U,M){return!Ae.objectMode&&Ae.decodeStrings!==!1&&typeof U=="string"&&(U=i.from(U,M)),U}Object.defineProperty(Q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function T(Ae,U,M,J,ce,ee){if(!M){var Z=q(U,J,ce);J!==Z&&(M=!0,ce="buffer",J=Z)}var me=U.objectMode?1:J.length;U.length+=me;var B=U.length<U.highWaterMark;if(B||(U.needDrain=!0),U.writing||U.corked){var te=U.lastBufferedRequest;U.lastBufferedRequest={chunk:J,encoding:ce,isBuf:M,callback:ee,next:null},te?te.next=U.lastBufferedRequest:U.bufferedRequest=U.lastBufferedRequest,U.bufferedRequestCount+=1}else K(Ae,U,!1,me,J,ce,ee);return B}function K(Ae,U,M,J,ce,ee,Z){U.writelen=J,U.writecb=Z,U.writing=!0,U.sync=!0,U.destroyed?U.onwrite(new x("write")):M?Ae._writev(ce,U.onwrite):Ae._write(ce,ee,U.onwrite),U.sync=!1}function v(Ae,U,M,J,ce){--U.pendingcb,M?(Kr.nextTick(ce,J),Kr.nextTick(O,Ae,U),Ae._writableState.errorEmitted=!0,b(Ae,J)):(ce(J),Ae._writableState.errorEmitted=!0,b(Ae,J),O(Ae,U))}function re(Ae){Ae.writing=!1,Ae.writecb=null,Ae.length-=Ae.writelen,Ae.writelen=0}function ge(Ae,U){var M=Ae._writableState,J=M.sync,ce=M.writecb;if(typeof ce!="function")throw new g;if(re(M),U)v(Ae,M,J,U,ce);else{var ee=ne(M)||Ae.destroyed;!ee&&!M.corked&&!M.bufferProcessing&&M.bufferedRequest&&le(Ae,M),J?Kr.nextTick(Y,Ae,M,ee,ce):Y(Ae,M,ee,ce)}}function Y(Ae,U,M,J){M||fe(Ae,U),U.pendingcb--,J(),O(Ae,U)}function fe(Ae,U){U.length===0&&U.needDrain&&(U.needDrain=!1,Ae.emit("drain"))}function le(Ae,U){U.bufferProcessing=!0;var M=U.bufferedRequest;if(Ae._writev&&M&&M.next){var J=U.bufferedRequestCount,ce=new Array(J),ee=U.corkedRequestsFree;ee.entry=M;for(var Z=0,me=!0;M;)ce[Z]=M,M.isBuf||(me=!1),M=M.next,Z+=1;ce.allBuffers=me,K(Ae,U,!0,U.length,ce,"",ee.finish),U.pendingcb++,U.lastBufferedRequest=null,ee.next?(U.corkedRequestsFree=ee.next,ee.next=null):U.corkedRequestsFree=new e(U),U.bufferedRequestCount=0}else{for(;M;){var B=M.chunk,te=M.encoding,H=M.callback,S=U.objectMode?1:B.length;if(K(Ae,U,!1,S,B,te,H),M=M.next,U.bufferedRequestCount--,U.writing)break}M===null&&(U.lastBufferedRequest=null)}U.bufferedRequest=M,U.bufferProcessing=!1}Q.prototype._write=function(Ae,U,M){M(new u("_write()"))},Q.prototype._writev=null,Q.prototype.end=function(Ae,U,M){var J=this._writableState;return typeof Ae=="function"?(M=Ae,Ae=null,U=null):typeof U=="function"&&(M=U,U=null),Ae!=null&&this.write(Ae,U),J.corked&&(J.corked=1,this.uncork()),J.ending||G(this,J,M),this},Object.defineProperty(Q.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ne(Ae){return Ae.ending&&Ae.length===0&&Ae.bufferedRequest===null&&!Ae.finished&&!Ae.writing}function ae(Ae,U){Ae._final(function(M){U.pendingcb--,M&&b(Ae,M),U.prefinished=!0,Ae.emit("prefinish"),O(Ae,U)})}function _(Ae,U){!U.prefinished&&!U.finalCalled&&(typeof Ae._final=="function"&&!U.destroyed?(U.pendingcb++,U.finalCalled=!0,Kr.nextTick(ae,Ae,U)):(U.prefinished=!0,Ae.emit("prefinish")))}function O(Ae,U){var M=ne(U);if(M&&(_(Ae,U),U.pendingcb===0&&(U.finished=!0,Ae.emit("finish"),U.autoDestroy))){var J=Ae._readableState;(!J||J.autoDestroy&&J.endEmitted)&&Ae.destroy()}return M}function G(Ae,U,M){U.ending=!0,O(Ae,U),M&&(U.finished?Kr.nextTick(M):Ae.once("finish",M)),U.ended=!0,Ae.writable=!1}function oe(Ae,U,M){var J=Ae.entry;for(Ae.entry=null;J;){var ce=J.callback;U.pendingcb--,ce(M),J=J.next}U.corkedRequestsFree.next=Ae}return Object.defineProperty(Q.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(U){this._writableState&&(this._writableState.destroyed=U)}}),Q.prototype.destroy=c.destroy,Q.prototype._undestroy=c.undestroy,Q.prototype._destroy=function(Ae,U){U(Ae)},lv}var cv,i3;function ih(){if(i3)return cv;i3=1;var e=Object.keys||function(A){var d=[];for(var h in A)d.push(h);return d};cv=a;var t=zU(),r=HU();IA()(a,t);for(var n=e(r.prototype),i=0;i<n.length;i++){var s=n[i];a.prototype[s]||(a.prototype[s]=r.prototype[s])}function a(A){if(!(this instanceof a))return new a(A);t.call(this,A),r.call(this,A),this.allowHalfOpen=!0,A&&(A.readable===!1&&(this.readable=!1),A.writable===!1&&(this.writable=!1),A.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",o)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function o(){this._writableState.ended||Kr.nextTick(c,this)}function c(A){A.end()}return Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)}}),cv}var Av={},Tg={exports:{}},s3;function n$(){return s3||(s3=1,function(e,t){var r=ew(),n=r.Buffer;function i(a,o){for(var c in a)o[c]=a[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=s);function s(a,o,c){return n(a,o,c)}i(n,s),s.from=function(a,o,c){if(typeof a=="number")throw new TypeError("Argument must not be a number");return n(a,o,c)},s.alloc=function(a,o,c){if(typeof a!="number")throw new TypeError("Argument must be a number");var A=n(a);return o!==void 0?typeof c=="string"?A.fill(o,c):A.fill(o):A.fill(0),A},s.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n(a)},s.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}}(Tg,Tg.exports)),Tg.exports}var a3;function Y2(){if(a3)return Av;a3=1;var e=n$().Buffer,t=e.isEncoding||function(p){switch(p=""+p,p&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(p){if(!p)return"utf8";for(var y;;)switch(p){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return p;default:if(y)return;p=(""+p).toLowerCase(),y=!0}}function n(p){var y=r(p);if(typeof y!="string"&&(e.isEncoding===t||!t(p)))throw new Error("Unknown encoding: "+p);return y||p}Av.StringDecoder=i;function i(p){this.encoding=n(p);var y;switch(this.encoding){case"utf16le":this.text=h,this.end=f,y=4;break;case"utf8":this.fillLast=c,y=4;break;case"base64":this.text=u,this.end=g,y=3;break;default:this.write=m,this.end=x;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(y)}i.prototype.write=function(p){if(p.length===0)return"";var y,w;if(this.lastNeed){if(y=this.fillLast(p),y===void 0)return"";w=this.lastNeed,this.lastNeed=0}else w=0;return w<p.length?y?y+this.text(p,w):this.text(p,w):y||""},i.prototype.end=d,i.prototype.text=A,i.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length};function s(p){return p<=127?0:p>>5===6?2:p>>4===14?3:p>>3===30?4:p>>6===2?-1:-2}function a(p,y,w){var b=y.length-1;if(b<w)return 0;var I=s(y[b]);return I>=0?(I>0&&(p.lastNeed=I-1),I):--b<w||I===-2?0:(I=s(y[b]),I>=0?(I>0&&(p.lastNeed=I-2),I):--b<w||I===-2?0:(I=s(y[b]),I>=0?(I>0&&(I===2?I=0:p.lastNeed=I-3),I):0))}function o(p,y,w){if((y[0]&192)!==128)return p.lastNeed=0,"ï¿½";if(p.lastNeed>1&&y.length>1){if((y[1]&192)!==128)return p.lastNeed=1,"ï¿½";if(p.lastNeed>2&&y.length>2&&(y[2]&192)!==128)return p.lastNeed=2,"ï¿½"}}function c(p){var y=this.lastTotal-this.lastNeed,w=o(this,p);if(w!==void 0)return w;if(this.lastNeed<=p.length)return p.copy(this.lastChar,y,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,y,0,p.length),this.lastNeed-=p.length}function A(p,y){var w=a(this,p,y);if(!this.lastNeed)return p.toString("utf8",y);this.lastTotal=w;var b=p.length-(w-this.lastNeed);return p.copy(this.lastChar,0,b),p.toString("utf8",y,b)}function d(p){var y=p&&p.length?this.write(p):"";return this.lastNeed?y+"ï¿½":y}function h(p,y){if((p.length-y)%2===0){var w=p.toString("utf16le",y);if(w){var b=w.charCodeAt(w.length-1);if(b>=55296&&b<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],w.slice(0,-1)}return w}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",y,p.length-1)}function f(p){var y=p&&p.length?this.write(p):"";if(this.lastNeed){var w=this.lastTotal-this.lastNeed;return y+this.lastChar.toString("utf16le",0,w)}return y}function u(p,y){var w=(p.length-y)%3;return w===0?p.toString("base64",y):(this.lastNeed=3-w,this.lastTotal=3,w===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",y,p.length-w))}function g(p){var y=p&&p.length?this.write(p):"";return this.lastNeed?y+this.lastChar.toString("base64",0,3-this.lastNeed):y}function m(p){return p.toString(this.encoding)}function x(p){return p&&p.length?this.write(p):""}return Av}var uv,o3;function zB(){if(o3)return uv;o3=1;var e=wh().codes.ERR_STREAM_PREMATURE_CLOSE;function t(s){var a=!1;return function(){if(!a){a=!0;for(var o=arguments.length,c=new Array(o),A=0;A<o;A++)c[A]=arguments[A];s.apply(this,c)}}}function r(){}function n(s){return s.setHeader&&typeof s.abort=="function"}function i(s,a,o){if(typeof a=="function")return i(s,null,a);a||(a={}),o=t(o||r);var c=a.readable||a.readable!==!1&&s.readable,A=a.writable||a.writable!==!1&&s.writable,d=function(){s.writable||f()},h=s._writableState&&s._writableState.finished,f=function(){A=!1,h=!0,c||o.call(s)},u=s._readableState&&s._readableState.endEmitted,g=function(){c=!1,u=!0,A||o.call(s)},m=function(w){o.call(s,w)},x=function(){var w;if(c&&!u)return(!s._readableState||!s._readableState.ended)&&(w=new e),o.call(s,w);if(A&&!h)return(!s._writableState||!s._writableState.ended)&&(w=new e),o.call(s,w)},p=function(){s.req.on("finish",f)};return n(s)?(s.on("complete",f),s.on("abort",x),s.req?p():s.on("request",p)):A&&!s._writableState&&(s.on("end",d),s.on("close",d)),s.on("end",g),s.on("finish",f),a.error!==!1&&s.on("error",m),s.on("close",x),function(){s.removeListener("complete",f),s.removeListener("abort",x),s.removeListener("request",p),s.req&&s.req.removeListener("finish",f),s.removeListener("end",d),s.removeListener("close",d),s.removeListener("finish",f),s.removeListener("end",g),s.removeListener("error",m),s.removeListener("close",x)}}return uv=i,uv}var dv,l3;function i$(){if(l3)return dv;l3=1;var e;function t(p,y,w){return y in p?Object.defineProperty(p,y,{value:w,enumerable:!0,configurable:!0,writable:!0}):p[y]=w,p}var r=zB(),n=Symbol("lastResolve"),i=Symbol("lastReject"),s=Symbol("error"),a=Symbol("ended"),o=Symbol("lastPromise"),c=Symbol("handlePromise"),A=Symbol("stream");function d(p,y){return{value:p,done:y}}function h(p){var y=p[n];if(y!==null){var w=p[A].read();w!==null&&(p[o]=null,p[n]=null,p[i]=null,y(d(w,!1)))}}function f(p){Kr.nextTick(h,p)}function u(p,y){return function(w,b){p.then(function(){if(y[a]){w(d(void 0,!0));return}y[c](w,b)},b)}}var g=Object.getPrototypeOf(function(){}),m=Object.setPrototypeOf((e={get stream(){return this[A]},next:function(){var y=this,w=this[s];if(w!==null)return Promise.reject(w);if(this[a])return Promise.resolve(d(void 0,!0));if(this[A].destroyed)return new Promise(function(R,Q){Kr.nextTick(function(){y[s]?Q(y[s]):R(d(void 0,!0))})});var b=this[o],I;if(b)I=new Promise(u(b,this));else{var F=this[A].read();if(F!==null)return Promise.resolve(d(F,!1));I=new Promise(this[c])}return this[o]=I,I}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var y=this;return new Promise(function(w,b){y[A].destroy(null,function(I){if(I){b(I);return}w(d(void 0,!0))})})}),e),g),x=function(y){var w,b=Object.create(m,(w={},t(w,A,{value:y,writable:!0}),t(w,n,{value:null,writable:!0}),t(w,i,{value:null,writable:!0}),t(w,s,{value:null,writable:!0}),t(w,a,{value:y._readableState.endEmitted,writable:!0}),t(w,c,{value:function(F,R){var Q=b[A].read();Q?(b[o]=null,b[n]=null,b[i]=null,F(d(Q,!1))):(b[n]=F,b[i]=R)},writable:!0}),w));return b[o]=null,r(y,function(I){if(I&&I.code!=="ERR_STREAM_PREMATURE_CLOSE"){var F=b[i];F!==null&&(b[o]=null,b[n]=null,b[i]=null,F(I)),b[s]=I;return}var R=b[n];R!==null&&(b[o]=null,b[n]=null,b[i]=null,R(d(void 0,!0))),b[a]=!0}),y.on("readable",f.bind(null,b)),b};return dv=x,dv}var hv,c3;function s$(){return c3||(c3=1,hv=function(){throw new Error("Readable.from is not available in the browser")}),hv}var fv,A3;function zU(){if(A3)return fv;A3=1,fv=k;var e;k.ReadableState=Q,PB().EventEmitter;var t=function(Z,me){return Z.listeners(me).length},r=kU(),n=ew().Buffer,i=jl.Uint8Array||function(){};function s(ee){return n.from(ee)}function a(ee){return n.isBuffer(ee)||ee instanceof i}var o=PU(),c;o&&o.debuglog?c=o.debuglog("stream"):c=function(){};var A=t$(),d=QU(),h=MU(),f=h.getHighWaterMark,u=wh().codes,g=u.ERR_INVALID_ARG_TYPE,m=u.ERR_STREAM_PUSH_AFTER_EOF,x=u.ERR_METHOD_NOT_IMPLEMENTED,p=u.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y,w,b;IA()(k,r);var I=d.errorOrDestroy,F=["error","close","destroy","pause","resume"];function R(ee,Z,me){if(typeof ee.prependListener=="function")return ee.prependListener(Z,me);!ee._events||!ee._events[Z]?ee.on(Z,me):Array.isArray(ee._events[Z])?ee._events[Z].unshift(me):ee._events[Z]=[me,ee._events[Z]]}function Q(ee,Z,me){e=e||ih(),ee=ee||{},typeof me!="boolean"&&(me=Z instanceof e),this.objectMode=!!ee.objectMode,me&&(this.objectMode=this.objectMode||!!ee.readableObjectMode),this.highWaterMark=f(this,ee,"readableHighWaterMark",me),this.buffer=new A,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=ee.emitClose!==!1,this.autoDestroy=!!ee.autoDestroy,this.destroyed=!1,this.defaultEncoding=ee.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ee.encoding&&(y||(y=Y2().StringDecoder),this.decoder=new y(ee.encoding),this.encoding=ee.encoding)}function k(ee){if(e=e||ih(),!(this instanceof k))return new k(ee);var Z=this instanceof e;this._readableState=new Q(ee,this,Z),this.readable=!0,ee&&(typeof ee.read=="function"&&(this._read=ee.read),typeof ee.destroy=="function"&&(this._destroy=ee.destroy)),r.call(this)}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Z){this._readableState&&(this._readableState.destroyed=Z)}}),k.prototype.destroy=d.destroy,k.prototype._undestroy=d.undestroy,k.prototype._destroy=function(ee,Z){Z(ee)},k.prototype.push=function(ee,Z){var me=this._readableState,B;return me.objectMode?B=!0:typeof ee=="string"&&(Z=Z||me.defaultEncoding,Z!==me.encoding&&(ee=n.from(ee,Z),Z=""),B=!0),$(this,ee,Z,!1,B)},k.prototype.unshift=function(ee){return $(this,ee,null,!0,!1)};function $(ee,Z,me,B,te){c("readableAddChunk",Z);var H=ee._readableState;if(Z===null)H.reading=!1,ge(ee,H);else{var S;if(te||(S=T(H,Z)),S)I(ee,S);else if(H.objectMode||Z&&Z.length>0)if(typeof Z!="string"&&!H.objectMode&&Object.getPrototypeOf(Z)!==n.prototype&&(Z=s(Z)),B)H.endEmitted?I(ee,new p):q(ee,H,Z,!0);else if(H.ended)I(ee,new m);else{if(H.destroyed)return!1;H.reading=!1,H.decoder&&!me?(Z=H.decoder.write(Z),H.objectMode||Z.length!==0?q(ee,H,Z,!1):le(ee,H)):q(ee,H,Z,!1)}else B||(H.reading=!1,le(ee,H))}return!H.ended&&(H.length<H.highWaterMark||H.length===0)}function q(ee,Z,me,B){Z.flowing&&Z.length===0&&!Z.sync?(Z.awaitDrain=0,ee.emit("data",me)):(Z.length+=Z.objectMode?1:me.length,B?Z.buffer.unshift(me):Z.buffer.push(me),Z.needReadable&&Y(ee)),le(ee,Z)}function T(ee,Z){var me;return!a(Z)&&typeof Z!="string"&&Z!==void 0&&!ee.objectMode&&(me=new g("chunk",["string","Buffer","Uint8Array"],Z)),me}k.prototype.isPaused=function(){return this._readableState.flowing===!1},k.prototype.setEncoding=function(ee){y||(y=Y2().StringDecoder);var Z=new y(ee);this._readableState.decoder=Z,this._readableState.encoding=this._readableState.decoder.encoding;for(var me=this._readableState.buffer.head,B="";me!==null;)B+=Z.write(me.data),me=me.next;return this._readableState.buffer.clear(),B!==""&&this._readableState.buffer.push(B),this._readableState.length=B.length,this};var K=1073741824;function v(ee){return ee>=K?ee=K:(ee--,ee|=ee>>>1,ee|=ee>>>2,ee|=ee>>>4,ee|=ee>>>8,ee|=ee>>>16,ee++),ee}function re(ee,Z){return ee<=0||Z.length===0&&Z.ended?0:Z.objectMode?1:ee!==ee?Z.flowing&&Z.length?Z.buffer.head.data.length:Z.length:(ee>Z.highWaterMark&&(Z.highWaterMark=v(ee)),ee<=Z.length?ee:Z.ended?Z.length:(Z.needReadable=!0,0))}k.prototype.read=function(ee){c("read",ee),ee=parseInt(ee,10);var Z=this._readableState,me=ee;if(ee!==0&&(Z.emittedReadable=!1),ee===0&&Z.needReadable&&((Z.highWaterMark!==0?Z.length>=Z.highWaterMark:Z.length>0)||Z.ended))return c("read: emitReadable",Z.length,Z.ended),Z.length===0&&Z.ended?M(this):Y(this),null;if(ee=re(ee,Z),ee===0&&Z.ended)return Z.length===0&&M(this),null;var B=Z.needReadable;c("need readable",B),(Z.length===0||Z.length-ee<Z.highWaterMark)&&(B=!0,c("length less than watermark",B)),Z.ended||Z.reading?(B=!1,c("reading or ended",B)):B&&(c("do read"),Z.reading=!0,Z.sync=!0,Z.length===0&&(Z.needReadable=!0),this._read(Z.highWaterMark),Z.sync=!1,Z.reading||(ee=re(me,Z)));var te;return ee>0?te=U(ee,Z):te=null,te===null?(Z.needReadable=Z.length<=Z.highWaterMark,ee=0):(Z.length-=ee,Z.awaitDrain=0),Z.length===0&&(Z.ended||(Z.needReadable=!0),me!==ee&&Z.ended&&M(this)),te!==null&&this.emit("data",te),te};function ge(ee,Z){if(c("onEofChunk"),!Z.ended){if(Z.decoder){var me=Z.decoder.end();me&&me.length&&(Z.buffer.push(me),Z.length+=Z.objectMode?1:me.length)}Z.ended=!0,Z.sync?Y(ee):(Z.needReadable=!1,Z.emittedReadable||(Z.emittedReadable=!0,fe(ee)))}}function Y(ee){var Z=ee._readableState;c("emitReadable",Z.needReadable,Z.emittedReadable),Z.needReadable=!1,Z.emittedReadable||(c("emitReadable",Z.flowing),Z.emittedReadable=!0,Kr.nextTick(fe,ee))}function fe(ee){var Z=ee._readableState;c("emitReadable_",Z.destroyed,Z.length,Z.ended),!Z.destroyed&&(Z.length||Z.ended)&&(ee.emit("readable"),Z.emittedReadable=!1),Z.needReadable=!Z.flowing&&!Z.ended&&Z.length<=Z.highWaterMark,Ae(ee)}function le(ee,Z){Z.readingMore||(Z.readingMore=!0,Kr.nextTick(ne,ee,Z))}function ne(ee,Z){for(;!Z.reading&&!Z.ended&&(Z.length<Z.highWaterMark||Z.flowing&&Z.length===0);){var me=Z.length;if(c("maybeReadMore read 0"),ee.read(0),me===Z.length)break}Z.readingMore=!1}k.prototype._read=function(ee){I(this,new x("_read()"))},k.prototype.pipe=function(ee,Z){var me=this,B=this._readableState;switch(B.pipesCount){case 0:B.pipes=ee;break;case 1:B.pipes=[B.pipes,ee];break;default:B.pipes.push(ee);break}B.pipesCount+=1,c("pipe count=%d opts=%j",B.pipesCount,Z);var te=(!Z||Z.end!==!1)&&ee!==Kr.stdout&&ee!==Kr.stderr,H=te?E:_e;B.endEmitted?Kr.nextTick(H):me.once("end",H),ee.on("unpipe",S);function S(Me,Ze){c("onunpipe"),Me===me&&Ze&&Ze.hasUnpiped===!1&&(Ze.hasUnpiped=!0,ye())}function E(){c("onend"),ee.end()}var P=ae(me);ee.on("drain",P);var de=!1;function ye(){c("cleanup"),ee.removeListener("close",Oe),ee.removeListener("finish",Ue),ee.removeListener("drain",P),ee.removeListener("error",ke),ee.removeListener("unpipe",S),me.removeListener("end",E),me.removeListener("end",_e),me.removeListener("data",ue),de=!0,B.awaitDrain&&(!ee._writableState||ee._writableState.needDrain)&&P()}me.on("data",ue);function ue(Me){c("ondata");var Ze=ee.write(Me);c("dest.write",Ze),Ze===!1&&((B.pipesCount===1&&B.pipes===ee||B.pipesCount>1&&ce(B.pipes,ee)!==-1)&&!de&&(c("false write response, pause",B.awaitDrain),B.awaitDrain++),me.pause())}function ke(Me){c("onerror",Me),_e(),ee.removeListener("error",ke),t(ee,"error")===0&&I(ee,Me)}R(ee,"error",ke);function Oe(){ee.removeListener("finish",Ue),_e()}ee.once("close",Oe);function Ue(){c("onfinish"),ee.removeListener("close",Oe),_e()}ee.once("finish",Ue);function _e(){c("unpipe"),me.unpipe(ee)}return ee.emit("pipe",me),B.flowing||(c("pipe resume"),me.resume()),ee};function ae(ee){return function(){var me=ee._readableState;c("pipeOnDrain",me.awaitDrain),me.awaitDrain&&me.awaitDrain--,me.awaitDrain===0&&t(ee,"data")&&(me.flowing=!0,Ae(ee))}}k.prototype.unpipe=function(ee){var Z=this._readableState,me={hasUnpiped:!1};if(Z.pipesCount===0)return this;if(Z.pipesCount===1)return ee&&ee!==Z.pipes?this:(ee||(ee=Z.pipes),Z.pipes=null,Z.pipesCount=0,Z.flowing=!1,ee&&ee.emit("unpipe",this,me),this);if(!ee){var B=Z.pipes,te=Z.pipesCount;Z.pipes=null,Z.pipesCount=0,Z.flowing=!1;for(var H=0;H<te;H++)B[H].emit("unpipe",this,{hasUnpiped:!1});return this}var S=ce(Z.pipes,ee);return S===-1?this:(Z.pipes.splice(S,1),Z.pipesCount-=1,Z.pipesCount===1&&(Z.pipes=Z.pipes[0]),ee.emit("unpipe",this,me),this)},k.prototype.on=function(ee,Z){var me=r.prototype.on.call(this,ee,Z),B=this._readableState;return ee==="data"?(B.readableListening=this.listenerCount("readable")>0,B.flowing!==!1&&this.resume()):ee==="readable"&&!B.endEmitted&&!B.readableListening&&(B.readableListening=B.needReadable=!0,B.flowing=!1,B.emittedReadable=!1,c("on readable",B.length,B.reading),B.length?Y(this):B.reading||Kr.nextTick(O,this)),me},k.prototype.addListener=k.prototype.on,k.prototype.removeListener=function(ee,Z){var me=r.prototype.removeListener.call(this,ee,Z);return ee==="readable"&&Kr.nextTick(_,this),me},k.prototype.removeAllListeners=function(ee){var Z=r.prototype.removeAllListeners.apply(this,arguments);return(ee==="readable"||ee===void 0)&&Kr.nextTick(_,this),Z};function _(ee){var Z=ee._readableState;Z.readableListening=ee.listenerCount("readable")>0,Z.resumeScheduled&&!Z.paused?Z.flowing=!0:ee.listenerCount("data")>0&&ee.resume()}function O(ee){c("readable nexttick read 0"),ee.read(0)}k.prototype.resume=function(){var ee=this._readableState;return ee.flowing||(c("resume"),ee.flowing=!ee.readableListening,G(this,ee)),ee.paused=!1,this};function G(ee,Z){Z.resumeScheduled||(Z.resumeScheduled=!0,Kr.nextTick(oe,ee,Z))}function oe(ee,Z){c("resume",Z.reading),Z.reading||ee.read(0),Z.resumeScheduled=!1,ee.emit("resume"),Ae(ee),Z.flowing&&!Z.reading&&ee.read(0)}k.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Ae(ee){var Z=ee._readableState;for(c("flow",Z.flowing);Z.flowing&&ee.read()!==null;);}k.prototype.wrap=function(ee){var Z=this,me=this._readableState,B=!1;ee.on("end",function(){if(c("wrapped end"),me.decoder&&!me.ended){var S=me.decoder.end();S&&S.length&&Z.push(S)}Z.push(null)}),ee.on("data",function(S){if(c("wrapped data"),me.decoder&&(S=me.decoder.write(S)),!(me.objectMode&&S==null)&&!(!me.objectMode&&(!S||!S.length))){var E=Z.push(S);E||(B=!0,ee.pause())}});for(var te in ee)this[te]===void 0&&typeof ee[te]=="function"&&(this[te]=function(E){return function(){return ee[E].apply(ee,arguments)}}(te));for(var H=0;H<F.length;H++)ee.on(F[H],this.emit.bind(this,F[H]));return this._read=function(S){c("wrapped _read",S),B&&(B=!1,ee.resume())},this},typeof Symbol=="function"&&(k.prototype[Symbol.asyncIterator]=function(){return w===void 0&&(w=i$()),w(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Z){this._readableState&&(this._readableState.flowing=Z)}}),k._fromList=U,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function U(ee,Z){if(Z.length===0)return null;var me;return Z.objectMode?me=Z.buffer.shift():!ee||ee>=Z.length?(Z.decoder?me=Z.buffer.join(""):Z.buffer.length===1?me=Z.buffer.first():me=Z.buffer.concat(Z.length),Z.buffer.clear()):me=Z.buffer.consume(ee,Z.decoder),me}function M(ee){var Z=ee._readableState;c("endReadable",Z.endEmitted),Z.endEmitted||(Z.ended=!0,Kr.nextTick(J,Z,ee))}function J(ee,Z){if(c("endReadableNT",ee.endEmitted,ee.length),!ee.endEmitted&&ee.length===0&&(ee.endEmitted=!0,Z.readable=!1,Z.emit("end"),ee.autoDestroy)){var me=Z._writableState;(!me||me.autoDestroy&&me.finished)&&Z.destroy()}}typeof Symbol=="function"&&(k.from=function(ee,Z){return b===void 0&&(b=s$()),b(k,ee,Z)});function ce(ee,Z){for(var me=0,B=ee.length;me<B;me++)if(ee[me]===Z)return me;return-1}return fv}var pv,u3;function KU(){if(u3)return pv;u3=1,pv=o;var e=wh().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,s=ih();IA()(o,s);function a(d,h){var f=this._transformState;f.transforming=!1;var u=f.writecb;if(u===null)return this.emit("error",new r);f.writechunk=null,f.writecb=null,h!=null&&this.push(h),u(d);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function o(d){if(!(this instanceof o))return new o(d);s.call(this,d),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",c)}function c(){var d=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(h,f){A(d,h,f)}):A(this,null,null)}o.prototype.push=function(d,h){return this._transformState.needTransform=!1,s.prototype.push.call(this,d,h)},o.prototype._transform=function(d,h,f){f(new t("_transform()"))},o.prototype._write=function(d,h,f){var u=this._transformState;if(u.writecb=f,u.writechunk=d,u.writeencoding=h,!u.transforming){var g=this._readableState;(u.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},o.prototype._read=function(d){var h=this._transformState;h.writechunk!==null&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},o.prototype._destroy=function(d,h){s.prototype._destroy.call(this,d,function(f){h(f)})};function A(d,h,f){if(h)return d.emit("error",h);if(f!=null&&d.push(f),d._writableState.length)throw new i;if(d._transformState.transforming)throw new n;return d.push(null)}return pv}var mv,d3;function a$(){if(d3)return mv;d3=1,mv=t;var e=KU();IA()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,i){i(null,r)},mv}var gv,h3;function o$(){if(h3)return gv;h3=1;var e;function t(f){var u=!1;return function(){u||(u=!0,f.apply(void 0,arguments))}}var r=wh().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function s(f){if(f)throw f}function a(f){return f.setHeader&&typeof f.abort=="function"}function o(f,u,g,m){m=t(m);var x=!1;f.on("close",function(){x=!0}),e===void 0&&(e=zB()),e(f,{readable:u,writable:g},function(y){if(y)return m(y);x=!0,m()});var p=!1;return function(y){if(!x&&!p){if(p=!0,a(f))return f.abort();if(typeof f.destroy=="function")return f.destroy();m(y||new i("pipe"))}}}function c(f){f()}function A(f,u){return f.pipe(u)}function d(f){return!f.length||typeof f[f.length-1]!="function"?s:f.pop()}function h(){for(var f=arguments.length,u=new Array(f),g=0;g<f;g++)u[g]=arguments[g];var m=d(u);if(Array.isArray(u[0])&&(u=u[0]),u.length<2)throw new n("streams");var x,p=u.map(function(y,w){var b=w<u.length-1,I=w>0;return o(y,b,I,function(F){x||(x=F),F&&p.forEach(c),!b&&(p.forEach(c),m(x))})});return u.reduce(A)}return gv=h,gv}var yv,f3;function KB(){if(f3)return yv;f3=1,yv=r;var e=PB().EventEmitter,t=IA();t(r,e),r.Readable=zU(),r.Writable=HU(),r.Duplex=ih(),r.Transform=KU(),r.PassThrough=a$(),r.finished=zB(),r.pipeline=o$(),r.Stream=r;function r(){e.call(this)}return r.prototype.pipe=function(n,i){var s=this;function a(u){n.writable&&n.write(u)===!1&&s.pause&&s.pause()}s.on("data",a);function o(){s.readable&&s.resume&&s.resume()}n.on("drain",o),!n._isStdio&&(!i||i.end!==!1)&&(s.on("end",A),s.on("close",d));var c=!1;function A(){c||(c=!0,n.end())}function d(){c||(c=!0,typeof n.destroy=="function"&&n.destroy())}function h(u){if(f(),e.listenerCount(this,"error")===0)throw u}s.on("error",h),n.on("error",h);function f(){s.removeListener("data",a),n.removeListener("drain",o),s.removeListener("end",A),s.removeListener("close",d),s.removeListener("error",h),n.removeListener("error",h),s.removeListener("end",f),s.removeListener("close",f),n.removeListener("close",f)}return s.on("end",f),s.on("close",f),n.on("close",f),n.emit("pipe",s),n},yv}var p3;function l$(){return p3||(p3=1,function(e){(function(t){t.parser=function(U,M){return new n(U,M)},t.SAXParser=n,t.SAXStream=d,t.createStream=A,t.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(U,M){if(!(this instanceof n))return new n(U,M);var J=this;s(J),J.q=J.c="",J.bufferCheckPosition=t.MAX_BUFFER_LENGTH,J.opt=M||{},J.opt.lowercase=J.opt.lowercase||J.opt.lowercasetags,J.looseCase=J.opt.lowercase?"toLowerCase":"toUpperCase",J.tags=[],J.closed=J.closedRoot=J.sawRoot=!1,J.tag=J.error=null,J.strict=!!U,J.noscript=!!(U||J.opt.noscript),J.state=k.BEGIN,J.strictEntities=J.opt.strictEntities,J.ENTITIES=J.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),J.attribList=[],J.opt.xmlns&&(J.ns=Object.create(m)),J.trackPosition=J.opt.position!==!1,J.trackPosition&&(J.position=J.line=J.column=0),q(J,"onready")}Object.create||(Object.create=function(U){function M(){}M.prototype=U;var J=new M;return J}),Object.keys||(Object.keys=function(U){var M=[];for(var J in U)U.hasOwnProperty(J)&&M.push(J);return M});function i(U){for(var M=Math.max(t.MAX_BUFFER_LENGTH,10),J=0,ce=0,ee=r.length;ce<ee;ce++){var Z=U[r[ce]].length;if(Z>M)switch(r[ce]){case"textNode":K(U);break;case"cdata":T(U,"oncdata",U.cdata),U.cdata="";break;case"script":T(U,"onscript",U.script),U.script="";break;default:re(U,"Max buffer length exceeded: "+r[ce])}J=Math.max(J,Z)}var me=t.MAX_BUFFER_LENGTH-J;U.bufferCheckPosition=me+U.position}function s(U){for(var M=0,J=r.length;M<J;M++)U[r[M]]=""}function a(U){K(U),U.cdata!==""&&(T(U,"oncdata",U.cdata),U.cdata=""),U.script!==""&&(T(U,"onscript",U.script),U.script="")}n.prototype={end:function(){ge(this)},write:Ae,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){a(this)}};var o;try{o=KB().Stream}catch{o=function(){}}var c=t.EVENTS.filter(function(U){return U!=="error"&&U!=="end"});function A(U,M){return new d(U,M)}function d(U,M){if(!(this instanceof d))return new d(U,M);o.apply(this),this._parser=new n(U,M),this.writable=!0,this.readable=!0;var J=this;this._parser.onend=function(){J.emit("end")},this._parser.onerror=function(ce){J.emit("error",ce),J._parser.error=null},this._decoder=null,c.forEach(function(ce){Object.defineProperty(J,"on"+ce,{get:function(){return J._parser["on"+ce]},set:function(ee){if(!ee)return J.removeAllListeners(ce),J._parser["on"+ce]=ee,ee;J.on(ce,ee)},enumerable:!0,configurable:!1})})}d.prototype=Object.create(o.prototype,{constructor:{value:d}}),d.prototype.write=function(U){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(U)){if(!this._decoder){var M=Y2().StringDecoder;this._decoder=new M("utf8")}U=this._decoder.write(U)}return this._parser.write(U.toString()),this.emit("data",U),!0},d.prototype.end=function(U){return U&&U.length&&this.write(U),this._parser.end(),!0},d.prototype.on=function(U,M){var J=this;return!J._parser["on"+U]&&c.indexOf(U)!==-1&&(J._parser["on"+U]=function(){var ce=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);ce.splice(0,0,U),J.emit.apply(J,ce)}),o.prototype.on.call(J,U,M)};var h="[CDATA[",f="DOCTYPE",u="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/2000/xmlns/",m={xml:u,xmlns:g},x=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,p=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,w=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function b(U){return U===" "||U===`
`||U==="\r"||U==="	"}function I(U){return U==='"'||U==="'"}function F(U){return U===">"||b(U)}function R(U,M){return U.test(M)}function Q(U,M){return!R(U,M)}var k=0;t.STATE={BEGIN:k++,BEGIN_WHITESPACE:k++,TEXT:k++,TEXT_ENTITY:k++,OPEN_WAKA:k++,SGML_DECL:k++,SGML_DECL_QUOTED:k++,DOCTYPE:k++,DOCTYPE_QUOTED:k++,DOCTYPE_DTD:k++,DOCTYPE_DTD_QUOTED:k++,COMMENT_STARTING:k++,COMMENT:k++,COMMENT_ENDING:k++,COMMENT_ENDED:k++,CDATA:k++,CDATA_ENDING:k++,CDATA_ENDING_2:k++,PROC_INST:k++,PROC_INST_BODY:k++,PROC_INST_ENDING:k++,OPEN_TAG:k++,OPEN_TAG_SLASH:k++,ATTRIB:k++,ATTRIB_NAME:k++,ATTRIB_NAME_SAW_WHITE:k++,ATTRIB_VALUE:k++,ATTRIB_VALUE_QUOTED:k++,ATTRIB_VALUE_CLOSED:k++,ATTRIB_VALUE_UNQUOTED:k++,ATTRIB_VALUE_ENTITY_Q:k++,ATTRIB_VALUE_ENTITY_U:k++,CLOSE_TAG:k++,CLOSE_TAG_SAW_WHITE:k++,SCRIPT:k++,SCRIPT_ENDING:k++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(U){var M=t.ENTITIES[U],J=typeof M=="number"?String.fromCharCode(M):M;t.ENTITIES[U]=J});for(var $ in t.STATE)t.STATE[t.STATE[$]]=$;k=t.STATE;function q(U,M,J){U[M]&&U[M](J)}function T(U,M,J){U.textNode&&K(U),q(U,M,J)}function K(U){U.textNode=v(U.opt,U.textNode),U.textNode&&q(U,"ontext",U.textNode),U.textNode=""}function v(U,M){return U.trim&&(M=M.trim()),U.normalize&&(M=M.replace(/\s+/g," ")),M}function re(U,M){return K(U),U.trackPosition&&(M+=`
Line: `+U.line+`
Column: `+U.column+`
Char: `+U.c),M=new Error(M),U.error=M,q(U,"onerror",M),U}function ge(U){return U.sawRoot&&!U.closedRoot&&Y(U,"Unclosed root tag"),U.state!==k.BEGIN&&U.state!==k.BEGIN_WHITESPACE&&U.state!==k.TEXT&&re(U,"Unexpected end"),K(U),U.c="",U.closed=!0,q(U,"onend"),n.call(U,U.strict,U.opt),U}function Y(U,M){if(typeof U!="object"||!(U instanceof n))throw new Error("bad call to strictFail");U.strict&&re(U,M)}function fe(U){U.strict||(U.tagName=U.tagName[U.looseCase]());var M=U.tags[U.tags.length-1]||U,J=U.tag={name:U.tagName,attributes:{}};U.opt.xmlns&&(J.ns=M.ns),U.attribList.length=0,T(U,"onopentagstart",J)}function le(U,M){var J=U.indexOf(":"),ce=J<0?["",U]:U.split(":"),ee=ce[0],Z=ce[1];return M&&U==="xmlns"&&(ee="xmlns",Z=""),{prefix:ee,local:Z}}function ne(U){if(U.strict||(U.attribName=U.attribName[U.looseCase]()),U.attribList.indexOf(U.attribName)!==-1||U.tag.attributes.hasOwnProperty(U.attribName)){U.attribName=U.attribValue="";return}if(U.opt.xmlns){var M=le(U.attribName,!0),J=M.prefix,ce=M.local;if(J==="xmlns")if(ce==="xml"&&U.attribValue!==u)Y(U,"xml: prefix must be bound to "+u+`
Actual: `+U.attribValue);else if(ce==="xmlns"&&U.attribValue!==g)Y(U,"xmlns: prefix must be bound to "+g+`
Actual: `+U.attribValue);else{var ee=U.tag,Z=U.tags[U.tags.length-1]||U;ee.ns===Z.ns&&(ee.ns=Object.create(Z.ns)),ee.ns[ce]=U.attribValue}U.attribList.push([U.attribName,U.attribValue])}else U.tag.attributes[U.attribName]=U.attribValue,T(U,"onattribute",{name:U.attribName,value:U.attribValue});U.attribName=U.attribValue=""}function ae(U,M){if(U.opt.xmlns){var J=U.tag,ce=le(U.tagName);J.prefix=ce.prefix,J.local=ce.local,J.uri=J.ns[ce.prefix]||"",J.prefix&&!J.uri&&(Y(U,"Unbound namespace prefix: "+JSON.stringify(U.tagName)),J.uri=ce.prefix);var ee=U.tags[U.tags.length-1]||U;J.ns&&ee.ns!==J.ns&&Object.keys(J.ns).forEach(function(ue){T(U,"onopennamespace",{prefix:ue,uri:J.ns[ue]})});for(var Z=0,me=U.attribList.length;Z<me;Z++){var B=U.attribList[Z],te=B[0],H=B[1],S=le(te,!0),E=S.prefix,P=S.local,de=E===""?"":J.ns[E]||"",ye={name:te,value:H,prefix:E,local:P,uri:de};E&&E!=="xmlns"&&!de&&(Y(U,"Unbound namespace prefix: "+JSON.stringify(E)),ye.uri=E),U.tag.attributes[te]=ye,T(U,"onattribute",ye)}U.attribList.length=0}U.tag.isSelfClosing=!!M,U.sawRoot=!0,U.tags.push(U.tag),T(U,"onopentag",U.tag),M||(!U.noscript&&U.tagName.toLowerCase()==="script"?U.state=k.SCRIPT:U.state=k.TEXT,U.tag=null,U.tagName=""),U.attribName=U.attribValue="",U.attribList.length=0}function _(U){if(!U.tagName){Y(U,"Weird empty close tag."),U.textNode+="</>",U.state=k.TEXT;return}if(U.script){if(U.tagName!=="script"){U.script+="</"+U.tagName+">",U.tagName="",U.state=k.SCRIPT;return}T(U,"onscript",U.script),U.script=""}var M=U.tags.length,J=U.tagName;U.strict||(J=J[U.looseCase]());for(var ce=J;M--;){var ee=U.tags[M];if(ee.name!==ce)Y(U,"Unexpected close tag");else break}if(M<0){Y(U,"Unmatched closing tag: "+U.tagName),U.textNode+="</"+U.tagName+">",U.state=k.TEXT;return}U.tagName=J;for(var Z=U.tags.length;Z-- >M;){var me=U.tag=U.tags.pop();U.tagName=U.tag.name,T(U,"onclosetag",U.tagName);var B={};for(var te in me.ns)B[te]=me.ns[te];var H=U.tags[U.tags.length-1]||U;U.opt.xmlns&&me.ns!==H.ns&&Object.keys(me.ns).forEach(function(S){var E=me.ns[S];T(U,"onclosenamespace",{prefix:S,uri:E})})}M===0&&(U.closedRoot=!0),U.tagName=U.attribValue=U.attribName="",U.attribList.length=0,U.state=k.TEXT}function O(U){var M=U.entity,J=M.toLowerCase(),ce,ee="";return U.ENTITIES[M]?U.ENTITIES[M]:U.ENTITIES[J]?U.ENTITIES[J]:(M=J,M.charAt(0)==="#"&&(M.charAt(1)==="x"?(M=M.slice(2),ce=parseInt(M,16),ee=ce.toString(16)):(M=M.slice(1),ce=parseInt(M,10),ee=ce.toString(10))),M=M.replace(/^0+/,""),isNaN(ce)||ee.toLowerCase()!==M?(Y(U,"Invalid character entity"),"&"+U.entity+";"):String.fromCodePoint(ce))}function G(U,M){M==="<"?(U.state=k.OPEN_WAKA,U.startTagPosition=U.position):b(M)||(Y(U,"Non-whitespace before first tag."),U.textNode=M,U.state=k.TEXT)}function oe(U,M){var J="";return M<U.length&&(J=U.charAt(M)),J}function Ae(U){var M=this;if(this.error)throw this.error;if(M.closed)return re(M,"Cannot write after close. Assign an onready handler.");if(U===null)return ge(M);typeof U=="object"&&(U=U.toString());for(var J=0,ce="";ce=oe(U,J++),M.c=ce,!!ce;)switch(M.trackPosition&&(M.position++,ce===`
`?(M.line++,M.column=0):M.column++),M.state){case k.BEGIN:if(M.state=k.BEGIN_WHITESPACE,ce==="\uFEFF")continue;G(M,ce);continue;case k.BEGIN_WHITESPACE:G(M,ce);continue;case k.TEXT:if(M.sawRoot&&!M.closedRoot){for(var ee=J-1;ce&&ce!=="<"&&ce!=="&";)ce=oe(U,J++),ce&&M.trackPosition&&(M.position++,ce===`
`?(M.line++,M.column=0):M.column++);M.textNode+=U.substring(ee,J-1)}ce==="<"&&!(M.sawRoot&&M.closedRoot&&!M.strict)?(M.state=k.OPEN_WAKA,M.startTagPosition=M.position):(!b(ce)&&(!M.sawRoot||M.closedRoot)&&Y(M,"Text data outside of root node."),ce==="&"?M.state=k.TEXT_ENTITY:M.textNode+=ce);continue;case k.SCRIPT:ce==="<"?M.state=k.SCRIPT_ENDING:M.script+=ce;continue;case k.SCRIPT_ENDING:ce==="/"?M.state=k.CLOSE_TAG:(M.script+="<"+ce,M.state=k.SCRIPT);continue;case k.OPEN_WAKA:if(ce==="!")M.state=k.SGML_DECL,M.sgmlDecl="";else if(!b(ce))if(R(x,ce))M.state=k.OPEN_TAG,M.tagName=ce;else if(ce==="/")M.state=k.CLOSE_TAG,M.tagName="";else if(ce==="?")M.state=k.PROC_INST,M.procInstName=M.procInstBody="";else{if(Y(M,"Unencoded <"),M.startTagPosition+1<M.position){var Z=M.position-M.startTagPosition;ce=new Array(Z).join(" ")+ce}M.textNode+="<"+ce,M.state=k.TEXT}continue;case k.SGML_DECL:(M.sgmlDecl+ce).toUpperCase()===h?(T(M,"onopencdata"),M.state=k.CDATA,M.sgmlDecl="",M.cdata=""):M.sgmlDecl+ce==="--"?(M.state=k.COMMENT,M.comment="",M.sgmlDecl=""):(M.sgmlDecl+ce).toUpperCase()===f?(M.state=k.DOCTYPE,(M.doctype||M.sawRoot)&&Y(M,"Inappropriately located doctype declaration"),M.doctype="",M.sgmlDecl=""):ce===">"?(T(M,"onsgmldeclaration",M.sgmlDecl),M.sgmlDecl="",M.state=k.TEXT):(I(ce)&&(M.state=k.SGML_DECL_QUOTED),M.sgmlDecl+=ce);continue;case k.SGML_DECL_QUOTED:ce===M.q&&(M.state=k.SGML_DECL,M.q=""),M.sgmlDecl+=ce;continue;case k.DOCTYPE:ce===">"?(M.state=k.TEXT,T(M,"ondoctype",M.doctype),M.doctype=!0):(M.doctype+=ce,ce==="["?M.state=k.DOCTYPE_DTD:I(ce)&&(M.state=k.DOCTYPE_QUOTED,M.q=ce));continue;case k.DOCTYPE_QUOTED:M.doctype+=ce,ce===M.q&&(M.q="",M.state=k.DOCTYPE);continue;case k.DOCTYPE_DTD:M.doctype+=ce,ce==="]"?M.state=k.DOCTYPE:I(ce)&&(M.state=k.DOCTYPE_DTD_QUOTED,M.q=ce);continue;case k.DOCTYPE_DTD_QUOTED:M.doctype+=ce,ce===M.q&&(M.state=k.DOCTYPE_DTD,M.q="");continue;case k.COMMENT:ce==="-"?M.state=k.COMMENT_ENDING:M.comment+=ce;continue;case k.COMMENT_ENDING:ce==="-"?(M.state=k.COMMENT_ENDED,M.comment=v(M.opt,M.comment),M.comment&&T(M,"oncomment",M.comment),M.comment=""):(M.comment+="-"+ce,M.state=k.COMMENT);continue;case k.COMMENT_ENDED:ce!==">"?(Y(M,"Malformed comment"),M.comment+="--"+ce,M.state=k.COMMENT):M.state=k.TEXT;continue;case k.CDATA:ce==="]"?M.state=k.CDATA_ENDING:M.cdata+=ce;continue;case k.CDATA_ENDING:ce==="]"?M.state=k.CDATA_ENDING_2:(M.cdata+="]"+ce,M.state=k.CDATA);continue;case k.CDATA_ENDING_2:ce===">"?(M.cdata&&T(M,"oncdata",M.cdata),T(M,"onclosecdata"),M.cdata="",M.state=k.TEXT):ce==="]"?M.cdata+="]":(M.cdata+="]]"+ce,M.state=k.CDATA);continue;case k.PROC_INST:ce==="?"?M.state=k.PROC_INST_ENDING:b(ce)?M.state=k.PROC_INST_BODY:M.procInstName+=ce;continue;case k.PROC_INST_BODY:if(!M.procInstBody&&b(ce))continue;ce==="?"?M.state=k.PROC_INST_ENDING:M.procInstBody+=ce;continue;case k.PROC_INST_ENDING:ce===">"?(T(M,"onprocessinginstruction",{name:M.procInstName,body:M.procInstBody}),M.procInstName=M.procInstBody="",M.state=k.TEXT):(M.procInstBody+="?"+ce,M.state=k.PROC_INST_BODY);continue;case k.OPEN_TAG:R(p,ce)?M.tagName+=ce:(fe(M),ce===">"?ae(M):ce==="/"?M.state=k.OPEN_TAG_SLASH:(b(ce)||Y(M,"Invalid character in tag name"),M.state=k.ATTRIB));continue;case k.OPEN_TAG_SLASH:ce===">"?(ae(M,!0),_(M)):(Y(M,"Forward-slash in opening tag not followed by >"),M.state=k.ATTRIB);continue;case k.ATTRIB:if(b(ce))continue;ce===">"?ae(M):ce==="/"?M.state=k.OPEN_TAG_SLASH:R(x,ce)?(M.attribName=ce,M.attribValue="",M.state=k.ATTRIB_NAME):Y(M,"Invalid attribute name");continue;case k.ATTRIB_NAME:ce==="="?M.state=k.ATTRIB_VALUE:ce===">"?(Y(M,"Attribute without value"),M.attribValue=M.attribName,ne(M),ae(M)):b(ce)?M.state=k.ATTRIB_NAME_SAW_WHITE:R(p,ce)?M.attribName+=ce:Y(M,"Invalid attribute name");continue;case k.ATTRIB_NAME_SAW_WHITE:if(ce==="=")M.state=k.ATTRIB_VALUE;else{if(b(ce))continue;Y(M,"Attribute without value"),M.tag.attributes[M.attribName]="",M.attribValue="",T(M,"onattribute",{name:M.attribName,value:""}),M.attribName="",ce===">"?ae(M):R(x,ce)?(M.attribName=ce,M.state=k.ATTRIB_NAME):(Y(M,"Invalid attribute name"),M.state=k.ATTRIB)}continue;case k.ATTRIB_VALUE:if(b(ce))continue;I(ce)?(M.q=ce,M.state=k.ATTRIB_VALUE_QUOTED):(Y(M,"Unquoted attribute value"),M.state=k.ATTRIB_VALUE_UNQUOTED,M.attribValue=ce);continue;case k.ATTRIB_VALUE_QUOTED:if(ce!==M.q){ce==="&"?M.state=k.ATTRIB_VALUE_ENTITY_Q:M.attribValue+=ce;continue}ne(M),M.q="",M.state=k.ATTRIB_VALUE_CLOSED;continue;case k.ATTRIB_VALUE_CLOSED:b(ce)?M.state=k.ATTRIB:ce===">"?ae(M):ce==="/"?M.state=k.OPEN_TAG_SLASH:R(x,ce)?(Y(M,"No whitespace between attributes"),M.attribName=ce,M.attribValue="",M.state=k.ATTRIB_NAME):Y(M,"Invalid attribute name");continue;case k.ATTRIB_VALUE_UNQUOTED:if(!F(ce)){ce==="&"?M.state=k.ATTRIB_VALUE_ENTITY_U:M.attribValue+=ce;continue}ne(M),ce===">"?ae(M):M.state=k.ATTRIB;continue;case k.CLOSE_TAG:if(M.tagName)ce===">"?_(M):R(p,ce)?M.tagName+=ce:M.script?(M.script+="</"+M.tagName,M.tagName="",M.state=k.SCRIPT):(b(ce)||Y(M,"Invalid tagname in closing tag"),M.state=k.CLOSE_TAG_SAW_WHITE);else{if(b(ce))continue;Q(x,ce)?M.script?(M.script+="</"+ce,M.state=k.SCRIPT):Y(M,"Invalid tagname in closing tag."):M.tagName=ce}continue;case k.CLOSE_TAG_SAW_WHITE:if(b(ce))continue;ce===">"?_(M):Y(M,"Invalid characters in closing tag");continue;case k.TEXT_ENTITY:case k.ATTRIB_VALUE_ENTITY_Q:case k.ATTRIB_VALUE_ENTITY_U:var me,B;switch(M.state){case k.TEXT_ENTITY:me=k.TEXT,B="textNode";break;case k.ATTRIB_VALUE_ENTITY_Q:me=k.ATTRIB_VALUE_QUOTED,B="attribValue";break;case k.ATTRIB_VALUE_ENTITY_U:me=k.ATTRIB_VALUE_UNQUOTED,B="attribValue";break}ce===";"?(M[B]+=O(M),M.entity="",M.state=me):R(M.entity.length?w:y,ce)?M.entity+=ce:(Y(M,"Invalid character in entity name"),M[B]+="&"+M.entity+ce,M.entity="",M.state=me);continue;default:throw new Error(M,"Unknown state: "+M.state)}return M.position>=M.bufferCheckPosition&&i(M),M}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var U=String.fromCharCode,M=Math.floor,J=function(){var ce=16384,ee=[],Z,me,B=-1,te=arguments.length;if(!te)return"";for(var H="";++B<te;){var S=Number(arguments[B]);if(!isFinite(S)||S<0||S>1114111||M(S)!==S)throw RangeError("Invalid code point: "+S);S<=65535?ee.push(S):(S-=65536,Z=(S>>10)+55296,me=S%1024+56320,ee.push(Z,me)),(B+1===te||ee.length>ce)&&(H+=U.apply(null,ee),ee.length=0)}return H};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:J,configurable:!0,writable:!0}):String.fromCodePoint=J}()})(e)}(nb)),nb}var wv,m3;function qB(){return m3||(m3=1,wv={isArray:function(e){return Array.isArray?Array.isArray(e):Object.prototype.toString.call(e)==="[object Array]"}}),wv}var bv,g3;function GB(){if(g3)return bv;g3=1;var e=qB().isArray;return bv={copyOptions:function(t){var r,n={};for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n},ensureFlagExists:function(t,r){(!(t in r)||typeof r[t]!="boolean")&&(r[t]=!1)},ensureSpacesExists:function(t){(!("spaces"in t)||typeof t.spaces!="number"&&typeof t.spaces!="string")&&(t.spaces=0)},ensureAlwaysArrayExists:function(t){(!("alwaysArray"in t)||typeof t.alwaysArray!="boolean"&&!e(t.alwaysArray))&&(t.alwaysArray=!1)},ensureKeyExists:function(t,r){(!(t+"Key"in r)||typeof r[t+"Key"]!="string")&&(r[t+"Key"]=r.compact?"_"+t:t)},checkFnExists:function(t,r){return t+"Fn"in r}},bv}var vv,y3;function qU(){if(y3)return vv;y3=1;var e=l$(),t=GB(),r=qB().isArray,n,i;function s(p){return n=t.copyOptions(p),t.ensureFlagExists("ignoreDeclaration",n),t.ensureFlagExists("ignoreInstruction",n),t.ensureFlagExists("ignoreAttributes",n),t.ensureFlagExists("ignoreText",n),t.ensureFlagExists("ignoreComment",n),t.ensureFlagExists("ignoreCdata",n),t.ensureFlagExists("ignoreDoctype",n),t.ensureFlagExists("compact",n),t.ensureFlagExists("alwaysChildren",n),t.ensureFlagExists("addParent",n),t.ensureFlagExists("trim",n),t.ensureFlagExists("nativeType",n),t.ensureFlagExists("nativeTypeAttributes",n),t.ensureFlagExists("sanitize",n),t.ensureFlagExists("instructionHasAttributes",n),t.ensureFlagExists("captureSpacesBetweenElements",n),t.ensureAlwaysArrayExists(n),t.ensureKeyExists("declaration",n),t.ensureKeyExists("instruction",n),t.ensureKeyExists("attributes",n),t.ensureKeyExists("text",n),t.ensureKeyExists("comment",n),t.ensureKeyExists("cdata",n),t.ensureKeyExists("doctype",n),t.ensureKeyExists("type",n),t.ensureKeyExists("name",n),t.ensureKeyExists("elements",n),t.ensureKeyExists("parent",n),t.checkFnExists("doctype",n),t.checkFnExists("instruction",n),t.checkFnExists("cdata",n),t.checkFnExists("comment",n),t.checkFnExists("text",n),t.checkFnExists("instructionName",n),t.checkFnExists("elementName",n),t.checkFnExists("attributeName",n),t.checkFnExists("attributeValue",n),t.checkFnExists("attributes",n),n}function a(p){var y=Number(p);if(!isNaN(y))return y;var w=p.toLowerCase();return w==="true"?!0:w==="false"?!1:p}function o(p,y){var w;if(n.compact){if(!i[n[p+"Key"]]&&(r(n.alwaysArray)?n.alwaysArray.indexOf(n[p+"Key"])!==-1:n.alwaysArray)&&(i[n[p+"Key"]]=[]),i[n[p+"Key"]]&&!r(i[n[p+"Key"]])&&(i[n[p+"Key"]]=[i[n[p+"Key"]]]),p+"Fn"in n&&typeof y=="string"&&(y=n[p+"Fn"](y,i)),p==="instruction"&&("instructionFn"in n||"instructionNameFn"in n)){for(w in y)if(y.hasOwnProperty(w))if("instructionFn"in n)y[w]=n.instructionFn(y[w],w,i);else{var b=y[w];delete y[w],y[n.instructionNameFn(w,b,i)]=b}}r(i[n[p+"Key"]])?i[n[p+"Key"]].push(y):i[n[p+"Key"]]=y}else{i[n.elementsKey]||(i[n.elementsKey]=[]);var I={};if(I[n.typeKey]=p,p==="instruction"){for(w in y)if(y.hasOwnProperty(w))break;I[n.nameKey]="instructionNameFn"in n?n.instructionNameFn(w,y,i):w,n.instructionHasAttributes?(I[n.attributesKey]=y[w][n.attributesKey],"instructionFn"in n&&(I[n.attributesKey]=n.instructionFn(I[n.attributesKey],w,i))):("instructionFn"in n&&(y[w]=n.instructionFn(y[w],w,i)),I[n.instructionKey]=y[w])}else p+"Fn"in n&&(y=n[p+"Fn"](y,i)),I[n[p+"Key"]]=y;n.addParent&&(I[n.parentKey]=i),i[n.elementsKey].push(I)}}function c(p){if("attributesFn"in n&&p&&(p=n.attributesFn(p,i)),(n.trim||"attributeValueFn"in n||"attributeNameFn"in n||n.nativeTypeAttributes)&&p){var y;for(y in p)if(p.hasOwnProperty(y)&&(n.trim&&(p[y]=p[y].trim()),n.nativeTypeAttributes&&(p[y]=a(p[y])),"attributeValueFn"in n&&(p[y]=n.attributeValueFn(p[y],y,i)),"attributeNameFn"in n)){var w=p[y];delete p[y],p[n.attributeNameFn(y,p[y],i)]=w}}return p}function A(p){var y={};if(p.body&&(p.name.toLowerCase()==="xml"||n.instructionHasAttributes)){for(var w=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,b;(b=w.exec(p.body))!==null;)y[b[1]]=b[2]||b[3]||b[4];y=c(y)}if(p.name.toLowerCase()==="xml"){if(n.ignoreDeclaration)return;i[n.declarationKey]={},Object.keys(y).length&&(i[n.declarationKey][n.attributesKey]=y),n.addParent&&(i[n.declarationKey][n.parentKey]=i)}else{if(n.ignoreInstruction)return;n.trim&&(p.body=p.body.trim());var I={};n.instructionHasAttributes&&Object.keys(y).length?(I[p.name]={},I[p.name][n.attributesKey]=y):I[p.name]=p.body,o("instruction",I)}}function d(p,y){var w;if(typeof p=="object"&&(y=p.attributes,p=p.name),y=c(y),"elementNameFn"in n&&(p=n.elementNameFn(p,i)),n.compact){if(w={},!n.ignoreAttributes&&y&&Object.keys(y).length){w[n.attributesKey]={};var b;for(b in y)y.hasOwnProperty(b)&&(w[n.attributesKey][b]=y[b])}!(p in i)&&(r(n.alwaysArray)?n.alwaysArray.indexOf(p)!==-1:n.alwaysArray)&&(i[p]=[]),i[p]&&!r(i[p])&&(i[p]=[i[p]]),r(i[p])?i[p].push(w):i[p]=w}else i[n.elementsKey]||(i[n.elementsKey]=[]),w={},w[n.typeKey]="element",w[n.nameKey]=p,!n.ignoreAttributes&&y&&Object.keys(y).length&&(w[n.attributesKey]=y),n.alwaysChildren&&(w[n.elementsKey]=[]),i[n.elementsKey].push(w);w[n.parentKey]=i,i=w}function h(p){n.ignoreText||!p.trim()&&!n.captureSpacesBetweenElements||(n.trim&&(p=p.trim()),n.nativeType&&(p=a(p)),n.sanitize&&(p=p.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),o("text",p))}function f(p){n.ignoreComment||(n.trim&&(p=p.trim()),o("comment",p))}function u(p){var y=i[n.parentKey];n.addParent||delete i[n.parentKey],i=y}function g(p){n.ignoreCdata||(n.trim&&(p=p.trim()),o("cdata",p))}function m(p){n.ignoreDoctype||(p=p.replace(/^ /,""),n.trim&&(p=p.trim()),o("doctype",p))}function x(p){p.note=p}return vv=function(p,y){var w=e.parser(!0,{}),b={};if(i=b,n=s(y),w.opt={strictEntities:!0},w.onopentag=d,w.ontext=h,w.oncomment=f,w.onclosetag=u,w.onerror=x,w.oncdata=g,w.ondoctype=m,w.onprocessinginstruction=A,w.write(p).close(),b[n.elementsKey]){var I=b[n.elementsKey];delete b[n.elementsKey],b[n.elementsKey]=I,delete b.text}return b},vv}var xv,w3;function c$(){if(w3)return xv;w3=1;var e=GB(),t=qU();function r(n){var i=e.copyOptions(n);return e.ensureSpacesExists(i),i}return xv=function(n,i){var s,a,o,c;return s=r(i),a=t(n,s),c="compact"in s&&s.compact?"_parent":"parent","addParent"in s&&s.addParent?o=JSON.stringify(a,function(A,d){return A===c?"_":d},s.spaces):o=JSON.stringify(a,null,s.spaces),o.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},xv}var Bv,b3;function GU(){if(b3)return Bv;b3=1;var e=GB(),t=qB().isArray,r,n;function i(w){var b=e.copyOptions(w);return e.ensureFlagExists("ignoreDeclaration",b),e.ensureFlagExists("ignoreInstruction",b),e.ensureFlagExists("ignoreAttributes",b),e.ensureFlagExists("ignoreText",b),e.ensureFlagExists("ignoreComment",b),e.ensureFlagExists("ignoreCdata",b),e.ensureFlagExists("ignoreDoctype",b),e.ensureFlagExists("compact",b),e.ensureFlagExists("indentText",b),e.ensureFlagExists("indentCdata",b),e.ensureFlagExists("indentAttributes",b),e.ensureFlagExists("indentInstruction",b),e.ensureFlagExists("fullTagEmptyElement",b),e.ensureFlagExists("noQuotesForNativeAttributes",b),e.ensureSpacesExists(b),typeof b.spaces=="number"&&(b.spaces=Array(b.spaces+1).join(" ")),e.ensureKeyExists("declaration",b),e.ensureKeyExists("instruction",b),e.ensureKeyExists("attributes",b),e.ensureKeyExists("text",b),e.ensureKeyExists("comment",b),e.ensureKeyExists("cdata",b),e.ensureKeyExists("doctype",b),e.ensureKeyExists("type",b),e.ensureKeyExists("name",b),e.ensureKeyExists("elements",b),e.checkFnExists("doctype",b),e.checkFnExists("instruction",b),e.checkFnExists("cdata",b),e.checkFnExists("comment",b),e.checkFnExists("text",b),e.checkFnExists("instructionName",b),e.checkFnExists("elementName",b),e.checkFnExists("attributeName",b),e.checkFnExists("attributeValue",b),e.checkFnExists("attributes",b),e.checkFnExists("fullTagEmptyElement",b),b}function s(w,b,I){return(!I&&w.spaces?`
`:"")+Array(b+1).join(w.spaces)}function a(w,b,I){if(b.ignoreAttributes)return"";"attributesFn"in b&&(w=b.attributesFn(w,n,r));var F,R,Q,k,$=[];for(F in w)w.hasOwnProperty(F)&&w[F]!==null&&w[F]!==void 0&&(k=b.noQuotesForNativeAttributes&&typeof w[F]!="string"?"":'"',R=""+w[F],R=R.replace(/"/g,"&quot;"),Q="attributeNameFn"in b?b.attributeNameFn(F,R,n,r):F,$.push(b.spaces&&b.indentAttributes?s(b,I+1,!1):" "),$.push(Q+"="+k+("attributeValueFn"in b?b.attributeValueFn(R,F,n,r):R)+k));return w&&Object.keys(w).length&&b.spaces&&b.indentAttributes&&$.push(s(b,I,!1)),$.join("")}function o(w,b,I){return r=w,n="xml",b.ignoreDeclaration?"":"<?xml"+a(w[b.attributesKey],b,I)+"?>"}function c(w,b,I){if(b.ignoreInstruction)return"";var F;for(F in w)if(w.hasOwnProperty(F))break;var R="instructionNameFn"in b?b.instructionNameFn(F,w[F],n,r):F;if(typeof w[F]=="object")return r=w,n=R,"<?"+R+a(w[F][b.attributesKey],b,I)+"?>";var Q=w[F]?w[F]:"";return"instructionFn"in b&&(Q=b.instructionFn(Q,F,n,r)),"<?"+R+(Q?" "+Q:"")+"?>"}function A(w,b){return b.ignoreComment?"":"<!--"+("commentFn"in b?b.commentFn(w,n,r):w)+"-->"}function d(w,b){return b.ignoreCdata?"":"<![CDATA["+("cdataFn"in b?b.cdataFn(w,n,r):w.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function h(w,b){return b.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in b?b.doctypeFn(w,n,r):w)+">"}function f(w,b){return b.ignoreText?"":(w=""+w,w=w.replace(/&amp;/g,"&"),w=w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in b?b.textFn(w,n,r):w)}function u(w,b){var I;if(w.elements&&w.elements.length)for(I=0;I<w.elements.length;++I)switch(w.elements[I][b.typeKey]){case"text":if(b.indentText)return!0;break;case"cdata":if(b.indentCdata)return!0;break;case"instruction":if(b.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function g(w,b,I){r=w,n=w.name;var F=[],R="elementNameFn"in b?b.elementNameFn(w.name,w):w.name;F.push("<"+R),w[b.attributesKey]&&F.push(a(w[b.attributesKey],b,I));var Q=w[b.elementsKey]&&w[b.elementsKey].length||w[b.attributesKey]&&w[b.attributesKey]["xml:space"]==="preserve";return Q||("fullTagEmptyElementFn"in b?Q=b.fullTagEmptyElementFn(w.name,w):Q=b.fullTagEmptyElement),Q?(F.push(">"),w[b.elementsKey]&&w[b.elementsKey].length&&(F.push(m(w[b.elementsKey],b,I+1)),r=w,n=w.name),F.push(b.spaces&&u(w,b)?`
`+Array(I+1).join(b.spaces):""),F.push("</"+R+">")):F.push("/>"),F.join("")}function m(w,b,I,F){return w.reduce(function(R,Q){var k=s(b,I,F&&!R);switch(Q.type){case"element":return R+k+g(Q,b,I);case"comment":return R+k+A(Q[b.commentKey],b);case"doctype":return R+k+h(Q[b.doctypeKey],b);case"cdata":return R+(b.indentCdata?k:"")+d(Q[b.cdataKey],b);case"text":return R+(b.indentText?k:"")+f(Q[b.textKey],b);case"instruction":var $={};return $[Q[b.nameKey]]=Q[b.attributesKey]?Q:Q[b.instructionKey],R+(b.indentInstruction?k:"")+c($,b,I)}},"")}function x(w,b,I){var F;for(F in w)if(w.hasOwnProperty(F))switch(F){case b.parentKey:case b.attributesKey:break;case b.textKey:if(b.indentText||I)return!0;break;case b.cdataKey:if(b.indentCdata||I)return!0;break;case b.instructionKey:if(b.indentInstruction||I)return!0;break;case b.doctypeKey:case b.commentKey:return!0;default:return!0}return!1}function p(w,b,I,F,R){r=w,n=b;var Q="elementNameFn"in I?I.elementNameFn(b,w):b;if(typeof w>"u"||w===null||w==="")return"fullTagEmptyElementFn"in I&&I.fullTagEmptyElementFn(b,w)||I.fullTagEmptyElement?"<"+Q+"></"+Q+">":"<"+Q+"/>";var k=[];if(b){if(k.push("<"+Q),typeof w!="object")return k.push(">"+f(w,I)+"</"+Q+">"),k.join("");w[I.attributesKey]&&k.push(a(w[I.attributesKey],I,F));var $=x(w,I,!0)||w[I.attributesKey]&&w[I.attributesKey]["xml:space"]==="preserve";if($||("fullTagEmptyElementFn"in I?$=I.fullTagEmptyElementFn(b,w):$=I.fullTagEmptyElement),$)k.push(">");else return k.push("/>"),k.join("")}return k.push(y(w,I,F+1,!1)),r=w,n=b,b&&k.push((R?s(I,F,!1):"")+"</"+Q+">"),k.join("")}function y(w,b,I,F){var R,Q,k,$=[];for(Q in w)if(w.hasOwnProperty(Q))for(k=t(w[Q])?w[Q]:[w[Q]],R=0;R<k.length;++R){switch(Q){case b.declarationKey:$.push(o(k[R],b,I));break;case b.instructionKey:$.push((b.indentInstruction?s(b,I,F):"")+c(k[R],b,I));break;case b.attributesKey:case b.parentKey:break;case b.textKey:$.push((b.indentText?s(b,I,F):"")+f(k[R],b));break;case b.cdataKey:$.push((b.indentCdata?s(b,I,F):"")+d(k[R],b));break;case b.doctypeKey:$.push(s(b,I,F)+h(k[R],b));break;case b.commentKey:$.push(s(b,I,F)+A(k[R],b));break;default:$.push(s(b,I,F)+p(k[R],Q,b,I,x(k[R],b)))}F=F&&!$.length}return $.join("")}return Bv=function(w,b){b=i(b);var I=[];return r=w,n="_root_",b.compact?I.push(y(w,b,0,!0)):(w[b.declarationKey]&&I.push(o(w[b.declarationKey],b,0)),w[b.elementsKey]&&w[b.elementsKey].length&&I.push(m(w[b.elementsKey],b,0,!I.length))),I.join("")},Bv}var Cv,v3;function A$(){if(v3)return Cv;v3=1;var e=GU();return Cv=function(t,r){t instanceof Buffer&&(t=t.toString());var n=null;if(typeof t=="string")try{n=JSON.parse(t)}catch{throw new Error("The JSON structure is invalid")}else n=t;return e(n,r)},Cv}var Ev,x3;function u$(){if(x3)return Ev;x3=1;var e=qU(),t=c$(),r=GU(),n=A$();return Ev={xml2js:e,xml2json:t,js2xml:r,json2xml:n},Ev}var WU=u$();const WB=e=>{switch(e.type){case void 0:case"element":const t=new h$(e.name,e.attributes),r=e.elements||[];for(const n of r){const i=WB(n);i!==void 0&&t.push(i)}return t;case"text":return e.text;default:return}};class d$ extends wr{}class h$ extends Bt{static fromXmlString(t){const r=WU.xml2js(t,{compact:!1});return WB(r)}constructor(t,r){super(t),r&&this.root.push(new d$(r))}push(t){this.root.push(t)}}class f$ extends Bt{constructor(t){super(""),this._attr=t}prepForXml(t){return{_attr:this._attr}}}class $U extends Bt{constructor(t,r){super(t),r&&(this.root=r.root)}}const Ks=e=>{if(isNaN(e))throw new Error(`Invalid value '${e}' specified. Must be an integer.`);return Math.floor(e)},rw=e=>{const t=Ks(e);if(t<0)throw new Error(`Invalid value '${e}' specified. Must be a positive integer.`);return t},VU=(e,t)=>{const r=t*2;if(e.length!==r||isNaN(+`0x${e}`))throw new Error(`Invalid hex value '${e}'. Expected ${r} digit hex value`);return e},B3=e=>VU(e,1),$B=e=>{const t=e.slice(-2),r=e.substring(0,e.length-2);return`${Number(r)}${t}`},XU=e=>{const t=$B(e);if(parseFloat(t)<0)throw new Error(`Invalid value '${t}' specified. Expected a positive number.`);return t},sh=e=>{if(e==="auto")return e;const t=e.charAt(0)==="#"?e.substring(1):e;return VU(t,3)},yc=e=>typeof e=="string"?$B(e):Ks(e),p$=e=>typeof e=="string"?XU(e):rw(e),bs=e=>typeof e=="string"?XU(e):rw(e),m$=e=>{const t=e.substring(0,e.length-1);return`${Number(t)}%`},YU=e=>typeof e=="number"?Ks(e):e.slice(-1)==="%"?m$(e):$B(e),g$=rw,y$=rw,w$=e=>e.toISOString();class Nt extends Bt{constructor(t,r=!0){super(t),r!==!0&&this.root.push(new oi({val:r}))}}class Sv extends Bt{constructor(t,r){super(t),this.root.push(new oi({val:p$(r)}))}}class du extends Bt{constructor(t,r){super(t),this.root.push(new oi({val:r}))}}const rf=(e,t)=>new Ol({name:e,attributes:{value:{key:"w:val",value:t}}});class Gf extends Bt{constructor(t,r){super(t),this.root.push(new oi({val:r}))}}class b$ extends Bt{constructor(t,r){super(t),this.root.push(new oi({val:r}))}}class OA extends Bt{constructor(t,r){super(t),this.root.push(r)}}class Ol extends Bt{constructor({name:t,attributes:r,children:n}){super(t),r&&this.root.push(new kA(r)),n&&this.root.push(...n)}}const Ps={START:"start",CENTER:"center",END:"end",BOTH:"both",MEDIUM_KASHIDA:"mediumKashida",DISTRIBUTE:"distribute",NUM_TAB:"numTab",HIGH_KASHIDA:"highKashida",LOW_KASHIDA:"lowKashida",THAI_DISTRIBUTE:"thaiDistribute",LEFT:"left",RIGHT:"right",JUSTIFIED:"both"};class v$ extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{val:"w:val"})}}class JU extends Bt{constructor(t){super("w:jc"),this.root.push(new v$({val:t}))}}class In extends Bt{constructor(t,{color:r,size:n,space:i,style:s}){super(t),this.root.push(new x$({style:s,color:r===void 0?void 0:sh(r),size:n===void 0?void 0:g$(n),space:i===void 0?void 0:y$(i)}))}}class x$ extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const hc={SINGLE:"single",DASH_DOT_STROKED:"dashDotStroked",DASHED:"dashed",DASH_SMALL_GAP:"dashSmallGap",DOT_DASH:"dotDash",DOT_DOT_DASH:"dotDotDash",DOTTED:"dotted",DOUBLE:"double",DOUBLE_WAVE:"doubleWave",INSET:"inset",NIL:"nil",NONE:"none",OUTSET:"outset",THICK:"thick",THICK_THIN_LARGE_GAP:"thickThinLargeGap",THICK_THIN_MEDIUM_GAP:"thickThinMediumGap",THICK_THIN_SMALL_GAP:"thickThinSmallGap",THIN_THICK_LARGE_GAP:"thinThickLargeGap",THIN_THICK_MEDIUM_GAP:"thinThickMediumGap",THIN_THICK_SMALL_GAP:"thinThickSmallGap",THIN_THICK_THIN_LARGE_GAP:"thinThickThinLargeGap",THIN_THICK_THIN_MEDIUM_GAP:"thinThickThinMediumGap",THIN_THICK_THIN_SMALL_GAP:"thinThickThinSmallGap",THREE_D_EMBOSS:"threeDEmboss",THREE_D_ENGRAVE:"threeDEngrave",TRIPLE:"triple",WAVE:"wave"};class B$ extends _c{constructor(t){super("w:pBdr"),t.top&&this.root.push(new In("w:top",t.top)),t.bottom&&this.root.push(new In("w:bottom",t.bottom)),t.left&&this.root.push(new In("w:left",t.left)),t.right&&this.root.push(new In("w:right",t.right))}}class C$ extends Bt{constructor(){super("w:pBdr");const t=new In("w:bottom",{color:"auto",space:1,style:hc.SINGLE,size:6});this.root.push(t)}}class E$ extends Bt{constructor({start:t,end:r,left:n,right:i,hanging:s,firstLine:a}){super("w:ind"),this.root.push(new kA({start:{key:"w:start",value:t===void 0?void 0:yc(t)},end:{key:"w:end",value:r===void 0?void 0:yc(r)},left:{key:"w:left",value:n===void 0?void 0:yc(n)},right:{key:"w:right",value:i===void 0?void 0:yc(i)},hanging:{key:"w:hanging",value:s===void 0?void 0:bs(s)},firstLine:{key:"w:firstLine",value:a===void 0?void 0:bs(a)}}))}}let S$=class extends Bt{constructor(){super("w:br")}};const VB={BEGIN:"begin",END:"end",SEPARATE:"separate"};class XB extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class Fg extends Bt{constructor(t){super("w:fldChar"),this.root.push(new XB({type:VB.BEGIN,dirty:t}))}}class jg extends Bt{constructor(t){super("w:fldChar"),this.root.push(new XB({type:VB.SEPARATE,dirty:t}))}}class Ug extends Bt{constructor(t){super("w:fldChar"),this.root.push(new XB({type:VB.END,dirty:t}))}}const ah={DEFAULT:"default",PRESERVE:"preserve"};class oh extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{space:"xml:space"})}}class _$ extends Bt{constructor(){super("w:instrText"),this.root.push(new oh({space:ah.PRESERVE})),this.root.push("PAGE")}}class N$ extends Bt{constructor(){super("w:instrText"),this.root.push(new oh({space:ah.PRESERVE})),this.root.push("NUMPAGES")}}class k$ extends Bt{constructor(){super("w:instrText"),this.root.push(new oh({space:ah.PRESERVE})),this.root.push("SECTIONPAGES")}}class I$ extends Bt{constructor(){super("w:instrText"),this.root.push(new oh({space:ah.PRESERVE})),this.root.push("SECTION")}}class T$ extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class nw extends Bt{constructor({fill:t,color:r,type:n}){super("w:shd"),this.root.push(new T$({fill:t===void 0?void 0:sh(t),color:r===void 0?void 0:sh(r),type:n}))}}const Lg={CLEAR:"clear",DIAGONAL_CROSS:"diagCross",DIAGONAL_STRIPE:"diagStripe",HORIZONTAL_CROSS:"horzCross",HORIZONTAL_STRIPE:"horzStripe",NIL:"nil",PERCENT_5:"pct5",PERCENT_10:"pct10",PERCENT_12:"pct12",PERCENT_15:"pct15",PERCENT_20:"pct20",PERCENT_25:"pct25",PERCENT_30:"pct30",PERCENT_35:"pct35",PERCENT_37:"pct37",PERCENT_40:"pct40",PERCENT_45:"pct45",PERCENT_50:"pct50",PERCENT_55:"pct55",PERCENT_60:"pct60",PERCENT_62:"pct62",PERCENT_65:"pct65",PERCENT_70:"pct70",PERCENT_75:"pct75",PERCENT_80:"pct80",PERCENT_85:"pct85",PERCENT_87:"pct87",PERCENT_90:"pct90",PERCENT_95:"pct95",REVERSE_DIAGONAL_STRIPE:"reverseDiagStripe",SOLID:"solid",THIN_DIAGONAL_CROSS:"thinDiagCross",THIN_DIAGONAL_STRIPE:"thinDiagStripe",THIN_HORIZONTAL_CROSS:"thinHorzCross",THIN_REVERSE_DIAGONAL_STRIPE:"thinReverseDiagStripe",THIN_VERTICAL_STRIPE:"thinVertStripe",VERTICAL_STRIPE:"vertStripe"};class F$ extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const j$={DOT:"dot"};class U$ extends Bt{constructor(t){super("w:em"),this.root.push(new oi({val:t}))}}class L$ extends U${constructor(t=j$.DOT){super(t)}}class D$ extends Bt{constructor(t){super("w:spacing"),this.root.push(new oi({val:yc(t)}))}}class R$ extends Bt{constructor(t){super("w:color"),this.root.push(new oi({val:sh(t)}))}}class O$ extends Bt{constructor(t){super("w:highlight"),this.root.push(new oi({val:t}))}}class P$ extends Bt{constructor(t){super("w:highlightCs"),this.root.push(new oi({val:t}))}}const Q$=e=>new Ol({name:"w:lang",attributes:{value:{key:"w:val",value:e.value},eastAsia:{key:"w:eastAsia",value:e.eastAsia},bidirectional:{key:"w:bidi",value:e.bidirectional}}});class C3 extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class _v extends Bt{constructor(t,r){if(super("w:rFonts"),typeof t=="string"){const n=t;this.root.push(new C3({ascii:n,cs:n,eastAsia:n,hAnsi:n,hint:r}))}else{const n=t;this.root.push(new C3(n))}}}let ZU=class extends Bt{constructor(t){super("w:vertAlign"),this.root.push(new oi({val:t}))}};class M$ extends ZU{constructor(){super("superscript")}}class H$ extends ZU{constructor(){super("subscript")}}const vd={SINGLE:"single",WORDS:"words",DOUBLE:"double",THICK:"thick",DOTTED:"dotted",DOTTEDHEAVY:"dottedHeavy",DASH:"dash",DASHEDHEAVY:"dashedHeavy",DASHLONG:"dashLong",DASHLONGHEAVY:"dashLongHeavy",DOTDASH:"dotDash",DASHDOTHEAVY:"dashDotHeavy",DOTDOTDASH:"dotDotDash",DASHDOTDOTHEAVY:"dashDotDotHeavy",WAVE:"wave",WAVYHEAVY:"wavyHeavy",WAVYDOUBLE:"wavyDouble",NONE:"none"};class z$ extends Bt{constructor(t=vd.SINGLE,r){super("w:u"),this.root.push(new oi({val:t,color:r===void 0?void 0:sh(r)}))}}class _u extends _c{constructor(t){var r,n;if(super("w:rPr"),!t)return;t.style&&this.push(new du("w:rStyle",t.style)),t.font&&(typeof t.font=="string"?this.push(new _v(t.font)):"name"in t.font?this.push(new _v(t.font.name,t.font.hint)):this.push(new _v(t.font))),t.bold!==void 0&&this.push(new Nt("w:b",t.bold)),(t.boldComplexScript===void 0&&t.bold!==void 0||t.boldComplexScript)&&this.push(new Nt("w:bCs",(r=t.boldComplexScript)!=null?r:t.bold)),t.italics!==void 0&&this.push(new Nt("w:i",t.italics)),(t.italicsComplexScript===void 0&&t.italics!==void 0||t.italicsComplexScript)&&this.push(new Nt("w:iCs",(n=t.italicsComplexScript)!=null?n:t.italics)),t.smallCaps!==void 0?this.push(new Nt("w:smallCaps",t.smallCaps)):t.allCaps!==void 0&&this.push(new Nt("w:caps",t.allCaps)),t.strike!==void 0&&this.push(new Nt("w:strike",t.strike)),t.doubleStrike!==void 0&&this.push(new Nt("w:dstrike",t.doubleStrike)),t.emboss!==void 0&&this.push(new Nt("w:emboss",t.emboss)),t.imprint!==void 0&&this.push(new Nt("w:imprint",t.imprint)),t.noProof!==void 0&&this.push(new Nt("w:noProof",t.noProof)),t.snapToGrid!==void 0&&this.push(new Nt("w:snapToGrid",t.snapToGrid)),t.vanish&&this.push(new Nt("w:vanish",t.vanish)),t.color&&this.push(new R$(t.color)),t.characterSpacing&&this.push(new D$(t.characterSpacing)),t.scale!==void 0&&this.push(new Gf("w:w",t.scale)),t.kern&&this.push(new Sv("w:kern",t.kern)),t.position&&this.push(new du("w:position",t.position)),t.size!==void 0&&this.push(new Sv("w:sz",t.size));const i=t.sizeComplexScript===void 0||t.sizeComplexScript===!0?t.size:t.sizeComplexScript;i&&this.push(new Sv("w:szCs",i)),t.highlight&&this.push(new O$(t.highlight));const s=t.highlightComplexScript===void 0||t.highlightComplexScript===!0?t.highlight:t.highlightComplexScript;s&&this.push(new P$(s)),t.underline&&this.push(new z$(t.underline.type,t.underline.color)),t.effect&&this.push(new du("w:effect",t.effect)),t.border&&this.push(new In("w:bdr",t.border)),t.shading&&this.push(new nw(t.shading)),t.subScript&&this.push(new H$),t.superScript&&this.push(new M$),t.rightToLeft!==void 0&&this.push(new Nt("w:rtl",t.rightToLeft)),t.emphasisMark&&this.push(new L$(t.emphasisMark.type)),t.language&&this.push(Q$(t.language)),t.specVanish&&this.push(new Nt("w:specVanish",t.vanish)),t.math&&this.push(new Nt("w:oMath",t.math)),t.revision&&this.push(new K$(t.revision))}push(t){this.root.push(t)}}class K$ extends Bt{constructor(t){super("w:rPrChange"),this.root.push(new F$({id:t.id,author:t.author,date:t.date})),this.addChildElement(new _u(t))}}class E3 extends Bt{constructor(t){var r;super("w:t"),typeof t=="string"?(this.root.push(new oh({space:ah.PRESERVE})),this.root.push(t)):(this.root.push(new oh({space:(r=t.space)!=null?r:ah.DEFAULT})),this.root.push(t.text))}}const Dg={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class Xp extends Bt{constructor(t){if(super("w:r"),bt(this,"properties"),this.properties=new _u(t),this.root.push(this.properties),t.break)for(let r=0;r<t.break;r++)this.root.push(new S$);if(t.children)for(const r of t.children){if(typeof r=="string"){switch(r){case Dg.CURRENT:this.root.push(new Fg),this.root.push(new _$),this.root.push(new jg),this.root.push(new Ug);break;case Dg.TOTAL_PAGES:this.root.push(new Fg),this.root.push(new N$),this.root.push(new jg),this.root.push(new Ug);break;case Dg.TOTAL_PAGES_IN_SECTION:this.root.push(new Fg),this.root.push(new k$),this.root.push(new jg),this.root.push(new Ug);break;case Dg.CURRENT_SECTION:this.root.push(new Fg),this.root.push(new I$),this.root.push(new jg),this.root.push(new Ug);break;default:this.root.push(new E3(r));break}continue}this.root.push(r)}else t.text!==void 0&&this.root.push(new E3(t.text))}}class ps extends Xp{constructor(t){super(typeof t=="string"?{text:t}:t)}}var Nv={},kn={},kv,S3;function Yp(){if(S3)return kv;S3=1,kv=e;function e(t,r){if(!t)throw new Error(r||"Assertion failed")}return e.equal=function(r,n,i){if(r!=n)throw new Error(i||"Assertion failed: "+r+" != "+n)},kv}var _3;function zl(){if(_3)return kn;_3=1;var e=Yp(),t=IA();kn.inherits=t;function r(T,K){return(T.charCodeAt(K)&64512)!==55296||K<0||K+1>=T.length?!1:(T.charCodeAt(K+1)&64512)===56320}function n(T,K){if(Array.isArray(T))return T.slice();if(!T)return[];var v=[];if(typeof T=="string")if(K){if(K==="hex")for(T=T.replace(/[^a-z0-9]+/ig,""),T.length%2!==0&&(T="0"+T),ge=0;ge<T.length;ge+=2)v.push(parseInt(T[ge]+T[ge+1],16))}else for(var re=0,ge=0;ge<T.length;ge++){var Y=T.charCodeAt(ge);Y<128?v[re++]=Y:Y<2048?(v[re++]=Y>>6|192,v[re++]=Y&63|128):r(T,ge)?(Y=65536+((Y&1023)<<10)+(T.charCodeAt(++ge)&1023),v[re++]=Y>>18|240,v[re++]=Y>>12&63|128,v[re++]=Y>>6&63|128,v[re++]=Y&63|128):(v[re++]=Y>>12|224,v[re++]=Y>>6&63|128,v[re++]=Y&63|128)}else for(ge=0;ge<T.length;ge++)v[ge]=T[ge]|0;return v}kn.toArray=n;function i(T){for(var K="",v=0;v<T.length;v++)K+=o(T[v].toString(16));return K}kn.toHex=i;function s(T){var K=T>>>24|T>>>8&65280|T<<8&16711680|(T&255)<<24;return K>>>0}kn.htonl=s;function a(T,K){for(var v="",re=0;re<T.length;re++){var ge=T[re];K==="little"&&(ge=s(ge)),v+=c(ge.toString(16))}return v}kn.toHex32=a;function o(T){return T.length===1?"0"+T:T}kn.zero2=o;function c(T){return T.length===7?"0"+T:T.length===6?"00"+T:T.length===5?"000"+T:T.length===4?"0000"+T:T.length===3?"00000"+T:T.length===2?"000000"+T:T.length===1?"0000000"+T:T}kn.zero8=c;function A(T,K,v,re){var ge=v-K;e(ge%4===0);for(var Y=new Array(ge/4),fe=0,le=K;fe<Y.length;fe++,le+=4){var ne;re==="big"?ne=T[le]<<24|T[le+1]<<16|T[le+2]<<8|T[le+3]:ne=T[le+3]<<24|T[le+2]<<16|T[le+1]<<8|T[le],Y[fe]=ne>>>0}return Y}kn.join32=A;function d(T,K){for(var v=new Array(T.length*4),re=0,ge=0;re<T.length;re++,ge+=4){var Y=T[re];K==="big"?(v[ge]=Y>>>24,v[ge+1]=Y>>>16&255,v[ge+2]=Y>>>8&255,v[ge+3]=Y&255):(v[ge+3]=Y>>>24,v[ge+2]=Y>>>16&255,v[ge+1]=Y>>>8&255,v[ge]=Y&255)}return v}kn.split32=d;function h(T,K){return T>>>K|T<<32-K}kn.rotr32=h;function f(T,K){return T<<K|T>>>32-K}kn.rotl32=f;function u(T,K){return T+K>>>0}kn.sum32=u;function g(T,K,v){return T+K+v>>>0}kn.sum32_3=g;function m(T,K,v,re){return T+K+v+re>>>0}kn.sum32_4=m;function x(T,K,v,re,ge){return T+K+v+re+ge>>>0}kn.sum32_5=x;function p(T,K,v,re){var ge=T[K],Y=T[K+1],fe=re+Y>>>0,le=(fe<re?1:0)+v+ge;T[K]=le>>>0,T[K+1]=fe}kn.sum64=p;function y(T,K,v,re){var ge=K+re>>>0,Y=(ge<K?1:0)+T+v;return Y>>>0}kn.sum64_hi=y;function w(T,K,v,re){var ge=K+re;return ge>>>0}kn.sum64_lo=w;function b(T,K,v,re,ge,Y,fe,le){var ne=0,ae=K;ae=ae+re>>>0,ne+=ae<K?1:0,ae=ae+Y>>>0,ne+=ae<Y?1:0,ae=ae+le>>>0,ne+=ae<le?1:0;var _=T+v+ge+fe+ne;return _>>>0}kn.sum64_4_hi=b;function I(T,K,v,re,ge,Y,fe,le){var ne=K+re+Y+le;return ne>>>0}kn.sum64_4_lo=I;function F(T,K,v,re,ge,Y,fe,le,ne,ae){var _=0,O=K;O=O+re>>>0,_+=O<K?1:0,O=O+Y>>>0,_+=O<Y?1:0,O=O+le>>>0,_+=O<le?1:0,O=O+ae>>>0,_+=O<ae?1:0;var G=T+v+ge+fe+ne+_;return G>>>0}kn.sum64_5_hi=F;function R(T,K,v,re,ge,Y,fe,le,ne,ae){var _=K+re+Y+le+ae;return _>>>0}kn.sum64_5_lo=R;function Q(T,K,v){var re=K<<32-v|T>>>v;return re>>>0}kn.rotr64_hi=Q;function k(T,K,v){var re=T<<32-v|K>>>v;return re>>>0}kn.rotr64_lo=k;function $(T,K,v){return T>>>v}kn.shr64_hi=$;function q(T,K,v){var re=T<<32-v|K>>>v;return re>>>0}return kn.shr64_lo=q,kn}var Iv={},N3;function Jp(){if(N3)return Iv;N3=1;var e=zl(),t=Yp();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return Iv.BlockHash=r,r.prototype.update=function(i,s){if(i=e.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var a=i.length%this._delta8;this.pending=i.slice(i.length-a,i.length),this.pending.length===0&&(this.pending=null),i=e.join32(i,0,i.length-a,this.endian);for(var o=0;o<i.length;o+=this._delta32)this._update(i,o,o+this._delta32)}return this},r.prototype.digest=function(i){return this.update(this._pad()),t(this.pending===null),this._digest(i)},r.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,a=s-(i+this.padLength)%s,o=new Array(a+this.padLength);o[0]=128;for(var c=1;c<a;c++)o[c]=0;if(i<<=3,this.endian==="big"){for(var A=8;A<this.padLength;A++)o[c++]=0;o[c++]=0,o[c++]=0,o[c++]=0,o[c++]=0,o[c++]=i>>>24&255,o[c++]=i>>>16&255,o[c++]=i>>>8&255,o[c++]=i&255}else for(o[c++]=i&255,o[c++]=i>>>8&255,o[c++]=i>>>16&255,o[c++]=i>>>24&255,o[c++]=0,o[c++]=0,o[c++]=0,o[c++]=0,A=8;A<this.padLength;A++)o[c++]=0;return o},Iv}var PA={},vl={},k3;function eL(){if(k3)return vl;k3=1;var e=zl(),t=e.rotr32;function r(d,h,f,u){if(d===0)return n(h,f,u);if(d===1||d===3)return s(h,f,u);if(d===2)return i(h,f,u)}vl.ft_1=r;function n(d,h,f){return d&h^~d&f}vl.ch32=n;function i(d,h,f){return d&h^d&f^h&f}vl.maj32=i;function s(d,h,f){return d^h^f}vl.p32=s;function a(d){return t(d,2)^t(d,13)^t(d,22)}vl.s0_256=a;function o(d){return t(d,6)^t(d,11)^t(d,25)}vl.s1_256=o;function c(d){return t(d,7)^t(d,18)^d>>>3}vl.g0_256=c;function A(d){return t(d,17)^t(d,19)^d>>>10}return vl.g1_256=A,vl}var Tv,I3;function q$(){if(I3)return Tv;I3=1;var e=zl(),t=Jp(),r=eL(),n=e.rotl32,i=e.sum32,s=e.sum32_5,a=r.ft_1,o=t.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function A(){if(!(this instanceof A))return new A;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return e.inherits(A,o),Tv=A,A.blockSize=512,A.outSize=160,A.hmacStrength=80,A.padLength=64,A.prototype._update=function(h,f){for(var u=this.W,g=0;g<16;g++)u[g]=h[f+g];for(;g<u.length;g++)u[g]=n(u[g-3]^u[g-8]^u[g-14]^u[g-16],1);var m=this.h[0],x=this.h[1],p=this.h[2],y=this.h[3],w=this.h[4];for(g=0;g<u.length;g++){var b=~~(g/20),I=s(n(m,5),a(b,x,p,y),w,u[g],c[b]);w=y,y=p,p=n(x,30),x=m,m=I}this.h[0]=i(this.h[0],m),this.h[1]=i(this.h[1],x),this.h[2]=i(this.h[2],p),this.h[3]=i(this.h[3],y),this.h[4]=i(this.h[4],w)},A.prototype._digest=function(h){return h==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},Tv}var Fv,T3;function tL(){if(T3)return Fv;T3=1;var e=zl(),t=Jp(),r=eL(),n=Yp(),i=e.sum32,s=e.sum32_4,a=e.sum32_5,o=r.ch32,c=r.maj32,A=r.s0_256,d=r.s1_256,h=r.g0_256,f=r.g1_256,u=t.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function m(){if(!(this instanceof m))return new m;u.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}return e.inherits(m,u),Fv=m,m.blockSize=512,m.outSize=256,m.hmacStrength=192,m.padLength=64,m.prototype._update=function(p,y){for(var w=this.W,b=0;b<16;b++)w[b]=p[y+b];for(;b<w.length;b++)w[b]=s(f(w[b-2]),w[b-7],h(w[b-15]),w[b-16]);var I=this.h[0],F=this.h[1],R=this.h[2],Q=this.h[3],k=this.h[4],$=this.h[5],q=this.h[6],T=this.h[7];for(n(this.k.length===w.length),b=0;b<w.length;b++){var K=a(T,d(k),o(k,$,q),this.k[b],w[b]),v=i(A(I),c(I,F,R));T=q,q=$,$=k,k=i(Q,K),Q=R,R=F,F=I,I=i(K,v)}this.h[0]=i(this.h[0],I),this.h[1]=i(this.h[1],F),this.h[2]=i(this.h[2],R),this.h[3]=i(this.h[3],Q),this.h[4]=i(this.h[4],k),this.h[5]=i(this.h[5],$),this.h[6]=i(this.h[6],q),this.h[7]=i(this.h[7],T)},m.prototype._digest=function(p){return p==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")},Fv}var jv,F3;function G$(){if(F3)return jv;F3=1;var e=zl(),t=tL();function r(){if(!(this instanceof r))return new r;t.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return e.inherits(r,t),jv=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(i){return i==="hex"?e.toHex32(this.h.slice(0,7),"big"):e.split32(this.h.slice(0,7),"big")},jv}var Uv,j3;function rL(){if(j3)return Uv;j3=1;var e=zl(),t=Jp(),r=Yp(),n=e.rotr64_hi,i=e.rotr64_lo,s=e.shr64_hi,a=e.shr64_lo,o=e.sum64,c=e.sum64_hi,A=e.sum64_lo,d=e.sum64_4_hi,h=e.sum64_4_lo,f=e.sum64_5_hi,u=e.sum64_5_lo,g=t.BlockHash,m=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function x(){if(!(this instanceof x))return new x;g.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=m,this.W=new Array(160)}e.inherits(x,g),Uv=x,x.blockSize=1024,x.outSize=512,x.hmacStrength=192,x.padLength=128,x.prototype._prepareBlock=function(v,re){for(var ge=this.W,Y=0;Y<32;Y++)ge[Y]=v[re+Y];for(;Y<ge.length;Y+=2){var fe=q(ge[Y-4],ge[Y-3]),le=T(ge[Y-4],ge[Y-3]),ne=ge[Y-14],ae=ge[Y-13],_=k(ge[Y-30],ge[Y-29]),O=$(ge[Y-30],ge[Y-29]),G=ge[Y-32],oe=ge[Y-31];ge[Y]=d(fe,le,ne,ae,_,O,G,oe),ge[Y+1]=h(fe,le,ne,ae,_,O,G,oe)}},x.prototype._update=function(v,re){this._prepareBlock(v,re);var ge=this.W,Y=this.h[0],fe=this.h[1],le=this.h[2],ne=this.h[3],ae=this.h[4],_=this.h[5],O=this.h[6],G=this.h[7],oe=this.h[8],Ae=this.h[9],U=this.h[10],M=this.h[11],J=this.h[12],ce=this.h[13],ee=this.h[14],Z=this.h[15];r(this.k.length===ge.length);for(var me=0;me<ge.length;me+=2){var B=ee,te=Z,H=R(oe,Ae),S=Q(oe,Ae),E=p(oe,Ae,U,M,J),P=y(oe,Ae,U,M,J,ce),de=this.k[me],ye=this.k[me+1],ue=ge[me],ke=ge[me+1],Oe=f(B,te,H,S,E,P,de,ye,ue,ke),Ue=u(B,te,H,S,E,P,de,ye,ue,ke);B=I(Y,fe),te=F(Y,fe),H=w(Y,fe,le,ne,ae),S=b(Y,fe,le,ne,ae,_);var _e=c(B,te,H,S),Me=A(B,te,H,S);ee=J,Z=ce,J=U,ce=M,U=oe,M=Ae,oe=c(O,G,Oe,Ue),Ae=A(G,G,Oe,Ue),O=ae,G=_,ae=le,_=ne,le=Y,ne=fe,Y=c(Oe,Ue,_e,Me),fe=A(Oe,Ue,_e,Me)}o(this.h,0,Y,fe),o(this.h,2,le,ne),o(this.h,4,ae,_),o(this.h,6,O,G),o(this.h,8,oe,Ae),o(this.h,10,U,M),o(this.h,12,J,ce),o(this.h,14,ee,Z)},x.prototype._digest=function(v){return v==="hex"?e.toHex32(this.h,"big"):e.split32(this.h,"big")};function p(K,v,re,ge,Y){var fe=K&re^~K&Y;return fe<0&&(fe+=4294967296),fe}function y(K,v,re,ge,Y,fe){var le=v&ge^~v&fe;return le<0&&(le+=4294967296),le}function w(K,v,re,ge,Y){var fe=K&re^K&Y^re&Y;return fe<0&&(fe+=4294967296),fe}function b(K,v,re,ge,Y,fe){var le=v&ge^v&fe^ge&fe;return le<0&&(le+=4294967296),le}function I(K,v){var re=n(K,v,28),ge=n(v,K,2),Y=n(v,K,7),fe=re^ge^Y;return fe<0&&(fe+=4294967296),fe}function F(K,v){var re=i(K,v,28),ge=i(v,K,2),Y=i(v,K,7),fe=re^ge^Y;return fe<0&&(fe+=4294967296),fe}function R(K,v){var re=n(K,v,14),ge=n(K,v,18),Y=n(v,K,9),fe=re^ge^Y;return fe<0&&(fe+=4294967296),fe}function Q(K,v){var re=i(K,v,14),ge=i(K,v,18),Y=i(v,K,9),fe=re^ge^Y;return fe<0&&(fe+=4294967296),fe}function k(K,v){var re=n(K,v,1),ge=n(K,v,8),Y=s(K,v,7),fe=re^ge^Y;return fe<0&&(fe+=4294967296),fe}function $(K,v){var re=i(K,v,1),ge=i(K,v,8),Y=a(K,v,7),fe=re^ge^Y;return fe<0&&(fe+=4294967296),fe}function q(K,v){var re=n(K,v,19),ge=n(v,K,29),Y=s(K,v,6),fe=re^ge^Y;return fe<0&&(fe+=4294967296),fe}function T(K,v){var re=i(K,v,19),ge=i(v,K,29),Y=a(K,v,6),fe=re^ge^Y;return fe<0&&(fe+=4294967296),fe}return Uv}var Lv,U3;function W$(){if(U3)return Lv;U3=1;var e=zl(),t=rL();function r(){if(!(this instanceof r))return new r;t.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return e.inherits(r,t),Lv=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(i){return i==="hex"?e.toHex32(this.h.slice(0,12),"big"):e.split32(this.h.slice(0,12),"big")},Lv}var L3;function $$(){return L3||(L3=1,PA.sha1=q$(),PA.sha224=G$(),PA.sha256=tL(),PA.sha384=W$(),PA.sha512=rL()),PA}var Dv={},D3;function V$(){if(D3)return Dv;D3=1;var e=zl(),t=Jp(),r=e.rotl32,n=e.sum32,i=e.sum32_3,s=e.sum32_4,a=t.BlockHash;function o(){if(!(this instanceof o))return new o;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}e.inherits(o,a),Dv.ripemd160=o,o.blockSize=512,o.outSize=160,o.hmacStrength=192,o.padLength=64,o.prototype._update=function(x,p){for(var y=this.h[0],w=this.h[1],b=this.h[2],I=this.h[3],F=this.h[4],R=y,Q=w,k=b,$=I,q=F,T=0;T<80;T++){var K=n(r(s(y,c(T,w,b,I),x[h[T]+p],A(T)),u[T]),F);y=F,F=I,I=r(b,10),b=w,w=K,K=n(r(s(R,c(79-T,Q,k,$),x[f[T]+p],d(T)),g[T]),q),R=q,q=$,$=r(k,10),k=Q,Q=K}K=i(this.h[1],b,$),this.h[1]=i(this.h[2],I,q),this.h[2]=i(this.h[3],F,R),this.h[3]=i(this.h[4],y,Q),this.h[4]=i(this.h[0],w,k),this.h[0]=K},o.prototype._digest=function(x){return x==="hex"?e.toHex32(this.h,"little"):e.split32(this.h,"little")};function c(m,x,p,y){return m<=15?x^p^y:m<=31?x&p|~x&y:m<=47?(x|~p)^y:m<=63?x&y|p&~y:x^(p|~y)}function A(m){return m<=15?0:m<=31?1518500249:m<=47?1859775393:m<=63?2400959708:2840853838}function d(m){return m<=15?1352829926:m<=31?1548603684:m<=47?1836072691:m<=63?2053994217:0}var h=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],f=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return Dv}var Rv,R3;function X$(){if(R3)return Rv;R3=1;var e=zl(),t=Yp();function r(n,i,s){if(!(this instanceof r))return new r(n,i,s);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(e.toArray(i,s))}return Rv=r,r.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),t(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},r.prototype.update=function(i,s){return this.inner.update(i,s),this},r.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},Rv}var O3;function Y$(){return O3||(O3=1,function(e){var t=e;t.utils=zl(),t.common=Jp(),t.sha=$$(),t.ripemd=V$(),t.hmac=X$(),t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(Nv)),Nv}Y$();let J$="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Z$=(e,t=21)=>(r=t)=>{let n="",i=r|0;for(;i--;)n+=e[Math.random()*e.length|0];return n},eV=(e=21)=>{let t="",r=e|0;for(;r--;)t+=J$[Math.random()*64|0];return t};const $o=e=>Math.floor(e*72*20),YB=(e=0)=>{let t=e;return()=>++t},tV=()=>YB(),rV=()=>YB(1),nV=()=>YB(),iV=()=>eV().toLowerCase(),nf=e=>Z$("1234567890abcdef",e)(),sV=()=>`${nf(8)}-${nf(4)}-${nf(4)}-${nf(4)}-${nf(12)}`;class aV extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{xmlns:"xmlns"})}}class oV extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const lV={EXTERNAL:"External"};class cV extends Bt{constructor(t,r,n,i){super("Relationship"),this.root.push(new oV({id:t,type:r,target:n,targetMode:i}))}}class Nu extends Bt{constructor(){super("Relationships"),this.root.push(new aV({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(t,r,n,i){const s=new cV(`rId${t}`,r,n,i);return this.root.push(s),s}get RelationshipCount(){return this.root.length-1}}class AV extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class uV extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class dV extends Bt{constructor({id:t,initials:r,author:n,date:i=new Date,children:s}){super("w:comment"),this.root.push(new AV({id:t,initials:r,author:n,date:i.toISOString()}));for(const a of s)this.root.push(a)}}class hV extends Bt{constructor({children:t}){super("w:comments"),bt(this,"relationships"),this.root.push(new uV({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const r of t)this.root.push(new dV(r));this.relationships=new Nu}get Relationships(){return this.relationships}}const fV={COLUMN:"column",PAGE:"page"};class pV extends Bt{constructor(t){super("w:br"),this.root.push(new oi({type:t}))}}class mV extends Xp{constructor(){super({}),this.root.push(new pV(fV.PAGE))}}class gV extends Bt{constructor(){super("w:pageBreakBefore")}}const J2={AT_LEAST:"atLeast",EXACTLY:"exactly",EXACT:"exact",AUTO:"auto"};class yV extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}}class wV extends Bt{constructor(t){super("w:spacing"),this.root.push(new yV(t))}}const qu={HEADING_1:"Heading1",HEADING_2:"Heading2",HEADING_3:"Heading3",HEADING_4:"Heading4",HEADING_5:"Heading5",HEADING_6:"Heading6",TITLE:"Title"};let Rg=class extends Bt{constructor(t){super("w:pStyle"),this.root.push(new oi({val:t}))}};class bV extends Bt{constructor(t){super("w:tabs");for(const r of t)this.root.push(new xV(r))}}const P3={LEFT:"left",RIGHT:"right",CENTER:"center",BAR:"bar",CLEAR:"clear",DECIMAL:"decimal",END:"end",NUM:"num",START:"start"};class vV extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class xV extends Bt{constructor({type:t,position:r,leader:n}){super("w:tab"),this.root.push(new vV({val:t,pos:r,leader:n}))}}class Ov extends Bt{constructor(t,r){super("w:numPr"),this.root.push(new BV(r)),this.root.push(new CV(t))}}class BV extends Bt{constructor(t){if(super("w:ilvl"),t>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new oi({val:t}))}}class CV extends Bt{constructor(t){super("w:numId"),this.root.push(new oi({val:typeof t=="string"?`{${t}}`:t}))}}class nL extends Bt{constructor(){super(...arguments),bt(this,"fileChild",Symbol())}}class EV extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class SV extends Bt{constructor(t,r,n){super("w:hyperlink"),bt(this,"linkId"),this.linkId=r;const i={history:1,anchor:n||void 0,id:n?void 0:`rId${this.linkId}`},s=new EV(i);this.root.push(s),t.forEach(a=>{this.root.push(a)})}}class _V extends Bt{constructor(t){super("w:externalHyperlink"),this.options=t}}class NV extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class kV extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{id:"w:id"})}}class IV{constructor(t){bt(this,"bookmarkUniqueNumericId",nV()),bt(this,"start"),bt(this,"children"),bt(this,"end");const r=this.bookmarkUniqueNumericId();this.start=new TV(t.id,r),this.children=t.children,this.end=new FV(r)}}class TV extends Bt{constructor(t,r){super("w:bookmarkStart");const n=new NV({name:t,id:r});this.root.push(n)}}class FV extends Bt{constructor(t){super("w:bookmarkEnd");const r=new kV({id:t});this.root.push(r)}}class jV extends Bt{constructor(t){super("w:outlineLvl"),this.level=t,this.root.push(new oi({val:t}))}}const UV={TOP:"top",CENTER:"center",BOTTOM:"bottom"};nh(sn({},UV),{BOTH:"both"});class LV extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{verticalAlign:"w:val"})}}class iL extends Bt{constructor(t){super("w:vAlign"),this.root.push(new LV({verticalAlign:t}))}}class DV extends Bt{constructor({space:t,count:r,separate:n,equalWidth:i,children:s}){super("w:cols"),this.root.push(new kA({space:{key:"w:space",value:t===void 0?void 0:bs(t)},count:{key:"w:num",value:r===void 0?void 0:Ks(r)},separate:{key:"w:sep",value:n},equalWidth:{key:"w:equalWidth",value:i}})),!i&&s&&s.forEach(a=>this.addChildElement(a))}}const RV=({type:e,linePitch:t,charSpace:r})=>new Ol({name:"w:docGrid",attributes:{type:{key:"w:type",value:e},linePitch:{key:"w:linePitch",value:Ks(t)},charSpace:{key:"w:charSpace",value:r?Ks(r):void 0}}}),Pd={DEFAULT:"default",FIRST:"first",EVEN:"even"};class OV extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const Q3={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class Pv extends Bt{constructor(t,r){super(t),this.root.push(new OV({type:r.type||Pd.DEFAULT,id:`rId${r.id}`}))}}const PV=({countBy:e,start:t,restart:r,distance:n})=>new Ol({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:e===void 0?void 0:Ks(e)},start:{key:"w:start",value:t===void 0?void 0:Ks(t)},restart:{key:"w:restart",value:r},distance:{key:"w:distance",value:n===void 0?void 0:bs(n)}}});class M3 extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class QV extends _c{constructor(t){if(super("w:pgBorders"),!t)return this;t.pageBorders?this.root.push(new M3({display:t.pageBorders.display,offsetFrom:t.pageBorders.offsetFrom,zOrder:t.pageBorders.zOrder})):this.root.push(new M3({})),t.pageBorderTop&&this.root.push(new In("w:top",t.pageBorderTop)),t.pageBorderLeft&&this.root.push(new In("w:left",t.pageBorderLeft)),t.pageBorderBottom&&this.root.push(new In("w:bottom",t.pageBorderBottom)),t.pageBorderRight&&this.root.push(new In("w:right",t.pageBorderRight))}}class MV extends Bt{constructor(t,r,n,i,s,a,o){super("w:pgMar"),this.root.push(new kA({top:{key:"w:top",value:yc(t)},right:{key:"w:right",value:bs(r)},bottom:{key:"w:bottom",value:yc(n)},left:{key:"w:left",value:bs(i)},header:{key:"w:header",value:bs(s)},footer:{key:"w:footer",value:bs(a)},gutter:{key:"w:gutter",value:bs(o)}}))}}class HV extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class zV extends Bt{constructor({start:t,formatType:r,separator:n}){super("w:pgNumType"),this.root.push(new HV({start:t===void 0?void 0:Ks(t),formatType:r,separator:n}))}}const Z2={PORTRAIT:"portrait",LANDSCAPE:"landscape"},KV=({width:e,height:t,orientation:r,code:n})=>{const i=bs(e),s=bs(t);return new Ol({name:"w:pgSz",attributes:{width:{key:"w:w",value:r===Z2.LANDSCAPE?s:i},height:{key:"w:h",value:r===Z2.LANDSCAPE?i:s},orientation:{key:"w:orient",value:r},code:{key:"w:code",value:n}}})};class qV extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{val:"w:val"})}}class GV extends Bt{constructor(t){super("w:textDirection"),this.root.push(new qV({val:t}))}}class WV extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{val:"w:val"})}}class $V extends Bt{constructor(t){super("w:type"),this.root.push(new WV({val:t}))}}const QA={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},Qv={WIDTH:11906,HEIGHT:16838,ORIENTATION:Z2.PORTRAIT};class VV extends Bt{constructor({page:{size:{width:t=Qv.WIDTH,height:r=Qv.HEIGHT,orientation:n=Qv.ORIENTATION}={},margin:{top:i=QA.TOP,right:s=QA.RIGHT,bottom:a=QA.BOTTOM,left:o=QA.LEFT,header:c=QA.HEADER,footer:A=QA.FOOTER,gutter:d=QA.GUTTER}={},pageNumbers:h={},borders:f,textDirection:u}={},grid:{linePitch:g=360,charSpace:m,type:x}={},headerWrapperGroup:p={},footerWrapperGroup:y={},lineNumbers:w,titlePage:b,verticalAlign:I,column:F,type:R}={}){super("w:sectPr"),this.addHeaderFooterGroup(Q3.HEADER,p),this.addHeaderFooterGroup(Q3.FOOTER,y),R&&this.root.push(new $V(R)),this.root.push(KV({width:t,height:r,orientation:n})),this.root.push(new MV(i,s,a,o,c,A,d)),f&&this.root.push(new QV(f)),w&&this.root.push(PV(w)),this.root.push(new zV(h)),F&&this.root.push(new DV(F)),I&&this.root.push(new iL(I)),b!==void 0&&this.root.push(new Nt("w:titlePg",b)),u&&this.root.push(new GV(u)),this.root.push(RV({linePitch:g,charSpace:m,type:x}))}addHeaderFooterGroup(t,r){r.default&&this.root.push(new Pv(t,{type:Pd.DEFAULT,id:r.default.View.ReferenceId})),r.first&&this.root.push(new Pv(t,{type:Pd.FIRST,id:r.first.View.ReferenceId})),r.even&&this.root.push(new Pv(t,{type:Pd.EVEN,id:r.even.View.ReferenceId}))}}class XV extends Bt{constructor(){super("w:body"),bt(this,"sections",[])}addSection(t){const r=this.sections.pop();this.root.push(this.createSectionParagraph(r)),this.sections.push(new VV(t))}prepForXml(t){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(t)}push(t){this.root.push(t)}createSectionParagraph(t){const r=new Ri({}),n=new lh({});return n.push(t),r.addChildElement(n),r}}const H3={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class iw extends wr{constructor(t,r){super(sn({Ignorable:r},Object.fromEntries(t.map(n=>[n,H3[n]])))),bt(this,"xmlKeys",sn({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(H3).map(n=>[n,`xmlns:${n}`]))))}}class YV extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class JV extends Bt{constructor(t){super("w:background"),this.root.push(new YV({color:t.color===void 0?void 0:sh(t.color),themeColor:t.themeColor,themeShade:t.themeShade===void 0?void 0:B3(t.themeShade),themeTint:t.themeTint===void 0?void 0:B3(t.themeTint)}))}}class ZV extends Bt{constructor(t){super("w:document"),bt(this,"body"),this.root.push(new iw(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new XV,t.background&&this.root.push(new JV(t.background)),this.root.push(this.body)}add(t){return this.body.push(t),this}get Body(){return this.body}}class sL{constructor(t){bt(this,"document"),bt(this,"relationships"),this.document=new ZV(t),this.relationships=new Nu}get View(){return this.document}get Relationships(){return this.relationships}}class eX extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{val:"w:val"})}}class tX extends Bt{constructor(){super("w:wordWrap"),this.root.push(new eX({val:0}))}}const rX=e=>{var t,r;return new Ol({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:e.anchorLock},dropCap:{key:"w:dropCap",value:e.dropCap},width:{key:"w:w",value:e.width},height:{key:"w:h",value:e.height},x:{key:"w:x",value:e.position?e.position.x:void 0},y:{key:"w:y",value:e.position?e.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:e.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:e.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(t=e.space)==null?void 0:t.horizontal},spaceVertical:{key:"w:vSpace",value:(r=e.space)==null?void 0:r.vertical},rule:{key:"w:hRule",value:e.rule},alignmentX:{key:"w:xAlign",value:e.alignment?e.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:e.alignment?e.alignment.y:void 0},lines:{key:"w:lines",value:e.lines},wrap:{key:"w:wrap",value:e.wrap}}})};class lh extends _c{constructor(t){var r,n;if(super("w:pPr"),bt(this,"numberingReferences",[]),!t)return this;t.heading&&this.push(new Rg(t.heading)),t.bullet&&this.push(new Rg("ListParagraph")),t.numbering&&!t.style&&!t.heading&&(t.numbering.custom||this.push(new Rg("ListParagraph"))),t.style&&this.push(new Rg(t.style)),t.keepNext!==void 0&&this.push(new Nt("w:keepNext",t.keepNext)),t.keepLines!==void 0&&this.push(new Nt("w:keepLines",t.keepLines)),t.pageBreakBefore&&this.push(new gV),t.frame&&this.push(rX(t.frame)),t.widowControl!==void 0&&this.push(new Nt("w:widowControl",t.widowControl)),t.bullet&&this.push(new Ov(1,t.bullet.level)),t.numbering?(this.numberingReferences.push({reference:t.numbering.reference,instance:(r=t.numbering.instance)!=null?r:0}),this.push(new Ov(`${t.numbering.reference}-${(n=t.numbering.instance)!=null?n:0}`,t.numbering.level))):t.numbering===!1&&this.push(new Ov(0,0)),t.border&&this.push(new B$(t.border)),t.thematicBreak&&this.push(new C$),t.shading&&this.push(new nw(t.shading)),t.wordWrap&&this.push(new tX),t.overflowPunctuation&&this.push(new Nt("w:overflowPunct",t.overflowPunctuation));const i=[...t.rightTabStop!==void 0?[{type:P3.RIGHT,position:t.rightTabStop}]:[],...t.tabStops?t.tabStops:[],...t.leftTabStop!==void 0?[{type:P3.LEFT,position:t.leftTabStop}]:[]];i.length>0&&this.push(new bV(i)),t.bidirectional!==void 0&&this.push(new Nt("w:bidi",t.bidirectional)),t.spacing&&this.push(new wV(t.spacing)),t.indent&&this.push(new E$(t.indent)),t.contextualSpacing!==void 0&&this.push(new Nt("w:contextualSpacing",t.contextualSpacing)),t.alignment&&this.push(new JU(t.alignment)),t.outlineLevel!==void 0&&this.push(new jV(t.outlineLevel)),t.suppressLineNumbers!==void 0&&this.push(new Nt("w:suppressLineNumbers",t.suppressLineNumbers)),t.autoSpaceEastAsianText!==void 0&&this.push(new Nt("w:autoSpaceDN",t.autoSpaceEastAsianText)),t.run&&this.push(new _u(t.run))}push(t){this.root.push(t)}prepForXml(t){if(t.viewWrapper instanceof sL)for(const r of this.numberingReferences)t.file.Numbering.createConcreteNumberingInstance(r.reference,r.instance);return super.prepForXml(t)}}class Ri extends nL{constructor(t){if(super("w:p"),bt(this,"properties"),typeof t=="string")return this.properties=new lh({}),this.root.push(this.properties),this.root.push(new ps(t)),this;if(this.properties=new lh(t),this.root.push(this.properties),t.text&&this.root.push(new ps(t.text)),t.children)for(const r of t.children){if(r instanceof IV){this.root.push(r.start);for(const n of r.children)this.root.push(n);this.root.push(r.end);continue}this.root.push(r)}}prepForXml(t){for(const r of this.root)if(r instanceof _V){const n=this.root.indexOf(r),i=new SV(r.options.children,iV());t.viewWrapper.Relationships.createRelationship(i.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",r.options.link,lV.EXTERNAL),this.root[n]=i}return super.prepForXml(t)}addRunToFront(t){return this.root.splice(1,0,t),this}}class nX extends Bt{constructor(t){super("w:tblGrid");for(const r of t)this.root.push(new iX(r))}}class iX extends Bt{constructor(t){super("w:gridCol"),t!==void 0&&this.root.push(new kA({width:{key:"w:w",value:bs(t)}}))}}const aL={TABLE:"w:tblCellMar",TABLE_CELL:"w:tcMar"};class oL extends _c{constructor(t,{marginUnitType:r=gy.DXA,top:n,left:i,bottom:s,right:a}){super(t),n!==void 0&&this.root.push(new su("w:top",{type:r,size:n})),i!==void 0&&this.root.push(new su("w:left",{type:r,size:i})),s!==void 0&&this.root.push(new su("w:bottom",{type:r,size:s})),a!==void 0&&this.root.push(new su("w:right",{type:r,size:a}))}}const gy={AUTO:"auto",DXA:"dxa",NIL:"nil",PERCENTAGE:"pct"};class su extends Bt{constructor(t,{type:r=gy.AUTO,size:n}){super(t);let i=n;r===gy.PERCENTAGE&&typeof n=="number"&&(i=`${n}%`),this.root.push(new kA({type:{key:"w:type",value:r},size:{key:"w:w",value:YU(i)}}))}}class sX extends _c{constructor(t){super("w:tcBorders"),t.top&&this.root.push(new In("w:top",t.top)),t.start&&this.root.push(new In("w:start",t.start)),t.left&&this.root.push(new In("w:left",t.left)),t.bottom&&this.root.push(new In("w:bottom",t.bottom)),t.end&&this.root.push(new In("w:end",t.end)),t.right&&this.root.push(new In("w:right",t.right))}}class aX extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{val:"w:val"})}}class oX extends Bt{constructor(t){super("w:gridSpan"),this.root.push(new aX({val:Ks(t)}))}}const lL={CONTINUE:"continue",RESTART:"restart"};class lX extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{val:"w:val"})}}class z3 extends Bt{constructor(t){super("w:vMerge"),this.root.push(new lX({val:t}))}}class cX extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{val:"w:val"})}}class AX extends Bt{constructor(t){super("w:textDirection"),this.root.push(new cX({val:t}))}}class uX extends _c{constructor(t){super("w:tcPr"),t.width&&this.root.push(new su("w:tcW",t.width)),t.columnSpan&&this.root.push(new oX(t.columnSpan)),t.verticalMerge?this.root.push(new z3(t.verticalMerge)):t.rowSpan&&t.rowSpan>1&&this.root.push(new z3(lL.RESTART)),t.borders&&this.root.push(new sX(t.borders)),t.shading&&this.root.push(new nw(t.shading)),t.margins&&this.root.push(new oL(aL.TABLE_CELL,t.margins)),t.textDirection&&this.root.push(new AX(t.textDirection)),t.verticalAlign&&this.root.push(new iL(t.verticalAlign))}}class JB extends Bt{constructor(t){super("w:tc"),this.options=t,this.root.push(new uX(t));for(const r of t.children)this.root.push(r)}prepForXml(t){return this.root[this.root.length-1]instanceof Ri||this.root.push(new Ri({})),super.prepForXml(t)}}const Gu={style:hc.NONE,size:0,color:"auto"},Wu={style:hc.SINGLE,size:4,color:"auto"};class cL extends Bt{constructor(t){super("w:tblBorders"),t.top?this.root.push(new In("w:top",t.top)):this.root.push(new In("w:top",Wu)),t.left?this.root.push(new In("w:left",t.left)):this.root.push(new In("w:left",Wu)),t.bottom?this.root.push(new In("w:bottom",t.bottom)):this.root.push(new In("w:bottom",Wu)),t.right?this.root.push(new In("w:right",t.right)):this.root.push(new In("w:right",Wu)),t.insideHorizontal?this.root.push(new In("w:insideH",t.insideHorizontal)):this.root.push(new In("w:insideH",Wu)),t.insideVertical?this.root.push(new In("w:insideV",t.insideVertical)):this.root.push(new In("w:insideV",Wu))}}bt(cL,"NONE",{top:Gu,bottom:Gu,left:Gu,right:Gu,insideHorizontal:Gu,insideVertical:Gu});class dX extends Bt{constructor({horizontalAnchor:t,verticalAnchor:r,absoluteHorizontalPosition:n,relativeHorizontalPosition:i,absoluteVerticalPosition:s,relativeVerticalPosition:a,bottomFromText:o,topFromText:c,leftFromText:A,rightFromText:d,overlap:h}){super("w:tblpPr"),this.root.push(new kA({leftFromText:{key:"w:leftFromText",value:A===void 0?void 0:bs(A)},rightFromText:{key:"w:rightFromText",value:d===void 0?void 0:bs(d)},topFromText:{key:"w:topFromText",value:c===void 0?void 0:bs(c)},bottomFromText:{key:"w:bottomFromText",value:o===void 0?void 0:bs(o)},absoluteHorizontalPosition:{key:"w:tblpX",value:n===void 0?void 0:yc(n)},absoluteVerticalPosition:{key:"w:tblpY",value:s===void 0?void 0:yc(s)},horizontalAnchor:{key:"w:horzAnchor",value:t===void 0?void 0:t},relativeHorizontalPosition:{key:"w:tblpXSpec",value:i},relativeVerticalPosition:{key:"w:tblpYSpec",value:a},verticalAnchor:{key:"w:vertAnchor",value:r}})),h&&this.root.push(new b$("w:tblOverlap",h))}}class hX extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{type:"w:type"})}}class fX extends Bt{constructor(t){super("w:tblLayout"),this.root.push(new hX({type:t}))}}const pX={DXA:"dxa"};class AL extends Bt{constructor({type:t=pX.DXA,value:r}){super("w:tblCellSpacing"),this.root.push(new kA({type:{key:"w:type",value:t},value:{key:"w:w",value:YU(r)}}))}}class mX extends _c{constructor(t){super("w:tblPr"),t.style&&this.root.push(new du("w:tblStyle",t.style)),t.float&&this.root.push(new dX(t.float)),t.visuallyRightToLeft!==void 0&&this.root.push(new Nt("w:bidiVisual",t.visuallyRightToLeft)),t.width&&this.root.push(new su("w:tblW",t.width)),t.alignment&&this.root.push(new JU(t.alignment)),t.indent&&this.root.push(new su("w:tblInd",t.indent)),t.borders&&this.root.push(new cL(t.borders)),t.shading&&this.root.push(new nw(t.shading)),t.layout&&this.root.push(new fX(t.layout)),t.cellMargin&&this.root.push(new oL(aL.TABLE,t.cellMargin)),t.cellSpacing&&this.root.push(new AL(t.cellSpacing))}}class gX extends nL{constructor({rows:t,width:r,columnWidths:n=Array(Math.max(...t.map(u=>u.CellCount))).fill(100),margins:i,indent:s,float:a,layout:o,style:c,borders:A,alignment:d,visuallyRightToLeft:h,cellSpacing:f}){super("w:tbl"),this.root.push(new mX({borders:A??{},width:r??{size:100},indent:s,float:a,layout:o,style:c,alignment:d,cellMargin:i,visuallyRightToLeft:h,cellSpacing:f})),this.root.push(new nX(n));for(const u of t)this.root.push(u);t.forEach((u,g)=>{if(g===t.length-1)return;let m=0;u.cells.forEach(x=>{if(x.options.rowSpan&&x.options.rowSpan>1){const p=new JB({rowSpan:x.options.rowSpan-1,columnSpan:x.options.columnSpan,borders:x.options.borders,children:[],verticalMerge:lL.CONTINUE});t[g+1].addCellToColumnIndex(p,m)}m+=x.options.columnSpan||1})})}}class yX extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{value:"w:val",rule:"w:hRule"})}}class wX extends Bt{constructor(t,r){super("w:trHeight"),this.root.push(new yX({value:bs(t),rule:r}))}}class bX extends _c{constructor(t){super("w:trPr"),t.cantSplit!==void 0&&this.root.push(new Nt("w:cantSplit",t.cantSplit)),t.tableHeader!==void 0&&this.root.push(new Nt("w:tblHeader",t.tableHeader)),t.height&&this.root.push(new wX(t.height.value,t.height.rule)),t.cellSpacing&&this.root.push(new AL(t.cellSpacing))}}class vX extends Bt{constructor(t){super("w:tr"),this.options=t,this.root.push(new bX(t));for(const r of t.children)this.root.push(r)}get CellCount(){return this.options.children.length}get cells(){return this.root.filter(t=>t instanceof JB)}addCellToIndex(t,r){this.root.splice(r+1,0,t)}addCellToColumnIndex(t,r){const n=this.columnIndexToRootIndex(r,!0);this.addCellToIndex(t,n-1)}rootIndexToColumnIndex(t){if(t<1||t>=this.root.length)throw new Error(`cell 'rootIndex' should between 1 to ${this.root.length-1}`);let r=0;for(let n=1;n<t;n++){const i=this.root[n];r+=i.options.columnSpan||1}return r}columnIndexToRootIndex(t,r=!1){if(t<0)throw new Error("cell 'columnIndex' should not less than zero");let n=0,i=1;for(;n<=t;){if(i>=this.root.length){if(r)return this.root.length;throw new Error(`cell 'columnIndex' should not great than ${n-1}`)}const s=this.root[i];i+=1,n+=s&&s.options.columnSpan||1}return i-1}}class xX extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class BX extends Bt{constructor(){super("Properties"),this.root.push(new xX({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class CX extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{xmlns:"xmlns"})}}class EX extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class oc extends Bt{constructor(t,r){super("Default"),this.root.push(new EX({contentType:t,extension:r}))}}class SX extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class bo extends Bt{constructor(t,r){super("Override"),this.root.push(new SX({contentType:t,partName:r}))}}class _X extends Bt{constructor(){super("Types"),this.root.push(new CX({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new oc("image/png","png")),this.root.push(new oc("image/jpeg","jpeg")),this.root.push(new oc("image/jpeg","jpg")),this.root.push(new oc("image/bmp","bmp")),this.root.push(new oc("image/gif","gif")),this.root.push(new oc("image/svg+xml","svg")),this.root.push(new oc("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new oc("application/xml","xml")),this.root.push(new oc("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new bo("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new bo("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new bo("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new bo("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new bo("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new bo("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new bo("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new bo("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new bo("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new bo("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(t){this.root.push(new bo("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${t}.xml`))}addHeader(t){this.root.push(new bo("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${t}.xml`))}}class NX extends Bt{constructor(t){super("cp:coreProperties"),this.root.push(new iw(["cp","dc","dcterms","dcmitype","xsi"])),t.title&&this.root.push(new OA("dc:title",t.title)),t.subject&&this.root.push(new OA("dc:subject",t.subject)),t.creator&&this.root.push(new OA("dc:creator",t.creator)),t.keywords&&this.root.push(new OA("cp:keywords",t.keywords)),t.description&&this.root.push(new OA("dc:description",t.description)),t.lastModifiedBy&&this.root.push(new OA("cp:lastModifiedBy",t.lastModifiedBy)),t.revision&&this.root.push(new OA("cp:revision",String(t.revision))),this.root.push(new K3("dcterms:created")),this.root.push(new K3("dcterms:modified"))}}class kX extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{type:"xsi:type"})}}class K3 extends Bt{constructor(t){super(t),this.root.push(new kX({type:"dcterms:W3CDTF"})),this.root.push(w$(new Date))}}class IX extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class TX extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class FX extends Bt{constructor(t,r){super("property"),this.root.push(new TX({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t.toString(),name:r.name})),this.root.push(new jX(r.value))}}class jX extends Bt{constructor(t){super("vt:lpwstr"),this.root.push(t)}}class UX extends Bt{constructor(t){super("Properties"),bt(this,"nextId"),bt(this,"properties",[]),this.root.push(new IX({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const r of t)this.addCustomProperty(r)}prepForXml(t){return this.properties.forEach(r=>this.root.push(r)),super.prepForXml(t)}addCustomProperty(t){this.properties.push(new FX(this.nextId++,t))}}const Og=({id:e,fontKey:t,subsetted:r},n)=>new Ol({name:n,attributes:sn({id:{key:"r:id",value:e}},t?{fontKey:{key:"w:fontKey",value:`{${t}}`}}:{}),children:[...r?[new Nt("w:subsetted",r)]:[]]}),LX=({name:e,altName:t,panose1:r,charset:n,family:i,notTrueType:s,pitch:a,sig:o,embedRegular:c,embedBold:A,embedItalic:d,embedBoldItalic:h})=>new Ol({name:"w:font",attributes:{name:{key:"w:name",value:e}},children:[...t?[rf("w:altName",t)]:[],...r?[rf("w:panose1",r)]:[],...n?[rf("w:charset",n)]:[],rf("w:family",i),...s?[new Nt("w:notTrueType",s)]:[],rf("w:pitch",a),...o?[new Ol({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:o.usb0},usb1:{key:"w:usb1",value:o.usb1},usb2:{key:"w:usb2",value:o.usb2},usb3:{key:"w:usb3",value:o.usb3},csb0:{key:"w:csb0",value:o.csb0},csb1:{key:"w:csb1",value:o.csb1}}})]:[],...c?[Og(c,"w:embedRegular")]:[],...A?[Og(A,"w:embedBold")]:[],...d?[Og(d,"w:embedItalic")]:[],...h?[Og(h,"w:embedBoldItalic")]:[]]}),DX=({name:e,index:t,fontKey:r,characterSet:n})=>LX({name:e,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:n,family:"auto",pitch:"variable",embedRegular:{fontKey:r,id:`rId${t}`}}),RX=e=>new Ol({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:e.map((t,r)=>DX({name:t.name,index:r+1,fontKey:t.fontKey}))});class OX{constructor(t){bt(this,"fontTable"),bt(this,"relationships"),bt(this,"fontOptionsWithKey",[]),this.options=t,this.fontOptionsWithKey=t.map(r=>nh(sn({},r),{fontKey:sV()})),this.fontTable=RX(this.fontOptionsWithKey),this.relationships=new Nu;for(let r=0;r<t.length;r++)this.relationships.createRelationship(r+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${t[r].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class PX extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let QX=class extends $U{constructor(t,r){super("w:ftr",r),bt(this,"refId"),this.refId=t,r||this.root.push(new PX({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(t){this.root.push(t)}};class MX{constructor(t,r,n){bt(this,"footer"),bt(this,"relationships"),this.media=t,this.footer=new QX(r,n),this.relationships=new Nu}add(t){this.footer.add(t)}addChildElement(t){this.footer.addChildElement(t)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class HX extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class zX extends Bt{constructor(){super("w:footnoteRef")}}class KX extends Xp{constructor(){super({style:"FootnoteReference"}),this.root.push(new zX)}}const q3={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class Mv extends Bt{constructor(t){super("w:footnote"),this.root.push(new HX({type:t.type,id:t.id}));for(let r=0;r<t.children.length;r++){const n=t.children[r];r===0&&n.addRunToFront(new KX),this.root.push(n)}}}class qX extends Bt{constructor(){super("w:continuationSeparator")}}class GX extends Xp{constructor(){super({}),this.root.push(new qX)}}class WX extends Bt{constructor(){super("w:separator")}}class $X extends Xp{constructor(){super({}),this.root.push(new WX)}}class VX extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class XX extends Bt{constructor(){super("w:footnotes"),this.root.push(new VX({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const t=new Mv({id:-1,type:q3.SEPERATOR,children:[new Ri({spacing:{after:0,line:240,lineRule:J2.AUTO},children:[new $X]})]});this.root.push(t);const r=new Mv({id:0,type:q3.CONTINUATION_SEPERATOR,children:[new Ri({spacing:{after:0,line:240,lineRule:J2.AUTO},children:[new GX]})]});this.root.push(r)}createFootNote(t,r){const n=new Mv({id:t,children:r});this.root.push(n)}}class YX{constructor(){bt(this,"footnotess"),bt(this,"relationships"),this.footnotess=new XX,this.relationships=new Nu}get View(){return this.footnotess}get Relationships(){return this.relationships}}class JX extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let ZX=class extends $U{constructor(t,r){super("w:hdr",r),bt(this,"refId"),this.refId=t,r||this.root.push(new JX({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(t){this.root.push(t)}};class eY{constructor(t,r,n){bt(this,"header"),bt(this,"relationships"),this.media=t,this.header=new ZX(r,n),this.relationships=new Nu}add(t){return this.header.add(t),this}addChildElement(t){this.header.addChildElement(t)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class tY{constructor(){bt(this,"map"),this.map=new Map}addImage(t,r){this.map.set(t,r)}get Array(){return Array.from(this.map.values())}}const lc={DECIMAL:"decimal",UPPER_ROMAN:"upperRoman",LOWER_ROMAN:"lowerRoman",UPPER_LETTER:"upperLetter",LOWER_LETTER:"lowerLetter",ORDINAL:"ordinal",CARDINAL_TEXT:"cardinalText",ORDINAL_TEXT:"ordinalText",HEX:"hex",CHICAGO:"chicago",IDEOGRAPH__DIGITAL:"ideographDigital",JAPANESE_COUNTING:"japaneseCounting",AIUEO:"aiueo",IROHA:"iroha",DECIMAL_FULL_WIDTH:"decimalFullWidth",DECIMAL_HALF_WIDTH:"decimalHalfWidth",JAPANESE_LEGAL:"japaneseLegal",JAPANESE_DIGITAL_TEN_THOUSAND:"japaneseDigitalTenThousand",DECIMAL_ENCLOSED_CIRCLE:"decimalEnclosedCircle",DECIMAL_FULL_WIDTH2:"decimalFullWidth2",AIUEO_FULL_WIDTH:"aiueoFullWidth",IROHA_FULL_WIDTH:"irohaFullWidth",DECIMAL_ZERO:"decimalZero",BULLET:"bullet",GANADA:"ganada",CHOSUNG:"chosung",DECIMAL_ENCLOSED_FULLSTOP:"decimalEnclosedFullstop",DECIMAL_ENCLOSED_PARENTHESES:"decimalEnclosedParen",DECIMAL_ENCLOSED_CIRCLE_CHINESE:"decimalEnclosedCircleChinese",IDEOGRAPH_ENCLOSED_CIRCLE:"ideographEnclosedCircle",IDEOGRAPH_TRADITIONAL:"ideographTraditional",IDEOGRAPH_ZODIAC:"ideographZodiac",IDEOGRAPH_ZODIAC_TRADITIONAL:"ideographZodiacTraditional",TAIWANESE_COUNTING:"taiwaneseCounting",IDEOGRAPH_LEGAL_TRADITIONAL:"ideographLegalTraditional",TAIWANESE_COUNTING_THOUSAND:"taiwaneseCountingThousand",TAIWANESE_DIGITAL:"taiwaneseDigital",CHINESE_COUNTING:"chineseCounting",CHINESE_LEGAL_SIMPLIFIED:"chineseLegalSimplified",CHINESE_COUNTING_THOUSAND:"chineseCountingThousand",KOREAN_DIGITAL:"koreanDigital",KOREAN_COUNTING:"koreanCounting",KOREAN_LEGAL:"koreanLegal",KOREAN_DIGITAL2:"koreanDigital2",VIETNAMESE_COUNTING:"vietnameseCounting",RUSSIAN_LOWER:"russianLower",RUSSIAN_UPPER:"russianUpper",NONE:"none",NUMBER_IN_DASH:"numberInDash",HEBREW1:"hebrew1",HEBREW2:"hebrew2",ARABIC_ALPHA:"arabicAlpha",ARABIC_ABJAD:"arabicAbjad",HINDI_VOWELS:"hindiVowels",HINDI_CONSONANTS:"hindiConsonants",HINDI_NUMBERS:"hindiNumbers",HINDI_COUNTING:"hindiCounting",THAI_LETTERS:"thaiLetters",THAI_NUMBERS:"thaiNumbers",THAI_COUNTING:"thaiCounting",BAHT_TEXT:"bahtText",DOLLAR_TEXT:"dollarText",CUSTOM:"custom"};class rY extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class nY extends Bt{constructor(t){super("w:numFmt"),this.root.push(new oi({val:t}))}}class iY extends Bt{constructor(t){super("w:lvlText"),this.root.push(new oi({val:t}))}}class sY extends Bt{constructor(t){super("w:lvlJc"),this.root.push(new oi({val:t}))}}class aY extends Bt{constructor(t){super("w:suff"),this.root.push(new oi({val:t}))}}class oY extends Bt{constructor(){super("w:isLgl")}}class lY extends Bt{constructor({level:t,format:r,text:n,alignment:i=Ps.START,start:s=1,style:a,suffix:o,isLegalNumberingStyle:c}){if(super("w:lvl"),bt(this,"paragraphProperties"),bt(this,"runProperties"),this.root.push(new Gf("w:start",Ks(s))),r&&this.root.push(new nY(r)),o&&this.root.push(new aY(o)),c&&this.root.push(new oY),n&&this.root.push(new iY(n)),this.root.push(new sY(i)),this.paragraphProperties=new lh(a&&a.paragraph),this.runProperties=new _u(a&&a.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),t>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new rY({ilvl:Ks(t),tentative:1}))}}class cY extends lY{}class AY extends Bt{constructor(t){super("w:multiLevelType"),this.root.push(new oi({val:t}))}}class uY extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class G3 extends Bt{constructor(t,r){super("w:abstractNum"),bt(this,"id"),this.root.push(new uY({abstractNumId:Ks(t),restartNumberingAfterBreak:0})),this.root.push(new AY("hybridMultilevel")),this.id=t;for(const n of r)this.root.push(new cY(n))}}class dY extends Bt{constructor(t){super("w:abstractNumId"),this.root.push(new oi({val:t}))}}class hY extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{numId:"w:numId"})}}class W3 extends Bt{constructor(t){if(super("w:num"),bt(this,"numId"),bt(this,"reference"),bt(this,"instance"),this.numId=t.numId,this.reference=t.reference,this.instance=t.instance,this.root.push(new hY({numId:Ks(t.numId)})),this.root.push(new dY(Ks(t.abstractNumId))),t.overrideLevels&&t.overrideLevels.length)for(const r of t.overrideLevels)this.root.push(new pY(r.num,r.start))}}class fY extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{ilvl:"w:ilvl"})}}class pY extends Bt{constructor(t,r){super("w:lvlOverride"),this.root.push(new fY({ilvl:t})),r!==void 0&&this.root.push(new gY(r))}}class mY extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{val:"w:val"})}}class gY extends Bt{constructor(t){super("w:startOverride"),this.root.push(new mY({val:t}))}}class yY extends Bt{constructor(t){super("w:numbering"),bt(this,"abstractNumberingMap",new Map),bt(this,"concreteNumberingMap",new Map),bt(this,"referenceConfigMap",new Map),bt(this,"abstractNumUniqueNumericId",tV()),bt(this,"concreteNumUniqueNumericId",rV()),this.root.push(new iw(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const r=new G3(this.abstractNumUniqueNumericId(),[{level:0,format:lc.BULLET,text:"â—",alignment:Ps.LEFT,style:{paragraph:{indent:{left:$o(.5),hanging:$o(.25)}}}},{level:1,format:lc.BULLET,text:"â—‹",alignment:Ps.LEFT,style:{paragraph:{indent:{left:$o(1),hanging:$o(.25)}}}},{level:2,format:lc.BULLET,text:"â– ",alignment:Ps.LEFT,style:{paragraph:{indent:{left:2160,hanging:$o(.25)}}}},{level:3,format:lc.BULLET,text:"â—",alignment:Ps.LEFT,style:{paragraph:{indent:{left:2880,hanging:$o(.25)}}}},{level:4,format:lc.BULLET,text:"â—‹",alignment:Ps.LEFT,style:{paragraph:{indent:{left:3600,hanging:$o(.25)}}}},{level:5,format:lc.BULLET,text:"â– ",alignment:Ps.LEFT,style:{paragraph:{indent:{left:4320,hanging:$o(.25)}}}},{level:6,format:lc.BULLET,text:"â—",alignment:Ps.LEFT,style:{paragraph:{indent:{left:5040,hanging:$o(.25)}}}},{level:7,format:lc.BULLET,text:"â—",alignment:Ps.LEFT,style:{paragraph:{indent:{left:5760,hanging:$o(.25)}}}},{level:8,format:lc.BULLET,text:"â—",alignment:Ps.LEFT,style:{paragraph:{indent:{left:6480,hanging:$o(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new W3({numId:1,abstractNumId:r.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",r);for(const n of t.config)this.abstractNumberingMap.set(n.reference,new G3(this.abstractNumUniqueNumericId(),n.levels)),this.referenceConfigMap.set(n.reference,n.levels)}prepForXml(t){for(const r of this.abstractNumberingMap.values())this.root.push(r);for(const r of this.concreteNumberingMap.values())this.root.push(r);return super.prepForXml(t)}createConcreteNumberingInstance(t,r){const n=this.abstractNumberingMap.get(t);if(!n)return;const i=`${t}-${r}`;if(this.concreteNumberingMap.has(i))return;const s=this.referenceConfigMap.get(t),a=s&&s[0].start,o={numId:this.concreteNumUniqueNumericId(),abstractNumId:n.id,reference:t,instance:r,overrideLevels:[a&&Number.isInteger(a)?{num:0,start:a}:{num:0,start:1}]};this.concreteNumberingMap.set(i,new W3(o))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class wY extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class bY extends Bt{constructor(t){super("w:compatSetting"),this.root.push(new wY({version:t,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class vY extends Bt{constructor(t){super("w:compat"),t.version&&this.root.push(new bY(t.version)),t.useSingleBorderforContiguousCells&&this.root.push(new Nt("w:useSingleBorderforContiguousCells",t.useSingleBorderforContiguousCells)),t.wordPerfectJustification&&this.root.push(new Nt("w:wpJustification",t.wordPerfectJustification)),t.noTabStopForHangingIndent&&this.root.push(new Nt("w:noTabHangInd",t.noTabStopForHangingIndent)),t.noLeading&&this.root.push(new Nt("w:noLeading",t.noLeading)),t.spaceForUnderline&&this.root.push(new Nt("w:spaceForUL",t.spaceForUnderline)),t.noColumnBalance&&this.root.push(new Nt("w:noColumnBalance",t.noColumnBalance)),t.balanceSingleByteDoubleByteWidth&&this.root.push(new Nt("w:balanceSingleByteDoubleByteWidth",t.balanceSingleByteDoubleByteWidth)),t.noExtraLineSpacing&&this.root.push(new Nt("w:noExtraLineSpacing",t.noExtraLineSpacing)),t.doNotLeaveBackslashAlone&&this.root.push(new Nt("w:doNotLeaveBackslashAlone",t.doNotLeaveBackslashAlone)),t.underlineTrailingSpaces&&this.root.push(new Nt("w:ulTrailSpace",t.underlineTrailingSpaces)),t.doNotExpandShiftReturn&&this.root.push(new Nt("w:doNotExpandShiftReturn",t.doNotExpandShiftReturn)),t.spacingInWholePoints&&this.root.push(new Nt("w:spacingInWholePoints",t.spacingInWholePoints)),t.lineWrapLikeWord6&&this.root.push(new Nt("w:lineWrapLikeWord6",t.lineWrapLikeWord6)),t.printBodyTextBeforeHeader&&this.root.push(new Nt("w:printBodyTextBeforeHeader",t.printBodyTextBeforeHeader)),t.printColorsBlack&&this.root.push(new Nt("w:printColBlack",t.printColorsBlack)),t.spaceWidth&&this.root.push(new Nt("w:wpSpaceWidth",t.spaceWidth)),t.showBreaksInFrames&&this.root.push(new Nt("w:showBreaksInFrames",t.showBreaksInFrames)),t.subFontBySize&&this.root.push(new Nt("w:subFontBySize",t.subFontBySize)),t.suppressBottomSpacing&&this.root.push(new Nt("w:suppressBottomSpacing",t.suppressBottomSpacing)),t.suppressTopSpacing&&this.root.push(new Nt("w:suppressTopSpacing",t.suppressTopSpacing)),t.suppressSpacingAtTopOfPage&&this.root.push(new Nt("w:suppressSpacingAtTopOfPage",t.suppressSpacingAtTopOfPage)),t.suppressTopSpacingWP&&this.root.push(new Nt("w:suppressTopSpacingWP",t.suppressTopSpacingWP)),t.suppressSpBfAfterPgBrk&&this.root.push(new Nt("w:suppressSpBfAfterPgBrk",t.suppressSpBfAfterPgBrk)),t.swapBordersFacingPages&&this.root.push(new Nt("w:swapBordersFacingPages",t.swapBordersFacingPages)),t.convertMailMergeEsc&&this.root.push(new Nt("w:convMailMergeEsc",t.convertMailMergeEsc)),t.truncateFontHeightsLikeWP6&&this.root.push(new Nt("w:truncateFontHeightsLikeWP6",t.truncateFontHeightsLikeWP6)),t.macWordSmallCaps&&this.root.push(new Nt("w:mwSmallCaps",t.macWordSmallCaps)),t.usePrinterMetrics&&this.root.push(new Nt("w:usePrinterMetrics",t.usePrinterMetrics)),t.doNotSuppressParagraphBorders&&this.root.push(new Nt("w:doNotSuppressParagraphBorders",t.doNotSuppressParagraphBorders)),t.wrapTrailSpaces&&this.root.push(new Nt("w:wrapTrailSpaces",t.wrapTrailSpaces)),t.footnoteLayoutLikeWW8&&this.root.push(new Nt("w:footnoteLayoutLikeWW8",t.footnoteLayoutLikeWW8)),t.shapeLayoutLikeWW8&&this.root.push(new Nt("w:shapeLayoutLikeWW8",t.shapeLayoutLikeWW8)),t.alignTablesRowByRow&&this.root.push(new Nt("w:alignTablesRowByRow",t.alignTablesRowByRow)),t.forgetLastTabAlignment&&this.root.push(new Nt("w:forgetLastTabAlignment",t.forgetLastTabAlignment)),t.adjustLineHeightInTable&&this.root.push(new Nt("w:adjustLineHeightInTable",t.adjustLineHeightInTable)),t.autoSpaceLikeWord95&&this.root.push(new Nt("w:autoSpaceLikeWord95",t.autoSpaceLikeWord95)),t.noSpaceRaiseLower&&this.root.push(new Nt("w:noSpaceRaiseLower",t.noSpaceRaiseLower)),t.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new Nt("w:doNotUseHTMLParagraphAutoSpacing",t.doNotUseHTMLParagraphAutoSpacing)),t.layoutRawTableWidth&&this.root.push(new Nt("w:layoutRawTableWidth",t.layoutRawTableWidth)),t.layoutTableRowsApart&&this.root.push(new Nt("w:layoutTableRowsApart",t.layoutTableRowsApart)),t.useWord97LineBreakRules&&this.root.push(new Nt("w:useWord97LineBreakRules",t.useWord97LineBreakRules)),t.doNotBreakWrappedTables&&this.root.push(new Nt("w:doNotBreakWrappedTables",t.doNotBreakWrappedTables)),t.doNotSnapToGridInCell&&this.root.push(new Nt("w:doNotSnapToGridInCell",t.doNotSnapToGridInCell)),t.selectFieldWithFirstOrLastCharacter&&this.root.push(new Nt("w:selectFldWithFirstOrLastChar",t.selectFieldWithFirstOrLastCharacter)),t.applyBreakingRules&&this.root.push(new Nt("w:applyBreakingRules",t.applyBreakingRules)),t.doNotWrapTextWithPunctuation&&this.root.push(new Nt("w:doNotWrapTextWithPunct",t.doNotWrapTextWithPunctuation)),t.doNotUseEastAsianBreakRules&&this.root.push(new Nt("w:doNotUseEastAsianBreakRules",t.doNotUseEastAsianBreakRules)),t.useWord2002TableStyleRules&&this.root.push(new Nt("w:useWord2002TableStyleRules",t.useWord2002TableStyleRules)),t.growAutofit&&this.root.push(new Nt("w:growAutofit",t.growAutofit)),t.useFELayout&&this.root.push(new Nt("w:useFELayout",t.useFELayout)),t.useNormalStyleForList&&this.root.push(new Nt("w:useNormalStyleForList",t.useNormalStyleForList)),t.doNotUseIndentAsNumberingTabStop&&this.root.push(new Nt("w:doNotUseIndentAsNumberingTabStop",t.doNotUseIndentAsNumberingTabStop)),t.useAlternateEastAsianLineBreakRules&&this.root.push(new Nt("w:useAltKinsokuLineBreakRules",t.useAlternateEastAsianLineBreakRules)),t.allowSpaceOfSameStyleInTable&&this.root.push(new Nt("w:allowSpaceOfSameStyleInTable",t.allowSpaceOfSameStyleInTable)),t.doNotSuppressIndentation&&this.root.push(new Nt("w:doNotSuppressIndentation",t.doNotSuppressIndentation)),t.doNotAutofitConstrainedTables&&this.root.push(new Nt("w:doNotAutofitConstrainedTables",t.doNotAutofitConstrainedTables)),t.autofitToFirstFixedWidthCell&&this.root.push(new Nt("w:autofitToFirstFixedWidthCell",t.autofitToFirstFixedWidthCell)),t.underlineTabInNumberingList&&this.root.push(new Nt("w:underlineTabInNumList",t.underlineTabInNumberingList)),t.displayHangulFixedWidth&&this.root.push(new Nt("w:displayHangulFixedWidth",t.displayHangulFixedWidth)),t.splitPgBreakAndParaMark&&this.root.push(new Nt("w:splitPgBreakAndParaMark",t.splitPgBreakAndParaMark)),t.doNotVerticallyAlignCellWithSp&&this.root.push(new Nt("w:doNotVertAlignCellWithSp",t.doNotVerticallyAlignCellWithSp)),t.doNotBreakConstrainedForcedTable&&this.root.push(new Nt("w:doNotBreakConstrainedForcedTable",t.doNotBreakConstrainedForcedTable)),t.ignoreVerticalAlignmentInTextboxes&&this.root.push(new Nt("w:doNotVertAlignInTxbx",t.ignoreVerticalAlignmentInTextboxes)),t.useAnsiKerningPairs&&this.root.push(new Nt("w:useAnsiKerningPairs",t.useAnsiKerningPairs)),t.cachedColumnBalance&&this.root.push(new Nt("w:cachedColBalance",t.cachedColumnBalance))}}class xY extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class BY extends Bt{constructor(t){var r,n,i,s,a,o,c,A;super("w:settings"),this.root.push(new xY({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new Nt("w:displayBackgroundShape",!0)),t.trackRevisions!==void 0&&this.root.push(new Nt("w:trackRevisions",t.trackRevisions)),t.evenAndOddHeaders!==void 0&&this.root.push(new Nt("w:evenAndOddHeaders",t.evenAndOddHeaders)),t.updateFields!==void 0&&this.root.push(new Nt("w:updateFields",t.updateFields)),t.defaultTabStop!==void 0&&this.root.push(new Gf("w:defaultTabStop",t.defaultTabStop)),((r=t.hyphenation)==null?void 0:r.autoHyphenation)!==void 0&&this.root.push(new Nt("w:autoHyphenation",t.hyphenation.autoHyphenation)),((n=t.hyphenation)==null?void 0:n.hyphenationZone)!==void 0&&this.root.push(new Gf("w:hyphenationZone",t.hyphenation.hyphenationZone)),((i=t.hyphenation)==null?void 0:i.consecutiveHyphenLimit)!==void 0&&this.root.push(new Gf("w:consecutiveHyphenLimit",t.hyphenation.consecutiveHyphenLimit)),((s=t.hyphenation)==null?void 0:s.doNotHyphenateCaps)!==void 0&&this.root.push(new Nt("w:doNotHyphenateCaps",t.hyphenation.doNotHyphenateCaps)),this.root.push(new vY(nh(sn({},(a=t.compatibility)!=null?a:{}),{version:(A=(c=(o=t.compatibility)==null?void 0:o.version)!=null?c:t.compatibilityModeVersion)!=null?A:15})))}}class uL extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{val:"w:val"})}}class CY extends Bt{constructor(t){super("w:name"),this.root.push(new uL({val:t}))}}class EY extends Bt{constructor(t){super("w:uiPriority"),this.root.push(new uL({val:Ks(t)}))}}class SY extends wr{constructor(){super(...arguments),bt(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class dL extends Bt{constructor(t,r){super("w:style"),this.root.push(new SY(t)),r.name&&this.root.push(new CY(r.name)),r.basedOn&&this.root.push(new du("w:basedOn",r.basedOn)),r.next&&this.root.push(new du("w:next",r.next)),r.link&&this.root.push(new du("w:link",r.link)),r.uiPriority!==void 0&&this.root.push(new EY(r.uiPriority)),r.semiHidden!==void 0&&this.root.push(new Nt("w:semiHidden",r.semiHidden)),r.unhideWhenUsed!==void 0&&this.root.push(new Nt("w:unhideWhenUsed",r.unhideWhenUsed)),r.quickFormat!==void 0&&this.root.push(new Nt("w:qFormat",r.quickFormat))}}class sw extends dL{constructor(t){super({type:"paragraph",styleId:t.id},t),bt(this,"paragraphProperties"),bt(this,"runProperties"),this.paragraphProperties=new lh(t.paragraph),this.runProperties=new _u(t.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class aw extends dL{constructor(t){super({type:"character",styleId:t.id},sn({uiPriority:99,unhideWhenUsed:!0},t)),bt(this,"runProperties"),this.runProperties=new _u(t.run),this.root.push(this.runProperties)}}class TA extends sw{constructor(t){super(sn({basedOn:"Normal",next:"Normal",quickFormat:!0},t))}}class _Y extends TA{constructor(t){super(sn({id:"Title",name:"Title"},t))}}class NY extends TA{constructor(t){super(sn({id:"Heading1",name:"Heading 1"},t))}}class kY extends TA{constructor(t){super(sn({id:"Heading2",name:"Heading 2"},t))}}class IY extends TA{constructor(t){super(sn({id:"Heading3",name:"Heading 3"},t))}}class TY extends TA{constructor(t){super(sn({id:"Heading4",name:"Heading 4"},t))}}class FY extends TA{constructor(t){super(sn({id:"Heading5",name:"Heading 5"},t))}}class jY extends TA{constructor(t){super(sn({id:"Heading6",name:"Heading 6"},t))}}class UY extends TA{constructor(t){super(sn({id:"Strong",name:"Strong"},t))}}class LY extends sw{constructor(t){super(sn({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},t))}}class DY extends sw{constructor(t){super(sn({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:J2.AUTO}},run:{size:20}},t))}}class RY extends aw{constructor(t){super(sn({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},t))}}class OY extends aw{constructor(t){super(sn({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},t))}}class PY extends aw{constructor(t){super(sn({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:vd.SINGLE}}},t))}}class e5 extends Bt{constructor(t){if(super("w:styles"),t.initialStyles&&this.root.push(t.initialStyles),t.importedStyles)for(const r of t.importedStyles)this.root.push(r);if(t.paragraphStyles)for(const r of t.paragraphStyles)this.root.push(new sw(r));if(t.characterStyles)for(const r of t.characterStyles)this.root.push(new aw(r))}}class QY extends Bt{constructor(t){super("w:pPrDefault"),this.root.push(new lh(t))}}class MY extends Bt{constructor(t){super("w:rPrDefault"),this.root.push(new _u(t))}}class HY extends Bt{constructor(t){super("w:docDefaults"),bt(this,"runPropertiesDefaults"),bt(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new MY(t.run),this.paragraphPropertiesDefaults=new QY(t.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class zY{newInstance(t){const r=WU.xml2js(t,{compact:!1});let n;for(const a of r.elements||[])a.name==="w:styles"&&(n=a);if(n===void 0)throw new Error("can not find styles element");const i=n.elements||[];return new e5({initialStyles:new f$(n.attributes),importedStyles:i.map(a=>WB(a))})}}class $3{newInstance(t={}){var r;return{initialStyles:new iw(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new HY((r=t.document)!=null?r:{}),new _Y(sn({run:{size:56}},t.title)),new NY(sn({run:{color:"2E74B5",size:32}},t.heading1)),new kY(sn({run:{color:"2E74B5",size:26}},t.heading2)),new IY(sn({run:{color:"1F4D78",size:24}},t.heading3)),new TY(sn({run:{color:"2E74B5",italics:!0}},t.heading4)),new FY(sn({run:{color:"2E74B5"}},t.heading5)),new jY(sn({run:{color:"1F4D78"}},t.heading6)),new UY(sn({run:{bold:!0}},t.strong)),new LY(t.listParagraph||{}),new PY(t.hyperlink||{}),new RY(t.footnoteReference||{}),new DY(t.footnoteText||{}),new OY(t.footnoteTextChar||{})]}}}let KY=class{constructor(t){bt(this,"currentRelationshipId",1),bt(this,"documentWrapper"),bt(this,"headers",[]),bt(this,"footers",[]),bt(this,"coreProperties"),bt(this,"numbering"),bt(this,"media"),bt(this,"fileRelationships"),bt(this,"footnotesWrapper"),bt(this,"settings"),bt(this,"contentTypes"),bt(this,"customProperties"),bt(this,"appProperties"),bt(this,"styles"),bt(this,"comments"),bt(this,"fontWrapper");var r,n,i,s,a,o,c,A,d,h,f,u;if(this.coreProperties=new NX(nh(sn({},t),{creator:(r=t.creator)!=null?r:"Un-named",revision:(n=t.revision)!=null?n:1,lastModifiedBy:(i=t.lastModifiedBy)!=null?i:"Un-named"})),this.numbering=new yY(t.numbering?t.numbering:{config:[]}),this.comments=new hV((s=t.comments)!=null?s:{children:[]}),this.fileRelationships=new Nu,this.customProperties=new UX((a=t.customProperties)!=null?a:[]),this.appProperties=new BX,this.footnotesWrapper=new YX,this.contentTypes=new _X,this.documentWrapper=new sL({background:t.background}),this.settings=new BY({compatibilityModeVersion:t.compatabilityModeVersion,compatibility:t.compatibility,evenAndOddHeaders:!!t.evenAndOddHeaderAndFooters,trackRevisions:(o=t.features)==null?void 0:o.trackRevisions,updateFields:(c=t.features)==null?void 0:c.updateFields,defaultTabStop:t.defaultTabStop,hyphenation:{autoHyphenation:(A=t.hyphenation)==null?void 0:A.autoHyphenation,hyphenationZone:(d=t.hyphenation)==null?void 0:d.hyphenationZone,consecutiveHyphenLimit:(h=t.hyphenation)==null?void 0:h.consecutiveHyphenLimit,doNotHyphenateCaps:(f=t.hyphenation)==null?void 0:f.doNotHyphenateCaps}}),this.media=new tY,t.externalStyles!==void 0){const g=new zY;this.styles=g.newInstance(t.externalStyles)}else if(t.styles){const m=new $3().newInstance(t.styles.default);this.styles=new e5(sn(sn({},m),t.styles))}else{const g=new $3;this.styles=new e5(g.newInstance())}this.addDefaultRelationships();for(const g of t.sections)this.addSection(g);if(t.footnotes)for(const g in t.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(g),t.footnotes[g].children);this.fontWrapper=new OX((u=t.fonts)!=null?u:[])}addSection({headers:t={},footers:r={},children:n,properties:i}){this.documentWrapper.View.Body.addSection(nh(sn({},i),{headerWrapperGroup:{default:t.default?this.createHeader(t.default):void 0,first:t.first?this.createHeader(t.first):void 0,even:t.even?this.createHeader(t.even):void 0},footerWrapperGroup:{default:r.default?this.createFooter(r.default):void 0,first:r.first?this.createFooter(r.first):void 0,even:r.even?this.createFooter(r.even):void 0}}));for(const s of n)this.documentWrapper.View.add(s)}createHeader(t){const r=new eY(this.media,this.currentRelationshipId++);for(const n of t.options.children)r.add(n);return this.addHeaderToDocument(r),r}createFooter(t){const r=new MX(this.media,this.currentRelationshipId++);for(const n of t.options.children)r.add(n);return this.addFooterToDocument(r),r}addHeaderToDocument(t,r=Pd.DEFAULT){this.headers.push({header:t,type:r}),this.documentWrapper.Relationships.createRelationship(t.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(t,r=Pd.DEFAULT){this.footers.push({footer:t,type:r}),this.documentWrapper.Relationships.createRelationship(t.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(t=>t.header)}get Footers(){return this.footers.map(t=>t.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}};var qY=KB();function Pg(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Hv={exports:{}},V3;function GY(){return V3||(V3=1,function(e,t){(function(r){e.exports=r()})(function(){return function r(n,i,s){function a(A,d){if(!i[A]){if(!n[A]){var h=typeof Pg=="function"&&Pg;if(!d&&h)return h(A,!0);if(o)return o(A,!0);var f=new Error("Cannot find module '"+A+"'");throw f.code="MODULE_NOT_FOUND",f}var u=i[A]={exports:{}};n[A][0].call(u.exports,function(g){var m=n[A][1][g];return a(m||g)},u,u.exports,r,n,i,s)}return i[A].exports}for(var o=typeof Pg=="function"&&Pg,c=0;c<s.length;c++)a(s[c]);return a}({1:[function(r,n,i){var s=r("./utils"),a=r("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(c){for(var A,d,h,f,u,g,m,x=[],p=0,y=c.length,w=y,b=s.getTypeOf(c)!=="string";p<c.length;)w=y-p,h=b?(A=c[p++],d=p<y?c[p++]:0,p<y?c[p++]:0):(A=c.charCodeAt(p++),d=p<y?c.charCodeAt(p++):0,p<y?c.charCodeAt(p++):0),f=A>>2,u=(3&A)<<4|d>>4,g=1<w?(15&d)<<2|h>>6:64,m=2<w?63&h:64,x.push(o.charAt(f)+o.charAt(u)+o.charAt(g)+o.charAt(m));return x.join("")},i.decode=function(c){var A,d,h,f,u,g,m=0,x=0,p="data:";if(c.substr(0,p.length)===p)throw new Error("Invalid base64 input, it looks like a data url.");var y,w=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===o.charAt(64)&&w--,c.charAt(c.length-2)===o.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=a.uint8array?new Uint8Array(0|w):new Array(0|w);m<c.length;)A=o.indexOf(c.charAt(m++))<<2|(f=o.indexOf(c.charAt(m++)))>>4,d=(15&f)<<4|(u=o.indexOf(c.charAt(m++)))>>2,h=(3&u)<<6|(g=o.indexOf(c.charAt(m++))),y[x++]=A,u!==64&&(y[x++]=d),g!==64&&(y[x++]=h);return y}},{"./support":30,"./utils":32}],2:[function(r,n,i){var s=r("./external"),a=r("./stream/DataWorker"),o=r("./stream/Crc32Probe"),c=r("./stream/DataLengthProbe");function A(d,h,f,u,g){this.compressedSize=d,this.uncompressedSize=h,this.crc32=f,this.compression=u,this.compressedContent=g}A.prototype={getContentWorker:function(){var d=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),h=this;return d.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},A.createWorkerFrom=function(d,h,f){return d.pipe(new o).pipe(new c("uncompressedSize")).pipe(h.compressWorker(f)).pipe(new c("compressedSize")).withStreamInfo("compression",h)},n.exports=A},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var s=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var s=r("./utils"),a=function(){for(var o,c=[],A=0;A<256;A++){o=A;for(var d=0;d<8;d++)o=1&o?3988292384^o>>>1:o>>>1;c[A]=o}return c}();n.exports=function(o,c){return o!==void 0&&o.length?s.getTypeOf(o)!=="string"?function(A,d,h,f){var u=a,g=f+h;A^=-1;for(var m=f;m<g;m++)A=A>>>8^u[255&(A^d[m])];return-1^A}(0|c,o,o.length,0):function(A,d,h,f){var u=a,g=f+h;A^=-1;for(var m=f;m<g;m++)A=A>>>8^u[255&(A^d.charCodeAt(m))];return-1^A}(0|c,o,o.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var s=null;s=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:s}},{lie:37}],7:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=r("pako"),o=r("./utils"),c=r("./stream/GenericWorker"),A=s?"uint8array":"array";function d(h,f){c.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=f,this.meta={}}i.magic="\b\0",o.inherits(d,c),d.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(A,h.data),!1)},d.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(f){h.push({data:f,meta:h.meta})}},i.compressWorker=function(h){return new d("Deflate",h)},i.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function s(u,g){var m,x="";for(m=0;m<g;m++)x+=String.fromCharCode(255&u),u>>>=8;return x}function a(u,g,m,x,p,y){var w,b,I=u.file,F=u.compression,R=y!==A.utf8encode,Q=o.transformTo("string",y(I.name)),k=o.transformTo("string",A.utf8encode(I.name)),$=I.comment,q=o.transformTo("string",y($)),T=o.transformTo("string",A.utf8encode($)),K=k.length!==I.name.length,v=T.length!==$.length,re="",ge="",Y="",fe=I.dir,le=I.date,ne={crc32:0,compressedSize:0,uncompressedSize:0};g&&!m||(ne.crc32=u.crc32,ne.compressedSize=u.compressedSize,ne.uncompressedSize=u.uncompressedSize);var ae=0;g&&(ae|=8),R||!K&&!v||(ae|=2048);var _=0,O=0;fe&&(_|=16),p==="UNIX"?(O=798,_|=function(oe,Ae){var U=oe;return oe||(U=Ae?16893:33204),(65535&U)<<16}(I.unixPermissions,fe)):(O=20,_|=function(oe){return 63&(oe||0)}(I.dosPermissions)),w=le.getUTCHours(),w<<=6,w|=le.getUTCMinutes(),w<<=5,w|=le.getUTCSeconds()/2,b=le.getUTCFullYear()-1980,b<<=4,b|=le.getUTCMonth()+1,b<<=5,b|=le.getUTCDate(),K&&(ge=s(1,1)+s(d(Q),4)+k,re+="up"+s(ge.length,2)+ge),v&&(Y=s(1,1)+s(d(q),4)+T,re+="uc"+s(Y.length,2)+Y);var G="";return G+=`
\0`,G+=s(ae,2),G+=F.magic,G+=s(w,2),G+=s(b,2),G+=s(ne.crc32,4),G+=s(ne.compressedSize,4),G+=s(ne.uncompressedSize,4),G+=s(Q.length,2),G+=s(re.length,2),{fileRecord:h.LOCAL_FILE_HEADER+G+Q+re,dirRecord:h.CENTRAL_FILE_HEADER+s(O,2)+G+s(q.length,2)+"\0\0\0\0"+s(_,4)+s(x,4)+Q+re+q}}var o=r("../utils"),c=r("../stream/GenericWorker"),A=r("../utf8"),d=r("../crc32"),h=r("../signature");function f(u,g,m,x){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=m,this.encodeFileName=x,this.streamFiles=u,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(f,c),f.prototype.push=function(u){var g=u.meta.percent||0,m=this.entriesCount,x=this._sources.length;this.accumulate?this.contentBuffer.push(u):(this.bytesWritten+=u.data.length,c.prototype.push.call(this,{data:u.data,meta:{currentFile:this.currentFile,percent:m?(g+100*(m-x-1))/m:100}}))},f.prototype.openedSource=function(u){this.currentSourceOffset=this.bytesWritten,this.currentFile=u.file.name;var g=this.streamFiles&&!u.file.dir;if(g){var m=a(u,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(u){this.accumulate=!1;var g=this.streamFiles&&!u.file.dir,m=a(u,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),g)this.push({data:function(x){return h.DATA_DESCRIPTOR+s(x.crc32,4)+s(x.compressedSize,4)+s(x.uncompressedSize,4)}(u),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var u=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var m=this.bytesWritten-u,x=function(p,y,w,b,I){var F=o.transformTo("string",I(b));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(p,2)+s(p,2)+s(y,4)+s(w,4)+s(F.length,2)+F}(this.dirRecords.length,m,u,this.zipComment,this.encodeFileName);this.push({data:x,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(u){this._sources.push(u);var g=this;return u.on("data",function(m){g.processChunk(m)}),u.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),u.on("error",function(m){g.error(m)}),this},f.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(u){var g=this._sources;if(!c.prototype.error.call(this,u))return!1;for(var m=0;m<g.length;m++)try{g[m].error(u)}catch{}return!0},f.prototype.lock=function(){c.prototype.lock.call(this);for(var u=this._sources,g=0;g<u.length;g++)u[g].lock()},n.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var s=r("../compressions"),a=r("./ZipFileWorker");i.generateWorker=function(o,c,A){var d=new a(c.streamFiles,A,c.platform,c.encodeFileName),h=0;try{o.forEach(function(f,u){h++;var g=function(y,w){var b=y||w,I=s[b];if(!I)throw new Error(b+" is not a valid compression method !");return I}(u.options.compression,c.compression),m=u.options.compressionOptions||c.compressionOptions||{},x=u.dir,p=u.date;u._compressWorker(g,m).withStreamInfo("file",{name:f,dir:x,date:p,comment:u.comment||"",unixPermissions:u.unixPermissions,dosPermissions:u.dosPermissions}).pipe(d)}),d.entriesCount=h}catch(f){d.error(f)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(s.prototype=r("./object")).loadAsync=r("./load"),s.support=r("./support"),s.defaults=r("./defaults"),s.version="3.10.1",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=r("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var s=r("./utils"),a=r("./external"),o=r("./utf8"),c=r("./zipEntries"),A=r("./stream/Crc32Probe"),d=r("./nodejsUtils");function h(f){return new a.Promise(function(u,g){var m=f.decompressed.getContentWorker().pipe(new A);m.on("error",function(x){g(x)}).on("end",function(){m.streamInfo.crc32!==f.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):u()}).resume()})}n.exports=function(f,u){var g=this;return u=s.extend(u||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),d.isNode&&d.isStream(f)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",f,!0,u.optimizedBinaryString,u.base64).then(function(m){var x=new c(u);return x.load(m),x}).then(function(m){var x=[a.Promise.resolve(m)],p=m.files;if(u.checkCRC32)for(var y=0;y<p.length;y++)x.push(h(p[y]));return a.Promise.all(x)}).then(function(m){for(var x=m.shift(),p=x.files,y=0;y<p.length;y++){var w=p[y],b=w.fileNameStr,I=s.resolve(w.fileNameStr);g.file(I,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:u.createFolders}),w.dir||(g.file(I).unsafeOriginalName=b)}return x.zipComment.length&&(g.comment=x.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var s=r("../utils"),a=r("../stream/GenericWorker");function o(c,A){a.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(A)}s.inherits(o,a),o.prototype._bindStream=function(c){var A=this;(this._stream=c).pause(),c.on("data",function(d){A.push({data:d,meta:{percent:0}})}).on("error",function(d){A.isPaused?this.generatedError=d:A.error(d)}).on("end",function(){A.isPaused?A._upstreamEnded=!0:A.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var s=r("readable-stream").Readable;function a(o,c,A){s.call(this,c),this._helper=o;var d=this;o.on("data",function(h,f){d.push(h)||d._helper.pause(),A&&A(f)}).on("error",function(h){d.emit("error",h)}).on("end",function(){d.push(null)})}r("../utils").inherits(a,s),a.prototype._read=function(){this._helper.resume()},n.exports=a},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(r,n,i){function s(I,F,R){var Q,k=o.getTypeOf(F),$=o.extend(R||{},d);$.date=$.date||new Date,$.compression!==null&&($.compression=$.compression.toUpperCase()),typeof $.unixPermissions=="string"&&($.unixPermissions=parseInt($.unixPermissions,8)),$.unixPermissions&&16384&$.unixPermissions&&($.dir=!0),$.dosPermissions&&16&$.dosPermissions&&($.dir=!0),$.dir&&(I=p(I)),$.createFolders&&(Q=x(I))&&y.call(this,Q,!0);var q=k==="string"&&$.binary===!1&&$.base64===!1;R&&R.binary!==void 0||($.binary=!q),(F instanceof h&&F.uncompressedSize===0||$.dir||!F||F.length===0)&&($.base64=!1,$.binary=!0,F="",$.compression="STORE",k="string");var T=null;T=F instanceof h||F instanceof c?F:g.isNode&&g.isStream(F)?new m(I,F):o.prepareContent(I,F,$.binary,$.optimizedBinaryString,$.base64);var K=new f(I,T,$);this.files[I]=K}var a=r("./utf8"),o=r("./utils"),c=r("./stream/GenericWorker"),A=r("./stream/StreamHelper"),d=r("./defaults"),h=r("./compressedObject"),f=r("./zipObject"),u=r("./generate"),g=r("./nodejsUtils"),m=r("./nodejs/NodejsStreamInputAdapter"),x=function(I){I.slice(-1)==="/"&&(I=I.substring(0,I.length-1));var F=I.lastIndexOf("/");return 0<F?I.substring(0,F):""},p=function(I){return I.slice(-1)!=="/"&&(I+="/"),I},y=function(I,F){return F=F!==void 0?F:d.createFolders,I=p(I),this.files[I]||s.call(this,I,null,{dir:!0,createFolders:F}),this.files[I]};function w(I){return Object.prototype.toString.call(I)==="[object RegExp]"}var b={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(I){var F,R,Q;for(F in this.files)Q=this.files[F],(R=F.slice(this.root.length,F.length))&&F.slice(0,this.root.length)===this.root&&I(R,Q)},filter:function(I){var F=[];return this.forEach(function(R,Q){I(R,Q)&&F.push(Q)}),F},file:function(I,F,R){if(arguments.length!==1)return I=this.root+I,s.call(this,I,F,R),this;if(w(I)){var Q=I;return this.filter(function($,q){return!q.dir&&Q.test($)})}var k=this.files[this.root+I];return k&&!k.dir?k:null},folder:function(I){if(!I)return this;if(w(I))return this.filter(function(k,$){return $.dir&&I.test(k)});var F=this.root+I,R=y.call(this,F),Q=this.clone();return Q.root=R.name,Q},remove:function(I){I=this.root+I;var F=this.files[I];if(F||(I.slice(-1)!=="/"&&(I+="/"),F=this.files[I]),F&&!F.dir)delete this.files[I];else for(var R=this.filter(function(k,$){return $.name.slice(0,I.length)===I}),Q=0;Q<R.length;Q++)delete this.files[R[Q].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(I){var F,R={};try{if((R=o.extend(I||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=R.type.toLowerCase(),R.compression=R.compression.toUpperCase(),R.type==="binarystring"&&(R.type="string"),!R.type)throw new Error("No output type specified.");o.checkSupport(R.type),R.platform!=="darwin"&&R.platform!=="freebsd"&&R.platform!=="linux"&&R.platform!=="sunos"||(R.platform="UNIX"),R.platform==="win32"&&(R.platform="DOS");var Q=R.comment||this.comment||"";F=u.generateWorker(this,R,Q)}catch(k){(F=new c("error")).error(k)}return new A(F,R.type||"string",R.mimeType)},generateAsync:function(I,F){return this.generateInternalStream(I).accumulate(F)},generateNodeStream:function(I,F){return(I=I||{}).type||(I.type="nodebuffer"),this.generateInternalStream(I).toNodejsStream(F)}};n.exports=b},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var s=r("./DataReader");function a(o){s.call(this,o);for(var c=0;c<this.data.length;c++)o[c]=255&o[c]}r("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var c=o.charCodeAt(0),A=o.charCodeAt(1),d=o.charCodeAt(2),h=o.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===c&&this.data[f+1]===A&&this.data[f+2]===d&&this.data[f+3]===h)return f-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var c=o.charCodeAt(0),A=o.charCodeAt(1),d=o.charCodeAt(2),h=o.charCodeAt(3),f=this.readData(4);return c===f[0]&&A===f[1]&&d===f[2]&&h===f[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=a},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var s=r("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var c,A=0;for(this.checkOffset(o),c=this.index+o-1;c>=this.index;c--)A=(A<<8)+this.byteAt(c);return this.index+=o,A},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},n.exports=a},{"../utils":32}],19:[function(r,n,i){var s=r("./Uint8ArrayReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var s=r("./DataReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=a},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var s=r("./ArrayReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var s=r("../utils"),a=r("../support"),o=r("./ArrayReader"),c=r("./StringReader"),A=r("./NodeBufferReader"),d=r("./Uint8ArrayReader");n.exports=function(h){var f=s.getTypeOf(h);return s.checkSupport(f),f!=="string"||a.uint8array?f==="nodebuffer"?new A(h):a.uint8array?new d(s.transformTo("uint8array",h)):new o(s.transformTo("array",h)):new c(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var s=r("./GenericWorker"),a=r("../utils");function o(c){s.call(this,"ConvertWorker to "+c),this.destType=c}a.inherits(o,s),o.prototype.processChunk=function(c){this.push({data:a.transformTo(this.destType,c.data),meta:c.meta})},n.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var s=r("./GenericWorker"),a=r("../crc32");function o(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(o,s),o.prototype.processChunk=function(c){this.streamInfo.crc32=a(c.data,this.streamInfo.crc32||0),this.push(c)},n.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var s=r("../utils"),a=r("./GenericWorker");function o(c){a.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}s.inherits(o,a),o.prototype.processChunk=function(c){if(c){var A=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=A+c.data.length}a.prototype.processChunk.call(this,c)},n.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var s=r("../utils"),a=r("./GenericWorker");function o(c){a.call(this,"DataWorker");var A=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(d){A.dataIsReady=!0,A.data=d,A.max=d&&d.length||0,A.type=s.getTypeOf(d),A.isPaused||A._tickAndRepeat()},function(d){A.error(d)})}s.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,A=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,A);break;case"uint8array":c=this.data.subarray(this.index,A);break;case"array":case"nodebuffer":c=this.data.slice(this.index,A)}return this.index=A,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var c=0;c<this._listeners[a].length;c++)this._listeners[a][c].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(c){o.processChunk(c)}),a.on("end",function(){o.end()}),a.on("error",function(c){o.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},n.exports=s},{}],29:[function(r,n,i){var s=r("../utils"),a=r("./ConvertWorker"),o=r("./GenericWorker"),c=r("../base64"),A=r("../support"),d=r("../external"),h=null;if(A.nodestream)try{h=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(g,m){return new d.Promise(function(x,p){var y=[],w=g._internalType,b=g._outputType,I=g._mimeType;g.on("data",function(F,R){y.push(F),m&&m(R)}).on("error",function(F){y=[],p(F)}).on("end",function(){try{var F=function(R,Q,k){switch(R){case"blob":return s.newBlob(s.transformTo("arraybuffer",Q),k);case"base64":return c.encode(Q);default:return s.transformTo(R,Q)}}(b,function(R,Q){var k,$=0,q=null,T=0;for(k=0;k<Q.length;k++)T+=Q[k].length;switch(R){case"string":return Q.join("");case"array":return Array.prototype.concat.apply([],Q);case"uint8array":for(q=new Uint8Array(T),k=0;k<Q.length;k++)q.set(Q[k],$),$+=Q[k].length;return q;case"nodebuffer":return Buffer.concat(Q);default:throw new Error("concat : unsupported type '"+R+"'")}}(w,y),I);x(F)}catch(R){p(R)}y=[]}).resume()})}function u(g,m,x){var p=m;switch(m){case"blob":case"arraybuffer":p="uint8array";break;case"base64":p="string"}try{this._internalType=p,this._outputType=m,this._mimeType=x,s.checkSupport(p),this._worker=g.pipe(new a(p)),g.lock()}catch(y){this._worker=new o("error"),this._worker.error(y)}}u.prototype={accumulate:function(g){return f(this,g)},on:function(g,m){var x=this;return g==="data"?this._worker.on(g,function(p){m.call(x,p.data,p.meta)}):this._worker.on(g,function(){s.delay(m,arguments,x)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},g)}},n.exports=u},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(s),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var s=r("./utils"),a=r("./support"),o=r("./nodejsUtils"),c=r("./stream/GenericWorker"),A=new Array(256),d=0;d<256;d++)A[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;A[254]=A[254]=1;function h(){c.call(this,"utf-8 decode"),this.leftOver=null}function f(){c.call(this,"utf-8 encode")}i.utf8encode=function(u){return a.nodebuffer?o.newBufferFrom(u,"utf-8"):function(g){var m,x,p,y,w,b=g.length,I=0;for(y=0;y<b;y++)(64512&(x=g.charCodeAt(y)))==55296&&y+1<b&&(64512&(p=g.charCodeAt(y+1)))==56320&&(x=65536+(x-55296<<10)+(p-56320),y++),I+=x<128?1:x<2048?2:x<65536?3:4;for(m=a.uint8array?new Uint8Array(I):new Array(I),y=w=0;w<I;y++)(64512&(x=g.charCodeAt(y)))==55296&&y+1<b&&(64512&(p=g.charCodeAt(y+1)))==56320&&(x=65536+(x-55296<<10)+(p-56320),y++),x<128?m[w++]=x:(x<2048?m[w++]=192|x>>>6:(x<65536?m[w++]=224|x>>>12:(m[w++]=240|x>>>18,m[w++]=128|x>>>12&63),m[w++]=128|x>>>6&63),m[w++]=128|63&x);return m}(u)},i.utf8decode=function(u){return a.nodebuffer?s.transformTo("nodebuffer",u).toString("utf-8"):function(g){var m,x,p,y,w=g.length,b=new Array(2*w);for(m=x=0;m<w;)if((p=g[m++])<128)b[x++]=p;else if(4<(y=A[p]))b[x++]=65533,m+=y-1;else{for(p&=y===2?31:y===3?15:7;1<y&&m<w;)p=p<<6|63&g[m++],y--;1<y?b[x++]=65533:p<65536?b[x++]=p:(p-=65536,b[x++]=55296|p>>10&1023,b[x++]=56320|1023&p)}return b.length!==x&&(b.subarray?b=b.subarray(0,x):b.length=x),s.applyFromCharCode(b)}(u=s.transformTo(a.uint8array?"uint8array":"array",u))},s.inherits(h,c),h.prototype.processChunk=function(u){var g=s.transformTo(a.uint8array?"uint8array":"array",u.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var m=g;(g=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),g.set(m,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var x=function(y,w){var b;for((w=w||y.length)>y.length&&(w=y.length),b=w-1;0<=b&&(192&y[b])==128;)b--;return b<0||b===0?w:b+A[y[b]]>w?b:w}(g),p=g;x!==g.length&&(a.uint8array?(p=g.subarray(0,x),this.leftOver=g.subarray(x,g.length)):(p=g.slice(0,x),this.leftOver=g.slice(x,g.length))),this.push({data:i.utf8decode(p),meta:u.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=h,s.inherits(f,c),f.prototype.processChunk=function(u){this.push({data:i.utf8encode(u.data),meta:u.meta})},i.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var s=r("./support"),a=r("./base64"),o=r("./nodejsUtils"),c=r("./external");function A(m){return m}function d(m,x){for(var p=0;p<m.length;++p)x[p]=255&m.charCodeAt(p);return x}r("setimmediate"),i.newBlob=function(m,x){i.checkSupport("blob");try{return new Blob([m],{type:x})}catch{try{var p=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return p.append(m),p.getBlob(x)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(m,x,p){var y=[],w=0,b=m.length;if(b<=p)return String.fromCharCode.apply(null,m);for(;w<b;)x==="array"||x==="nodebuffer"?y.push(String.fromCharCode.apply(null,m.slice(w,Math.min(w+p,b)))):y.push(String.fromCharCode.apply(null,m.subarray(w,Math.min(w+p,b)))),w+=p;return y.join("")},stringifyByChar:function(m){for(var x="",p=0;p<m.length;p++)x+=String.fromCharCode(m[p]);return x},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function f(m){var x=65536,p=i.getTypeOf(m),y=!0;if(p==="uint8array"?y=h.applyCanBeUsed.uint8array:p==="nodebuffer"&&(y=h.applyCanBeUsed.nodebuffer),y)for(;1<x;)try{return h.stringifyByChunk(m,p,x)}catch{x=Math.floor(x/2)}return h.stringifyByChar(m)}function u(m,x){for(var p=0;p<m.length;p++)x[p]=m[p];return x}i.applyFromCharCode=f;var g={};g.string={string:A,array:function(m){return d(m,new Array(m.length))},arraybuffer:function(m){return g.string.uint8array(m).buffer},uint8array:function(m){return d(m,new Uint8Array(m.length))},nodebuffer:function(m){return d(m,o.allocBuffer(m.length))}},g.array={string:f,array:A,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return o.newBufferFrom(m)}},g.arraybuffer={string:function(m){return f(new Uint8Array(m))},array:function(m){return u(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:A,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return o.newBufferFrom(new Uint8Array(m))}},g.uint8array={string:f,array:function(m){return u(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:A,nodebuffer:function(m){return o.newBufferFrom(m)}},g.nodebuffer={string:f,array:function(m){return u(m,new Array(m.length))},arraybuffer:function(m){return g.nodebuffer.uint8array(m).buffer},uint8array:function(m){return u(m,new Uint8Array(m.length))},nodebuffer:A},i.transformTo=function(m,x){if(x=x||"",!m)return x;i.checkSupport(m);var p=i.getTypeOf(x);return g[p][m](x)},i.resolve=function(m){for(var x=m.split("/"),p=[],y=0;y<x.length;y++){var w=x[y];w==="."||w===""&&y!==0&&y!==x.length-1||(w===".."?p.pop():p.push(w))}return p.join("/")},i.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":s.nodebuffer&&o.isBuffer(m)?"nodebuffer":s.uint8array&&m instanceof Uint8Array?"uint8array":s.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(m){if(!s[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(m){var x,p,y="";for(p=0;p<(m||"").length;p++)y+="\\x"+((x=m.charCodeAt(p))<16?"0":"")+x.toString(16).toUpperCase();return y},i.delay=function(m,x,p){setImmediate(function(){m.apply(p||null,x||[])})},i.inherits=function(m,x){function p(){}p.prototype=x.prototype,m.prototype=new p},i.extend=function(){var m,x,p={};for(m=0;m<arguments.length;m++)for(x in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],x)&&p[x]===void 0&&(p[x]=arguments[m][x]);return p},i.prepareContent=function(m,x,p,y,w){return c.Promise.resolve(x).then(function(b){return s.blob&&(b instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(b))!==-1)&&typeof FileReader<"u"?new c.Promise(function(I,F){var R=new FileReader;R.onload=function(Q){I(Q.target.result)},R.onerror=function(Q){F(Q.target.error)},R.readAsArrayBuffer(b)}):b}).then(function(b){var I=i.getTypeOf(b);return I?(I==="arraybuffer"?b=i.transformTo("uint8array",b):I==="string"&&(w?b=a.decode(b):p&&y!==!0&&(b=function(F){return d(F,s.uint8array?new Uint8Array(F.length):new Array(F.length))}(b))),b):c.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var s=r("./reader/readerFor"),a=r("./utils"),o=r("./signature"),c=r("./zipEntry"),A=r("./support");function d(h){this.files=[],this.loadOptions=h}d.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(f)+", expected "+a.pretty(h)+")")}},isSignature:function(h,f){var u=this.reader.index;this.reader.setIndex(h);var g=this.reader.readString(4)===f;return this.reader.setIndex(u),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),f=A.uint8array?"uint8array":"array",u=a.transformTo(f,h);this.zipComment=this.loadOptions.decodeFileName(u)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,f,u,g=this.zip64EndOfCentralSize-44;0<g;)h=this.reader.readInt(2),f=this.reader.readInt(4),u=this.reader.readData(f),this.zip64ExtensibleData[h]={id:h,length:f,value:u}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,f;for(h=0;h<this.files.length;h++)f=this.files[h],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(h=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var f=h;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var u=this.centralDirOffset+this.centralDirSize;this.zip64&&(u+=20,u+=12+this.zip64EndOfCentralSize);var g=f-u;if(0<g)this.isSignature(f,o.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(h){this.reader=s(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var s=r("./reader/readerFor"),a=r("./utils"),o=r("./compressedObject"),c=r("./crc32"),A=r("./utf8"),d=r("./compressions"),h=r("./support");function f(u,g){this.options=u,this.loadOptions=g}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(u){var g,m;if(u.skip(22),this.fileNameLength=u.readInt(2),m=u.readInt(2),this.fileName=u.readData(this.fileNameLength),u.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=function(x){for(var p in d)if(Object.prototype.hasOwnProperty.call(d,p)&&d[p].magic===x)return d[p];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,g,u.readData(this.compressedSize))},readCentralPart:function(u){this.versionMadeBy=u.readInt(2),u.skip(2),this.bitFlag=u.readInt(2),this.compressionMethod=u.readString(2),this.date=u.readDate(),this.crc32=u.readInt(4),this.compressedSize=u.readInt(4),this.uncompressedSize=u.readInt(4);var g=u.readInt(2);if(this.extraFieldsLength=u.readInt(2),this.fileCommentLength=u.readInt(2),this.diskNumberStart=u.readInt(2),this.internalFileAttributes=u.readInt(2),this.externalFileAttributes=u.readInt(4),this.localHeaderOffset=u.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");u.skip(g),this.readExtraFields(u),this.parseZIP64ExtraField(u),this.fileComment=u.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var u=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),u==0&&(this.dosPermissions=63&this.externalFileAttributes),u==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var u=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=u.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=u.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=u.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=u.readInt(4))}},readExtraFields:function(u){var g,m,x,p=u.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});u.index+4<p;)g=u.readInt(2),m=u.readInt(2),x=u.readData(m),this.extraFields[g]={id:g,length:m,value:x};u.setIndex(p)},handleUTF8:function(){var u=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=A.utf8decode(this.fileName),this.fileCommentStr=A.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var m=a.transformTo(u,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var p=a.transformTo(u,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(p)}}},findExtraFieldUnicodePath:function(){var u=this.extraFields[28789];if(u){var g=s(u.value);return g.readInt(1)!==1||c(this.fileName)!==g.readInt(4)?null:A.utf8decode(g.readData(u.length-5))}return null},findExtraFieldUnicodeComment:function(){var u=this.extraFields[25461];if(u){var g=s(u.value);return g.readInt(1)!==1||c(this.fileComment)!==g.readInt(4)?null:A.utf8decode(g.readData(u.length-5))}return null}},n.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function s(g,m,x){this.name=g,this.dir=x.dir,this.date=x.date,this.comment=x.comment,this.unixPermissions=x.unixPermissions,this.dosPermissions=x.dosPermissions,this._data=m,this._dataBinary=x.binary,this.options={compression:x.compression,compressionOptions:x.compressionOptions}}var a=r("./stream/StreamHelper"),o=r("./stream/DataWorker"),c=r("./utf8"),A=r("./compressedObject"),d=r("./stream/GenericWorker");s.prototype={internalStream:function(g){var m=null,x="string";try{if(!g)throw new Error("No output type specified.");var p=(x=g.toLowerCase())==="string"||x==="text";x!=="binarystring"&&x!=="text"||(x="string"),m=this._decompressWorker();var y=!this._dataBinary;y&&!p&&(m=m.pipe(new c.Utf8EncodeWorker)),!y&&p&&(m=m.pipe(new c.Utf8DecodeWorker))}catch(w){(m=new d("error")).error(w)}return new a(m,x,"")},async:function(g,m){return this.internalStream(g).accumulate(m)},nodeStream:function(g,m){return this.internalStream(g||"nodebuffer").toNodejsStream(m)},_compressWorker:function(g,m){if(this._data instanceof A&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var x=this._decompressWorker();return this._dataBinary||(x=x.pipe(new c.Utf8EncodeWorker)),A.createWorkerFrom(x,g,m)},_decompressWorker:function(){return this._data instanceof A?this._data.getContentWorker():this._data instanceof d?this._data:new o(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<h.length;u++)s.prototype[h[u]]=f;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(s){var a,o,c=s.MutationObserver||s.WebKitMutationObserver;if(c){var A=0,d=new c(g),h=s.document.createTextNode("");d.observe(h,{characterData:!0}),a=function(){h.data=A=++A%2}}else if(s.setImmediate||s.MessageChannel===void 0)a="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var m=s.document.createElement("script");m.onreadystatechange=function(){g(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},s.document.documentElement.appendChild(m)}:function(){setTimeout(g,0)};else{var f=new s.MessageChannel;f.port1.onmessage=g,a=function(){f.port2.postMessage(0)}}var u=[];function g(){var m,x;o=!0;for(var p=u.length;p;){for(x=u,u=[],m=-1;++m<p;)x[m]();p=u.length}o=!1}n.exports=function(m){u.push(m)!==1||o||a()}}).call(this,typeof jl<"u"?jl:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var s=r("immediate");function a(){}var o={},c=["REJECTED"],A=["FULFILLED"],d=["PENDING"];function h(p){if(typeof p!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,p!==a&&m(this,p)}function f(p,y,w){this.promise=p,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function u(p,y,w){s(function(){var b;try{b=y(w)}catch(I){return o.reject(p,I)}b===p?o.reject(p,new TypeError("Cannot resolve promise with itself")):o.resolve(p,b)})}function g(p){var y=p&&p.then;if(p&&(typeof p=="object"||typeof p=="function")&&typeof y=="function")return function(){y.apply(p,arguments)}}function m(p,y){var w=!1;function b(R){w||(w=!0,o.reject(p,R))}function I(R){w||(w=!0,o.resolve(p,R))}var F=x(function(){y(I,b)});F.status==="error"&&b(F.value)}function x(p,y){var w={};try{w.value=p(y),w.status="success"}catch(b){w.status="error",w.value=b}return w}(n.exports=h).prototype.finally=function(p){if(typeof p!="function")return this;var y=this.constructor;return this.then(function(w){return y.resolve(p()).then(function(){return w})},function(w){return y.resolve(p()).then(function(){throw w})})},h.prototype.catch=function(p){return this.then(null,p)},h.prototype.then=function(p,y){if(typeof p!="function"&&this.state===A||typeof y!="function"&&this.state===c)return this;var w=new this.constructor(a);return this.state!==d?u(w,this.state===A?p:y,this.outcome):this.queue.push(new f(w,p,y)),w},f.prototype.callFulfilled=function(p){o.resolve(this.promise,p)},f.prototype.otherCallFulfilled=function(p){u(this.promise,this.onFulfilled,p)},f.prototype.callRejected=function(p){o.reject(this.promise,p)},f.prototype.otherCallRejected=function(p){u(this.promise,this.onRejected,p)},o.resolve=function(p,y){var w=x(g,y);if(w.status==="error")return o.reject(p,w.value);var b=w.value;if(b)m(p,b);else{p.state=A,p.outcome=y;for(var I=-1,F=p.queue.length;++I<F;)p.queue[I].callFulfilled(y)}return p},o.reject=function(p,y){p.state=c,p.outcome=y;for(var w=-1,b=p.queue.length;++w<b;)p.queue[w].callRejected(y);return p},h.resolve=function(p){return p instanceof this?p:o.resolve(new this(a),p)},h.reject=function(p){var y=new this(a);return o.reject(y,p)},h.all=function(p){var y=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=p.length,b=!1;if(!w)return this.resolve([]);for(var I=new Array(w),F=0,R=-1,Q=new this(a);++R<w;)k(p[R],R);return Q;function k($,q){y.resolve($).then(function(T){I[q]=T,++F!==w||b||(b=!0,o.resolve(Q,I))},function(T){b||(b=!0,o.reject(Q,T))})}},h.race=function(p){var y=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=p.length,b=!1;if(!w)return this.resolve([]);for(var I=-1,F=new this(a);++I<w;)R=p[I],y.resolve(R).then(function(Q){b||(b=!0,o.resolve(F,Q))},function(Q){b||(b=!0,o.reject(F,Q))});var R;return F}},{immediate:36}],38:[function(r,n,i){var s={};(0,r("./lib/utils/common").assign)(s,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var s=r("./zlib/deflate"),a=r("./utils/common"),o=r("./utils/strings"),c=r("./zlib/messages"),A=r("./zlib/zstream"),d=Object.prototype.toString,h=0,f=-1,u=0,g=8;function m(p){if(!(this instanceof m))return new m(p);this.options=a.assign({level:f,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:u,to:""},p||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new A,this.strm.avail_out=0;var w=s.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(w!==h)throw new Error(c[w]);if(y.header&&s.deflateSetHeader(this.strm,y.header),y.dictionary){var b;if(b=typeof y.dictionary=="string"?o.string2buf(y.dictionary):d.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(w=s.deflateSetDictionary(this.strm,b))!==h)throw new Error(c[w]);this._dict_set=!0}}function x(p,y){var w=new m(y);if(w.push(p,!0),w.err)throw w.msg||c[w.err];return w.result}m.prototype.push=function(p,y){var w,b,I=this.strm,F=this.options.chunkSize;if(this.ended)return!1;b=y===~~y?y:y===!0?4:0,typeof p=="string"?I.input=o.string2buf(p):d.call(p)==="[object ArrayBuffer]"?I.input=new Uint8Array(p):I.input=p,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new a.Buf8(F),I.next_out=0,I.avail_out=F),(w=s.deflate(I,b))!==1&&w!==h)return this.onEnd(w),!(this.ended=!0);I.avail_out!==0&&(I.avail_in!==0||b!==4&&b!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(I.output,I.next_out))):this.onData(a.shrinkBuf(I.output,I.next_out)))}while((0<I.avail_in||I.avail_out===0)&&w!==1);return b===4?(w=s.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===h):b!==2||(this.onEnd(h),!(I.avail_out=0))},m.prototype.onData=function(p){this.chunks.push(p)},m.prototype.onEnd=function(p){p===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},i.Deflate=m,i.deflate=x,i.deflateRaw=function(p,y){return(y=y||{}).raw=!0,x(p,y)},i.gzip=function(p,y){return(y=y||{}).gzip=!0,x(p,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var s=r("./zlib/inflate"),a=r("./utils/common"),o=r("./utils/strings"),c=r("./zlib/constants"),A=r("./zlib/messages"),d=r("./zlib/zstream"),h=r("./zlib/gzheader"),f=Object.prototype.toString;function u(m){if(!(this instanceof u))return new u(m);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},m||{});var x=this.options;x.raw&&0<=x.windowBits&&x.windowBits<16&&(x.windowBits=-x.windowBits,x.windowBits===0&&(x.windowBits=-15)),!(0<=x.windowBits&&x.windowBits<16)||m&&m.windowBits||(x.windowBits+=32),15<x.windowBits&&x.windowBits<48&&!(15&x.windowBits)&&(x.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var p=s.inflateInit2(this.strm,x.windowBits);if(p!==c.Z_OK)throw new Error(A[p]);this.header=new h,s.inflateGetHeader(this.strm,this.header)}function g(m,x){var p=new u(x);if(p.push(m,!0),p.err)throw p.msg||A[p.err];return p.result}u.prototype.push=function(m,x){var p,y,w,b,I,F,R=this.strm,Q=this.options.chunkSize,k=this.options.dictionary,$=!1;if(this.ended)return!1;y=x===~~x?x:x===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof m=="string"?R.input=o.binstring2buf(m):f.call(m)==="[object ArrayBuffer]"?R.input=new Uint8Array(m):R.input=m,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new a.Buf8(Q),R.next_out=0,R.avail_out=Q),(p=s.inflate(R,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&k&&(F=typeof k=="string"?o.string2buf(k):f.call(k)==="[object ArrayBuffer]"?new Uint8Array(k):k,p=s.inflateSetDictionary(this.strm,F)),p===c.Z_BUF_ERROR&&$===!0&&(p=c.Z_OK,$=!1),p!==c.Z_STREAM_END&&p!==c.Z_OK)return this.onEnd(p),!(this.ended=!0);R.next_out&&(R.avail_out!==0&&p!==c.Z_STREAM_END&&(R.avail_in!==0||y!==c.Z_FINISH&&y!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=o.utf8border(R.output,R.next_out),b=R.next_out-w,I=o.buf2string(R.output,w),R.next_out=b,R.avail_out=Q-b,b&&a.arraySet(R.output,R.output,w,b,0),this.onData(I)):this.onData(a.shrinkBuf(R.output,R.next_out)))),R.avail_in===0&&R.avail_out===0&&($=!0)}while((0<R.avail_in||R.avail_out===0)&&p!==c.Z_STREAM_END);return p===c.Z_STREAM_END&&(y=c.Z_FINISH),y===c.Z_FINISH?(p=s.inflateEnd(this.strm),this.onEnd(p),this.ended=!0,p===c.Z_OK):y!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(R.avail_out=0))},u.prototype.onData=function(m){this.chunks.push(m)},u.prototype.onEnd=function(m){m===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Inflate=u,i.inflate=g,i.inflateRaw=function(m,x){return(x=x||{}).raw=!0,g(m,x)},i.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(c){for(var A=Array.prototype.slice.call(arguments,1);A.length;){var d=A.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])}}return c},i.shrinkBuf=function(c,A){return c.length===A?c:c.subarray?c.subarray(0,A):(c.length=A,c)};var a={arraySet:function(c,A,d,h,f){if(A.subarray&&c.subarray)c.set(A.subarray(d,d+h),f);else for(var u=0;u<h;u++)c[f+u]=A[d+u]},flattenChunks:function(c){var A,d,h,f,u,g;for(A=h=0,d=c.length;A<d;A++)h+=c[A].length;for(g=new Uint8Array(h),A=f=0,d=c.length;A<d;A++)u=c[A],g.set(u,f),f+=u.length;return g}},o={arraySet:function(c,A,d,h,f){for(var u=0;u<h;u++)c[f+u]=A[d+u]},flattenChunks:function(c){return[].concat.apply([],c)}};i.setTyped=function(c){c?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(s)},{}],42:[function(r,n,i){var s=r("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var c=new s.Buf8(256),A=0;A<256;A++)c[A]=252<=A?6:248<=A?5:240<=A?4:224<=A?3:192<=A?2:1;function d(h,f){if(f<65537&&(h.subarray&&o||!h.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(h,f));for(var u="",g=0;g<f;g++)u+=String.fromCharCode(h[g]);return u}c[254]=c[254]=1,i.string2buf=function(h){var f,u,g,m,x,p=h.length,y=0;for(m=0;m<p;m++)(64512&(u=h.charCodeAt(m)))==55296&&m+1<p&&(64512&(g=h.charCodeAt(m+1)))==56320&&(u=65536+(u-55296<<10)+(g-56320),m++),y+=u<128?1:u<2048?2:u<65536?3:4;for(f=new s.Buf8(y),m=x=0;x<y;m++)(64512&(u=h.charCodeAt(m)))==55296&&m+1<p&&(64512&(g=h.charCodeAt(m+1)))==56320&&(u=65536+(u-55296<<10)+(g-56320),m++),u<128?f[x++]=u:(u<2048?f[x++]=192|u>>>6:(u<65536?f[x++]=224|u>>>12:(f[x++]=240|u>>>18,f[x++]=128|u>>>12&63),f[x++]=128|u>>>6&63),f[x++]=128|63&u);return f},i.buf2binstring=function(h){return d(h,h.length)},i.binstring2buf=function(h){for(var f=new s.Buf8(h.length),u=0,g=f.length;u<g;u++)f[u]=h.charCodeAt(u);return f},i.buf2string=function(h,f){var u,g,m,x,p=f||h.length,y=new Array(2*p);for(u=g=0;u<p;)if((m=h[u++])<128)y[g++]=m;else if(4<(x=c[m]))y[g++]=65533,u+=x-1;else{for(m&=x===2?31:x===3?15:7;1<x&&u<p;)m=m<<6|63&h[u++],x--;1<x?y[g++]=65533:m<65536?y[g++]=m:(m-=65536,y[g++]=55296|m>>10&1023,y[g++]=56320|1023&m)}return d(y,g)},i.utf8border=function(h,f){var u;for((f=f||h.length)>h.length&&(f=h.length),u=f-1;0<=u&&(192&h[u])==128;)u--;return u<0||u===0?f:u+c[h[u]]>f?u:f}},{"./common":41}],43:[function(r,n,i){n.exports=function(s,a,o,c){for(var A=65535&s|0,d=s>>>16&65535|0,h=0;o!==0;){for(o-=h=2e3<o?2e3:o;d=d+(A=A+a[c++]|0)|0,--h;);A%=65521,d%=65521}return A|d<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var s=function(){for(var a,o=[],c=0;c<256;c++){a=c;for(var A=0;A<8;A++)a=1&a?3988292384^a>>>1:a>>>1;o[c]=a}return o}();n.exports=function(a,o,c,A){var d=s,h=A+c;a^=-1;for(var f=A;f<h;f++)a=a>>>8^d[255&(a^o[f])];return-1^a}},{}],46:[function(r,n,i){var s,a=r("../utils/common"),o=r("./trees"),c=r("./adler32"),A=r("./crc32"),d=r("./messages"),h=0,f=4,u=0,g=-2,m=-1,x=4,p=2,y=8,w=9,b=286,I=30,F=19,R=2*b+1,Q=15,k=3,$=258,q=$+k+1,T=42,K=113,v=1,re=2,ge=3,Y=4;function fe(B,te){return B.msg=d[te],te}function le(B){return(B<<1)-(4<B?9:0)}function ne(B){for(var te=B.length;0<=--te;)B[te]=0}function ae(B){var te=B.state,H=te.pending;H>B.avail_out&&(H=B.avail_out),H!==0&&(a.arraySet(B.output,te.pending_buf,te.pending_out,H,B.next_out),B.next_out+=H,te.pending_out+=H,B.total_out+=H,B.avail_out-=H,te.pending-=H,te.pending===0&&(te.pending_out=0))}function _(B,te){o._tr_flush_block(B,0<=B.block_start?B.block_start:-1,B.strstart-B.block_start,te),B.block_start=B.strstart,ae(B.strm)}function O(B,te){B.pending_buf[B.pending++]=te}function G(B,te){B.pending_buf[B.pending++]=te>>>8&255,B.pending_buf[B.pending++]=255&te}function oe(B,te){var H,S,E=B.max_chain_length,P=B.strstart,de=B.prev_length,ye=B.nice_match,ue=B.strstart>B.w_size-q?B.strstart-(B.w_size-q):0,ke=B.window,Oe=B.w_mask,Ue=B.prev,_e=B.strstart+$,Me=ke[P+de-1],Ze=ke[P+de];B.prev_length>=B.good_match&&(E>>=2),ye>B.lookahead&&(ye=B.lookahead);do if(ke[(H=te)+de]===Ze&&ke[H+de-1]===Me&&ke[H]===ke[P]&&ke[++H]===ke[P+1]){P+=2,H++;do;while(ke[++P]===ke[++H]&&ke[++P]===ke[++H]&&ke[++P]===ke[++H]&&ke[++P]===ke[++H]&&ke[++P]===ke[++H]&&ke[++P]===ke[++H]&&ke[++P]===ke[++H]&&ke[++P]===ke[++H]&&P<_e);if(S=$-(_e-P),P=_e-$,de<S){if(B.match_start=te,ye<=(de=S))break;Me=ke[P+de-1],Ze=ke[P+de]}}while((te=Ue[te&Oe])>ue&&--E!=0);return de<=B.lookahead?de:B.lookahead}function Ae(B){var te,H,S,E,P,de,ye,ue,ke,Oe,Ue=B.w_size;do{if(E=B.window_size-B.lookahead-B.strstart,B.strstart>=Ue+(Ue-q)){for(a.arraySet(B.window,B.window,Ue,Ue,0),B.match_start-=Ue,B.strstart-=Ue,B.block_start-=Ue,te=H=B.hash_size;S=B.head[--te],B.head[te]=Ue<=S?S-Ue:0,--H;);for(te=H=Ue;S=B.prev[--te],B.prev[te]=Ue<=S?S-Ue:0,--H;);E+=Ue}if(B.strm.avail_in===0)break;if(de=B.strm,ye=B.window,ue=B.strstart+B.lookahead,ke=E,Oe=void 0,Oe=de.avail_in,ke<Oe&&(Oe=ke),H=Oe===0?0:(de.avail_in-=Oe,a.arraySet(ye,de.input,de.next_in,Oe,ue),de.state.wrap===1?de.adler=c(de.adler,ye,Oe,ue):de.state.wrap===2&&(de.adler=A(de.adler,ye,Oe,ue)),de.next_in+=Oe,de.total_in+=Oe,Oe),B.lookahead+=H,B.lookahead+B.insert>=k)for(P=B.strstart-B.insert,B.ins_h=B.window[P],B.ins_h=(B.ins_h<<B.hash_shift^B.window[P+1])&B.hash_mask;B.insert&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[P+k-1])&B.hash_mask,B.prev[P&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=P,P++,B.insert--,!(B.lookahead+B.insert<k)););}while(B.lookahead<q&&B.strm.avail_in!==0)}function U(B,te){for(var H,S;;){if(B.lookahead<q){if(Ae(B),B.lookahead<q&&te===h)return v;if(B.lookahead===0)break}if(H=0,B.lookahead>=k&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+k-1])&B.hash_mask,H=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),H!==0&&B.strstart-H<=B.w_size-q&&(B.match_length=oe(B,H)),B.match_length>=k)if(S=o._tr_tally(B,B.strstart-B.match_start,B.match_length-k),B.lookahead-=B.match_length,B.match_length<=B.max_lazy_match&&B.lookahead>=k){for(B.match_length--;B.strstart++,B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+k-1])&B.hash_mask,H=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart,--B.match_length!=0;);B.strstart++}else B.strstart+=B.match_length,B.match_length=0,B.ins_h=B.window[B.strstart],B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+1])&B.hash_mask;else S=o._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++;if(S&&(_(B,!1),B.strm.avail_out===0))return v}return B.insert=B.strstart<k-1?B.strstart:k-1,te===f?(_(B,!0),B.strm.avail_out===0?ge:Y):B.last_lit&&(_(B,!1),B.strm.avail_out===0)?v:re}function M(B,te){for(var H,S,E;;){if(B.lookahead<q){if(Ae(B),B.lookahead<q&&te===h)return v;if(B.lookahead===0)break}if(H=0,B.lookahead>=k&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+k-1])&B.hash_mask,H=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),B.prev_length=B.match_length,B.prev_match=B.match_start,B.match_length=k-1,H!==0&&B.prev_length<B.max_lazy_match&&B.strstart-H<=B.w_size-q&&(B.match_length=oe(B,H),B.match_length<=5&&(B.strategy===1||B.match_length===k&&4096<B.strstart-B.match_start)&&(B.match_length=k-1)),B.prev_length>=k&&B.match_length<=B.prev_length){for(E=B.strstart+B.lookahead-k,S=o._tr_tally(B,B.strstart-1-B.prev_match,B.prev_length-k),B.lookahead-=B.prev_length-1,B.prev_length-=2;++B.strstart<=E&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+k-1])&B.hash_mask,H=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),--B.prev_length!=0;);if(B.match_available=0,B.match_length=k-1,B.strstart++,S&&(_(B,!1),B.strm.avail_out===0))return v}else if(B.match_available){if((S=o._tr_tally(B,0,B.window[B.strstart-1]))&&_(B,!1),B.strstart++,B.lookahead--,B.strm.avail_out===0)return v}else B.match_available=1,B.strstart++,B.lookahead--}return B.match_available&&(S=o._tr_tally(B,0,B.window[B.strstart-1]),B.match_available=0),B.insert=B.strstart<k-1?B.strstart:k-1,te===f?(_(B,!0),B.strm.avail_out===0?ge:Y):B.last_lit&&(_(B,!1),B.strm.avail_out===0)?v:re}function J(B,te,H,S,E){this.good_length=B,this.max_lazy=te,this.nice_length=H,this.max_chain=S,this.func=E}function ce(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*R),this.dyn_dtree=new a.Buf16(2*(2*I+1)),this.bl_tree=new a.Buf16(2*(2*F+1)),ne(this.dyn_ltree),ne(this.dyn_dtree),ne(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(Q+1),this.heap=new a.Buf16(2*b+1),ne(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*b+1),ne(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ee(B){var te;return B&&B.state?(B.total_in=B.total_out=0,B.data_type=p,(te=B.state).pending=0,te.pending_out=0,te.wrap<0&&(te.wrap=-te.wrap),te.status=te.wrap?T:K,B.adler=te.wrap===2?0:1,te.last_flush=h,o._tr_init(te),u):fe(B,g)}function Z(B){var te=ee(B);return te===u&&function(H){H.window_size=2*H.w_size,ne(H.head),H.max_lazy_match=s[H.level].max_lazy,H.good_match=s[H.level].good_length,H.nice_match=s[H.level].nice_length,H.max_chain_length=s[H.level].max_chain,H.strstart=0,H.block_start=0,H.lookahead=0,H.insert=0,H.match_length=H.prev_length=k-1,H.match_available=0,H.ins_h=0}(B.state),te}function me(B,te,H,S,E,P){if(!B)return g;var de=1;if(te===m&&(te=6),S<0?(de=0,S=-S):15<S&&(de=2,S-=16),E<1||w<E||H!==y||S<8||15<S||te<0||9<te||P<0||x<P)return fe(B,g);S===8&&(S=9);var ye=new ce;return(B.state=ye).strm=B,ye.wrap=de,ye.gzhead=null,ye.w_bits=S,ye.w_size=1<<ye.w_bits,ye.w_mask=ye.w_size-1,ye.hash_bits=E+7,ye.hash_size=1<<ye.hash_bits,ye.hash_mask=ye.hash_size-1,ye.hash_shift=~~((ye.hash_bits+k-1)/k),ye.window=new a.Buf8(2*ye.w_size),ye.head=new a.Buf16(ye.hash_size),ye.prev=new a.Buf16(ye.w_size),ye.lit_bufsize=1<<E+6,ye.pending_buf_size=4*ye.lit_bufsize,ye.pending_buf=new a.Buf8(ye.pending_buf_size),ye.d_buf=1*ye.lit_bufsize,ye.l_buf=3*ye.lit_bufsize,ye.level=te,ye.strategy=P,ye.method=H,Z(B)}s=[new J(0,0,0,0,function(B,te){var H=65535;for(H>B.pending_buf_size-5&&(H=B.pending_buf_size-5);;){if(B.lookahead<=1){if(Ae(B),B.lookahead===0&&te===h)return v;if(B.lookahead===0)break}B.strstart+=B.lookahead,B.lookahead=0;var S=B.block_start+H;if((B.strstart===0||B.strstart>=S)&&(B.lookahead=B.strstart-S,B.strstart=S,_(B,!1),B.strm.avail_out===0)||B.strstart-B.block_start>=B.w_size-q&&(_(B,!1),B.strm.avail_out===0))return v}return B.insert=0,te===f?(_(B,!0),B.strm.avail_out===0?ge:Y):(B.strstart>B.block_start&&(_(B,!1),B.strm.avail_out),v)}),new J(4,4,8,4,U),new J(4,5,16,8,U),new J(4,6,32,32,U),new J(4,4,16,16,M),new J(8,16,32,32,M),new J(8,16,128,128,M),new J(8,32,128,256,M),new J(32,128,258,1024,M),new J(32,258,258,4096,M)],i.deflateInit=function(B,te){return me(B,te,y,15,8,0)},i.deflateInit2=me,i.deflateReset=Z,i.deflateResetKeep=ee,i.deflateSetHeader=function(B,te){return B&&B.state?B.state.wrap!==2?g:(B.state.gzhead=te,u):g},i.deflate=function(B,te){var H,S,E,P;if(!B||!B.state||5<te||te<0)return B?fe(B,g):g;if(S=B.state,!B.output||!B.input&&B.avail_in!==0||S.status===666&&te!==f)return fe(B,B.avail_out===0?-5:g);if(S.strm=B,H=S.last_flush,S.last_flush=te,S.status===T)if(S.wrap===2)B.adler=0,O(S,31),O(S,139),O(S,8),S.gzhead?(O(S,(S.gzhead.text?1:0)+(S.gzhead.hcrc?2:0)+(S.gzhead.extra?4:0)+(S.gzhead.name?8:0)+(S.gzhead.comment?16:0)),O(S,255&S.gzhead.time),O(S,S.gzhead.time>>8&255),O(S,S.gzhead.time>>16&255),O(S,S.gzhead.time>>24&255),O(S,S.level===9?2:2<=S.strategy||S.level<2?4:0),O(S,255&S.gzhead.os),S.gzhead.extra&&S.gzhead.extra.length&&(O(S,255&S.gzhead.extra.length),O(S,S.gzhead.extra.length>>8&255)),S.gzhead.hcrc&&(B.adler=A(B.adler,S.pending_buf,S.pending,0)),S.gzindex=0,S.status=69):(O(S,0),O(S,0),O(S,0),O(S,0),O(S,0),O(S,S.level===9?2:2<=S.strategy||S.level<2?4:0),O(S,3),S.status=K);else{var de=y+(S.w_bits-8<<4)<<8;de|=(2<=S.strategy||S.level<2?0:S.level<6?1:S.level===6?2:3)<<6,S.strstart!==0&&(de|=32),de+=31-de%31,S.status=K,G(S,de),S.strstart!==0&&(G(S,B.adler>>>16),G(S,65535&B.adler)),B.adler=1}if(S.status===69)if(S.gzhead.extra){for(E=S.pending;S.gzindex<(65535&S.gzhead.extra.length)&&(S.pending!==S.pending_buf_size||(S.gzhead.hcrc&&S.pending>E&&(B.adler=A(B.adler,S.pending_buf,S.pending-E,E)),ae(B),E=S.pending,S.pending!==S.pending_buf_size));)O(S,255&S.gzhead.extra[S.gzindex]),S.gzindex++;S.gzhead.hcrc&&S.pending>E&&(B.adler=A(B.adler,S.pending_buf,S.pending-E,E)),S.gzindex===S.gzhead.extra.length&&(S.gzindex=0,S.status=73)}else S.status=73;if(S.status===73)if(S.gzhead.name){E=S.pending;do{if(S.pending===S.pending_buf_size&&(S.gzhead.hcrc&&S.pending>E&&(B.adler=A(B.adler,S.pending_buf,S.pending-E,E)),ae(B),E=S.pending,S.pending===S.pending_buf_size)){P=1;break}P=S.gzindex<S.gzhead.name.length?255&S.gzhead.name.charCodeAt(S.gzindex++):0,O(S,P)}while(P!==0);S.gzhead.hcrc&&S.pending>E&&(B.adler=A(B.adler,S.pending_buf,S.pending-E,E)),P===0&&(S.gzindex=0,S.status=91)}else S.status=91;if(S.status===91)if(S.gzhead.comment){E=S.pending;do{if(S.pending===S.pending_buf_size&&(S.gzhead.hcrc&&S.pending>E&&(B.adler=A(B.adler,S.pending_buf,S.pending-E,E)),ae(B),E=S.pending,S.pending===S.pending_buf_size)){P=1;break}P=S.gzindex<S.gzhead.comment.length?255&S.gzhead.comment.charCodeAt(S.gzindex++):0,O(S,P)}while(P!==0);S.gzhead.hcrc&&S.pending>E&&(B.adler=A(B.adler,S.pending_buf,S.pending-E,E)),P===0&&(S.status=103)}else S.status=103;if(S.status===103&&(S.gzhead.hcrc?(S.pending+2>S.pending_buf_size&&ae(B),S.pending+2<=S.pending_buf_size&&(O(S,255&B.adler),O(S,B.adler>>8&255),B.adler=0,S.status=K)):S.status=K),S.pending!==0){if(ae(B),B.avail_out===0)return S.last_flush=-1,u}else if(B.avail_in===0&&le(te)<=le(H)&&te!==f)return fe(B,-5);if(S.status===666&&B.avail_in!==0)return fe(B,-5);if(B.avail_in!==0||S.lookahead!==0||te!==h&&S.status!==666){var ye=S.strategy===2?function(ue,ke){for(var Oe;;){if(ue.lookahead===0&&(Ae(ue),ue.lookahead===0)){if(ke===h)return v;break}if(ue.match_length=0,Oe=o._tr_tally(ue,0,ue.window[ue.strstart]),ue.lookahead--,ue.strstart++,Oe&&(_(ue,!1),ue.strm.avail_out===0))return v}return ue.insert=0,ke===f?(_(ue,!0),ue.strm.avail_out===0?ge:Y):ue.last_lit&&(_(ue,!1),ue.strm.avail_out===0)?v:re}(S,te):S.strategy===3?function(ue,ke){for(var Oe,Ue,_e,Me,Ze=ue.window;;){if(ue.lookahead<=$){if(Ae(ue),ue.lookahead<=$&&ke===h)return v;if(ue.lookahead===0)break}if(ue.match_length=0,ue.lookahead>=k&&0<ue.strstart&&(Ue=Ze[_e=ue.strstart-1])===Ze[++_e]&&Ue===Ze[++_e]&&Ue===Ze[++_e]){Me=ue.strstart+$;do;while(Ue===Ze[++_e]&&Ue===Ze[++_e]&&Ue===Ze[++_e]&&Ue===Ze[++_e]&&Ue===Ze[++_e]&&Ue===Ze[++_e]&&Ue===Ze[++_e]&&Ue===Ze[++_e]&&_e<Me);ue.match_length=$-(Me-_e),ue.match_length>ue.lookahead&&(ue.match_length=ue.lookahead)}if(ue.match_length>=k?(Oe=o._tr_tally(ue,1,ue.match_length-k),ue.lookahead-=ue.match_length,ue.strstart+=ue.match_length,ue.match_length=0):(Oe=o._tr_tally(ue,0,ue.window[ue.strstart]),ue.lookahead--,ue.strstart++),Oe&&(_(ue,!1),ue.strm.avail_out===0))return v}return ue.insert=0,ke===f?(_(ue,!0),ue.strm.avail_out===0?ge:Y):ue.last_lit&&(_(ue,!1),ue.strm.avail_out===0)?v:re}(S,te):s[S.level].func(S,te);if(ye!==ge&&ye!==Y||(S.status=666),ye===v||ye===ge)return B.avail_out===0&&(S.last_flush=-1),u;if(ye===re&&(te===1?o._tr_align(S):te!==5&&(o._tr_stored_block(S,0,0,!1),te===3&&(ne(S.head),S.lookahead===0&&(S.strstart=0,S.block_start=0,S.insert=0))),ae(B),B.avail_out===0))return S.last_flush=-1,u}return te!==f?u:S.wrap<=0?1:(S.wrap===2?(O(S,255&B.adler),O(S,B.adler>>8&255),O(S,B.adler>>16&255),O(S,B.adler>>24&255),O(S,255&B.total_in),O(S,B.total_in>>8&255),O(S,B.total_in>>16&255),O(S,B.total_in>>24&255)):(G(S,B.adler>>>16),G(S,65535&B.adler)),ae(B),0<S.wrap&&(S.wrap=-S.wrap),S.pending!==0?u:1)},i.deflateEnd=function(B){var te;return B&&B.state?(te=B.state.status)!==T&&te!==69&&te!==73&&te!==91&&te!==103&&te!==K&&te!==666?fe(B,g):(B.state=null,te===K?fe(B,-3):u):g},i.deflateSetDictionary=function(B,te){var H,S,E,P,de,ye,ue,ke,Oe=te.length;if(!B||!B.state||(P=(H=B.state).wrap)===2||P===1&&H.status!==T||H.lookahead)return g;for(P===1&&(B.adler=c(B.adler,te,Oe,0)),H.wrap=0,Oe>=H.w_size&&(P===0&&(ne(H.head),H.strstart=0,H.block_start=0,H.insert=0),ke=new a.Buf8(H.w_size),a.arraySet(ke,te,Oe-H.w_size,H.w_size,0),te=ke,Oe=H.w_size),de=B.avail_in,ye=B.next_in,ue=B.input,B.avail_in=Oe,B.next_in=0,B.input=te,Ae(H);H.lookahead>=k;){for(S=H.strstart,E=H.lookahead-(k-1);H.ins_h=(H.ins_h<<H.hash_shift^H.window[S+k-1])&H.hash_mask,H.prev[S&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=S,S++,--E;);H.strstart=S,H.lookahead=k-1,Ae(H)}return H.strstart+=H.lookahead,H.block_start=H.strstart,H.insert=H.lookahead,H.lookahead=0,H.match_length=H.prev_length=k-1,H.match_available=0,B.next_in=ye,B.input=ue,B.avail_in=de,H.wrap=P,u},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(s,a){var o,c,A,d,h,f,u,g,m,x,p,y,w,b,I,F,R,Q,k,$,q,T,K,v,re;o=s.state,c=s.next_in,v=s.input,A=c+(s.avail_in-5),d=s.next_out,re=s.output,h=d-(a-s.avail_out),f=d+(s.avail_out-257),u=o.dmax,g=o.wsize,m=o.whave,x=o.wnext,p=o.window,y=o.hold,w=o.bits,b=o.lencode,I=o.distcode,F=(1<<o.lenbits)-1,R=(1<<o.distbits)-1;e:do{w<15&&(y+=v[c++]<<w,w+=8,y+=v[c++]<<w,w+=8),Q=b[y&F];t:for(;;){if(y>>>=k=Q>>>24,w-=k,(k=Q>>>16&255)===0)re[d++]=65535&Q;else{if(!(16&k)){if(!(64&k)){Q=b[(65535&Q)+(y&(1<<k)-1)];continue t}if(32&k){o.mode=12;break e}s.msg="invalid literal/length code",o.mode=30;break e}$=65535&Q,(k&=15)&&(w<k&&(y+=v[c++]<<w,w+=8),$+=y&(1<<k)-1,y>>>=k,w-=k),w<15&&(y+=v[c++]<<w,w+=8,y+=v[c++]<<w,w+=8),Q=I[y&R];r:for(;;){if(y>>>=k=Q>>>24,w-=k,!(16&(k=Q>>>16&255))){if(!(64&k)){Q=I[(65535&Q)+(y&(1<<k)-1)];continue r}s.msg="invalid distance code",o.mode=30;break e}if(q=65535&Q,w<(k&=15)&&(y+=v[c++]<<w,(w+=8)<k&&(y+=v[c++]<<w,w+=8)),u<(q+=y&(1<<k)-1)){s.msg="invalid distance too far back",o.mode=30;break e}if(y>>>=k,w-=k,(k=d-h)<q){if(m<(k=q-k)&&o.sane){s.msg="invalid distance too far back",o.mode=30;break e}if(K=p,(T=0)===x){if(T+=g-k,k<$){for($-=k;re[d++]=p[T++],--k;);T=d-q,K=re}}else if(x<k){if(T+=g+x-k,(k-=x)<$){for($-=k;re[d++]=p[T++],--k;);if(T=0,x<$){for($-=k=x;re[d++]=p[T++],--k;);T=d-q,K=re}}}else if(T+=x-k,k<$){for($-=k;re[d++]=p[T++],--k;);T=d-q,K=re}for(;2<$;)re[d++]=K[T++],re[d++]=K[T++],re[d++]=K[T++],$-=3;$&&(re[d++]=K[T++],1<$&&(re[d++]=K[T++]))}else{for(T=d-q;re[d++]=re[T++],re[d++]=re[T++],re[d++]=re[T++],2<($-=3););$&&(re[d++]=re[T++],1<$&&(re[d++]=re[T++]))}break}}break}}while(c<A&&d<f);c-=$=w>>3,y&=(1<<(w-=$<<3))-1,s.next_in=c,s.next_out=d,s.avail_in=c<A?A-c+5:5-(c-A),s.avail_out=d<f?f-d+257:257-(d-f),o.hold=y,o.bits=w}},{}],49:[function(r,n,i){var s=r("../utils/common"),a=r("./adler32"),o=r("./crc32"),c=r("./inffast"),A=r("./inftrees"),d=1,h=2,f=0,u=-2,g=1,m=852,x=592;function p(T){return(T>>>24&255)+(T>>>8&65280)+((65280&T)<<8)+((255&T)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(T){var K;return T&&T.state?(K=T.state,T.total_in=T.total_out=K.total=0,T.msg="",K.wrap&&(T.adler=1&K.wrap),K.mode=g,K.last=0,K.havedict=0,K.dmax=32768,K.head=null,K.hold=0,K.bits=0,K.lencode=K.lendyn=new s.Buf32(m),K.distcode=K.distdyn=new s.Buf32(x),K.sane=1,K.back=-1,f):u}function b(T){var K;return T&&T.state?((K=T.state).wsize=0,K.whave=0,K.wnext=0,w(T)):u}function I(T,K){var v,re;return T&&T.state?(re=T.state,K<0?(v=0,K=-K):(v=1+(K>>4),K<48&&(K&=15)),K&&(K<8||15<K)?u:(re.window!==null&&re.wbits!==K&&(re.window=null),re.wrap=v,re.wbits=K,b(T))):u}function F(T,K){var v,re;return T?(re=new y,(T.state=re).window=null,(v=I(T,K))!==f&&(T.state=null),v):u}var R,Q,k=!0;function $(T){if(k){var K;for(R=new s.Buf32(512),Q=new s.Buf32(32),K=0;K<144;)T.lens[K++]=8;for(;K<256;)T.lens[K++]=9;for(;K<280;)T.lens[K++]=7;for(;K<288;)T.lens[K++]=8;for(A(d,T.lens,0,288,R,0,T.work,{bits:9}),K=0;K<32;)T.lens[K++]=5;A(h,T.lens,0,32,Q,0,T.work,{bits:5}),k=!1}T.lencode=R,T.lenbits=9,T.distcode=Q,T.distbits=5}function q(T,K,v,re){var ge,Y=T.state;return Y.window===null&&(Y.wsize=1<<Y.wbits,Y.wnext=0,Y.whave=0,Y.window=new s.Buf8(Y.wsize)),re>=Y.wsize?(s.arraySet(Y.window,K,v-Y.wsize,Y.wsize,0),Y.wnext=0,Y.whave=Y.wsize):(re<(ge=Y.wsize-Y.wnext)&&(ge=re),s.arraySet(Y.window,K,v-re,ge,Y.wnext),(re-=ge)?(s.arraySet(Y.window,K,v-re,re,0),Y.wnext=re,Y.whave=Y.wsize):(Y.wnext+=ge,Y.wnext===Y.wsize&&(Y.wnext=0),Y.whave<Y.wsize&&(Y.whave+=ge))),0}i.inflateReset=b,i.inflateReset2=I,i.inflateResetKeep=w,i.inflateInit=function(T){return F(T,15)},i.inflateInit2=F,i.inflate=function(T,K){var v,re,ge,Y,fe,le,ne,ae,_,O,G,oe,Ae,U,M,J,ce,ee,Z,me,B,te,H,S,E=0,P=new s.Buf8(4),de=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!T||!T.state||!T.output||!T.input&&T.avail_in!==0)return u;(v=T.state).mode===12&&(v.mode=13),fe=T.next_out,ge=T.output,ne=T.avail_out,Y=T.next_in,re=T.input,le=T.avail_in,ae=v.hold,_=v.bits,O=le,G=ne,te=f;e:for(;;)switch(v.mode){case g:if(v.wrap===0){v.mode=13;break}for(;_<16;){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}if(2&v.wrap&&ae===35615){P[v.check=0]=255&ae,P[1]=ae>>>8&255,v.check=o(v.check,P,2,0),_=ae=0,v.mode=2;break}if(v.flags=0,v.head&&(v.head.done=!1),!(1&v.wrap)||(((255&ae)<<8)+(ae>>8))%31){T.msg="incorrect header check",v.mode=30;break}if((15&ae)!=8){T.msg="unknown compression method",v.mode=30;break}if(_-=4,B=8+(15&(ae>>>=4)),v.wbits===0)v.wbits=B;else if(B>v.wbits){T.msg="invalid window size",v.mode=30;break}v.dmax=1<<B,T.adler=v.check=1,v.mode=512&ae?10:12,_=ae=0;break;case 2:for(;_<16;){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}if(v.flags=ae,(255&v.flags)!=8){T.msg="unknown compression method",v.mode=30;break}if(57344&v.flags){T.msg="unknown header flags set",v.mode=30;break}v.head&&(v.head.text=ae>>8&1),512&v.flags&&(P[0]=255&ae,P[1]=ae>>>8&255,v.check=o(v.check,P,2,0)),_=ae=0,v.mode=3;case 3:for(;_<32;){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}v.head&&(v.head.time=ae),512&v.flags&&(P[0]=255&ae,P[1]=ae>>>8&255,P[2]=ae>>>16&255,P[3]=ae>>>24&255,v.check=o(v.check,P,4,0)),_=ae=0,v.mode=4;case 4:for(;_<16;){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}v.head&&(v.head.xflags=255&ae,v.head.os=ae>>8),512&v.flags&&(P[0]=255&ae,P[1]=ae>>>8&255,v.check=o(v.check,P,2,0)),_=ae=0,v.mode=5;case 5:if(1024&v.flags){for(;_<16;){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}v.length=ae,v.head&&(v.head.extra_len=ae),512&v.flags&&(P[0]=255&ae,P[1]=ae>>>8&255,v.check=o(v.check,P,2,0)),_=ae=0}else v.head&&(v.head.extra=null);v.mode=6;case 6:if(1024&v.flags&&(le<(oe=v.length)&&(oe=le),oe&&(v.head&&(B=v.head.extra_len-v.length,v.head.extra||(v.head.extra=new Array(v.head.extra_len)),s.arraySet(v.head.extra,re,Y,oe,B)),512&v.flags&&(v.check=o(v.check,re,oe,Y)),le-=oe,Y+=oe,v.length-=oe),v.length))break e;v.length=0,v.mode=7;case 7:if(2048&v.flags){if(le===0)break e;for(oe=0;B=re[Y+oe++],v.head&&B&&v.length<65536&&(v.head.name+=String.fromCharCode(B)),B&&oe<le;);if(512&v.flags&&(v.check=o(v.check,re,oe,Y)),le-=oe,Y+=oe,B)break e}else v.head&&(v.head.name=null);v.length=0,v.mode=8;case 8:if(4096&v.flags){if(le===0)break e;for(oe=0;B=re[Y+oe++],v.head&&B&&v.length<65536&&(v.head.comment+=String.fromCharCode(B)),B&&oe<le;);if(512&v.flags&&(v.check=o(v.check,re,oe,Y)),le-=oe,Y+=oe,B)break e}else v.head&&(v.head.comment=null);v.mode=9;case 9:if(512&v.flags){for(;_<16;){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}if(ae!==(65535&v.check)){T.msg="header crc mismatch",v.mode=30;break}_=ae=0}v.head&&(v.head.hcrc=v.flags>>9&1,v.head.done=!0),T.adler=v.check=0,v.mode=12;break;case 10:for(;_<32;){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}T.adler=v.check=p(ae),_=ae=0,v.mode=11;case 11:if(v.havedict===0)return T.next_out=fe,T.avail_out=ne,T.next_in=Y,T.avail_in=le,v.hold=ae,v.bits=_,2;T.adler=v.check=1,v.mode=12;case 12:if(K===5||K===6)break e;case 13:if(v.last){ae>>>=7&_,_-=7&_,v.mode=27;break}for(;_<3;){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}switch(v.last=1&ae,_-=1,3&(ae>>>=1)){case 0:v.mode=14;break;case 1:if($(v),v.mode=20,K!==6)break;ae>>>=2,_-=2;break e;case 2:v.mode=17;break;case 3:T.msg="invalid block type",v.mode=30}ae>>>=2,_-=2;break;case 14:for(ae>>>=7&_,_-=7&_;_<32;){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}if((65535&ae)!=(ae>>>16^65535)){T.msg="invalid stored block lengths",v.mode=30;break}if(v.length=65535&ae,_=ae=0,v.mode=15,K===6)break e;case 15:v.mode=16;case 16:if(oe=v.length){if(le<oe&&(oe=le),ne<oe&&(oe=ne),oe===0)break e;s.arraySet(ge,re,Y,oe,fe),le-=oe,Y+=oe,ne-=oe,fe+=oe,v.length-=oe;break}v.mode=12;break;case 17:for(;_<14;){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}if(v.nlen=257+(31&ae),ae>>>=5,_-=5,v.ndist=1+(31&ae),ae>>>=5,_-=5,v.ncode=4+(15&ae),ae>>>=4,_-=4,286<v.nlen||30<v.ndist){T.msg="too many length or distance symbols",v.mode=30;break}v.have=0,v.mode=18;case 18:for(;v.have<v.ncode;){for(;_<3;){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}v.lens[de[v.have++]]=7&ae,ae>>>=3,_-=3}for(;v.have<19;)v.lens[de[v.have++]]=0;if(v.lencode=v.lendyn,v.lenbits=7,H={bits:v.lenbits},te=A(0,v.lens,0,19,v.lencode,0,v.work,H),v.lenbits=H.bits,te){T.msg="invalid code lengths set",v.mode=30;break}v.have=0,v.mode=19;case 19:for(;v.have<v.nlen+v.ndist;){for(;J=(E=v.lencode[ae&(1<<v.lenbits)-1])>>>16&255,ce=65535&E,!((M=E>>>24)<=_);){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}if(ce<16)ae>>>=M,_-=M,v.lens[v.have++]=ce;else{if(ce===16){for(S=M+2;_<S;){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}if(ae>>>=M,_-=M,v.have===0){T.msg="invalid bit length repeat",v.mode=30;break}B=v.lens[v.have-1],oe=3+(3&ae),ae>>>=2,_-=2}else if(ce===17){for(S=M+3;_<S;){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}_-=M,B=0,oe=3+(7&(ae>>>=M)),ae>>>=3,_-=3}else{for(S=M+7;_<S;){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}_-=M,B=0,oe=11+(127&(ae>>>=M)),ae>>>=7,_-=7}if(v.have+oe>v.nlen+v.ndist){T.msg="invalid bit length repeat",v.mode=30;break}for(;oe--;)v.lens[v.have++]=B}}if(v.mode===30)break;if(v.lens[256]===0){T.msg="invalid code -- missing end-of-block",v.mode=30;break}if(v.lenbits=9,H={bits:v.lenbits},te=A(d,v.lens,0,v.nlen,v.lencode,0,v.work,H),v.lenbits=H.bits,te){T.msg="invalid literal/lengths set",v.mode=30;break}if(v.distbits=6,v.distcode=v.distdyn,H={bits:v.distbits},te=A(h,v.lens,v.nlen,v.ndist,v.distcode,0,v.work,H),v.distbits=H.bits,te){T.msg="invalid distances set",v.mode=30;break}if(v.mode=20,K===6)break e;case 20:v.mode=21;case 21:if(6<=le&&258<=ne){T.next_out=fe,T.avail_out=ne,T.next_in=Y,T.avail_in=le,v.hold=ae,v.bits=_,c(T,G),fe=T.next_out,ge=T.output,ne=T.avail_out,Y=T.next_in,re=T.input,le=T.avail_in,ae=v.hold,_=v.bits,v.mode===12&&(v.back=-1);break}for(v.back=0;J=(E=v.lencode[ae&(1<<v.lenbits)-1])>>>16&255,ce=65535&E,!((M=E>>>24)<=_);){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}if(J&&!(240&J)){for(ee=M,Z=J,me=ce;J=(E=v.lencode[me+((ae&(1<<ee+Z)-1)>>ee)])>>>16&255,ce=65535&E,!(ee+(M=E>>>24)<=_);){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}ae>>>=ee,_-=ee,v.back+=ee}if(ae>>>=M,_-=M,v.back+=M,v.length=ce,J===0){v.mode=26;break}if(32&J){v.back=-1,v.mode=12;break}if(64&J){T.msg="invalid literal/length code",v.mode=30;break}v.extra=15&J,v.mode=22;case 22:if(v.extra){for(S=v.extra;_<S;){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}v.length+=ae&(1<<v.extra)-1,ae>>>=v.extra,_-=v.extra,v.back+=v.extra}v.was=v.length,v.mode=23;case 23:for(;J=(E=v.distcode[ae&(1<<v.distbits)-1])>>>16&255,ce=65535&E,!((M=E>>>24)<=_);){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}if(!(240&J)){for(ee=M,Z=J,me=ce;J=(E=v.distcode[me+((ae&(1<<ee+Z)-1)>>ee)])>>>16&255,ce=65535&E,!(ee+(M=E>>>24)<=_);){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}ae>>>=ee,_-=ee,v.back+=ee}if(ae>>>=M,_-=M,v.back+=M,64&J){T.msg="invalid distance code",v.mode=30;break}v.offset=ce,v.extra=15&J,v.mode=24;case 24:if(v.extra){for(S=v.extra;_<S;){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}v.offset+=ae&(1<<v.extra)-1,ae>>>=v.extra,_-=v.extra,v.back+=v.extra}if(v.offset>v.dmax){T.msg="invalid distance too far back",v.mode=30;break}v.mode=25;case 25:if(ne===0)break e;if(oe=G-ne,v.offset>oe){if((oe=v.offset-oe)>v.whave&&v.sane){T.msg="invalid distance too far back",v.mode=30;break}Ae=oe>v.wnext?(oe-=v.wnext,v.wsize-oe):v.wnext-oe,oe>v.length&&(oe=v.length),U=v.window}else U=ge,Ae=fe-v.offset,oe=v.length;for(ne<oe&&(oe=ne),ne-=oe,v.length-=oe;ge[fe++]=U[Ae++],--oe;);v.length===0&&(v.mode=21);break;case 26:if(ne===0)break e;ge[fe++]=v.length,ne--,v.mode=21;break;case 27:if(v.wrap){for(;_<32;){if(le===0)break e;le--,ae|=re[Y++]<<_,_+=8}if(G-=ne,T.total_out+=G,v.total+=G,G&&(T.adler=v.check=v.flags?o(v.check,ge,G,fe-G):a(v.check,ge,G,fe-G)),G=ne,(v.flags?ae:p(ae))!==v.check){T.msg="incorrect data check",v.mode=30;break}_=ae=0}v.mode=28;case 28:if(v.wrap&&v.flags){for(;_<32;){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}if(ae!==(4294967295&v.total)){T.msg="incorrect length check",v.mode=30;break}_=ae=0}v.mode=29;case 29:te=1;break e;case 30:te=-3;break e;case 31:return-4;case 32:default:return u}return T.next_out=fe,T.avail_out=ne,T.next_in=Y,T.avail_in=le,v.hold=ae,v.bits=_,(v.wsize||G!==T.avail_out&&v.mode<30&&(v.mode<27||K!==4))&&q(T,T.output,T.next_out,G-T.avail_out)?(v.mode=31,-4):(O-=T.avail_in,G-=T.avail_out,T.total_in+=O,T.total_out+=G,v.total+=G,v.wrap&&G&&(T.adler=v.check=v.flags?o(v.check,ge,G,T.next_out-G):a(v.check,ge,G,T.next_out-G)),T.data_type=v.bits+(v.last?64:0)+(v.mode===12?128:0)+(v.mode===20||v.mode===15?256:0),(O==0&&G===0||K===4)&&te===f&&(te=-5),te)},i.inflateEnd=function(T){if(!T||!T.state)return u;var K=T.state;return K.window&&(K.window=null),T.state=null,f},i.inflateGetHeader=function(T,K){var v;return T&&T.state&&2&(v=T.state).wrap?((v.head=K).done=!1,f):u},i.inflateSetDictionary=function(T,K){var v,re=K.length;return T&&T.state?(v=T.state).wrap!==0&&v.mode!==11?u:v.mode===11&&a(1,K,re,0)!==v.check?-3:q(T,K,re,re)?(v.mode=31,-4):(v.havedict=1,f):u},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var s=r("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],A=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(d,h,f,u,g,m,x,p){var y,w,b,I,F,R,Q,k,$,q=p.bits,T=0,K=0,v=0,re=0,ge=0,Y=0,fe=0,le=0,ne=0,ae=0,_=null,O=0,G=new s.Buf16(16),oe=new s.Buf16(16),Ae=null,U=0;for(T=0;T<=15;T++)G[T]=0;for(K=0;K<u;K++)G[h[f+K]]++;for(ge=q,re=15;1<=re&&G[re]===0;re--);if(re<ge&&(ge=re),re===0)return g[m++]=20971520,g[m++]=20971520,p.bits=1,0;for(v=1;v<re&&G[v]===0;v++);for(ge<v&&(ge=v),T=le=1;T<=15;T++)if(le<<=1,(le-=G[T])<0)return-1;if(0<le&&(d===0||re!==1))return-1;for(oe[1]=0,T=1;T<15;T++)oe[T+1]=oe[T]+G[T];for(K=0;K<u;K++)h[f+K]!==0&&(x[oe[h[f+K]]++]=K);if(R=d===0?(_=Ae=x,19):d===1?(_=a,O-=257,Ae=o,U-=257,256):(_=c,Ae=A,-1),T=v,F=m,fe=K=ae=0,b=-1,I=(ne=1<<(Y=ge))-1,d===1&&852<ne||d===2&&592<ne)return 1;for(;;){for(Q=T-fe,$=x[K]<R?(k=0,x[K]):x[K]>R?(k=Ae[U+x[K]],_[O+x[K]]):(k=96,0),y=1<<T-fe,v=w=1<<Y;g[F+(ae>>fe)+(w-=y)]=Q<<24|k<<16|$|0,w!==0;);for(y=1<<T-1;ae&y;)y>>=1;if(y!==0?(ae&=y-1,ae+=y):ae=0,K++,--G[T]==0){if(T===re)break;T=h[f+x[K]]}if(ge<T&&(ae&I)!==b){for(fe===0&&(fe=ge),F+=v,le=1<<(Y=T-fe);Y+fe<re&&!((le-=G[Y+fe])<=0);)Y++,le<<=1;if(ne+=1<<Y,d===1&&852<ne||d===2&&592<ne)return 1;g[b=ae&I]=ge<<24|Y<<16|F-m|0}}return ae!==0&&(g[F+ae]=T-fe<<24|64<<16|0),p.bits=ge,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var s=r("../utils/common"),a=0,o=1;function c(E){for(var P=E.length;0<=--P;)E[P]=0}var A=0,d=29,h=256,f=h+1+d,u=30,g=19,m=2*f+1,x=15,p=16,y=7,w=256,b=16,I=17,F=18,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=new Array(2*(f+2));c(q);var T=new Array(2*u);c(T);var K=new Array(512);c(K);var v=new Array(256);c(v);var re=new Array(d);c(re);var ge,Y,fe,le=new Array(u);function ne(E,P,de,ye,ue){this.static_tree=E,this.extra_bits=P,this.extra_base=de,this.elems=ye,this.max_length=ue,this.has_stree=E&&E.length}function ae(E,P){this.dyn_tree=E,this.max_code=0,this.stat_desc=P}function _(E){return E<256?K[E]:K[256+(E>>>7)]}function O(E,P){E.pending_buf[E.pending++]=255&P,E.pending_buf[E.pending++]=P>>>8&255}function G(E,P,de){E.bi_valid>p-de?(E.bi_buf|=P<<E.bi_valid&65535,O(E,E.bi_buf),E.bi_buf=P>>p-E.bi_valid,E.bi_valid+=de-p):(E.bi_buf|=P<<E.bi_valid&65535,E.bi_valid+=de)}function oe(E,P,de){G(E,de[2*P],de[2*P+1])}function Ae(E,P){for(var de=0;de|=1&E,E>>>=1,de<<=1,0<--P;);return de>>>1}function U(E,P,de){var ye,ue,ke=new Array(x+1),Oe=0;for(ye=1;ye<=x;ye++)ke[ye]=Oe=Oe+de[ye-1]<<1;for(ue=0;ue<=P;ue++){var Ue=E[2*ue+1];Ue!==0&&(E[2*ue]=Ae(ke[Ue]++,Ue))}}function M(E){var P;for(P=0;P<f;P++)E.dyn_ltree[2*P]=0;for(P=0;P<u;P++)E.dyn_dtree[2*P]=0;for(P=0;P<g;P++)E.bl_tree[2*P]=0;E.dyn_ltree[2*w]=1,E.opt_len=E.static_len=0,E.last_lit=E.matches=0}function J(E){8<E.bi_valid?O(E,E.bi_buf):0<E.bi_valid&&(E.pending_buf[E.pending++]=E.bi_buf),E.bi_buf=0,E.bi_valid=0}function ce(E,P,de,ye){var ue=2*P,ke=2*de;return E[ue]<E[ke]||E[ue]===E[ke]&&ye[P]<=ye[de]}function ee(E,P,de){for(var ye=E.heap[de],ue=de<<1;ue<=E.heap_len&&(ue<E.heap_len&&ce(P,E.heap[ue+1],E.heap[ue],E.depth)&&ue++,!ce(P,ye,E.heap[ue],E.depth));)E.heap[de]=E.heap[ue],de=ue,ue<<=1;E.heap[de]=ye}function Z(E,P,de){var ye,ue,ke,Oe,Ue=0;if(E.last_lit!==0)for(;ye=E.pending_buf[E.d_buf+2*Ue]<<8|E.pending_buf[E.d_buf+2*Ue+1],ue=E.pending_buf[E.l_buf+Ue],Ue++,ye===0?oe(E,ue,P):(oe(E,(ke=v[ue])+h+1,P),(Oe=R[ke])!==0&&G(E,ue-=re[ke],Oe),oe(E,ke=_(--ye),de),(Oe=Q[ke])!==0&&G(E,ye-=le[ke],Oe)),Ue<E.last_lit;);oe(E,w,P)}function me(E,P){var de,ye,ue,ke=P.dyn_tree,Oe=P.stat_desc.static_tree,Ue=P.stat_desc.has_stree,_e=P.stat_desc.elems,Me=-1;for(E.heap_len=0,E.heap_max=m,de=0;de<_e;de++)ke[2*de]!==0?(E.heap[++E.heap_len]=Me=de,E.depth[de]=0):ke[2*de+1]=0;for(;E.heap_len<2;)ke[2*(ue=E.heap[++E.heap_len]=Me<2?++Me:0)]=1,E.depth[ue]=0,E.opt_len--,Ue&&(E.static_len-=Oe[2*ue+1]);for(P.max_code=Me,de=E.heap_len>>1;1<=de;de--)ee(E,ke,de);for(ue=_e;de=E.heap[1],E.heap[1]=E.heap[E.heap_len--],ee(E,ke,1),ye=E.heap[1],E.heap[--E.heap_max]=de,E.heap[--E.heap_max]=ye,ke[2*ue]=ke[2*de]+ke[2*ye],E.depth[ue]=(E.depth[de]>=E.depth[ye]?E.depth[de]:E.depth[ye])+1,ke[2*de+1]=ke[2*ye+1]=ue,E.heap[1]=ue++,ee(E,ke,1),2<=E.heap_len;);E.heap[--E.heap_max]=E.heap[1],function(Ze,ut){var kt,It,ur,Ft,yt,Yt,mt=ut.dyn_tree,$t=ut.max_code,tr=ut.stat_desc.static_tree,fr=ut.stat_desc.has_stree,Ct=ut.stat_desc.extra_bits,$e=ut.stat_desc.extra_base,ct=ut.stat_desc.max_length,st=0;for(Ft=0;Ft<=x;Ft++)Ze.bl_count[Ft]=0;for(mt[2*Ze.heap[Ze.heap_max]+1]=0,kt=Ze.heap_max+1;kt<m;kt++)ct<(Ft=mt[2*mt[2*(It=Ze.heap[kt])+1]+1]+1)&&(Ft=ct,st++),mt[2*It+1]=Ft,$t<It||(Ze.bl_count[Ft]++,yt=0,$e<=It&&(yt=Ct[It-$e]),Yt=mt[2*It],Ze.opt_len+=Yt*(Ft+yt),fr&&(Ze.static_len+=Yt*(tr[2*It+1]+yt)));if(st!==0){do{for(Ft=ct-1;Ze.bl_count[Ft]===0;)Ft--;Ze.bl_count[Ft]--,Ze.bl_count[Ft+1]+=2,Ze.bl_count[ct]--,st-=2}while(0<st);for(Ft=ct;Ft!==0;Ft--)for(It=Ze.bl_count[Ft];It!==0;)$t<(ur=Ze.heap[--kt])||(mt[2*ur+1]!==Ft&&(Ze.opt_len+=(Ft-mt[2*ur+1])*mt[2*ur],mt[2*ur+1]=Ft),It--)}}(E,P),U(ke,Me,E.bl_count)}function B(E,P,de){var ye,ue,ke=-1,Oe=P[1],Ue=0,_e=7,Me=4;for(Oe===0&&(_e=138,Me=3),P[2*(de+1)+1]=65535,ye=0;ye<=de;ye++)ue=Oe,Oe=P[2*(ye+1)+1],++Ue<_e&&ue===Oe||(Ue<Me?E.bl_tree[2*ue]+=Ue:ue!==0?(ue!==ke&&E.bl_tree[2*ue]++,E.bl_tree[2*b]++):Ue<=10?E.bl_tree[2*I]++:E.bl_tree[2*F]++,ke=ue,Me=(Ue=0)===Oe?(_e=138,3):ue===Oe?(_e=6,3):(_e=7,4))}function te(E,P,de){var ye,ue,ke=-1,Oe=P[1],Ue=0,_e=7,Me=4;for(Oe===0&&(_e=138,Me=3),ye=0;ye<=de;ye++)if(ue=Oe,Oe=P[2*(ye+1)+1],!(++Ue<_e&&ue===Oe)){if(Ue<Me)for(;oe(E,ue,E.bl_tree),--Ue!=0;);else ue!==0?(ue!==ke&&(oe(E,ue,E.bl_tree),Ue--),oe(E,b,E.bl_tree),G(E,Ue-3,2)):Ue<=10?(oe(E,I,E.bl_tree),G(E,Ue-3,3)):(oe(E,F,E.bl_tree),G(E,Ue-11,7));ke=ue,Me=(Ue=0)===Oe?(_e=138,3):ue===Oe?(_e=6,3):(_e=7,4)}}c(le);var H=!1;function S(E,P,de,ye){G(E,(A<<1)+(ye?1:0),3),function(ue,ke,Oe,Ue){J(ue),O(ue,Oe),O(ue,~Oe),s.arraySet(ue.pending_buf,ue.window,ke,Oe,ue.pending),ue.pending+=Oe}(E,P,de)}i._tr_init=function(E){H||(function(){var P,de,ye,ue,ke,Oe=new Array(x+1);for(ue=ye=0;ue<d-1;ue++)for(re[ue]=ye,P=0;P<1<<R[ue];P++)v[ye++]=ue;for(v[ye-1]=ue,ue=ke=0;ue<16;ue++)for(le[ue]=ke,P=0;P<1<<Q[ue];P++)K[ke++]=ue;for(ke>>=7;ue<u;ue++)for(le[ue]=ke<<7,P=0;P<1<<Q[ue]-7;P++)K[256+ke++]=ue;for(de=0;de<=x;de++)Oe[de]=0;for(P=0;P<=143;)q[2*P+1]=8,P++,Oe[8]++;for(;P<=255;)q[2*P+1]=9,P++,Oe[9]++;for(;P<=279;)q[2*P+1]=7,P++,Oe[7]++;for(;P<=287;)q[2*P+1]=8,P++,Oe[8]++;for(U(q,f+1,Oe),P=0;P<u;P++)T[2*P+1]=5,T[2*P]=Ae(P,5);ge=new ne(q,R,h+1,f,x),Y=new ne(T,Q,0,u,x),fe=new ne(new Array(0),k,0,g,y)}(),H=!0),E.l_desc=new ae(E.dyn_ltree,ge),E.d_desc=new ae(E.dyn_dtree,Y),E.bl_desc=new ae(E.bl_tree,fe),E.bi_buf=0,E.bi_valid=0,M(E)},i._tr_stored_block=S,i._tr_flush_block=function(E,P,de,ye){var ue,ke,Oe=0;0<E.level?(E.strm.data_type===2&&(E.strm.data_type=function(Ue){var _e,Me=4093624447;for(_e=0;_e<=31;_e++,Me>>>=1)if(1&Me&&Ue.dyn_ltree[2*_e]!==0)return a;if(Ue.dyn_ltree[18]!==0||Ue.dyn_ltree[20]!==0||Ue.dyn_ltree[26]!==0)return o;for(_e=32;_e<h;_e++)if(Ue.dyn_ltree[2*_e]!==0)return o;return a}(E)),me(E,E.l_desc),me(E,E.d_desc),Oe=function(Ue){var _e;for(B(Ue,Ue.dyn_ltree,Ue.l_desc.max_code),B(Ue,Ue.dyn_dtree,Ue.d_desc.max_code),me(Ue,Ue.bl_desc),_e=g-1;3<=_e&&Ue.bl_tree[2*$[_e]+1]===0;_e--);return Ue.opt_len+=3*(_e+1)+5+5+4,_e}(E),ue=E.opt_len+3+7>>>3,(ke=E.static_len+3+7>>>3)<=ue&&(ue=ke)):ue=ke=de+5,de+4<=ue&&P!==-1?S(E,P,de,ye):E.strategy===4||ke===ue?(G(E,2+(ye?1:0),3),Z(E,q,T)):(G(E,4+(ye?1:0),3),function(Ue,_e,Me,Ze){var ut;for(G(Ue,_e-257,5),G(Ue,Me-1,5),G(Ue,Ze-4,4),ut=0;ut<Ze;ut++)G(Ue,Ue.bl_tree[2*$[ut]+1],3);te(Ue,Ue.dyn_ltree,_e-1),te(Ue,Ue.dyn_dtree,Me-1)}(E,E.l_desc.max_code+1,E.d_desc.max_code+1,Oe+1),Z(E,E.dyn_ltree,E.dyn_dtree)),M(E),ye&&J(E)},i._tr_tally=function(E,P,de){return E.pending_buf[E.d_buf+2*E.last_lit]=P>>>8&255,E.pending_buf[E.d_buf+2*E.last_lit+1]=255&P,E.pending_buf[E.l_buf+E.last_lit]=255&de,E.last_lit++,P===0?E.dyn_ltree[2*de]++:(E.matches++,P--,E.dyn_ltree[2*(v[de]+h+1)]++,E.dyn_dtree[2*_(P)]++),E.last_lit===E.lit_bufsize-1},i._tr_align=function(E){G(E,2,3),oe(E,w,q),function(P){P.bi_valid===16?(O(P,P.bi_buf),P.bi_buf=0,P.bi_valid=0):8<=P.bi_valid&&(P.pending_buf[P.pending++]=255&P.bi_buf,P.bi_buf>>=8,P.bi_valid-=8)}(E)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(s){(function(a,o){if(!a.setImmediate){var c,A,d,h,f=1,u={},g=!1,m=a.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(a);x=x&&x.setTimeout?x:a,c={}.toString.call(a.process)==="[object process]"?function(b){Kr.nextTick(function(){y(b)})}:function(){if(a.postMessage&&!a.importScripts){var b=!0,I=a.onmessage;return a.onmessage=function(){b=!1},a.postMessage("","*"),a.onmessage=I,b}}()?(h="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",w,!1):a.attachEvent("onmessage",w),function(b){a.postMessage(h+b,"*")}):a.MessageChannel?((d=new MessageChannel).port1.onmessage=function(b){y(b.data)},function(b){d.port2.postMessage(b)}):m&&"onreadystatechange"in m.createElement("script")?(A=m.documentElement,function(b){var I=m.createElement("script");I.onreadystatechange=function(){y(b),I.onreadystatechange=null,A.removeChild(I),I=null},A.appendChild(I)}):function(b){setTimeout(y,0,b)},x.setImmediate=function(b){typeof b!="function"&&(b=new Function(""+b));for(var I=new Array(arguments.length-1),F=0;F<I.length;F++)I[F]=arguments[F+1];var R={callback:b,args:I};return u[f]=R,c(f),f++},x.clearImmediate=p}function p(b){delete u[b]}function y(b){if(g)setTimeout(y,0,b);else{var I=u[b];if(I){g=!0;try{(function(F){var R=F.callback,Q=F.args;switch(Q.length){case 0:R();break;case 1:R(Q[0]);break;case 2:R(Q[0],Q[1]);break;case 3:R(Q[0],Q[1],Q[2]);break;default:R.apply(o,Q)}})(I)}finally{p(b),g=!1}}}}function w(b){b.source===a&&typeof b.data=="string"&&b.data.indexOf(h)===0&&y(+b.data.slice(h.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof jl<"u"?jl:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(Hv)),Hv.exports}var WY=GY();const $Y=CU(WY);var sf={exports:{}},zv,X3;function VY(){if(X3)return zv;X3=1;var e={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function t(r){return r&&r.replace?r.replace(/([&"<>'])/g,function(n,i){return e[i]}):r}return zv=t,zv}var Y3;function XY(){if(Y3)return sf.exports;Y3=1;var e=VY(),t=KB().Stream,r="    ";function n(A,d){typeof d!="object"&&(d={indent:d});var h=d.stream?new t:null,f="",u=!1,g=d.indent?d.indent===!0?r:d.indent:"",m=!0;function x(I){m?Kr.nextTick(I):I()}function p(I,F){if(F!==void 0&&(f+=F),I&&!u&&(h=h||new t,u=!0),I&&u){var R=f;x(function(){h.emit("data",R)}),f=""}}function y(I,F){o(p,a(I,g,g?1:0),F)}function w(){if(h){var I=f;x(function(){h.emit("data",I),h.emit("end"),h.readable=!1,h.emit("close")})}}function b(I){var F=I.encoding||"UTF-8",R={version:"1.0",encoding:F};I.standalone&&(R.standalone=I.standalone),y({"?xml":{_attr:R}}),f=f.replace("/>","?>")}return x(function(){m=!1}),d.declaration&&b(d.declaration),A&&A.forEach?A.forEach(function(I,F){var R;F+1===A.length&&(R=w),y(I,R)}):y(A,w),h?(h.readable=!0,h):f}function i(){var A=Array.prototype.slice.call(arguments),d={_elem:a(A)};return d.push=function(h){if(!this.append)throw new Error("not assigned to a parent!");var f=this,u=this._elem.indent;o(this.append,a(h,u,this._elem.icount+(u?1:0)),function(){f.append(!0)})},d.close=function(h){h!==void 0&&this.push(h),this.end&&this.end()},d}function s(A,d){return new Array(d||0).join(A||"")}function a(A,d,h){h=h||0;var f=s(d,h),u,g=A,m=!1;if(typeof A=="object"){var x=Object.keys(A);if(u=x[0],g=A[u],g&&g._elem)return g._elem.name=u,g._elem.icount=h,g._elem.indent=d,g._elem.indents=f,g._elem.interrupt=g,g._elem}var p=[],y=[],w;function b(I){var F=Object.keys(I);F.forEach(function(R){p.push(c(R,I[R]))})}switch(typeof g){case"object":if(g===null)break;g._attr&&b(g._attr),g._cdata&&y.push(("<![CDATA["+g._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),g.forEach&&(w=!1,y.push(""),g.forEach(function(I){if(typeof I=="object"){var F=Object.keys(I)[0];F=="_attr"?b(I._attr):y.push(a(I,d,h+1))}else y.pop(),w=!0,y.push(e(I))}),w||y.push(""));break;default:y.push(e(g))}return{name:u,interrupt:m,attributes:p,content:y,icount:h,indents:f,indent:d}}function o(A,d,h){if(typeof d!="object")return A(!1,d);var f=d.interrupt?1:d.content.length;function u(){for(;d.content.length;){var m=d.content.shift();if(m!==void 0){if(g(m))return;o(A,m)}}A(!1,(f>1?d.indents:"")+(d.name?"</"+d.name+">":"")+(d.indent&&!h?`
`:"")),h&&h()}function g(m){return m.interrupt?(m.interrupt.append=A,m.interrupt.end=u,m.interrupt=!1,A(!0),!0):!1}if(A(!1,d.indents+(d.name?"<"+d.name:"")+(d.attributes.length?" "+d.attributes.join(" "):"")+(f?d.name?">":"":d.name?"/>":"")+(d.indent&&f>1?`
`:"")),!f)return A(!1,d.indent?`
`:"");g(d)||u()}function c(A,d){return A+'="'+e(d)+'"'}return sf.exports=n,sf.exports.element=sf.exports.Element=i,sf.exports}var YY=XY();const hi=CU(YY),af=0,Kv=32,JY=32,ZY=(e,t)=>{const r=t.replace(/-/g,"");if(r.length!==JY)throw new Error(`Error: Cannot extract GUID from font filename: ${t}`);const i=r.replace(/(..)/g,"$1 ").trim().split(" ").map(c=>parseInt(c,16));i.reverse();const a=e.slice(af,Kv).map((c,A)=>c^i[A%i.length]),o=new Uint8Array(af+a.length+Math.max(0,e.length-Kv));return o.set(e.slice(0,af)),o.set(a,af),o.set(e.slice(Kv),af+a.length),o};class eJ{format(t,r={stack:[]}){const n=t.prepForXml(r);if(n)return n;throw Error("XMLComponent did not format correctly")}}class tJ{replace(t,r,n){let i=t;return r.forEach((s,a)=>{i=i.replace(new RegExp(`{${s.fileName}}`,"g"),(n+a).toString())}),i}getMediaData(t,r){return r.Array.filter(n=>t.search(`{${n.fileName}}`)>0)}}class rJ{replace(t,r){let n=t;for(const i of r)n=n.replace(new RegExp(`{${i.reference}-${i.instance}}`,"g"),i.numId.toString());return n}}class nJ{constructor(){bt(this,"formatter"),bt(this,"imageReplacer"),bt(this,"numberingReplacer"),this.formatter=new eJ,this.imageReplacer=new tJ,this.numberingReplacer=new rJ}compile(t,r,n=[]){const i=new $Y,s=this.xmlifyFile(t,r),a=new Map(Object.entries(s));for(const[,o]of a)if(Array.isArray(o))for(const c of o)i.file(c.path,c.data);else i.file(o.path,o.data);for(const o of n)i.file(o.path,o.data);for(const o of t.Media.Array)o.type!=="svg"?i.file(`word/media/${o.fileName}`,o.data):(i.file(`word/media/${o.fileName}`,o.data),i.file(`word/media/${o.fallback.fileName}`,o.fallback.data));for(const{data:o,name:c,fontKey:A}of t.FontTable.fontOptionsWithKey){const[d]=c.split(".");i.file(`word/fonts/${d}.odttf`,ZY(o,A))}return i}xmlifyFile(t,r){const n=t.Document.Relationships.RelationshipCount+1,i=hi(this.formatter.format(t.Document.View,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),s=t.Comments.Relationships.RelationshipCount+1,a=hi(this.formatter.format(t.Comments,{viewWrapper:{View:t.Comments,Relationships:t.Comments.Relationships},file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),o=this.imageReplacer.getMediaData(i,t.Media),c=this.imageReplacer.getMediaData(a,t.Media);return{Relationships:{data:(()=>(o.forEach((A,d)=>{t.Document.Relationships.createRelationship(n+d,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${A.fileName}`)}),t.Document.Relationships.createRelationship(t.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),hi(this.formatter.format(t.Document.Relationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})))(),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const A=this.imageReplacer.replace(i,o,n);return this.numberingReplacer.replace(A,t.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const A=hi(this.formatter.format(t.Styles,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(A,t.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:hi(this.formatter.format(t.CoreProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:hi(this.formatter.format(t.Numbering,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:hi(this.formatter.format(t.FileRelationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:t.Headers.map((A,d)=>{const h=hi(this.formatter.format(A.View,{viewWrapper:A,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(h,t.Media).forEach((u,g)=>{A.Relationships.createRelationship(g,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${u.fileName}`)}),{data:hi(this.formatter.format(A.Relationships,{viewWrapper:A,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${d+1}.xml.rels`}}),FooterRelationships:t.Footers.map((A,d)=>{const h=hi(this.formatter.format(A.View,{viewWrapper:A,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(h,t.Media).forEach((u,g)=>{A.Relationships.createRelationship(g,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${u.fileName}`)}),{data:hi(this.formatter.format(A.Relationships,{viewWrapper:A,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${d+1}.xml.rels`}}),Headers:t.Headers.map((A,d)=>{const h=hi(this.formatter.format(A.View,{viewWrapper:A,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),f=this.imageReplacer.getMediaData(h,t.Media),u=this.imageReplacer.replace(h,f,0);return{data:this.numberingReplacer.replace(u,t.Numbering.ConcreteNumbering),path:`word/header${d+1}.xml`}}),Footers:t.Footers.map((A,d)=>{const h=hi(this.formatter.format(A.View,{viewWrapper:A,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),f=this.imageReplacer.getMediaData(h,t.Media),u=this.imageReplacer.replace(h,f,0);return{data:this.numberingReplacer.replace(u,t.Numbering.ConcreteNumbering),path:`word/footer${d+1}.xml`}}),ContentTypes:{data:hi(this.formatter.format(t.ContentTypes,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:hi(this.formatter.format(t.CustomProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:hi(this.formatter.format(t.AppProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:hi(this.formatter.format(t.FootNotes.View,{viewWrapper:t.FootNotes,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:hi(this.formatter.format(t.FootNotes.Relationships,{viewWrapper:t.FootNotes,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:hi(this.formatter.format(t.Settings,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{const A=this.imageReplacer.replace(a,c,s);return this.numberingReplacer.replace(A,t.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(()=>(c.forEach((A,d)=>{t.Comments.Relationships.createRelationship(s+d,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${A.fileName}`)}),hi(this.formatter.format(t.Comments.Relationships,{viewWrapper:{View:t.Comments,Relationships:t.Comments.Relationships},file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})))(),path:"word/_rels/comments.xml.rels"},FontTable:{data:hi(this.formatter.format(t.FontTable.View,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:(()=>hi(this.formatter.format(t.FontTable.Relationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}))(),path:"word/_rels/fontTable.xml.rels"}}}}const iJ={NONE:"",WITH_2_BLANKS:"  ",WITH_4_BLANKS:"    ",WITH_TAB:"	"},J3=e=>e===!0?iJ.WITH_2_BLANKS:e===!1?void 0:e,hL=class rd{static pack(t,r,n){return hW(this,arguments,function*(i,s,a,o=[]){return this.compiler.compile(i,J3(a),o).generateAsync({type:s,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(t,r,n=[]){return rd.pack(t,"string",r,n)}static toBuffer(t,r,n=[]){return rd.pack(t,"nodebuffer",r,n)}static toBase64String(t,r,n=[]){return rd.pack(t,"base64",r,n)}static toBlob(t,r,n=[]){return rd.pack(t,"blob",r,n)}static toArrayBuffer(t,r,n=[]){return rd.pack(t,"arraybuffer",r,n)}static toStream(t,r,n=[]){const i=new qY.Stream;return this.compiler.compile(t,J3(r),n).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(a=>{i.emit("data",a),i.emit("end")}),i}};bt(hL,"compiler",new nJ);let sJ=hL;var fL={exports:{}};(function(e,t){(function(r,n){n()})(la,function(){function r(A,d){return typeof d>"u"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(A.type)?new Blob(["\uFEFF",A],{type:A.type}):A}function n(A,d,h){var f=new XMLHttpRequest;f.open("GET",A),f.responseType="blob",f.onload=function(){c(f.response,d,h)},f.onerror=function(){console.error("could not download file")},f.send()}function i(A){var d=new XMLHttpRequest;d.open("HEAD",A,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function s(A){try{A.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),A.dispatchEvent(d)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof la=="object"&&la.global===la?la:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(A,d,h){var f=a.URL||a.webkitURL,u=document.createElement("a");d=d||A.name||"download",u.download=d,u.rel="noopener",typeof A=="string"?(u.href=A,u.origin===location.origin?s(u):i(u.href)?n(A,d,h):s(u,u.target="_blank")):(u.href=f.createObjectURL(A),setTimeout(function(){f.revokeObjectURL(u.href)},4e4),setTimeout(function(){s(u)},0))}:"msSaveOrOpenBlob"in navigator?function(A,d,h){if(d=d||A.name||"download",typeof A!="string")navigator.msSaveOrOpenBlob(r(A,h),d);else if(i(A))n(A,d,h);else{var f=document.createElement("a");f.href=A,f.target="_blank",setTimeout(function(){s(f)})}}:function(A,d,h,f){if(f=f||open("","_blank"),f&&(f.document.title=f.document.body.innerText="downloading..."),typeof A=="string")return n(A,d,h);var u=A.type==="application/octet-stream",g=/constructor/i.test(a.HTMLElement)||a.safari,m=/CriOS\/[\d]+/.test(navigator.userAgent);if((m||u&&g||o)&&typeof FileReader<"u"){var x=new FileReader;x.onloadend=function(){var w=x.result;w=m?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=w:location=w,f=null},x.readAsDataURL(A)}else{var p=a.URL||a.webkitURL,y=p.createObjectURL(A);f?f.location=y:location.href=y,f=null,setTimeout(function(){p.revokeObjectURL(y)},4e4)}});a.saveAs=c.saveAs=c,e.exports=c})})(fL);var pL=fL.exports;class aJ{htmlToDocxElements(t){if(!t)return[];const r=[],n=document.createElement("div");return n.innerHTML=t,Array.from(n.childNodes).forEach(i=>{const s=this.convertNodeToDocx(i);s&&(Array.isArray(s)?r.push(...s):r.push(s))}),r}convertNodeToDocx(t){var i;if(t.nodeType===Node.TEXT_NODE){const s=(i=t.textContent)==null?void 0:i.trim();return s?new Ri({children:[new ps(s)]}):null}if(t.nodeType!==Node.ELEMENT_NODE)return null;const r=t,n=r.tagName.toLowerCase();switch(n){case"h1":return this.convertHeading(r,qu.HEADING_1,{after:240});case"h2":return this.convertHeading(r,qu.HEADING_2,{after:240,before:240});case"h3":return this.convertHeading(r,qu.HEADING_3,{after:180,before:180});case"h4":return this.convertHeading(r,qu.HEADING_4,{after:120,before:120});case"p":return this.convertParagraph(r);case"ul":case"ol":return this.convertList(r,n==="ol");case"table":return this.convertTable(r);case"div":return this.convertDiv(r);case"blockquote":{const a=this.convertInlineElements(r);return new Ri({children:a.length>0?a:[new ps({text:this.getTextContent(r),italics:!0})],indent:{left:360},shading:{fill:"F9F9F9",type:Lg.SOLID}})}case"pre":case"code":{const a=this.convertInlineElements(r);return new Ri({children:a.length>0?a:[new ps({text:this.getTextContent(r),font:"Courier New"})],shading:{fill:"F5F5F5",type:Lg.SOLID},spacing:{after:120}})}default:const s=this.getTextContent(r);return s?new Ri({children:[new ps(s)]}):null}}convertHeading(t,r,n){const i=t.getAttribute("style")||"",s=this.extractColorFromStyle(i)||"#8B1A1A",a=this.convertInlineElementsWithColor(t,s);return new Ri({children:a.length>0?a:[new ps({text:this.getTextContent(t),color:this.hexToRgb(s)})],heading:r,spacing:n,alignment:this.extractAlignmentFromStyle(i)})}convertInlineElementsWithColor(t,r){const n=[],i=(s,a={})=>{if(a.color||(a.color=r),s.nodeType===Node.TEXT_NODE){const o=s.textContent;if(o&&o.trim()){const c={};a.bold&&(c.bold=!0),a.italic&&(c.italics=!0),a.underline&&(c.underline={type:vd.SINGLE}),a.color&&(c.color=this.hexToRgb(a.color)),a.fontSize&&(c.size=a.fontSize*2),a.font&&(c.font=a.font),n.push(new ps({text:o,...c}))}}else if(s.nodeType===Node.ELEMENT_NODE){const o=s,c=o.tagName.toLowerCase(),A=o.getAttribute("style")||"",d={...a};c==="strong"||c==="b"?d.bold=!0:c==="em"||c==="i"?d.italic=!0:c==="u"&&(d.underline=!0);const h=this.extractColorFromStyle(A);h&&(d.color=h);const f=this.extractFontSizeFromStyle(A);f&&(d.fontSize=f);const u=this.extractFontFamilyFromStyle(A);if(u&&(d.font=u),c==="a"){const g=o.getAttribute("href"),m=this.getTextContent(o);g?n.push(new ps({text:m||g,bold:d.bold,italics:d.italic,underline:d.underline?{type:vd.SINGLE}:void 0,color:d.color?this.hexToRgb(d.color):this.hexToRgb(r)})):Array.from(o.childNodes).forEach(x=>i(x,d))}else Array.from(o.childNodes).forEach(g=>i(g,d))}};if(Array.from(t.childNodes).forEach(s=>i(s,{color:r})),n.length===0){const s=this.getTextContent(t);s&&s.trim()&&n.push(new ps({text:s,color:this.hexToRgb(r)}))}return n}convertParagraph(t){const r=this.convertInlineElements(t),n=t.getAttribute("style")||"";return r.length===0&&r.push(new ps("")),new Ri({children:r,spacing:{after:120},alignment:this.extractAlignmentFromStyle(n),indent:this.extractIndentFromStyle(n)})}convertInlineElements(t){const r=[],n=(i,s={})=>{if(i.nodeType===Node.TEXT_NODE){const a=i.textContent;if(a){const o={};s.bold&&(o.bold=!0),s.italic&&(o.italics=!0),s.underline&&(o.underline={type:vd.SINGLE}),s.color&&(o.color=this.hexToRgb(s.color)),s.fontSize&&(o.size=s.fontSize*2),s.font&&(o.font=s.font),r.push(new ps({text:a,...o}))}}else if(i.nodeType===Node.ELEMENT_NODE){const a=i,o=a.tagName.toLowerCase(),c=a.getAttribute("style")||"",A={...s};o==="strong"||o==="b"?A.bold=!0:o==="em"||o==="i"?A.italic=!0:o==="u"&&(A.underline=!0);const d=this.extractColorFromStyle(c);d&&(A.color=d);const h=this.extractFontSizeFromStyle(c);h&&(A.fontSize=h);const f=this.extractFontFamilyFromStyle(c);if(f&&(A.font=f),o==="a"){const u=a.getAttribute("href"),g=this.getTextContent(a);u?r.push(new ps({text:g||u,bold:A.bold,italics:A.italic,underline:A.underline?{type:vd.SINGLE}:void 0,color:A.color?this.hexToRgb(A.color):"0563C1"})):Array.from(a.childNodes).forEach(m=>n(m,A))}else Array.from(a.childNodes).forEach(u=>n(u,A))}};return Array.from(t.childNodes).forEach(i=>n(i)),r}extractColorFromStyle(t){const r=t.match(/color:\s*([^;]+)/i);if(r){const n=r[1].trim();if(n.startsWith("#"))return n;const i=n.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);if(i){const s=parseInt(i[1]).toString(16).padStart(2,"0"),a=parseInt(i[2]).toString(16).padStart(2,"0"),o=parseInt(i[3]).toString(16).padStart(2,"0");return`#${s}${a}${o}`.toUpperCase()}}return null}extractFontSizeFromStyle(t){const r=t.match(/font-size:\s*(\d+(?:\.\d+)?)pt/i);if(r)return parseFloat(r[1]);const n=t.match(/font-size:\s*(\d+(?:\.\d+)?)px/i);return n?parseFloat(n[1])/1.33:null}extractFontFamilyFromStyle(t){const r=t.match(/font-family:\s*([^;]+)/i);return r?r[1].split(",")[0].trim().replace(/['"]/g,""):null}extractAlignmentFromStyle(t){return t.includes("text-align: center")?Ps.CENTER:t.includes("text-align: right")?Ps.RIGHT:t.includes("text-align: justify")?Ps.JUSTIFIED:Ps.LEFT}extractIndentFromStyle(t){const r={},n=t.match(/margin-left:\s*(\d+(?:\.\d+)?)(px|em|pt)/i);if(n){const s=parseFloat(n[1]),a=n[2].toLowerCase();a==="px"?r.left=s*15:a==="em"?r.left=s*240:a==="pt"&&(r.left=s*20)}const i=t.match(/text-indent:\s*(\d+(?:\.\d+)?)(px|em|pt)/i);if(i){const s=parseFloat(i[1]),a=i[2].toLowerCase();a==="px"?r.firstLine=s*15:a==="em"?r.firstLine=s*240:a==="pt"&&(r.firstLine=s*20)}return Object.keys(r).length>0?r:void 0}hexToRgb(t){return t=t.replace("#",""),t.length===3&&(t=t.split("").map(r=>r+r).join("")),t.toUpperCase()}convertList(t,r){var o;const n=[],i=t.querySelectorAll("li"),s=t.getAttribute("style")||"",a=((o=this.extractIndentFromStyle(s))==null?void 0:o.left)||360;return i.forEach((c,A)=>{const d=this.convertInlineElements(c),h=r?`${A+1}. `:"â€¢ ";n.push(new Ri({children:[new ps({text:h,bold:!0}),...d],indent:{left:a},spacing:{after:60}}))}),n}convertTable(t){const r=[];return t.querySelectorAll("tr").forEach(i=>{const s=[];i.querySelectorAll("th, td").forEach(o=>{const c=o.tagName.toLowerCase()==="th",A=o.getAttribute("style")||"",d=this.convertInlineElements(o);d.length===0&&d.push(new ps({text:this.getTextContent(o)}));const h=this.extractAlignmentFromStyle(A),f=this.extractBackgroundColorFromStyle(A);s.push(new JB({children:[new Ri({children:d,alignment:h})],shading:c?{fill:"F0F0F0",type:Lg.SOLID}:f?{fill:this.hexToRgb(f),type:Lg.SOLID}:void 0,verticalAlign:A.includes("vertical-align: top")?"top":void 0}))}),s.length>0&&r.push(new vX({children:s}))}),new gX({rows:r,width:{size:100,type:gy.PERCENTAGE},borders:{top:{style:hc.SINGLE,size:4,color:"333333"},bottom:{style:hc.SINGLE,size:4,color:"333333"},left:{style:hc.SINGLE,size:4,color:"333333"},right:{style:hc.SINGLE,size:4,color:"333333"},insideHorizontal:{style:hc.SINGLE,size:4,color:"333333"},insideVertical:{style:hc.SINGLE,size:4,color:"333333"}}})}extractBackgroundColorFromStyle(t){const r=t.match(/background-color:\s*([^;]+)/i);if(r){const n=r[1].trim();if(n.startsWith("#"))return n;const i=n.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);if(i){const o=parseInt(i[1]).toString(16).padStart(2,"0"),c=parseInt(i[2]).toString(16).padStart(2,"0"),A=parseInt(i[3]).toString(16).padStart(2,"0");return`#${o}${c}${A}`.toUpperCase()}const s={lightgray:"D3D3D3",lightgrey:"D3D3D3",gray:"808080",grey:"808080",white:"FFFFFF",black:"000000"},a=n.toLowerCase();if(s[a])return`#${s[a]}`}return null}convertDiv(t){const r=[];return Array.from(t.childNodes).forEach(n=>{const i=this.convertNodeToDocx(n);i&&(Array.isArray(i)?r.push(...i):r.push(i))}),r.length===0?null:r.length===1?r[0]:r}getTextContent(t){var r;return((r=t.textContent)==null?void 0:r.trim())||""}removeDuplicateSectionTitle(t,r){if(!t||!r)return t;const n=r.match(/(\d+\.\s*)?(.+)/),s=(n?n[2].trim():r.trim()).replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),o=[new RegExp(`<h[123][^>]*>\\s*${a}\\s*</h[123]>`,"gi"),new RegExp(`<h[123][^>]*>\\s*\\d+\\.\\s*${s}\\s*</h[123]>`,"gi"),new RegExp(`<h[123][^>]*>\\s*${s}\\s*</h[123]>`,"gi")];let c=t;for(const A of o)c=c.replace(A,"");return c.trim()}generateCoverPageElements(t,r,n,i,s){const a=(s==null?void 0:s.showProjectName)!==!1,o=[];return o.push(new Ri({text:"",spacing:{before:1440}})),a&&(o.push(new Ri({text:t||"Solution Design Document",heading:qu.HEADING_1,alignment:Ps.CENTER,spacing:{after:320}})),r&&o.push(new Ri({text:r,alignment:Ps.CENTER,spacing:{after:480}}))),o.push(new Ri({children:[new mV]})),o}async exportToWord(t,r){try{const{sections:n,generatedContent:i,projectContext:s,coverPageSettings:a}=t,o=n;console.log("ðŸ“„ Word Export - Processing sections:",{totalSections:o.length,sectionsWithContent:o.filter(h=>i[h.id]).length});const c=[],A=this.generateCoverPageElements(s||r||"Solution Design Document","",(a==null?void 0:a.version)||"1.0",(a==null?void 0:a.date)||new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"}),a);c.push(...A);for(const h of o)try{c.push(new Ri({text:h.title,heading:qu.HEADING_2,spacing:{before:240,after:240}}));let f=i[h.id];if(h.id==="table-of-contents"){const u=o.map(g=>{var m;return{...g,displayNumber:parseInt(((m=(g.title||"").match(/^(\d+)\./))==null?void 0:m[1])||"0")}});f=WA(u,i),(!f||f.trim()==="")&&(f="<p><em>Table of Contents will be generated once sections are created.</em></p>")}if(f){const u=this.removeDuplicateSectionTitle(f,h.title),g=this.htmlToDocxElements(u);c.push(...g)}else c.push(new Ri({children:[new ps({text:"Content pending generation.",italics:!0})],spacing:{after:120}}))}catch(f){console.error(`âŒ Error processing section ${h.title}:`,f),c.push(new Ri({children:[new ps({text:"Error loading content for this section.",italics:!0})],spacing:{after:120}}))}const d=new KY({sections:[{properties:{},children:c}],creator:"Equity Group Holdings PLC",title:"Solution Architecture Design Document",description:`Solution Design Document for ${r}`});try{console.log("ðŸ“„ Generating Word document blob...");const h=await sJ.toBlob(d);if(!h||h.size===0)throw new Error("Generated blob is empty");console.log("ðŸ“„ Blob generated successfully, size:",h.size,"bytes");const f=`Solution_Architecture_Design_${(r||"Document").replace(/\s+/g,"_")}.docx`;console.log("ðŸ“„ Saving file:",f),pL.saveAs(h,f),console.log("âœ… Word export completed successfully")}catch(h){throw console.error("âŒ Error generating Word document:",h),h instanceof Error?h.message.includes("blob")?new Error(`Failed to generate document blob: ${h.message}`):h.message.includes("save")?new Error(`Failed to save document: ${h.message}. Please check browser download permissions.`):new Error(`Word export failed: ${h.message}`):new Error(`Failed to generate Word document: ${String(h)}`)}}catch(n){throw console.error("âŒ Error in exportToWord:",n),n}}}class so{constructor(){Br(this,"_db",null)}async getDb(){return this._db||(this._db=await Jo()),this._db}escapeString(t){return t==null?"NULL":`'${t.replace(/'/g,"''")}'`}getCurrentUserId(){const t=nA.getCurrentUser();if(!t)throw new Error("User must be authenticated to perform this operation");return t.id}async verifyProjectOwnership(t){const r=this.getCurrentUserId(),n=await this.getProjectById(t);if(!n)throw new Error("Project not found");if(n.userId!==r)throw new Error("Access denied: Project does not belong to current user")}async createProject(t){const r=this.getCurrentUserId(),n=crypto.randomUUID(),i=new Date().toISOString(),s={id:n,name:t.name,description:t.description,userId:r,selectedSectionIds:t.selectedSectionIds,customSections:t.customSections,customSectionSubsections:t.customSectionSubsections,coverPageSettings:t.coverPageSettings,createdAt:new Date(i),updatedAt:new Date(i)},a=await this.getDb();let o=!1,c=!1;try{const A=a.exec("PRAGMA table_info(Project)");if(A.length>0){const d=A[0].values.map(h=>h[1]);o=d.includes("customSectionSubsections"),c=d.includes("userId")}}catch(A){console.warn("Could not check for Project columns:",A)}if(o&&c)a.run(`INSERT INTO Project (id, name, description, userId, selectedSectionIds, customSections, customSectionSubsections, coverPageSettings, createdAt, updatedAt)
         VALUES (${this.escapeString(s.id)}, ${this.escapeString(s.name)}, ${this.escapeString(s.description)}, 
                 ${this.escapeString(s.userId)}, 
                 ${this.escapeString(s.selectedSectionIds?JSON.stringify(s.selectedSectionIds):null)}, 
                 ${this.escapeString(s.customSections?JSON.stringify(s.customSections):null)}, 
                 ${this.escapeString(s.customSectionSubsections?JSON.stringify(s.customSectionSubsections):null)}, 
                 ${this.escapeString(s.coverPageSettings?JSON.stringify(s.coverPageSettings):null)}, 
                 ${this.escapeString(i)}, ${this.escapeString(i)})`);else if(c)a.run(`INSERT INTO Project (id, name, description, userId, selectedSectionIds, customSections, coverPageSettings, createdAt, updatedAt)
         VALUES (${this.escapeString(s.id)}, ${this.escapeString(s.name)}, ${this.escapeString(s.description)}, 
                 ${this.escapeString(s.userId)}, 
                 ${this.escapeString(s.selectedSectionIds?JSON.stringify(s.selectedSectionIds):null)}, 
                 ${this.escapeString(s.customSections?JSON.stringify(s.customSections):null)}, 
                 ${this.escapeString(s.coverPageSettings?JSON.stringify(s.coverPageSettings):null)}, 
                 ${this.escapeString(i)}, ${this.escapeString(i)})`);else throw new Error("Database schema is outdated. Please refresh the page to run migrations.");return await Cr(),s}async getAllProjects(){const t=this.getCurrentUserId(),r=await this.getDb();let n=!1,i=!1;try{const A=r.exec("PRAGMA table_info(Project)");if(A.length>0){const d=A[0].values.map(h=>h[1]);n=d.includes("customSectionSubsections"),i=d.includes("userId")}}catch(A){console.warn("Could not check for Project columns:",A)}const s=n&&i?"id, name, description, userId, selectedSectionIds, customSections, customSectionSubsections, coverPageSettings, createdAt, updatedAt":i?"id, name, description, userId, selectedSectionIds, customSections, coverPageSettings, createdAt, updatedAt":"id, name, description, selectedSectionIds, customSections, coverPageSettings, createdAt, updatedAt",a=i?`SELECT ${s} FROM Project WHERE userId = ${this.escapeString(t)} ORDER BY createdAt DESC`:`SELECT ${s} FROM Project WHERE 1=0`,o=r.exec(a);return o.length?o[0].values.map(A=>this.mapProjectRow(A,n,i)):[]}async getProjectById(t){const r=this.getCurrentUserId(),n=await this.getDb();let i=!1,s=!1;try{const A=n.exec("PRAGMA table_info(Project)");if(A.length>0){const d=A[0].values.map(h=>h[1]);i=d.includes("customSectionSubsections"),s=d.includes("userId")}}catch(A){console.warn("Could not check for Project columns:",A)}const a=i&&s?"id, name, description, userId, selectedSectionIds, customSections, customSectionSubsections, coverPageSettings, createdAt, updatedAt":s?"id, name, description, userId, selectedSectionIds, customSections, coverPageSettings, createdAt, updatedAt":"id, name, description, selectedSectionIds, customSections, coverPageSettings, createdAt, updatedAt",o=s?`SELECT ${a} FROM Project WHERE id = ${this.escapeString(t)} AND userId = ${this.escapeString(r)}`:`SELECT ${a} FROM Project WHERE id = ${this.escapeString(t)} AND 1=0`,c=n.exec(o);return!c.length||!c[0].values.length?null:this.mapProjectRow(c[0].values[0],i,s)}async updateProject(t,r){await this.verifyProjectOwnership(t);const n=await this.getProjectById(t);if(!n)throw new Error("Project not found");const i={...n,...r,updatedAt:new Date};return(await this.getDb()).run(`UPDATE Project 
       SET name = ${this.escapeString(i.name)}, 
           description = ${this.escapeString(i.description)}, 
           selectedSectionIds = ${this.escapeString(i.selectedSectionIds?JSON.stringify(i.selectedSectionIds):null)}, 
           customSections = ${this.escapeString(i.customSections?JSON.stringify(i.customSections):null)}, 
           customSectionSubsections = ${this.escapeString(i.customSectionSubsections?JSON.stringify(i.customSectionSubsections):null)}, 
           coverPageSettings = ${this.escapeString(i.coverPageSettings?JSON.stringify(i.coverPageSettings):null)}, 
           updatedAt = ${this.escapeString(i.updatedAt.toISOString())}
       WHERE id = ${this.escapeString(t)}`),await Cr(),i}async deleteProject(t){await this.verifyProjectOwnership(t);const r=await this.getDb();r.run(`DELETE FROM Approval WHERE projectId = ${this.escapeString(t)}`),r.run(`DELETE FROM Approver WHERE projectId = ${this.escapeString(t)}`),r.run(`DELETE FROM ProjectArtifact WHERE projectId = ${this.escapeString(t)}`),r.run(`DELETE FROM GeneratedSection WHERE projectId = ${this.escapeString(t)}`),r.run(`DELETE FROM ADR WHERE projectId = ${this.escapeString(t)}`),r.run(`DELETE FROM UMLDiagram WHERE projectId = ${this.escapeString(t)}`),r.run(`DELETE FROM ChatMessage WHERE projectId = ${this.escapeString(t)}`),r.run(`DELETE FROM Project WHERE id = ${this.escapeString(t)}`),await Cr()}async addArtifact(t){await this.verifyProjectOwnership(t.projectId);const r=crypto.randomUUID(),n=new Date().toISOString(),i={id:r,projectId:t.projectId,fileName:t.fileName,fileType:t.fileType,fileSize:t.fileSize,fileContent:t.fileContent,artifactType:t.artifactType,uploadedAt:new Date(n)};return(await this.getDb()).run(`INSERT INTO ProjectArtifact (id, projectId, fileName, fileType, fileSize, fileContent, artifactType, uploadedAt)
       VALUES (${this.escapeString(i.id)}, ${this.escapeString(i.projectId)}, ${this.escapeString(i.fileName)}, 
               ${this.escapeString(i.fileType)}, ${i.fileSize}, ${this.escapeString(i.fileContent)}, 
               ${this.escapeString(i.artifactType)}, ${this.escapeString(n)})`),await Cr(),i}async getArtifactsByProject(t){await this.verifyProjectOwnership(t);const n=(await this.getDb()).exec(`SELECT * FROM ProjectArtifact WHERE projectId = ${this.escapeString(t)} ORDER BY uploadedAt`);return n.length?n[0].values.map(s=>this.mapArtifactRow(s)):[]}async deleteArtifact(t){(await this.getDb()).run(`DELETE FROM ProjectArtifact WHERE id = ${this.escapeString(t)}`),await Cr()}async saveGeneratedSection(t,r,n,i,s,a){const o=await this.getDb();await this.ensureGeneratedSectionColumns(o);const c=s?await this.getGeneratedSectionById(t,r,s):await this.getGeneratedSection(t,r),A=new Date().toISOString();if(c){const d={...c,sectionTitle:n,content:i,parentSectionId:s,order:a,updatedAt:new Date(A)};return o.run(`UPDATE GeneratedSection 
         SET sectionTitle = ${this.escapeString(n)}, 
             content = ${this.escapeString(i)},
             parentSectionId = ${s?this.escapeString(s):"NULL"},
             "order" = ${a!==void 0?a:"NULL"},
             updatedAt = ${this.escapeString(A)}
         WHERE id = ${this.escapeString(c.id)}`),await Cr(),d}else{const d=crypto.randomUUID(),h={id:d,projectId:t,sectionId:r,sectionTitle:n,content:i,parentSectionId:s,order:a,generatedAt:new Date(A),updatedAt:new Date(A)};return o.run(`INSERT INTO GeneratedSection (id, projectId, sectionId, sectionTitle, content, parentSectionId, "order", generatedAt, updatedAt)
         VALUES (${this.escapeString(d)}, ${this.escapeString(t)}, ${this.escapeString(r)}, 
                 ${this.escapeString(n)}, ${this.escapeString(i)}, 
                 ${s?this.escapeString(s):"NULL"}, 
                 ${a!==void 0?a:"NULL"}, 
                 ${this.escapeString(A)}, ${this.escapeString(A)})`),await Cr(),h}}async ensureGeneratedSectionColumns(t){try{const r=t.exec("PRAGMA table_info(GeneratedSection)");if(r.length>0){const n=r[0].values.map(a=>a[1]),i=n.includes("parentSectionId"),s=n.includes("order");if(i||(t.run("ALTER TABLE GeneratedSection ADD COLUMN parentSectionId TEXT"),console.log("âœ… Added parentSectionId column to GeneratedSection table")),s||(t.run('ALTER TABLE GeneratedSection ADD COLUMN "order" INTEGER'),console.log("âœ… Added order column to GeneratedSection table")),!i)try{t.run("CREATE INDEX IF NOT EXISTS idx_GeneratedSection_parentSectionId ON GeneratedSection(parentSectionId)")}catch{}(!i||!s)&&await Cr()}}catch(r){console.warn("Could not ensure GeneratedSection columns:",r)}}async getGeneratedSectionById(t,r,n){const i=await this.getDb();await this.ensureGeneratedSectionColumns(i);const s=i.exec(`SELECT * FROM GeneratedSection 
       WHERE projectId = ${this.escapeString(t)} 
       AND sectionId = ${this.escapeString(r)}
       AND parentSectionId = ${this.escapeString(n)}`);return!s.length||!s[0].values.length?null:this.mapSectionRow(s[0].values[0])}async getGeneratedSectionsByProject(t){const r=await this.getDb();await this.ensureGeneratedSectionColumns(r);const n=r.exec(`SELECT * FROM GeneratedSection 
       WHERE projectId = ${this.escapeString(t)} 
       AND (parentSectionId IS NULL OR parentSectionId = '')
       ORDER BY "order" ASC, generatedAt ASC`);return n.length?n[0].values.map(s=>this.mapSectionRow(s)):[]}async getGeneratedSection(t,r){const n=await this.getDb();await this.ensureGeneratedSectionColumns(n);const i=n.exec(`SELECT * FROM GeneratedSection 
       WHERE projectId = ${this.escapeString(t)} 
       AND sectionId = ${this.escapeString(r)}
       AND (parentSectionId IS NULL OR parentSectionId = '')`);return!i.length||!i[0].values.length?null:this.mapSectionRow(i[0].values[0])}async getSubSections(t){const r=await this.getDb();await this.ensureGeneratedSectionColumns(r);const n=r.exec(`SELECT * FROM GeneratedSection 
       WHERE parentSectionId = ${this.escapeString(t)}
       ORDER BY "order" ASC, generatedAt ASC`);return n.length?n[0].values.map(s=>this.mapSectionRow(s)):[]}async deleteGeneratedSection(t){const r=await this.getDb();await this.ensureGeneratedSectionColumns(r);try{r.run(`DELETE FROM GeneratedSection WHERE parentSectionId = ${this.escapeString(t)}`)}catch(n){console.warn("Could not delete sub-sections (column might not exist):",n)}r.run(`DELETE FROM GeneratedSection WHERE id = ${this.escapeString(t)}`),await Cr()}async createADR(t){const r=crypto.randomUUID(),n=new Date().toISOString(),i={id:r,projectId:t.projectId,number:t.number,title:t.title,status:t.status,date:t.date,context:t.context,decision:t.decision,consequences:t.consequences,createdAt:new Date(n),updatedAt:new Date(n)};return(await this.getDb()).run(`INSERT INTO ADR (id, projectId, number, title, status, date, context, decision, consequences, createdAt, updatedAt)
       VALUES (${this.escapeString(r)}, ${this.escapeString(i.projectId)}, ${i.number}, ${this.escapeString(i.title)}, 
               ${this.escapeString(i.status)}, ${this.escapeString(i.date.toISOString())}, ${this.escapeString(i.context)}, 
               ${this.escapeString(i.decision)}, ${this.escapeString(i.consequences)}, ${this.escapeString(n)}, ${this.escapeString(n)})`),await Cr(),i}async getADRsByProject(t){const n=(await this.getDb()).exec(`SELECT * FROM ADR WHERE projectId = ${this.escapeString(t)} ORDER BY number`);return n.length?n[0].values.map(s=>this.mapADRRow(s)):[]}async getADRById(t){const n=(await this.getDb()).exec(`SELECT * FROM ADR WHERE id = ${this.escapeString(t)}`);return!n.length||!n[0].values.length?null:this.mapADRRow(n[0].values[0])}async updateADR(t,r){const n=await this.getADRById(t);if(!n)throw new Error("ADR not found");const i={...n,...r,updatedAt:new Date};return(await this.getDb()).run(`UPDATE ADR 
       SET number = ${i.number}, 
           title = ${this.escapeString(i.title)}, 
           status = ${this.escapeString(i.status)}, 
           date = ${this.escapeString(i.date.toISOString())}, 
           context = ${this.escapeString(i.context)}, 
           decision = ${this.escapeString(i.decision)}, 
           consequences = ${this.escapeString(i.consequences)}, 
           updatedAt = ${this.escapeString(i.updatedAt.toISOString())}
       WHERE id = ${this.escapeString(t)}`),await Cr(),i}async deleteADR(t){(await this.getDb()).run(`DELETE FROM ADR WHERE id = ${this.escapeString(t)}`),await Cr()}async createUMLDiagram(t){const r=crypto.randomUUID(),n=new Date().toISOString(),i={id:r,projectId:t.projectId,name:t.name,description:t.description,diagramType:t.diagramType,content:t.content,format:t.format,createdAt:new Date(n),updatedAt:new Date(n)};return(await this.getDb()).run(`INSERT INTO UMLDiagram (id, projectId, name, description, diagramType, content, format, createdAt, updatedAt)
       VALUES (${this.escapeString(r)}, ${this.escapeString(i.projectId)}, ${this.escapeString(i.name)}, 
               ${this.escapeString(i.description)}, ${this.escapeString(i.diagramType)}, 
               ${this.escapeString(i.content)}, ${this.escapeString(i.format)}, 
               ${this.escapeString(n)}, ${this.escapeString(n)})`),await Cr(),i}async getUMLDiagramsByProject(t){const n=(await this.getDb()).exec(`SELECT * FROM UMLDiagram WHERE projectId = ${this.escapeString(t)} ORDER BY createdAt`);return n.length?n[0].values.map(s=>this.mapUMLDiagramRow(s)):[]}async getUMLDiagramById(t){const n=(await this.getDb()).exec(`SELECT * FROM UMLDiagram WHERE id = ${this.escapeString(t)}`);return!n.length||!n[0].values.length?null:this.mapUMLDiagramRow(n[0].values[0])}async updateUMLDiagram(t,r){const n=await this.getUMLDiagramById(t);if(!n)throw new Error("UML Diagram not found");const i={...n,...r,updatedAt:new Date};return(await this.getDb()).run(`UPDATE UMLDiagram 
       SET name = ${this.escapeString(i.name)}, 
           description = ${this.escapeString(i.description)}, 
           diagramType = ${this.escapeString(i.diagramType)}, 
           content = ${this.escapeString(i.content)}, 
           format = ${this.escapeString(i.format)}, 
           updatedAt = ${this.escapeString(i.updatedAt.toISOString())}
       WHERE id = ${this.escapeString(t)}`),await Cr(),i}async deleteUMLDiagram(t){(await this.getDb()).run(`DELETE FROM UMLDiagram WHERE id = ${this.escapeString(t)}`),await Cr()}mapProjectRow(t,r=!0,n=!0){const i=a=>{var o;if(!(!a||a===null||a==="null")){if(typeof a!="string")return a;try{const c=a.trim();return!c||c==="null"||c===""||c==="NULL"?void 0:JSON.parse(c)}catch(c){console.warn("Failed to parse JSON value:",(o=a==null?void 0:a.substring)==null?void 0:o.call(a,0,50),c);return}}};let s;if(r&&n&&t.length>=10?s={id:String(t[0]),name:String(t[1]),description:String(t[2]),userId:String(t[3]),selectedSectionIds:i(t[4]),customSections:i(t[5]),customSectionSubsections:i(t[6]),coverPageSettings:i(t[7]),createdAt:new Date(String(t[8])),updatedAt:new Date(String(t[9]))}:n&&t.length>=9?s={id:String(t[0]),name:String(t[1]),description:String(t[2]),userId:String(t[3]),selectedSectionIds:i(t[4]),customSections:i(t[5]),coverPageSettings:i(t[6]),createdAt:new Date(String(t[7])),updatedAt:new Date(String(t[8]))}:r&&t.length>=9?s={id:String(t[0]),name:String(t[1]),description:String(t[2]),userId:"",selectedSectionIds:i(t[3]),customSections:i(t[4]),customSectionSubsections:i(t[5]),coverPageSettings:i(t[6]),createdAt:new Date(String(t[7])),updatedAt:new Date(String(t[8]))}:s={id:String(t[0]),name:String(t[1]),description:String(t[2]),userId:"",selectedSectionIds:i(t[3]),customSections:i(t[4]),customSectionSubsections:null,coverPageSettings:i(t[5]),createdAt:new Date(String(t[6])),updatedAt:new Date(String(t[7]))},!s.userId)try{s.userId=this.getCurrentUserId()}catch{throw new Error("Project missing userId. Please refresh the page to run database migrations.")}return{id:s.id||"",name:s.name||"",userId:s.userId||"",description:s.description||"",selectedSectionIds:i(s.selectedSectionIds),customSections:i(s.customSections),customSectionSubsections:i(s.customSectionSubsections),coverPageSettings:i(s.coverPageSettings),createdAt:s.createdAt?new Date(s.createdAt):new Date,updatedAt:s.updatedAt?new Date(s.updatedAt):new Date}}mapArtifactRow(t){const r=["id","projectId","fileName","fileType","fileSize","fileContent","artifactType","uploadedAt"],n={};return r.forEach((i,s)=>{n[i]=t[s]}),{id:n.id,projectId:n.projectId,fileName:n.fileName,fileType:n.fileType,fileSize:n.fileSize,fileContent:n.fileContent,artifactType:n.artifactType,uploadedAt:new Date(n.uploadedAt)}}mapSectionRow(t){const r=["id","projectId","sectionId","sectionTitle","content","parentSectionId","order","generatedAt","updatedAt"],n={};return r.forEach((i,s)=>{s<t.length&&(n[i]=t[s])}),{id:n.id,projectId:n.projectId,sectionId:n.sectionId,sectionTitle:n.sectionTitle,content:n.content,parentSectionId:n.parentSectionId||void 0,order:n.order!==null&&n.order!==void 0?Number(n.order):void 0,generatedAt:new Date(n.generatedAt),updatedAt:new Date(n.updatedAt)}}mapADRRow(t){const r=["id","projectId","number","title","status","date","context","decision","consequences","createdAt","updatedAt"],n={};return r.forEach((i,s)=>{n[i]=t[s]}),{id:n.id,projectId:n.projectId,number:n.number,title:n.title,status:n.status,date:new Date(n.date),context:n.context,decision:n.decision,consequences:n.consequences,createdAt:new Date(n.createdAt),updatedAt:new Date(n.updatedAt)}}mapUMLDiagramRow(t){const r=["id","projectId","name","description","diagramType","content","format","createdAt","updatedAt"],n={};return r.forEach((i,s)=>{n[i]=t[s]}),{id:n.id,projectId:n.projectId,name:n.name,description:n.description,diagramType:n.diagramType,content:n.content,format:n.format,createdAt:new Date(n.createdAt),updatedAt:new Date(n.updatedAt)}}async addApprover(t){const r=crypto.randomUUID(),n=new Date().toISOString(),i={id:r,projectId:t.projectId,email:t.email,name:t.name,role:t.role,addedAt:new Date(n),addedBy:t.addedBy};return(await this.getDb()).run(`INSERT INTO Approver (id, projectId, email, name, role, addedAt, addedBy)
       VALUES (${this.escapeString(r)}, ${this.escapeString(t.projectId)}, ${this.escapeString(t.email)}, 
               ${this.escapeString(t.name)}, ${this.escapeString(t.role||null)}, 
               ${this.escapeString(n)}, ${this.escapeString(t.addedBy||null)})`),await Cr(),i}async getApproversByProject(t){const n=(await this.getDb()).exec(`SELECT * FROM Approver WHERE projectId = ${this.escapeString(t)} ORDER BY addedAt`);return n.length?n[0].values.map(s=>this.mapApproverRow(s)):[]}async getApproverById(t){const n=(await this.getDb()).exec(`SELECT * FROM Approver WHERE id = ${this.escapeString(t)}`);return!n.length||!n[0].values.length?null:this.mapApproverRow(n[0].values[0])}async getApproverByEmail(t,r){const i=(await this.getDb()).exec(`SELECT * FROM Approver WHERE projectId = ${this.escapeString(t)} AND email = ${this.escapeString(r)}`);return!i.length||!i[0].values.length?null:this.mapApproverRow(i[0].values[0])}async updateApprover(t,r){const n=await this.getApproverById(t);if(!n)throw new Error("Approver not found");const i={...n,...r};return(await this.getDb()).run(`UPDATE Approver 
       SET email = ${this.escapeString(i.email)}, 
           name = ${this.escapeString(i.name)}, 
           role = ${this.escapeString(i.role||null)}
       WHERE id = ${this.escapeString(t)}`),await Cr(),i}async deleteApprover(t){const r=await this.getDb();r.run(`DELETE FROM Approval WHERE approverId = ${this.escapeString(t)}`),r.run(`DELETE FROM Approver WHERE id = ${this.escapeString(t)}`),await Cr()}async createApproval(t){const r=await this.getApprovalByApprover(t.projectId,t.approverId),n=new Date().toISOString();if(r){const i={...r,status:t.status||r.status,signature:t.signature!==void 0?t.signature:r.signature,comments:t.comments!==void 0?t.comments:r.comments,signedAt:t.signature?new Date(n):r.signedAt,approvedAt:t.status==="APPROVED"||t.status==="SIGNED"?new Date(n):r.approvedAt,updatedAt:new Date(n)};return(await this.getDb()).run(`UPDATE Approval 
         SET status = ${this.escapeString(i.status)}, 
             signature = ${this.escapeString(i.signature||null)}, 
             comments = ${this.escapeString(i.comments||null)}, 
             signedAt = ${i.signedAt?this.escapeString(i.signedAt.toISOString()):"NULL"}, 
             approvedAt = ${i.approvedAt?this.escapeString(i.approvedAt.toISOString()):"NULL"}, 
             updatedAt = ${this.escapeString(n)}
         WHERE id = ${this.escapeString(r.id)}`),await Cr(),i}else{const i=crypto.randomUUID(),s={id:i,projectId:t.projectId,approverId:t.approverId,status:t.status||"PENDING",signature:t.signature,comments:t.comments,signedAt:t.signature?new Date(n):void 0,approvedAt:t.status==="APPROVED"||t.status==="SIGNED"?new Date(n):void 0,createdAt:new Date(n),updatedAt:new Date(n)};return(await this.getDb()).run(`INSERT INTO Approval (id, projectId, approverId, status, signature, comments, signedAt, approvedAt, createdAt, updatedAt)
         VALUES (${this.escapeString(i)}, ${this.escapeString(t.projectId)}, ${this.escapeString(t.approverId)}, 
                 ${this.escapeString(s.status)}, ${this.escapeString(s.signature||null)}, 
                 ${this.escapeString(s.comments||null)}, 
                 ${s.signedAt?this.escapeString(s.signedAt.toISOString()):"NULL"}, 
                 ${s.approvedAt?this.escapeString(s.approvedAt.toISOString()):"NULL"}, 
                 ${this.escapeString(n)}, ${this.escapeString(n)})`),await Cr(),s}}async getApprovalsByProject(t){const n=(await this.getDb()).exec(`SELECT * FROM Approval WHERE projectId = ${this.escapeString(t)} ORDER BY createdAt`);if(!n.length)return[];const s=n[0].values.map(a=>this.mapApprovalRow(a));for(const a of s)if(a.approverId){const o=await this.getApproverById(a.approverId);o&&(a.approver=o)}return s}async getApprovalById(t){const n=(await this.getDb()).exec(`SELECT * FROM Approval WHERE id = ${this.escapeString(t)}`);if(!n.length||!n[0].values.length)return null;const i=this.mapApprovalRow(n[0].values[0]);if(i.approverId){const s=await this.getApproverById(i.approverId);s&&(i.approver=s)}return i}async getApprovalByApprover(t,r){const i=(await this.getDb()).exec(`SELECT * FROM Approval WHERE projectId = ${this.escapeString(t)} AND approverId = ${this.escapeString(r)}`);return!i.length||!i[0].values.length?null:this.mapApprovalRow(i[0].values[0])}async updateApproval(t,r){const n=await this.getApprovalById(t);if(!n)throw new Error("Approval not found");const i=new Date().toISOString(),s={...n,status:r.status!==void 0?r.status:n.status,signature:r.signature!==void 0?r.signature:n.signature,comments:r.comments!==void 0?r.comments:n.comments,signedAt:r.signature?n.signedAt||new Date(i):n.signedAt,approvedAt:r.status==="APPROVED"||r.status==="SIGNED"?n.approvedAt||new Date(i):n.approvedAt,updatedAt:new Date(i)};return(await this.getDb()).run(`UPDATE Approval 
       SET status = ${this.escapeString(s.status)}, 
           signature = ${this.escapeString(s.signature||null)}, 
           comments = ${this.escapeString(s.comments||null)}, 
           signedAt = ${s.signedAt?this.escapeString(s.signedAt.toISOString()):"NULL"}, 
           approvedAt = ${s.approvedAt?this.escapeString(s.approvedAt.toISOString()):"NULL"}, 
           updatedAt = ${this.escapeString(i)}
       WHERE id = ${this.escapeString(t)}`),await Cr(),s}async deleteApproval(t){(await this.getDb()).run(`DELETE FROM Approval WHERE id = ${this.escapeString(t)}`),await Cr()}async addChatMessage(t){const r=await this.getDb();try{r.run(`
        CREATE TABLE IF NOT EXISTS ChatMessage (
          id TEXT PRIMARY KEY,
          projectId TEXT,
          role TEXT NOT NULL,
          content TEXT NOT NULL,
          timestamp TEXT NOT NULL,
          capabilityType TEXT,
          createdAt TEXT NOT NULL
        )
      `),await Cr()}catch(a){console.warn("ChatMessage table may already exist:",a)}const n=crypto.randomUUID(),i=new Date().toISOString(),s=t.timestamp.toISOString();return r.run(`
      INSERT INTO ChatMessage (id, projectId, role, content, timestamp, capabilityType, createdAt)
      VALUES (
        ${this.escapeString(n)},
        ${t.projectId?this.escapeString(t.projectId):"NULL"},
        ${this.escapeString(t.role)},
        ${this.escapeString(t.content)},
        ${this.escapeString(s)},
        ${t.capabilityType?this.escapeString(t.capabilityType):"NULL"},
        ${this.escapeString(i)}
      )
    `),await Cr(),{id:n,projectId:t.projectId,role:t.role,content:t.content,timestamp:t.timestamp,capabilityType:t.capabilityType||null,createdAt:new Date(i)}}async getChatMessagesByProject(t){const r=await this.getDb();try{r.run(`
        CREATE TABLE IF NOT EXISTS ChatMessage (
          id TEXT PRIMARY KEY,
          projectId TEXT,
          role TEXT NOT NULL,
          content TEXT NOT NULL,
          timestamp TEXT NOT NULL,
          capabilityType TEXT,
          createdAt TEXT NOT NULL
        )
      `),await Cr()}catch(s){console.warn("ChatMessage table may already exist:",s)}let n;return t===null?n=r.exec("SELECT * FROM ChatMessage WHERE projectId IS NULL ORDER BY timestamp ASC"):n=r.exec(`SELECT * FROM ChatMessage WHERE projectId = ${this.escapeString(t)} ORDER BY timestamp ASC`),n.length===0?[]:n[0].values.map(s=>this.mapChatMessageRow(s))}async deleteChatMessagesByProject(t){const r=await this.getDb();t===null?r.run("DELETE FROM ChatMessage WHERE projectId IS NULL"):r.run(`DELETE FROM ChatMessage WHERE projectId = ${this.escapeString(t)}`),await Cr()}async deleteChatMessage(t){(await this.getDb()).run(`DELETE FROM ChatMessage WHERE id = ${this.escapeString(t)}`),await Cr()}mapApproverRow(t){const r=["id","projectId","email","name","role","addedAt","addedBy"],n={};return r.forEach((i,s)=>{n[i]=t[s]}),{id:n.id,projectId:n.projectId,email:n.email,name:n.name,role:n.role||void 0,addedAt:new Date(n.addedAt),addedBy:n.addedBy||void 0}}mapApprovalRow(t){const r=["id","projectId","approverId","status","signature","comments","signedAt","approvedAt","createdAt","updatedAt"],n={};return r.forEach((i,s)=>{n[i]=t[s]}),{id:n.id,projectId:n.projectId,approverId:n.approverId,status:n.status,signature:n.signature||void 0,comments:n.comments||void 0,signedAt:n.signedAt?new Date(n.signedAt):void 0,approvedAt:n.approvedAt?new Date(n.approvedAt):void 0,createdAt:new Date(n.createdAt),updatedAt:new Date(n.updatedAt)}}mapChatMessageRow(t){const r=["id","projectId","role","content","timestamp","capabilityType","createdAt"],n={};return r.forEach((i,s)=>{n[i]=t[s]}),{id:n.id,projectId:n.projectId||null,role:n.role,content:n.content,timestamp:new Date(n.timestamp),capabilityType:n.capabilityType||null,createdAt:new Date(n.createdAt)}}}var mL={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(la,function(){var r=function(N,D){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,ie){V.__proto__=ie}||function(V,ie){for(var he in ie)Object.prototype.hasOwnProperty.call(ie,he)&&(V[he]=ie[he])})(N,D)},n=function(){return(n=Object.assign||function(N){for(var D,V=1,ie=arguments.length;V<ie;V++)for(var he in D=arguments[V])Object.prototype.hasOwnProperty.call(D,he)&&(N[he]=D[he]);return N}).apply(this,arguments)};function i(N,D,V){if(V||arguments.length===2)for(var ie,he=0,ve=D.length;he<ve;he++)!ie&&he in D||((ie=ie||Array.prototype.slice.call(D,0,he))[he]=D[he]);return N.concat(ie||Array.prototype.slice.call(D))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:la,a=Object.keys,o=Array.isArray;function c(N,D){return typeof D!="object"||a(D).forEach(function(V){N[V]=D[V]}),N}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var A=Object.getPrototypeOf,d={}.hasOwnProperty;function h(N,D){return d.call(N,D)}function f(N,D){typeof D=="function"&&(D=D(A(N))),(typeof Reflect>"u"?a:Reflect.ownKeys)(D).forEach(function(V){g(N,V,D[V])})}var u=Object.defineProperty;function g(N,D,V,ie){u(N,D,c(V&&h(V,"get")&&typeof V.get=="function"?{get:V.get,set:V.set,configurable:!0}:{value:V,configurable:!0,writable:!0},ie))}function m(N){return{from:function(D){return N.prototype=Object.create(D.prototype),g(N.prototype,"constructor",N),{extend:f.bind(null,N.prototype)}}}}var x=Object.getOwnPropertyDescriptor,p=[].slice;function y(N,D,V){return p.call(N,D,V)}function w(N,D){return D(N)}function b(N){if(!N)throw new Error("Assertion Failed")}function I(N){s.setImmediate?setImmediate(N):setTimeout(N,0)}function F(N,D){if(typeof D=="string"&&h(N,D))return N[D];if(!D)return N;if(typeof D!="string"){for(var V=[],ie=0,he=D.length;ie<he;++ie){var ve=F(N,D[ie]);V.push(ve)}return V}var Ie=D.indexOf(".");if(Ie!==-1){var De=N[D.substr(0,Ie)];return De==null?void 0:F(De,D.substr(Ie+1))}}function R(N,D,V){if(N&&D!==void 0&&!("isFrozen"in Object&&Object.isFrozen(N)))if(typeof D!="string"&&"length"in D){b(typeof V!="string"&&"length"in V);for(var ie=0,he=D.length;ie<he;++ie)R(N,D[ie],V[ie])}else{var ve,Ie,De=D.indexOf(".");De!==-1?(ve=D.substr(0,De),(Ie=D.substr(De+1))===""?V===void 0?o(N)&&!isNaN(parseInt(ve))?N.splice(ve,1):delete N[ve]:N[ve]=V:R(De=!(De=N[ve])||!h(N,ve)?N[ve]={}:De,Ie,V)):V===void 0?o(N)&&!isNaN(parseInt(D))?N.splice(D,1):delete N[D]:N[D]=V}}function Q(N){var D,V={};for(D in N)h(N,D)&&(V[D]=N[D]);return V}var k=[].concat;function $(N){return k.apply([],N)}var _e="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat($([8,16,32,64].map(function(N){return["Int","Uint","Float"].map(function(D){return D+N+"Array"})}))).filter(function(N){return s[N]}),q=new Set(_e.map(function(N){return s[N]})),T=null;function K(N){return T=new WeakMap,N=function D(V){if(!V||typeof V!="object")return V;var ie=T.get(V);if(ie)return ie;if(o(V)){ie=[],T.set(V,ie);for(var he=0,ve=V.length;he<ve;++he)ie.push(D(V[he]))}else if(q.has(V.constructor))ie=V;else{var Ie,De=A(V);for(Ie in ie=De===Object.prototype?{}:Object.create(De),T.set(V,ie),V)h(V,Ie)&&(ie[Ie]=D(V[Ie]))}return ie}(N),T=null,N}var v={}.toString;function re(N){return v.call(N).slice(8,-1)}var ge=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Y=typeof ge=="symbol"?function(N){var D;return N!=null&&(D=N[ge])&&D.apply(N)}:function(){return null};function fe(N,D){return D=N.indexOf(D),0<=D&&N.splice(D,1),0<=D}var le={};function ne(N){var D,V,ie,he;if(arguments.length===1){if(o(N))return N.slice();if(this===le&&typeof N=="string")return[N];if(he=Y(N)){for(V=[];!(ie=he.next()).done;)V.push(ie.value);return V}if(N==null)return[N];if(typeof(D=N.length)!="number")return[N];for(V=new Array(D);D--;)V[D]=N[D];return V}for(D=arguments.length,V=new Array(D);D--;)V[D]=arguments[D];return V}var ae=typeof Symbol<"u"?function(N){return N[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ue=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ai=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ue),_={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function O(N,D){this.name=N,this.message=D}function G(N,D){return N+". Errors: "+Object.keys(D).map(function(V){return D[V].toString()}).filter(function(V,ie,he){return he.indexOf(V)===ie}).join(`
`)}function oe(N,D,V,ie){this.failures=D,this.failedKeys=ie,this.successCount=V,this.message=G(N,D)}function Ae(N,D){this.name="BulkError",this.failures=Object.keys(D).map(function(V){return D[V]}),this.failuresByPos=D,this.message=G(N,this.failures)}m(O).from(Error).extend({toString:function(){return this.name+": "+this.message}}),m(oe).from(O),m(Ae).from(O);var U=Ai.reduce(function(N,D){return N[D]=D+"Error",N},{}),M=O,J=Ai.reduce(function(N,D){var V=D+"Error";function ie(he,ve){this.name=V,he?typeof he=="string"?(this.message="".concat(he).concat(ve?`
 `+ve:""),this.inner=ve||null):typeof he=="object"&&(this.message="".concat(he.name," ").concat(he.message),this.inner=he):(this.message=_[D]||V,this.inner=null)}return m(ie).from(M),N[D]=ie,N},{});J.Syntax=SyntaxError,J.Type=TypeError,J.Range=RangeError;var ce=Ue.reduce(function(N,D){return N[D+"Error"]=J[D],N},{}),ee=Ai.reduce(function(N,D){return["Syntax","Type","Range"].indexOf(D)===-1&&(N[D+"Error"]=J[D]),N},{});function Z(){}function me(N){return N}function B(N,D){return N==null||N===me?D:function(V){return D(N(V))}}function te(N,D){return function(){N.apply(this,arguments),D.apply(this,arguments)}}function H(N,D){return N===Z?D:function(){var V=N.apply(this,arguments);V!==void 0&&(arguments[0]=V);var ie=this.onsuccess,he=this.onerror;this.onsuccess=null,this.onerror=null;var ve=D.apply(this,arguments);return ie&&(this.onsuccess=this.onsuccess?te(ie,this.onsuccess):ie),he&&(this.onerror=this.onerror?te(he,this.onerror):he),ve!==void 0?ve:V}}function S(N,D){return N===Z?D:function(){N.apply(this,arguments);var V=this.onsuccess,ie=this.onerror;this.onsuccess=this.onerror=null,D.apply(this,arguments),V&&(this.onsuccess=this.onsuccess?te(V,this.onsuccess):V),ie&&(this.onerror=this.onerror?te(ie,this.onerror):ie)}}function E(N,D){return N===Z?D:function(V){var ie=N.apply(this,arguments);c(V,ie);var he=this.onsuccess,ve=this.onerror;return this.onsuccess=null,this.onerror=null,V=D.apply(this,arguments),he&&(this.onsuccess=this.onsuccess?te(he,this.onsuccess):he),ve&&(this.onerror=this.onerror?te(ve,this.onerror):ve),ie===void 0?V===void 0?void 0:V:c(ie,V)}}function P(N,D){return N===Z?D:function(){return D.apply(this,arguments)!==!1&&N.apply(this,arguments)}}function de(N,D){return N===Z?D:function(){var V=N.apply(this,arguments);if(V&&typeof V.then=="function"){for(var ie=this,he=arguments.length,ve=new Array(he);he--;)ve[he]=arguments[he];return V.then(function(){return D.apply(ie,ve)})}return D.apply(this,arguments)}}ee.ModifyError=oe,ee.DexieError=O,ee.BulkError=Ae;var ye=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ue(N){ye=N}var ke={},Oe=100,_e=typeof Promise>"u"?[]:function(){var N=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[N,A(N),N];var D=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[D,A(D),N]}(),Ue=_e[0],Ai=_e[1],_e=_e[2],Ai=Ai&&Ai.then,Me=Ue&&Ue.constructor,Ze=!!_e,ut=function(N,D){$t.push([N,D]),It&&(queueMicrotask(Gt),It=!1)},kt=!0,It=!0,ur=[],Ft=[],yt=me,Yt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Z,pgp:!1,env:{},finalize:Z},mt=Yt,$t=[],tr=0,fr=[];function Ct(N){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var D=this._PSD=mt;if(typeof N!="function"){if(N!==ke)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&st(this,this._value))}this._state=null,this._value=null,++D.ref,function V(ie,he){try{he(function(ve){if(ie._state===null){if(ve===ie)throw new TypeError("A promise cannot be resolved with itself.");var Ie=ie._lib&&Tr();ve&&typeof ve.then=="function"?V(ie,function(De,He){ve instanceof Ct?ve._then(De,He):ve.then(De,He)}):(ie._state=!0,ie._value=ve,et(ie)),Ie&&Lt()}},st.bind(null,ie))}catch(ve){st(ie,ve)}}(this,N)}var $e={get:function(){var N=mt,D=Gs;function V(ie,he){var ve=this,Ie=!N.global&&(N!==mt||D!==Gs),De=Ie&&!li(),He=new Ct(function(ze,Ve){qt(ve,new ct(Uo(ie,N,Ie,De),Uo(he,N,Ie,De),ze,Ve,N))});return this._consoleTask&&(He._consoleTask=this._consoleTask),He}return V.prototype=ke,V},set:function(N){g(this,"then",N&&N.prototype===ke?$e:{get:function(){return N},set:$e.set})}};function ct(N,D,V,ie,he){this.onFulfilled=typeof N=="function"?N:null,this.onRejected=typeof D=="function"?D:null,this.resolve=V,this.reject=ie,this.psd=he}function st(N,D){var V,ie;Ft.push(D),N._state===null&&(V=N._lib&&Tr(),D=yt(D),N._state=!1,N._value=D,ie=N,ur.some(function(he){return he._value===ie._value})||ur.push(ie),et(N),V&&Lt())}function et(N){var D=N._listeners;N._listeners=[];for(var V=0,ie=D.length;V<ie;++V)qt(N,D[V]);var he=N._PSD;--he.ref||he.finalize(),tr===0&&(++tr,ut(function(){--tr==0&&Dr()},[]))}function qt(N,D){if(N._state!==null){var V=N._state?D.onFulfilled:D.onRejected;if(V===null)return(N._state?D.resolve:D.reject)(N._value);++D.psd.ref,++tr,ut(Qt,[V,N,D])}else N._listeners.push(D)}function Qt(N,D,V){try{var ie,he=D._value;!D._state&&Ft.length&&(Ft=[]),ie=ye&&D._consoleTask?D._consoleTask.run(function(){return N(he)}):N(he),D._state||Ft.indexOf(he)!==-1||function(ve){for(var Ie=ur.length;Ie;)if(ur[--Ie]._value===ve._value)return ur.splice(Ie,1)}(D),V.resolve(ie)}catch(ve){V.reject(ve)}finally{--tr==0&&Dr(),--V.psd.ref||V.psd.finalize()}}function Gt(){Ti(Yt,function(){Tr()&&Lt()})}function Tr(){var N=kt;return It=kt=!1,N}function Lt(){var N,D,V;do for(;0<$t.length;)for(N=$t,$t=[],V=N.length,D=0;D<V;++D){var ie=N[D];ie[0].apply(null,ie[1])}while(0<$t.length);It=kt=!0}function Dr(){var N=ur;ur=[],N.forEach(function(ie){ie._PSD.onunhandled.call(null,ie._value,ie)});for(var D=fr.slice(0),V=D.length;V;)D[--V]()}function zr(N){return new Ct(ke,!1,N)}function Lr(N,D){var V=mt;return function(){var ie=Tr(),he=mt;try{return Ii(V,!0),N.apply(this,arguments)}catch(ve){D&&D(ve)}finally{Ii(he,!1),ie&&Lt()}}}f(Ct.prototype,{then:$e,_then:function(N,D){qt(this,new ct(null,null,N,D,mt))},catch:function(N){if(arguments.length===1)return this.then(null,N);var D=N,V=arguments[1];return typeof D=="function"?this.then(null,function(ie){return(ie instanceof D?V:zr)(ie)}):this.then(null,function(ie){return(ie&&ie.name===D?V:zr)(ie)})},finally:function(N){return this.then(function(D){return Ct.resolve(N()).then(function(){return D})},function(D){return Ct.resolve(N()).then(function(){return zr(D)})})},timeout:function(N,D){var V=this;return N<1/0?new Ct(function(ie,he){var ve=setTimeout(function(){return he(new J.Timeout(D))},N);V.then(ie,he).finally(clearTimeout.bind(null,ve))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&g(Ct.prototype,Symbol.toStringTag,"Dexie.Promise"),Yt.env=Ss(),f(Ct,{all:function(){var N=ne.apply(null,arguments).map(ki);return new Ct(function(D,V){N.length===0&&D([]);var ie=N.length;N.forEach(function(he,ve){return Ct.resolve(he).then(function(Ie){N[ve]=Ie,--ie||D(N)},V)})})},resolve:function(N){return N instanceof Ct?N:N&&typeof N.then=="function"?new Ct(function(D,V){N.then(D,V)}):new Ct(ke,!0,N)},reject:zr,race:function(){var N=ne.apply(null,arguments).map(ki);return new Ct(function(D,V){N.map(function(ie){return Ct.resolve(ie).then(D,V)})})},PSD:{get:function(){return mt},set:function(N){return mt=N}},totalEchoes:{get:function(){return Gs}},newPSD:Yr,usePSD:Ti,scheduler:{get:function(){return ut},set:function(N){ut=N}},rejectionMapper:{get:function(){return yt},set:function(N){yt=N}},follow:function(N,D){return new Ct(function(V,ie){return Yr(function(he,ve){var Ie=mt;Ie.unhandleds=[],Ie.onunhandled=ve,Ie.finalize=te(function(){var De,He=this;De=function(){He.unhandleds.length===0?he():ve(He.unhandleds[0])},fr.push(function ze(){De(),fr.splice(fr.indexOf(ze),1)}),++tr,ut(function(){--tr==0&&Dr()},[])},Ie.finalize),N()},D,V,ie)})}}),Me&&(Me.allSettled&&g(Ct,"allSettled",function(){var N=ne.apply(null,arguments).map(ki);return new Ct(function(D){N.length===0&&D([]);var V=N.length,ie=new Array(V);N.forEach(function(he,ve){return Ct.resolve(he).then(function(Ie){return ie[ve]={status:"fulfilled",value:Ie}},function(Ie){return ie[ve]={status:"rejected",reason:Ie}}).then(function(){return--V||D(ie)})})})}),Me.any&&typeof AggregateError<"u"&&g(Ct,"any",function(){var N=ne.apply(null,arguments).map(ki);return new Ct(function(D,V){N.length===0&&V(new AggregateError([]));var ie=N.length,he=new Array(ie);N.forEach(function(ve,Ie){return Ct.resolve(ve).then(function(De){return D(De)},function(De){he[Ie]=De,--ie||V(new AggregateError(he))})})})}),Me.withResolvers&&(Ct.withResolvers=Me.withResolvers));var _r={awaits:0,echoes:0,id:0},Fn=0,gn=[],Mn=0,Gs=0,Ws=0;function Yr(N,D,V,ie){var he=mt,ve=Object.create(he);return ve.parent=he,ve.ref=0,ve.global=!1,ve.id=++Ws,Yt.env,ve.env=Ze?{Promise:Ct,PromiseProp:{value:Ct,configurable:!0,writable:!0},all:Ct.all,race:Ct.race,allSettled:Ct.allSettled,any:Ct.any,resolve:Ct.resolve,reject:Ct.reject}:{},D&&c(ve,D),++he.ref,ve.finalize=function(){--this.parent.ref||this.parent.finalize()},ie=Ti(ve,N,V,ie),ve.ref===0&&ve.finalize(),ie}function Ni(){return _r.id||(_r.id=++Fn),++_r.awaits,_r.echoes+=Oe,_r.id}function li(){return!!_r.awaits&&(--_r.awaits==0&&(_r.id=0),_r.echoes=_r.awaits*Oe,!0)}function ki(N){return _r.echoes&&N&&N.constructor===Me?(Ni(),N.then(function(D){return li(),D},function(D){return li(),an(D)})):N}function Es(){var N=gn[gn.length-1];gn.pop(),Ii(N,!1)}function Ii(N,D){var V,ie=mt;(D?!_r.echoes||Mn++&&N===mt:!Mn||--Mn&&N===mt)||queueMicrotask(D?(function(he){++Gs,_r.echoes&&--_r.echoes!=0||(_r.echoes=_r.awaits=_r.id=0),gn.push(mt),Ii(he,!0)}).bind(null,N):Es),N!==mt&&(mt=N,ie===Yt&&(Yt.env=Ss()),Ze&&(V=Yt.env.Promise,D=N.env,(ie.global||N.global)&&(Object.defineProperty(s,"Promise",D.PromiseProp),V.all=D.all,V.race=D.race,V.resolve=D.resolve,V.reject=D.reject,D.allSettled&&(V.allSettled=D.allSettled),D.any&&(V.any=D.any))))}function Ss(){var N=s.Promise;return Ze?{Promise:N,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:N.all,race:N.race,allSettled:N.allSettled,any:N.any,resolve:N.resolve,reject:N.reject}:{}}function Ti(N,D,V,ie,he){var ve=mt;try{return Ii(N,!0),D(V,ie,he)}finally{Ii(ve,!1)}}function Uo(N,D,V,ie){return typeof N!="function"?N:function(){var he=mt;V&&Ni(),Ii(D,!0);try{return N.apply(this,arguments)}finally{Ii(he,!1),ie&&queueMicrotask(li)}}}function mi(N){Promise===Me&&_r.echoes===0?Mn===0?N():enqueueNativeMicroTask(N):setTimeout(N,0)}(""+Ai).indexOf("[native code]")===-1&&(Ni=li=Z);var an=Ct.reject,$s=String.fromCharCode(65535),Ji="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ul="String expected.",ls=[],Fi="__dbnames",ha="readonly",Lo="readwrite";function ji(N,D){return N?D?function(){return N.apply(this,arguments)&&D.apply(this,arguments)}:N:D}var Do={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function co(N){return typeof N!="string"||/\./.test(N)?function(D){return D}:function(D){return D[N]===void 0&&N in D&&delete(D=K(D))[N],D}}function dl(){throw J.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function kr(N,D){try{var V=kc(N),ie=kc(D);if(V!==ie)return V==="Array"?1:ie==="Array"?-1:V==="binary"?1:ie==="binary"?-1:V==="string"?1:ie==="string"?-1:V==="Date"?1:ie!=="Date"?NaN:-1;switch(V){case"number":case"Date":case"string":return D<N?1:N<D?-1:0;case"binary":return function(he,ve){for(var Ie=he.length,De=ve.length,He=Ie<De?Ie:De,ze=0;ze<He;++ze)if(he[ze]!==ve[ze])return he[ze]<ve[ze]?-1:1;return Ie===De?0:Ie<De?-1:1}(un(N),un(D));case"Array":return function(he,ve){for(var Ie=he.length,De=ve.length,He=Ie<De?Ie:De,ze=0;ze<He;++ze){var Ve=kr(he[ze],ve[ze]);if(Ve!==0)return Ve}return Ie===De?0:Ie<De?-1:1}(N,D)}}catch{}return NaN}function kc(N){var D=typeof N;return D!="object"?D:ArrayBuffer.isView(N)?"binary":(N=re(N),N==="ArrayBuffer"?"binary":N)}function un(N){return N instanceof Uint8Array?N:ArrayBuffer.isView(N)?new Uint8Array(N.buffer,N.byteOffset,N.byteLength):new Uint8Array(N)}function Zr(N,D,V){var ie=N.schema.yProps;return ie?(D&&0<V.numFailures&&(D=D.filter(function(he,ve){return!V.failures[ve]})),Promise.all(ie.map(function(he){return he=he.updatesTable,D?N.db.table(he).where("k").anyOf(D).delete():N.db.table(he).clear()})).then(function(){return V})):V}var Zi=(cs.prototype.execute=function(N){var D=this["@@propmod"];if(D.add!==void 0){var V=D.add;if(o(V))return i(i([],o(N)?N:[],!0),V,!0).sort();if(typeof V=="number")return(Number(N)||0)+V;if(typeof V=="bigint")try{return BigInt(N)+V}catch{return BigInt(0)+V}throw new TypeError("Invalid term ".concat(V))}if(D.remove!==void 0){var ie=D.remove;if(o(ie))return o(N)?N.filter(function(he){return!ie.includes(he)}).sort():[];if(typeof ie=="number")return Number(N)-ie;if(typeof ie=="bigint")try{return BigInt(N)-ie}catch{return BigInt(0)-ie}throw new TypeError("Invalid subtrahend ".concat(ie))}return V=(V=D.replacePrefix)===null||V===void 0?void 0:V[0],V&&typeof N=="string"&&N.startsWith(V)?D.replacePrefix[1]+N.substring(V.length):N},cs);function cs(N){this["@@propmod"]=N}function Vs(N,D){for(var V=a(D),ie=V.length,he=!1,ve=0;ve<ie;++ve){var Ie=V[ve],De=D[Ie],He=F(N,Ie);De instanceof Zi?(R(N,Ie,De.execute(He)),he=!0):He!==De&&(R(N,Ie,De),he=!0)}return he}var Hi=(Gr.prototype._trans=function(N,D,V){var ie=this._tx||mt.trans,he=this.name,ve=ye&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(N==="readonly"?"read":"write"," ").concat(this.name));function Ie(ze,Ve,Le){if(!Le.schema[he])throw new J.NotFound("Table "+he+" not part of transaction");return D(Le.idbtrans,Le)}var De=Tr();try{var He=ie&&ie.db._novip===this.db._novip?ie===mt.trans?ie._promise(N,Ie,V):Yr(function(){return ie._promise(N,Ie,V)},{trans:ie,transless:mt.transless||mt}):function ze(Ve,Le,qe,Qe){if(Ve.idbdb&&(Ve._state.openComplete||mt.letThrough||Ve._vip)){var Ke=Ve._createTransaction(Le,qe,Ve._dbSchema);try{Ke.create(),Ve._state.PR1398_maxLoop=3}catch(We){return We.name===U.InvalidState&&Ve.isOpen()&&0<--Ve._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Ve.close({disableAutoOpen:!1}),Ve.open().then(function(){return ze(Ve,Le,qe,Qe)})):an(We)}return Ke._promise(Le,function(We,Je){return Yr(function(){return mt.trans=Ke,Qe(We,Je,Ke)})}).then(function(We){if(Le==="readwrite")try{Ke.idbtrans.commit()}catch{}return Le==="readonly"?We:Ke._completion.then(function(){return We})})}if(Ve._state.openComplete)return an(new J.DatabaseClosed(Ve._state.dbOpenError));if(!Ve._state.isBeingOpened){if(!Ve._state.autoOpen)return an(new J.DatabaseClosed);Ve.open().catch(Z)}return Ve._state.dbReadyPromise.then(function(){return ze(Ve,Le,qe,Qe)})}(this.db,N,[this.name],Ie);return ve&&(He._consoleTask=ve,He=He.catch(function(ze){return console.trace(ze),an(ze)})),He}finally{De&&Lt()}},Gr.prototype.get=function(N,D){var V=this;return N&&N.constructor===Object?this.where(N).first(D):N==null?an(new J.Type("Invalid argument to Table.get()")):this._trans("readonly",function(ie){return V.core.get({trans:ie,key:N}).then(function(he){return V.hook.reading.fire(he)})}).then(D)},Gr.prototype.where=function(N){if(typeof N=="string")return new this.db.WhereClause(this,N);if(o(N))return new this.db.WhereClause(this,"[".concat(N.join("+"),"]"));var D=a(N);if(D.length===1)return this.where(D[0]).equals(N[D[0]]);var V=this.schema.indexes.concat(this.schema.primKey).filter(function(De){if(De.compound&&D.every(function(ze){return 0<=De.keyPath.indexOf(ze)})){for(var He=0;He<D.length;++He)if(D.indexOf(De.keyPath[He])===-1)return!1;return!0}return!1}).sort(function(De,He){return De.keyPath.length-He.keyPath.length})[0];if(V&&this.db._maxKey!==$s){var ve=V.keyPath.slice(0,D.length);return this.where(ve).equals(ve.map(function(He){return N[He]}))}!V&&ye&&console.warn("The query ".concat(JSON.stringify(N)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(D.join("+"),"]"));var ie=this.schema.idxByName;function he(De,He){return kr(De,He)===0}var Ie=D.reduce(function(Le,He){var ze=Le[0],Ve=Le[1],Le=ie[He],qe=N[He];return[ze||Le,ze||!Le?ji(Ve,Le&&Le.multi?function(Qe){return Qe=F(Qe,He),o(Qe)&&Qe.some(function(Ke){return he(qe,Ke)})}:function(Qe){return he(qe,F(Qe,He))}):Ve]},[null,null]),ve=Ie[0],Ie=Ie[1];return ve?this.where(ve.name).equals(N[ve.keyPath]).filter(Ie):V?this.filter(Ie):this.where(D).equals("")},Gr.prototype.filter=function(N){return this.toCollection().and(N)},Gr.prototype.count=function(N){return this.toCollection().count(N)},Gr.prototype.offset=function(N){return this.toCollection().offset(N)},Gr.prototype.limit=function(N){return this.toCollection().limit(N)},Gr.prototype.each=function(N){return this.toCollection().each(N)},Gr.prototype.toArray=function(N){return this.toCollection().toArray(N)},Gr.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Gr.prototype.orderBy=function(N){return new this.db.Collection(new this.db.WhereClause(this,o(N)?"[".concat(N.join("+"),"]"):N))},Gr.prototype.reverse=function(){return this.toCollection().reverse()},Gr.prototype.mapToClass=function(N){var D,V=this.db,ie=this.name;function he(){return D!==null&&D.apply(this,arguments)||this}(this.schema.mappedClass=N).prototype instanceof dl&&(function(He,ze){if(typeof ze!="function"&&ze!==null)throw new TypeError("Class extends value "+String(ze)+" is not a constructor or null");function Ve(){this.constructor=He}r(He,ze),He.prototype=ze===null?Object.create(ze):(Ve.prototype=ze.prototype,new Ve)}(he,D=N),Object.defineProperty(he.prototype,"db",{get:function(){return V},enumerable:!1,configurable:!0}),he.prototype.table=function(){return ie},N=he);for(var ve=new Set,Ie=N.prototype;Ie;Ie=A(Ie))Object.getOwnPropertyNames(Ie).forEach(function(He){return ve.add(He)});function De(He){if(!He)return He;var ze,Ve=Object.create(N.prototype);for(ze in He)if(!ve.has(ze))try{Ve[ze]=He[ze]}catch{}return Ve}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=De,this.hook("reading",De),N},Gr.prototype.defineClass=function(){return this.mapToClass(function(N){c(this,N)})},Gr.prototype.add=function(N,D){var V=this,ie=this.schema.primKey,he=ie.auto,ve=ie.keyPath,Ie=N;return ve&&he&&(Ie=co(ve)(N)),this._trans("readwrite",function(De){return V.core.mutate({trans:De,type:"add",keys:D!=null?[D]:null,values:[Ie]})}).then(function(De){return De.numFailures?Ct.reject(De.failures[0]):De.lastResult}).then(function(De){if(ve)try{R(N,ve,De)}catch{}return De})},Gr.prototype.upsert=function(N,D){var V=this,ie=this.schema.primKey.keyPath;return this._trans("readwrite",function(he){return V.core.get({trans:he,key:N}).then(function(ve){var Ie=ve??{};return Vs(Ie,D),ie&&R(Ie,ie,N),V.core.mutate({trans:he,type:"put",values:[Ie],keys:[N],upsert:!0,updates:{keys:[N],changeSpecs:[D]}}).then(function(De){return De.numFailures?Ct.reject(De.failures[0]):!!ve})})})},Gr.prototype.update=function(N,D){return typeof N!="object"||o(N)?this.where(":id").equals(N).modify(D):(N=F(N,this.schema.primKey.keyPath),N===void 0?an(new J.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(N).modify(D))},Gr.prototype.put=function(N,D){var V=this,ie=this.schema.primKey,he=ie.auto,ve=ie.keyPath,Ie=N;return ve&&he&&(Ie=co(ve)(N)),this._trans("readwrite",function(De){return V.core.mutate({trans:De,type:"put",values:[Ie],keys:D!=null?[D]:null})}).then(function(De){return De.numFailures?Ct.reject(De.failures[0]):De.lastResult}).then(function(De){if(ve)try{R(N,ve,De)}catch{}return De})},Gr.prototype.delete=function(N){var D=this;return this._trans("readwrite",function(V){return D.core.mutate({trans:V,type:"delete",keys:[N]}).then(function(ie){return Zr(D,[N],ie)}).then(function(ie){return ie.numFailures?Ct.reject(ie.failures[0]):void 0})})},Gr.prototype.clear=function(){var N=this;return this._trans("readwrite",function(D){return N.core.mutate({trans:D,type:"deleteRange",range:Do}).then(function(V){return Zr(N,null,V)})}).then(function(D){return D.numFailures?Ct.reject(D.failures[0]):void 0})},Gr.prototype.bulkGet=function(N){var D=this;return this._trans("readonly",function(V){return D.core.getMany({keys:N,trans:V}).then(function(ie){return ie.map(function(he){return D.hook.reading.fire(he)})})})},Gr.prototype.bulkAdd=function(N,D,V){var ie=this,he=Array.isArray(D)?D:void 0,ve=(V=V||(he?void 0:D))?V.allKeys:void 0;return this._trans("readwrite",function(Ie){var ze=ie.schema.primKey,De=ze.auto,ze=ze.keyPath;if(ze&&he)throw new J.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(he&&he.length!==N.length)throw new J.InvalidArgument("Arguments objects and keys must have the same length");var He=N.length,ze=ze&&De?N.map(co(ze)):N;return ie.core.mutate({trans:Ie,type:"add",keys:he,values:ze,wantResults:ve}).then(function(Ke){var Le=Ke.numFailures,qe=Ke.results,Qe=Ke.lastResult,Ke=Ke.failures;if(Le===0)return ve?qe:Qe;throw new Ae("".concat(ie.name,".bulkAdd(): ").concat(Le," of ").concat(He," operations failed"),Ke)})})},Gr.prototype.bulkPut=function(N,D,V){var ie=this,he=Array.isArray(D)?D:void 0,ve=(V=V||(he?void 0:D))?V.allKeys:void 0;return this._trans("readwrite",function(Ie){var ze=ie.schema.primKey,De=ze.auto,ze=ze.keyPath;if(ze&&he)throw new J.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(he&&he.length!==N.length)throw new J.InvalidArgument("Arguments objects and keys must have the same length");var He=N.length,ze=ze&&De?N.map(co(ze)):N;return ie.core.mutate({trans:Ie,type:"put",keys:he,values:ze,wantResults:ve}).then(function(Ke){var Le=Ke.numFailures,qe=Ke.results,Qe=Ke.lastResult,Ke=Ke.failures;if(Le===0)return ve?qe:Qe;throw new Ae("".concat(ie.name,".bulkPut(): ").concat(Le," of ").concat(He," operations failed"),Ke)})})},Gr.prototype.bulkUpdate=function(N){var D=this,V=this.core,ie=N.map(function(Ie){return Ie.key}),he=N.map(function(Ie){return Ie.changes}),ve=[];return this._trans("readwrite",function(Ie){return V.getMany({trans:Ie,keys:ie,cache:"clone"}).then(function(De){var He=[],ze=[];N.forEach(function(Le,qe){var Qe=Le.key,Ke=Le.changes,We=De[qe];if(We){for(var Je=0,nt=Object.keys(Ke);Je<nt.length;Je++){var lt=nt[Je],ht=Ke[lt];if(lt===D.schema.primKey.keyPath){if(kr(ht,Qe)!==0)throw new J.Constraint("Cannot update primary key in bulkUpdate()")}else R(We,lt,ht)}ve.push(qe),He.push(Qe),ze.push(We)}});var Ve=He.length;return V.mutate({trans:Ie,type:"put",keys:He,values:ze,updates:{keys:ie,changeSpecs:he}}).then(function(Le){var qe=Le.numFailures,Qe=Le.failures;if(qe===0)return Ve;for(var Ke=0,We=Object.keys(Qe);Ke<We.length;Ke++){var Je,nt=We[Ke],lt=ve[Number(nt)];lt!=null&&(Je=Qe[nt],delete Qe[nt],Qe[lt]=Je)}throw new Ae("".concat(D.name,".bulkUpdate(): ").concat(qe," of ").concat(Ve," operations failed"),Qe)})})})},Gr.prototype.bulkDelete=function(N){var D=this,V=N.length;return this._trans("readwrite",function(ie){return D.core.mutate({trans:ie,type:"delete",keys:N}).then(function(he){return Zr(D,N,he)})}).then(function(Ie){var he=Ie.numFailures,ve=Ie.lastResult,Ie=Ie.failures;if(he===0)return ve;throw new Ae("".concat(D.name,".bulkDelete(): ").concat(he," of ").concat(V," operations failed"),Ie)})},Gr);function Gr(){}function bn(N){function D(Ie,De){if(De){for(var He=arguments.length,ze=new Array(He-1);--He;)ze[He-1]=arguments[He];return V[Ie].subscribe.apply(null,ze),N}if(typeof Ie=="string")return V[Ie]}var V={};D.addEventType=ve;for(var ie=1,he=arguments.length;ie<he;++ie)ve(arguments[ie]);return D;function ve(Ie,De,He){if(typeof Ie!="object"){var ze;De=De||P;var Ve={subscribers:[],fire:He=He||Z,subscribe:function(Le){Ve.subscribers.indexOf(Le)===-1&&(Ve.subscribers.push(Le),Ve.fire=De(Ve.fire,Le))},unsubscribe:function(Le){Ve.subscribers=Ve.subscribers.filter(function(qe){return qe!==Le}),Ve.fire=Ve.subscribers.reduce(De,He)}};return V[Ie]=D[Ie]=Ve}a(ze=Ie).forEach(function(Le){var qe=ze[Le];if(o(qe))ve(Le,ze[Le][0],ze[Le][1]);else{if(qe!=="asap")throw new J.InvalidArgument("Invalid event config");var Qe=ve(Le,me,function(){for(var Ke=arguments.length,We=new Array(Ke);Ke--;)We[Ke]=arguments[Ke];Qe.subscribers.forEach(function(Je){I(function(){Je.apply(null,We)})})})}})}}function ja(N,D){return m(D).from({prototype:N}),D}function _s(N,D){return!(N.filter||N.algorithm||N.or)&&(D?N.justLimit:!N.replayFilter)}function hl(N,D){N.filter=ji(N.filter,D)}function Kl(N,D,V){var ie=N.replayFilter;N.replayFilter=ie?function(){return ji(ie(),D())}:D,N.justLimit=V&&!ie}function zi(N,D){if(N.isPrimKey)return D.primaryKey;var V=D.getIndexByKeyPath(N.index);if(!V)throw new J.Schema("KeyPath "+N.index+" on object store "+D.name+" is not indexed");return V}function fl(N,D,V){var ie=zi(N,D.schema);return D.openCursor({trans:V,values:!N.keysOnly,reverse:N.dir==="prev",unique:!!N.unique,query:{index:ie,range:N.range}})}function Ua(N,D,V,ie){var he=N.replayFilter?ji(N.filter,N.replayFilter()):N.filter;if(N.or){var ve={},Ie=function(De,He,ze){var Ve,Le;he&&!he(He,ze,function(qe){return He.stop(qe)},function(qe){return He.fail(qe)})||((Le=""+(Ve=He.primaryKey))=="[object ArrayBuffer]"&&(Le=""+new Uint8Array(Ve)),h(ve,Le)||(ve[Le]=!0,D(De,He,ze)))};return Promise.all([N.or._iterate(Ie,V),Xs(fl(N,ie,V),N.algorithm,Ie,!N.keysOnly&&N.valueMapper)])}return Xs(fl(N,ie,V),ji(N.algorithm,he),D,!N.keysOnly&&N.valueMapper)}function Xs(N,D,V,ie){var he=Lr(ie?function(ve,Ie,De){return V(ie(ve),Ie,De)}:V);return N.then(function(ve){if(ve)return ve.start(function(){var Ie=function(){return ve.continue()};D&&!D(ve,function(De){return Ie=De},function(De){ve.stop(De),Ie=Z},function(De){ve.fail(De),Ie=Z})||he(ve.value,ve,function(De){return Ie=De}),Ie()})})}var ql=(Rr.prototype._read=function(N,D){var V=this._ctx;return V.error?V.table._trans(null,an.bind(null,V.error)):V.table._trans("readonly",N).then(D)},Rr.prototype._write=function(N){var D=this._ctx;return D.error?D.table._trans(null,an.bind(null,D.error)):D.table._trans("readwrite",N,"locked")},Rr.prototype._addAlgorithm=function(N){var D=this._ctx;D.algorithm=ji(D.algorithm,N)},Rr.prototype._iterate=function(N,D){return Ua(this._ctx,N,D,this._ctx.table.core)},Rr.prototype.clone=function(N){var D=Object.create(this.constructor.prototype),V=Object.create(this._ctx);return N&&c(V,N),D._ctx=V,D},Rr.prototype.raw=function(){return this._ctx.valueMapper=null,this},Rr.prototype.each=function(N){var D=this._ctx;return this._read(function(V){return Ua(D,N,V,D.table.core)})},Rr.prototype.count=function(N){var D=this;return this._read(function(V){var ie=D._ctx,he=ie.table.core;if(_s(ie,!0))return he.count({trans:V,query:{index:zi(ie,he.schema),range:ie.range}}).then(function(Ie){return Math.min(Ie,ie.limit)});var ve=0;return Ua(ie,function(){return++ve,!1},V,he).then(function(){return ve})}).then(N)},Rr.prototype.sortBy=function(N,D){var V=N.split(".").reverse(),ie=V[0],he=V.length-1;function ve(He,ze){return ze?ve(He[V[ze]],ze-1):He[ie]}var Ie=this._ctx.dir==="next"?1:-1;function De(He,ze){return kr(ve(He,he),ve(ze,he))*Ie}return this.toArray(function(He){return He.sort(De)}).then(D)},Rr.prototype.toArray=function(N){var D=this;return this._read(function(V){var ie=D._ctx;if(ie.dir==="next"&&_s(ie,!0)&&0<ie.limit){var he=ie.valueMapper,ve=zi(ie,ie.table.core.schema);return ie.table.core.query({trans:V,limit:ie.limit,values:!0,query:{index:ve,range:ie.range}}).then(function(De){return De=De.result,he?De.map(he):De})}var Ie=[];return Ua(ie,function(De){return Ie.push(De)},V,ie.table.core).then(function(){return Ie})},N)},Rr.prototype.offset=function(N){var D=this._ctx;return N<=0||(D.offset+=N,_s(D)?Kl(D,function(){var V=N;return function(ie,he){return V===0||(V===1?--V:he(function(){ie.advance(V),V=0}),!1)}}):Kl(D,function(){var V=N;return function(){return--V<0}})),this},Rr.prototype.limit=function(N){return this._ctx.limit=Math.min(this._ctx.limit,N),Kl(this._ctx,function(){var D=N;return function(V,ie,he){return--D<=0&&ie(he),0<=D}},!0),this},Rr.prototype.until=function(N,D){return hl(this._ctx,function(V,ie,he){return!N(V.value)||(ie(he),D)}),this},Rr.prototype.first=function(N){return this.limit(1).toArray(function(D){return D[0]}).then(N)},Rr.prototype.last=function(N){return this.reverse().first(N)},Rr.prototype.filter=function(N){var D;return hl(this._ctx,function(V){return N(V.value)}),(D=this._ctx).isMatch=ji(D.isMatch,N),this},Rr.prototype.and=function(N){return this.filter(N)},Rr.prototype.or=function(N){return new this.db.WhereClause(this._ctx.table,N,this)},Rr.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Rr.prototype.desc=function(){return this.reverse()},Rr.prototype.eachKey=function(N){var D=this._ctx;return D.keysOnly=!D.isMatch,this.each(function(V,ie){N(ie.key,ie)})},Rr.prototype.eachUniqueKey=function(N){return this._ctx.unique="unique",this.eachKey(N)},Rr.prototype.eachPrimaryKey=function(N){var D=this._ctx;return D.keysOnly=!D.isMatch,this.each(function(V,ie){N(ie.primaryKey,ie)})},Rr.prototype.keys=function(N){var D=this._ctx;D.keysOnly=!D.isMatch;var V=[];return this.each(function(ie,he){V.push(he.key)}).then(function(){return V}).then(N)},Rr.prototype.primaryKeys=function(N){var D=this._ctx;if(D.dir==="next"&&_s(D,!0)&&0<D.limit)return this._read(function(ie){var he=zi(D,D.table.core.schema);return D.table.core.query({trans:ie,values:!1,limit:D.limit,query:{index:he,range:D.range}})}).then(function(ie){return ie.result}).then(N);D.keysOnly=!D.isMatch;var V=[];return this.each(function(ie,he){V.push(he.primaryKey)}).then(function(){return V}).then(N)},Rr.prototype.uniqueKeys=function(N){return this._ctx.unique="unique",this.keys(N)},Rr.prototype.firstKey=function(N){return this.limit(1).keys(function(D){return D[0]}).then(N)},Rr.prototype.lastKey=function(N){return this.reverse().firstKey(N)},Rr.prototype.distinct=function(){var N=this._ctx,N=N.index&&N.table.schema.idxByName[N.index];if(!N||!N.multi)return this;var D={};return hl(this._ctx,function(he){var ie=he.primaryKey.toString(),he=h(D,ie);return D[ie]=!0,!he}),this},Rr.prototype.modify=function(N){var D=this,V=this._ctx;return this._write(function(ie){var he=typeof N=="function"?N:function(We){return Vs(We,N)},ve=V.table.core,ze=ve.schema.primaryKey,Ie=ze.outbound,De=ze.extractKey,He=200,ze=D.db._options.modifyChunkSize;ze&&(He=typeof ze=="object"?ze[ve.name]||ze["*"]||200:ze);function Ve(We,lt){var nt=lt.failures,lt=lt.numFailures;qe+=We-lt;for(var ht=0,xt=a(nt);ht<xt.length;ht++){var Rt=xt[ht];Le.push(nt[Rt])}}var Le=[],qe=0,Qe=[],Ke=N===Ro;return D.clone().primaryKeys().then(function(We){function Je(lt){var ht=Math.min(He,We.length-lt),xt=We.slice(lt,lt+ht);return(Ke?Promise.resolve([]):ve.getMany({trans:ie,keys:xt,cache:"immutable"})).then(function(Rt){var Kt=[],jt=[],Ot=Ie?[]:null,Mt=Ke?xt:[];if(!Ke)for(var Pt=0;Pt<ht;++Pt){var Jt=Rt[Pt],Ir={value:K(Jt),primKey:We[lt+Pt]};he.call(Ir,Ir.value,Ir)!==!1&&(Ir.value==null?Mt.push(We[lt+Pt]):Ie||kr(De(Jt),De(Ir.value))===0?(jt.push(Ir.value),Ie&&Ot.push(We[lt+Pt])):(Mt.push(We[lt+Pt]),Kt.push(Ir.value)))}return Promise.resolve(0<Kt.length&&ve.mutate({trans:ie,type:"add",values:Kt}).then(function(jr){for(var Or in jr.failures)Mt.splice(parseInt(Or),1);Ve(Kt.length,jr)})).then(function(){return(0<jt.length||nt&&typeof N=="object")&&ve.mutate({trans:ie,type:"put",keys:Ot,values:jt,criteria:nt,changeSpec:typeof N!="function"&&N,isAdditionalChunk:0<lt}).then(function(jr){return Ve(jt.length,jr)})}).then(function(){return(0<Mt.length||nt&&Ke)&&ve.mutate({trans:ie,type:"delete",keys:Mt,criteria:nt,isAdditionalChunk:0<lt}).then(function(jr){return Zr(V.table,Mt,jr)}).then(function(jr){return Ve(Mt.length,jr)})}).then(function(){return We.length>lt+ht&&Je(lt+He)})})}var nt=_s(V)&&V.limit===1/0&&(typeof N!="function"||Ke)&&{index:V.index,range:V.range};return Je(0).then(function(){if(0<Le.length)throw new oe("Error modifying one or more objects",Le,qe,Qe);return We.length})})})},Rr.prototype.delete=function(){var N=this._ctx,D=N.range;return!_s(N)||N.table.schema.yProps||!N.isPrimKey&&D.type!==3?this.modify(Ro):this._write(function(V){var ie=N.table.core.schema.primaryKey,he=D;return N.table.core.count({trans:V,query:{index:ie,range:he}}).then(function(ve){return N.table.core.mutate({trans:V,type:"deleteRange",range:he}).then(function(He){var De=He.failures,He=He.numFailures;if(He)throw new oe("Could not delete some values",Object.keys(De).map(function(ze){return De[ze]}),ve-He);return ve-He})})})},Rr);function Rr(){}var Ro=function(N,D){return D.value=null};function La(N,D){return N<D?-1:N===D?0:1}function Oo(N,D){return D<N?-1:N===D?0:1}function hn(N,D,V){return N=N instanceof yr?new N.Collection(N):N,N._ctx.error=new(V||TypeError)(D),N}function Xn(N){return new N.Collection(N,function(){return ir("")}).limit(0)}function fa(N,D,V,ie){var he,ve,Ie,De,He,ze,Ve,Le=V.length;if(!V.every(function(Ke){return typeof Ke=="string"}))return hn(N,ul);function qe(Ke){he=Ke==="next"?function(Je){return Je.toUpperCase()}:function(Je){return Je.toLowerCase()},ve=Ke==="next"?function(Je){return Je.toLowerCase()}:function(Je){return Je.toUpperCase()},Ie=Ke==="next"?La:Oo;var We=V.map(function(Je){return{lower:ve(Je),upper:he(Je)}}).sort(function(Je,nt){return Ie(Je.lower,nt.lower)});De=We.map(function(Je){return Je.upper}),He=We.map(function(Je){return Je.lower}),Ve=(ze=Ke)==="next"?"":ie}qe("next"),N=new N.Collection(N,function(){return es(De[0],He[Le-1]+ie)}),N._ondirectionchange=function(Ke){qe(Ke)};var Qe=0;return N._addAlgorithm(function(Ke,We,Je){var nt=Ke.key;if(typeof nt!="string")return!1;var lt=ve(nt);if(D(lt,He,Qe))return!0;for(var ht=null,xt=Qe;xt<Le;++xt){var Rt=function(Kt,jt,Ot,Mt,Pt,Jt){for(var Ir=Math.min(Kt.length,Mt.length),jr=-1,Or=0;Or<Ir;++Or){var Ns=jt[Or];if(Ns!==Mt[Or])return Pt(Kt[Or],Ot[Or])<0?Kt.substr(0,Or)+Ot[Or]+Ot.substr(Or+1):Pt(Kt[Or],Mt[Or])<0?Kt.substr(0,Or)+Mt[Or]+Ot.substr(Or+1):0<=jr?Kt.substr(0,jr)+jt[jr]+Ot.substr(jr+1):null;Pt(Kt[Or],Ns)<0&&(jr=Or)}return Ir<Mt.length&&Jt==="next"?Kt+Ot.substr(Kt.length):Ir<Kt.length&&Jt==="prev"?Kt.substr(0,Ot.length):jr<0?null:Kt.substr(0,jr)+Mt[jr]+Ot.substr(jr+1)}(nt,lt,De[xt],He[xt],Ie,ze);Rt===null&&ht===null?Qe=xt+1:(ht===null||0<Ie(ht,Rt))&&(ht=Rt)}return We(ht!==null?function(){Ke.continue(ht+Ve)}:Je),!1}),N}function es(N,D,V,ie){return{type:2,lower:N,upper:D,lowerOpen:V,upperOpen:ie}}function ir(N){return{type:1,lower:N,upper:N}}var yr=(Object.defineProperty(jn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),jn.prototype.between=function(N,D,V,ie){V=V!==!1,ie=ie===!0;try{return 0<this._cmp(N,D)||this._cmp(N,D)===0&&(V||ie)&&(!V||!ie)?Xn(this):new this.Collection(this,function(){return es(N,D,!V,!ie)})}catch{return hn(this,Ji)}},jn.prototype.equals=function(N){return N==null?hn(this,Ji):new this.Collection(this,function(){return ir(N)})},jn.prototype.above=function(N){return N==null?hn(this,Ji):new this.Collection(this,function(){return es(N,void 0,!0)})},jn.prototype.aboveOrEqual=function(N){return N==null?hn(this,Ji):new this.Collection(this,function(){return es(N,void 0,!1)})},jn.prototype.below=function(N){return N==null?hn(this,Ji):new this.Collection(this,function(){return es(void 0,N,!1,!0)})},jn.prototype.belowOrEqual=function(N){return N==null?hn(this,Ji):new this.Collection(this,function(){return es(void 0,N)})},jn.prototype.startsWith=function(N){return typeof N!="string"?hn(this,ul):this.between(N,N+$s,!0,!0)},jn.prototype.startsWithIgnoreCase=function(N){return N===""?this.startsWith(N):fa(this,function(D,V){return D.indexOf(V[0])===0},[N],$s)},jn.prototype.equalsIgnoreCase=function(N){return fa(this,function(D,V){return D===V[0]},[N],"")},jn.prototype.anyOfIgnoreCase=function(){var N=ne.apply(le,arguments);return N.length===0?Xn(this):fa(this,function(D,V){return V.indexOf(D)!==-1},N,"")},jn.prototype.startsWithAnyOfIgnoreCase=function(){var N=ne.apply(le,arguments);return N.length===0?Xn(this):fa(this,function(D,V){return V.some(function(ie){return D.indexOf(ie)===0})},N,$s)},jn.prototype.anyOf=function(){var N=this,D=ne.apply(le,arguments),V=this._cmp;try{D.sort(V)}catch{return hn(this,Ji)}if(D.length===0)return Xn(this);var ie=new this.Collection(this,function(){return es(D[0],D[D.length-1])});ie._ondirectionchange=function(ve){V=ve==="next"?N._ascending:N._descending,D.sort(V)};var he=0;return ie._addAlgorithm(function(ve,Ie,De){for(var He=ve.key;0<V(He,D[he]);)if(++he===D.length)return Ie(De),!1;return V(He,D[he])===0||(Ie(function(){ve.continue(D[he])}),!1)}),ie},jn.prototype.notEqual=function(N){return this.inAnyRange([[-1/0,N],[N,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},jn.prototype.noneOf=function(){var N=ne.apply(le,arguments);if(N.length===0)return new this.Collection(this);try{N.sort(this._ascending)}catch{return hn(this,Ji)}var D=N.reduce(function(V,ie){return V?V.concat([[V[V.length-1][1],ie]]):[[-1/0,ie]]},null);return D.push([N[N.length-1],this.db._maxKey]),this.inAnyRange(D,{includeLowers:!1,includeUppers:!1})},jn.prototype.inAnyRange=function(nt,D){var V=this,ie=this._cmp,he=this._ascending,ve=this._descending,Ie=this._min,De=this._max;if(nt.length===0)return Xn(this);if(!nt.every(function(lt){return lt[0]!==void 0&&lt[1]!==void 0&&he(lt[0],lt[1])<=0}))return hn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",J.InvalidArgument);var He=!D||D.includeLowers!==!1,ze=D&&D.includeUppers===!0,Ve,Le=he;function qe(lt,ht){return Le(lt[0],ht[0])}try{(Ve=nt.reduce(function(lt,ht){for(var xt=0,Rt=lt.length;xt<Rt;++xt){var Kt=lt[xt];if(ie(ht[0],Kt[1])<0&&0<ie(ht[1],Kt[0])){Kt[0]=Ie(Kt[0],ht[0]),Kt[1]=De(Kt[1],ht[1]);break}}return xt===Rt&&lt.push(ht),lt},[])).sort(qe)}catch{return hn(this,Ji)}var Qe=0,Ke=ze?function(lt){return 0<he(lt,Ve[Qe][1])}:function(lt){return 0<=he(lt,Ve[Qe][1])},We=He?function(lt){return 0<ve(lt,Ve[Qe][0])}:function(lt){return 0<=ve(lt,Ve[Qe][0])},Je=Ke,nt=new this.Collection(this,function(){return es(Ve[0][0],Ve[Ve.length-1][1],!He,!ze)});return nt._ondirectionchange=function(lt){Le=lt==="next"?(Je=Ke,he):(Je=We,ve),Ve.sort(qe)},nt._addAlgorithm(function(lt,ht,xt){for(var Rt,Kt=lt.key;Je(Kt);)if(++Qe===Ve.length)return ht(xt),!1;return!Ke(Rt=Kt)&&!We(Rt)||(V._cmp(Kt,Ve[Qe][1])===0||V._cmp(Kt,Ve[Qe][0])===0||ht(function(){Le===he?lt.continue(Ve[Qe][0]):lt.continue(Ve[Qe][1])}),!1)}),nt},jn.prototype.startsWithAnyOf=function(){var N=ne.apply(le,arguments);return N.every(function(D){return typeof D=="string"})?N.length===0?Xn(this):this.inAnyRange(N.map(function(D){return[D,D+$s]})):hn(this,"startsWithAnyOf() only works with strings")},jn);function jn(){}function As(N){return Lr(function(D){return Ao(D),N(D.target.error),!1})}function Ao(N){N.stopPropagation&&N.stopPropagation(),N.preventDefault&&N.preventDefault()}var Ys="storagemutated",ci="x-storagemutated-1",Yn=bn(null,Ys),Gl=(L.prototype._lock=function(){return b(!mt.global),++this._reculock,this._reculock!==1||mt.global||(mt.lockOwnerFor=this),this},L.prototype._unlock=function(){if(b(!mt.global),--this._reculock==0)for(mt.global||(mt.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var N=this._blockedFuncs.shift();try{Ti(N[1],N[0])}catch{}}return this},L.prototype._locked=function(){return this._reculock&&mt.lockOwnerFor!==this},L.prototype.create=function(N){var D=this;if(!this.mode)return this;var V=this.db.idbdb,ie=this.db._state.dbOpenError;if(b(!this.idbtrans),!N&&!V)switch(ie&&ie.name){case"DatabaseClosedError":throw new J.DatabaseClosed(ie);case"MissingAPIError":throw new J.MissingAPI(ie.message,ie);default:throw new J.OpenFailed(ie)}if(!this.active)throw new J.TransactionInactive;return b(this._completion._state===null),(N=this.idbtrans=N||(this.db.core||V).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Lr(function(he){Ao(he),D._reject(N.error)}),N.onabort=Lr(function(he){Ao(he),D.active&&D._reject(new J.Abort(N.error)),D.active=!1,D.on("abort").fire(he)}),N.oncomplete=Lr(function(){D.active=!1,D._resolve(),"mutatedParts"in N&&Yn.storagemutated.fire(N.mutatedParts)}),this},L.prototype._promise=function(N,D,V){var ie=this;if(N==="readwrite"&&this.mode!=="readwrite")return an(new J.ReadOnly("Transaction is readonly"));if(!this.active)return an(new J.TransactionInactive);if(this._locked())return new Ct(function(ve,Ie){ie._blockedFuncs.push([function(){ie._promise(N,D,V).then(ve,Ie)},mt])});if(V)return Yr(function(){var ve=new Ct(function(Ie,De){ie._lock();var He=D(Ie,De,ie);He&&He.then&&He.then(Ie,De)});return ve.finally(function(){return ie._unlock()}),ve._lib=!0,ve});var he=new Ct(function(ve,Ie){var De=D(ve,Ie,ie);De&&De.then&&De.then(ve,Ie)});return he._lib=!0,he},L.prototype._root=function(){return this.parent?this.parent._root():this},L.prototype.waitFor=function(N){var D,V=this._root(),ie=Ct.resolve(N);V._waitingFor?V._waitingFor=V._waitingFor.then(function(){return ie}):(V._waitingFor=ie,V._waitingQueue=[],D=V.idbtrans.objectStore(V.storeNames[0]),function ve(){for(++V._spinCount;V._waitingQueue.length;)V._waitingQueue.shift()();V._waitingFor&&(D.get(-1/0).onsuccess=ve)}());var he=V._waitingFor;return new Ct(function(ve,Ie){ie.then(function(De){return V._waitingQueue.push(Lr(ve.bind(null,De)))},function(De){return V._waitingQueue.push(Lr(Ie.bind(null,De)))}).finally(function(){V._waitingFor===he&&(V._waitingFor=null)})})},L.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new J.Abort))},L.prototype.table=function(N){var D=this._memoizedTables||(this._memoizedTables={});if(h(D,N))return D[N];var V=this.schema[N];if(!V)throw new J.NotFound("Table "+N+" not part of transaction");return V=new this.db.Table(N,V,this),V.core=this.db.core.table(N),D[N]=V},L);function L(){}function W(N,D,V,ie,he,ve,Ie,De){return{name:N,keyPath:D,unique:V,multi:ie,auto:he,compound:ve,src:(V&&!Ie?"&":"")+(ie?"*":"")+(he?"++":"")+pe(D),type:De}}function pe(N){return typeof N=="string"?N:N?"["+[].join.call(N,"+")+"]":""}function Ce(N,D,V){return{name:N,primKey:D,indexes:V,mappedClass:null,idxByName:(ie=function(he){return[he.name,he]},V.reduce(function(he,ve,Ie){return Ie=ie(ve,Ie),Ie&&(he[Ie[0]]=Ie[1]),he},{}))};var ie}var Re=function(N){try{return N.only([[]]),Re=function(){return[[]]},[[]]}catch{return Re=function(){return $s},$s}};function rt(N){return N==null?function(){}:typeof N=="string"?(D=N).split(".").length===1?function(V){return V[D]}:function(V){return F(V,D)}:function(V){return F(V,N)};var D}function dt(N){return[].slice.call(N)}var sr=0;function br(N){return N==null?":id":typeof N=="string"?N:"[".concat(N.join("+"),"]")}function vr(N,D,He){function ie(Je){if(Je.type===3)return null;if(Je.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Qe=Je.lower,Ke=Je.upper,We=Je.lowerOpen,Je=Je.upperOpen;return Qe===void 0?Ke===void 0?null:D.upperBound(Ke,!!Je):Ke===void 0?D.lowerBound(Qe,!!We):D.bound(Qe,Ke,!!We,!!Je)}function he(qe){var Qe,Ke=qe.name;return{name:Ke,schema:qe,mutate:function(We){var Je=We.trans,nt=We.type,lt=We.keys,ht=We.values,xt=We.range;return new Promise(function(Rt,Kt){Rt=Lr(Rt);var jt=Je.objectStore(Ke),Ot=jt.keyPath==null,Mt=nt==="put"||nt==="add";if(!Mt&&nt!=="delete"&&nt!=="deleteRange")throw new Error("Invalid operation type: "+nt);var Pt,Jt=(lt||ht||{length:1}).length;if(lt&&ht&&lt.length!==ht.length)throw new Error("Given keys array must have same length as given values array.");if(Jt===0)return Rt({numFailures:0,failures:{},results:[],lastResult:void 0});function Ir(xn){++Ns,Ao(xn)}var jr=[],Or=[],Ns=0;if(nt==="deleteRange"){if(xt.type===4)return Rt({numFailures:Ns,failures:Or,results:[],lastResult:void 0});xt.type===3?jr.push(Pt=jt.clear()):jr.push(Pt=jt.delete(ie(xt)))}else{var Ot=Mt?Ot?[ht,lt]:[ht,null]:[lt,null],Nr=Ot[0],qi=Ot[1];if(Mt)for(var Li=0;Li<Jt;++Li)jr.push(Pt=qi&&qi[Li]!==void 0?jt[nt](Nr[Li],qi[Li]):jt[nt](Nr[Li])),Pt.onerror=Ir;else for(Li=0;Li<Jt;++Li)jr.push(Pt=jt[nt](Nr[Li])),Pt.onerror=Ir}function Yl(xn){xn=xn.target.result,jr.forEach(function(Di,jc){return Di.error!=null&&(Or[jc]=Di.error)}),Rt({numFailures:Ns,failures:Or,results:nt==="delete"?lt:jr.map(function(Di){return Di.result}),lastResult:xn})}Pt.onerror=function(xn){Ir(xn),Yl(xn)},Pt.onsuccess=Yl})},getMany:function(We){var Je=We.trans,nt=We.keys;return new Promise(function(lt,ht){lt=Lr(lt);for(var xt,Rt=Je.objectStore(Ke),Kt=nt.length,jt=new Array(Kt),Ot=0,Mt=0,Pt=function(jr){jr=jr.target,jt[jr._pos]=jr.result,++Mt===Ot&&lt(jt)},Jt=As(ht),Ir=0;Ir<Kt;++Ir)nt[Ir]!=null&&((xt=Rt.get(nt[Ir]))._pos=Ir,xt.onsuccess=Pt,xt.onerror=Jt,++Ot);Ot===0&&lt(jt)})},get:function(We){var Je=We.trans,nt=We.key;return new Promise(function(lt,ht){lt=Lr(lt);var xt=Je.objectStore(Ke).get(nt);xt.onsuccess=function(Rt){return lt(Rt.target.result)},xt.onerror=As(ht)})},query:(Qe=ze,function(We){return new Promise(function(Je,nt){Je=Lr(Je);var lt,ht,xt,Ot=We.trans,Rt=We.values,Kt=We.limit,Pt=We.query,jt=Kt===1/0?void 0:Kt,Mt=Pt.index,Pt=Pt.range,Ot=Ot.objectStore(Ke),Mt=Mt.isPrimaryKey?Ot:Ot.index(Mt.name),Pt=ie(Pt);if(Kt===0)return Je({result:[]});Qe?((jt=Rt?Mt.getAll(Pt,jt):Mt.getAllKeys(Pt,jt)).onsuccess=function(Jt){return Je({result:Jt.target.result})},jt.onerror=As(nt)):(lt=0,ht=!Rt&&"openKeyCursor"in Mt?Mt.openKeyCursor(Pt):Mt.openCursor(Pt),xt=[],ht.onsuccess=function(Jt){var Ir=ht.result;return Ir?(xt.push(Rt?Ir.value:Ir.primaryKey),++lt===Kt?Je({result:xt}):void Ir.continue()):Je({result:xt})},ht.onerror=As(nt))})}),openCursor:function(We){var Je=We.trans,nt=We.values,lt=We.query,ht=We.reverse,xt=We.unique;return new Promise(function(Rt,Kt){Rt=Lr(Rt);var Mt=lt.index,jt=lt.range,Ot=Je.objectStore(Ke),Ot=Mt.isPrimaryKey?Ot:Ot.index(Mt.name),Mt=ht?xt?"prevunique":"prev":xt?"nextunique":"next",Pt=!nt&&"openKeyCursor"in Ot?Ot.openKeyCursor(ie(jt),Mt):Ot.openCursor(ie(jt),Mt);Pt.onerror=As(Kt),Pt.onsuccess=Lr(function(Jt){var Ir,jr,Or,Ns,Nr=Pt.result;Nr?(Nr.___id=++sr,Nr.done=!1,Ir=Nr.continue.bind(Nr),jr=(jr=Nr.continuePrimaryKey)&&jr.bind(Nr),Or=Nr.advance.bind(Nr),Ns=function(){throw new Error("Cursor not stopped")},Nr.trans=Je,Nr.stop=Nr.continue=Nr.continuePrimaryKey=Nr.advance=function(){throw new Error("Cursor not started")},Nr.fail=Lr(Kt),Nr.next=function(){var qi=this,Li=1;return this.start(function(){return Li--?qi.continue():qi.stop()}).then(function(){return qi})},Nr.start=function(qi){function Li(){if(Pt.result)try{qi()}catch(xn){Nr.fail(xn)}else Nr.done=!0,Nr.start=function(){throw new Error("Cursor behind last entry")},Nr.stop()}var Yl=new Promise(function(xn,Di){xn=Lr(xn),Pt.onerror=As(Di),Nr.fail=Di,Nr.stop=function(jc){Nr.stop=Nr.continue=Nr.continuePrimaryKey=Nr.advance=Ns,xn(jc)}});return Pt.onsuccess=Lr(function(xn){Pt.onsuccess=Li,Li()}),Nr.continue=Ir,Nr.continuePrimaryKey=jr,Nr.advance=Or,Li(),Yl},Rt(Nr)):Rt(null)},Kt)})},count:function(We){var Je=We.query,nt=We.trans,lt=Je.index,ht=Je.range;return new Promise(function(xt,Rt){var Kt=nt.objectStore(Ke),jt=lt.isPrimaryKey?Kt:Kt.index(lt.name),Kt=ie(ht),jt=Kt?jt.count(Kt):jt.count();jt.onsuccess=Lr(function(Ot){return xt(Ot.target.result)}),jt.onerror=As(Rt)})}}}var ve,Ie,De,Ve=(Ie=He,De=dt((ve=N).objectStoreNames),{schema:{name:ve.name,tables:De.map(function(qe){return Ie.objectStore(qe)}).map(function(qe){var Qe=qe.keyPath,Je=qe.autoIncrement,Ke=o(Qe),We={},Je={name:qe.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Qe==null,compound:Ke,keyPath:Qe,autoIncrement:Je,unique:!0,extractKey:rt(Qe)},indexes:dt(qe.indexNames).map(function(nt){return qe.index(nt)}).map(function(xt){var lt=xt.name,ht=xt.unique,Rt=xt.multiEntry,xt=xt.keyPath,Rt={name:lt,compound:o(xt),keyPath:xt,unique:ht,multiEntry:Rt,extractKey:rt(xt)};return We[br(xt)]=Rt}),getIndexByKeyPath:function(nt){return We[br(nt)]}};return We[":id"]=Je.primaryKey,Qe!=null&&(We[br(Qe)]=Je.primaryKey),Je})},hasGetAll:0<De.length&&"getAll"in Ie.objectStore(De[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),He=Ve.schema,ze=Ve.hasGetAll,Ve=He.tables.map(he),Le={};return Ve.forEach(function(qe){return Le[qe.name]=qe}),{stack:"dbcore",transaction:N.transaction.bind(N),table:function(qe){if(!Le[qe])throw new Error("Table '".concat(qe,"' not found"));return Le[qe]},MIN_KEY:-1/0,MAX_KEY:Re(D),schema:He}}function dn(N,D,V,ie){var he=V.IDBKeyRange;return V.indexedDB,{dbcore:(ie=vr(D,he,ie),N.dbcore.reduce(function(ve,Ie){return Ie=Ie.create,n(n({},ve),Ie(ve))},ie))}}function Hn(N,ie){var V=ie.db,ie=dn(N._middlewares,V,N._deps,ie);N.core=ie.dbcore,N.tables.forEach(function(he){var ve=he.name;N.core.schema.tables.some(function(Ie){return Ie.name===ve})&&(he.core=N.core.table(ve),N[ve]instanceof N.Table&&(N[ve].core=he.core))})}function pa(N,D,V,ie){V.forEach(function(he){var ve=ie[he];D.forEach(function(Ie){var De=function He(ze,Ve){return x(ze,Ve)||(ze=A(ze))&&He(ze,Ve)}(Ie,he);(!De||"value"in De&&De.value===void 0)&&(Ie===N.Transaction.prototype||Ie instanceof N.Transaction?g(Ie,he,{get:function(){return this.table(he)},set:function(He){u(this,he,{value:He,writable:!0,configurable:!0,enumerable:!0})}}):Ie[he]=new N.Table(he,ve))})})}function Po(N,D){D.forEach(function(V){for(var ie in V)V[ie]instanceof N.Table&&delete V[ie]})}function uo(N,D){return N._cfg.version-D._cfg.version}function Ic(N,D,V,ie){var he=N._dbSchema;V.objectStoreNames.contains("$meta")&&!he.$meta&&(he.$meta=Ce("$meta",z("")[0],[]),N._storeNames.push("$meta"));var ve=N._createTransaction("readwrite",N._storeNames,he);ve.create(V),ve._completion.catch(ie);var Ie=ve._reject.bind(ve),De=mt.transless||mt;Yr(function(){return mt.trans=ve,mt.transless=De,D!==0?(Hn(N,V),ze=D,((He=ve).storeNames.includes("$meta")?He.table("$meta").get("version").then(function(Ve){return Ve??ze}):Ct.resolve(ze)).then(function(Ve){return qe=Ve,Qe=ve,Ke=V,We=[],Ve=(Le=N)._versions,Je=Le._dbSchema=ma(0,Le.idbdb,Ke),(Ve=Ve.filter(function(nt){return nt._cfg.version>=qe})).length!==0?(Ve.forEach(function(nt){We.push(function(){var lt=Je,ht=nt._cfg.dbschema;Mo(Le,lt,Ke),Mo(Le,ht,Ke),Je=Le._dbSchema=ht;var xt=Js(lt,ht);xt.add.forEach(function(Mt){Zs(Ke,Mt[0],Mt[1].primKey,Mt[1].indexes)}),xt.change.forEach(function(Mt){if(Mt.recreate)throw new J.Upgrade("Not yet support for changing primary key");var Pt=Ke.objectStore(Mt.name);Mt.add.forEach(function(Jt){return Qo(Pt,Jt)}),Mt.change.forEach(function(Jt){Pt.deleteIndex(Jt.name),Qo(Pt,Jt)}),Mt.del.forEach(function(Jt){return Pt.deleteIndex(Jt)})});var Rt=nt._cfg.contentUpgrade;if(Rt&&nt._cfg.version>qe){Hn(Le,Ke),Qe._memoizedTables={};var Kt=Q(ht);xt.del.forEach(function(Mt){Kt[Mt]=lt[Mt]}),Po(Le,[Le.Transaction.prototype]),pa(Le,[Le.Transaction.prototype],a(Kt),Kt),Qe.schema=Kt;var jt,Ot=ae(Rt);return Ot&&Ni(),xt=Ct.follow(function(){var Mt;(jt=Rt(Qe))&&Ot&&(Mt=li.bind(null,null),jt.then(Mt,Mt))}),jt&&typeof jt.then=="function"?Ct.resolve(jt):xt.then(function(){return jt})}}),We.push(function(lt){var ht,xt,Rt=nt._cfg.dbschema;ht=Rt,xt=lt,[].slice.call(xt.db.objectStoreNames).forEach(function(Kt){return ht[Kt]==null&&xt.db.deleteObjectStore(Kt)}),Po(Le,[Le.Transaction.prototype]),pa(Le,[Le.Transaction.prototype],Le._storeNames,Le._dbSchema),Qe.schema=Le._dbSchema}),We.push(function(lt){Le.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(Le.idbdb.version/10)===nt._cfg.version?(Le.idbdb.deleteObjectStore("$meta"),delete Le._dbSchema.$meta,Le._storeNames=Le._storeNames.filter(function(ht){return ht!=="$meta"})):lt.objectStore("$meta").put(nt._cfg.version,"version"))})}),function nt(){return We.length?Ct.resolve(We.shift()(Qe.idbtrans)).then(nt):Ct.resolve()}().then(function(){$l(Je,Ke)})):Ct.resolve();var Le,qe,Qe,Ke,We,Je}).catch(Ie)):(a(he).forEach(function(Ve){Zs(V,Ve,he[Ve].primKey,he[Ve].indexes)}),Hn(N,V),void Ct.follow(function(){return N.on.populate.fire(ve)}).catch(Ie));var He,ze})}function Wl(N,D){$l(N._dbSchema,D),D.db.version%10!=0||D.objectStoreNames.contains("$meta")||D.db.createObjectStore("$meta").add(Math.ceil(D.db.version/10-1),"version");var V=ma(0,N.idbdb,D);Mo(N,N._dbSchema,D);for(var ie=0,he=Js(V,N._dbSchema).change;ie<he.length;ie++){var ve=function(Ie){if(Ie.change.length||Ie.recreate)return console.warn("Unable to patch indexes of table ".concat(Ie.name," because it has changes on the type of index or primary key.")),{value:void 0};var De=D.objectStore(Ie.name);Ie.add.forEach(function(He){ye&&console.debug("Dexie upgrade patch: Creating missing index ".concat(Ie.name,".").concat(He.src)),Qo(De,He)})}(he[ie]);if(typeof ve=="object")return ve.value}}function Js(N,D){var V,ie={del:[],add:[],change:[]};for(V in N)D[V]||ie.del.push(V);for(V in D){var he=N[V],ve=D[V];if(he){var Ie={name:V,def:ve,recreate:!1,del:[],add:[],change:[]};if(""+(he.primKey.keyPath||"")!=""+(ve.primKey.keyPath||"")||he.primKey.auto!==ve.primKey.auto)Ie.recreate=!0,ie.change.push(Ie);else{var De=he.idxByName,He=ve.idxByName,ze=void 0;for(ze in De)He[ze]||Ie.del.push(ze);for(ze in He){var Ve=De[ze],Le=He[ze];Ve?Ve.src!==Le.src&&Ie.change.push(Le):Ie.add.push(Le)}(0<Ie.del.length||0<Ie.add.length||0<Ie.change.length)&&ie.change.push(Ie)}}else ie.add.push([V,ve])}return ie}function Zs(N,D,V,ie){var he=N.db.createObjectStore(D,V.keyPath?{keyPath:V.keyPath,autoIncrement:V.auto}:{autoIncrement:V.auto});return ie.forEach(function(ve){return Qo(he,ve)}),he}function $l(N,D){a(N).forEach(function(V){D.db.objectStoreNames.contains(V)||(ye&&console.debug("Dexie: Creating missing table",V),Zs(D,V,N[V].primKey,N[V].indexes))})}function Qo(N,D){N.createIndex(D.name,D.keyPath,{unique:D.unique,multiEntry:D.multi})}function ma(N,D,V){var ie={};return y(D.objectStoreNames,0).forEach(function(he){for(var ve=V.objectStore(he),Ie=W(pe(ze=ve.keyPath),ze||"",!0,!1,!!ve.autoIncrement,ze&&typeof ze!="string",!0),De=[],He=0;He<ve.indexNames.length;++He){var Ve=ve.index(ve.indexNames[He]),ze=Ve.keyPath,Ve=W(Ve.name,ze,!!Ve.unique,!!Ve.multiEntry,!1,ze&&typeof ze!="string",!1);De.push(Ve)}ie[he]=Ce(he,Ie,De)}),ie}function Mo(N,D,V){for(var ie=V.db.objectStoreNames,he=0;he<ie.length;++he){var ve=ie[he],Ie=V.objectStore(ve);N._hasGetAll="getAll"in Ie;for(var De=0;De<Ie.indexNames.length;++De){var He=Ie.indexNames[De],ze=Ie.index(He).keyPath,Ve=typeof ze=="string"?ze:"["+y(ze).join("+")+"]";!D[ve]||(ze=D[ve].idxByName[Ve])&&(ze.name=He,delete D[ve].idxByName[Ve],D[ve].idxByName[He]=ze)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(N._hasGetAll=!1)}function z(N){return N.split(",").map(function(D,V){var ve=D.split(":"),ie=(he=ve[1])===null||he===void 0?void 0:he.trim(),he=(D=ve[0].trim()).replace(/([&*]|\+\+)/g,""),ve=/^\[/.test(he)?he.match(/^\[(.*)\]$/)[1].split("+"):he;return W(he,ve||null,/\&/.test(D),/\*/.test(D),/\+\+/.test(D),o(ve),V===0,ie)})}var we=(Te.prototype._createTableSchema=Ce,Te.prototype._parseIndexSyntax=z,Te.prototype._parseStoresSpec=function(N,D){var V=this;a(N).forEach(function(ie){if(N[ie]!==null){var he=V._parseIndexSyntax(N[ie]),ve=he.shift();if(!ve)throw new J.Schema("Invalid schema for table "+ie+": "+N[ie]);if(ve.unique=!0,ve.multi)throw new J.Schema("Primary key cannot be multiEntry*");he.forEach(function(Ie){if(Ie.auto)throw new J.Schema("Only primary key can be marked as autoIncrement (++)");if(!Ie.keyPath)throw new J.Schema("Index must have a name and cannot be an empty string")}),he=V._createTableSchema(ie,ve,he),D[ie]=he}})},Te.prototype.stores=function(V){var D=this.db;this._cfg.storesSource=this._cfg.storesSource?c(this._cfg.storesSource,V):V;var V=D._versions,ie={},he={};return V.forEach(function(ve){c(ie,ve._cfg.storesSource),he=ve._cfg.dbschema={},ve._parseStoresSpec(ie,he)}),D._dbSchema=he,Po(D,[D._allTables,D,D.Transaction.prototype]),pa(D,[D._allTables,D,D.Transaction.prototype,this._cfg.tables],a(he),he),D._storeNames=a(he),this},Te.prototype.upgrade=function(N){return this._cfg.contentUpgrade=de(this._cfg.contentUpgrade||Z,N),this},Te);function Te(){}function Pe(N,D){var V=N._dbNamesDB;return V||(V=N._dbNamesDB=new ni(Fi,{addons:[],indexedDB:N,IDBKeyRange:D})).version(1).stores({dbnames:"name"}),V.table("dbnames")}function Ye(N){return N&&typeof N.databases=="function"}function ft(N){return Yr(function(){return mt.letThrough=!0,N()})}function Et(N){return!("from"in N)}var Ht=function(N,D){if(!this){var V=new Ht;return N&&"d"in N&&c(V,N),V}c(this,arguments.length?{d:1,from:N,to:1<arguments.length?D:N}:{d:0})};function er(N,D,V){var ie=kr(D,V);if(!isNaN(ie)){if(0<ie)throw RangeError();if(Et(N))return c(N,{from:D,to:V,d:1});var he=N.l,ie=N.r;if(kr(V,N.from)<0)return he?er(he,D,V):N.l={from:D,to:V,d:1,l:null,r:null},Nn(N);if(0<kr(D,N.to))return ie?er(ie,D,V):N.r={from:D,to:V,d:1,l:null,r:null},Nn(N);kr(D,N.from)<0&&(N.from=D,N.l=null,N.d=ie?ie.d+1:1),0<kr(V,N.to)&&(N.to=V,N.r=null,N.d=N.l?N.l.d+1:1),V=!N.r,he&&!N.l&&pr(N,he),ie&&V&&pr(N,ie)}}function pr(N,D){Et(D)||function V(ie,He){var ve=He.from,Ie=He.to,De=He.l,He=He.r;er(ie,ve,Ie),De&&V(ie,De),He&&V(ie,He)}(N,D)}function xr(N,D){var V=Wr(D),ie=V.next();if(ie.done)return!1;for(var he=ie.value,ve=Wr(N),Ie=ve.next(he.from),De=Ie.value;!ie.done&&!Ie.done;){if(kr(De.from,he.to)<=0&&0<=kr(De.to,he.from))return!0;kr(he.from,De.from)<0?he=(ie=V.next(De.from)).value:De=(Ie=ve.next(he.from)).value}return!1}function Wr(N){var D=Et(N)?null:{s:0,n:N};return{next:function(V){for(var ie=0<arguments.length;D;)switch(D.s){case 0:if(D.s=1,ie)for(;D.n.l&&kr(V,D.n.from)<0;)D={up:D,n:D.n.l,s:1};else for(;D.n.l;)D={up:D,n:D.n.l,s:1};case 1:if(D.s=2,!ie||kr(V,D.n.to)<=0)return{value:D.n,done:!1};case 2:if(D.n.r){D.s=3,D={up:D,n:D.n.r,s:0};continue}case 3:D=D.up}return{done:!0}}}}function Nn(N){var D,V,ie=(((D=N.r)===null||D===void 0?void 0:D.d)||0)-(((V=N.l)===null||V===void 0?void 0:V.d)||0),he=1<ie?"r":ie<-1?"l":"";he&&(D=he=="r"?"l":"r",V=n({},N),ie=N[he],N.from=ie.from,N.to=ie.to,N[he]=ie[he],V[he]=ie[D],(N[D]=V).d=zn(V)),N.d=zn(N)}function zn(V){var D=V.r,V=V.l;return(D?V?Math.max(D.d,V.d):D.d:V?V.d:0)+1}function on(N,D){return a(D).forEach(function(V){N[V]?pr(N[V],D[V]):N[V]=function ie(he){var ve,Ie,De={};for(ve in he)h(he,ve)&&(Ie=he[ve],De[ve]=!Ie||typeof Ie!="object"||q.has(Ie.constructor)?Ie:ie(Ie));return De}(D[V])}),N}function Kn(N,D){return N.all||D.all||Object.keys(N).some(function(V){return D[V]&&xr(D[V],N[V])})}f(Ht.prototype,((Ai={add:function(N){return pr(this,N),this},addKey:function(N){return er(this,N,N),this},addKeys:function(N){var D=this;return N.forEach(function(V){return er(D,V,V)}),this},hasKey:function(N){var D=Wr(this).next(N).value;return D&&kr(D.from,N)<=0&&0<=kr(D.to,N)}})[ge]=function(){return Wr(this)},Ai));var yn={},Jn={},ts=!1;function gi(N){on(Jn,N),ts||(ts=!0,setTimeout(function(){ts=!1,pl(Jn,!(Jn={}))},0))}function pl(N,D){D===void 0&&(D=!1);var V=new Set;if(N.all)for(var ie=0,he=Object.values(yn);ie<he.length;ie++)ga(Ie=he[ie],N,V,D);else for(var ve in N){var Ie,De=/^idb\:\/\/(.*)\/(.*)\//.exec(ve);De&&(ve=De[1],De=De[2],(Ie=yn["idb://".concat(ve,"/").concat(De)])&&ga(Ie,N,V,D))}V.forEach(function(He){return He()})}function ga(N,D,V,ie){for(var he=[],ve=0,Ie=Object.entries(N.queries.query);ve<Ie.length;ve++){for(var De=Ie[ve],He=De[0],ze=[],Ve=0,Le=De[1];Ve<Le.length;Ve++){var qe=Le[Ve];Kn(D,qe.obsSet)?qe.subscribers.forEach(function(Je){return V.add(Je)}):ie&&ze.push(qe)}ie&&he.push([He,ze])}if(ie)for(var Qe=0,Ke=he;Qe<Ke.length;Qe++){var We=Ke[Qe],He=We[0],ze=We[1];N.queries.query[He]=ze}}function ho(N){var D=N._state,V=N._deps.indexedDB;if(D.isBeingOpened||N.idbdb)return D.dbReadyPromise.then(function(){return D.dbOpenError?an(D.dbOpenError):N});D.isBeingOpened=!0,D.dbOpenError=null,D.openComplete=!1;var ie=D.openCanceller,he=Math.round(10*N.verno),ve=!1;function Ie(){if(D.openCanceller!==ie)throw new J.DatabaseClosed("db.open() was cancelled")}function De(){return new Ct(function(qe,Qe){if(Ie(),!V)throw new J.MissingAPI;var Ke=N.name,We=D.autoSchema||!he?V.open(Ke):V.open(Ke,he);if(!We)throw new J.MissingAPI;We.onerror=As(Qe),We.onblocked=Lr(N._fireOnBlocked),We.onupgradeneeded=Lr(function(Je){var nt;Ve=We.transaction,D.autoSchema&&!N._options.allowEmptyDB?(We.onerror=Ao,Ve.abort(),We.result.close(),(nt=V.deleteDatabase(Ke)).onsuccess=nt.onerror=Lr(function(){Qe(new J.NoSuchDatabase("Database ".concat(Ke," doesnt exist")))})):(Ve.onerror=As(Qe),Je=Je.oldVersion>Math.pow(2,62)?0:Je.oldVersion,Le=Je<1,N.idbdb=We.result,ve&&Wl(N,Ve),Ic(N,Je/10,Ve,Qe))},Qe),We.onsuccess=Lr(function(){Ve=null;var Je,nt,lt,ht,xt,Rt=N.idbdb=We.result,Kt=y(Rt.objectStoreNames);if(0<Kt.length)try{var jt=Rt.transaction((ht=Kt).length===1?ht[0]:ht,"readonly");if(D.autoSchema)nt=Rt,lt=jt,(Je=N).verno=nt.version/10,lt=Je._dbSchema=ma(0,nt,lt),Je._storeNames=y(nt.objectStoreNames,0),pa(Je,[Je._allTables],a(lt),lt);else if(Mo(N,N._dbSchema,jt),((xt=Js(ma(0,(xt=N).idbdb,jt),xt._dbSchema)).add.length||xt.change.some(function(Ot){return Ot.add.length||Ot.change.length}))&&!ve)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Rt.close(),he=Rt.version+1,ve=!0,qe(De());Hn(N,jt)}catch{}ls.push(N),Rt.onversionchange=Lr(function(Ot){D.vcFired=!0,N.on("versionchange").fire(Ot)}),Rt.onclose=Lr(function(){N.close({disableAutoOpen:!1})}),Le&&(xt=N._deps,jt=Ke,Rt=xt.indexedDB,xt=xt.IDBKeyRange,Ye(Rt)||jt===Fi||Pe(Rt,xt).put({name:jt}).catch(Z)),qe()},Qe)}).catch(function(qe){switch(qe==null?void 0:qe.name){case"UnknownError":if(0<D.PR1398_maxLoop)return D.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),De();break;case"VersionError":if(0<he)return he=0,De()}return Ct.reject(qe)})}var He,ze=D.dbReadyResolve,Ve=null,Le=!1;return Ct.race([ie,(typeof navigator>"u"?Ct.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(qe){function Qe(){return indexedDB.databases().finally(qe)}He=setInterval(Qe,100),Qe()}).finally(function(){return clearInterval(He)}):Promise.resolve()).then(De)]).then(function(){return Ie(),D.onReadyBeingFired=[],Ct.resolve(ft(function(){return N.on.ready.fire(N.vip)})).then(function qe(){if(0<D.onReadyBeingFired.length){var Qe=D.onReadyBeingFired.reduce(de,Z);return D.onReadyBeingFired=[],Ct.resolve(ft(function(){return Qe(N.vip)})).then(qe)}})}).finally(function(){D.openCanceller===ie&&(D.onReadyBeingFired=null,D.isBeingOpened=!1)}).catch(function(qe){D.dbOpenError=qe;try{Ve&&Ve.abort()}catch{}return ie===D.openCanceller&&N._close(),an(qe)}).finally(function(){D.openComplete=!0,ze()}).then(function(){var qe;return Le&&(qe={},N.tables.forEach(function(Qe){Qe.schema.indexes.forEach(function(Ke){Ke.name&&(qe["idb://".concat(N.name,"/").concat(Qe.name,"/").concat(Ke.name)]=new Ht(-1/0,[[[]]]))}),qe["idb://".concat(N.name,"/").concat(Qe.name,"/")]=qe["idb://".concat(N.name,"/").concat(Qe.name,"/:dels")]=new Ht(-1/0,[[[]]])}),Yn(Ys).fire(qe),pl(qe,!0)),N})}function ea(N){function D(ve){return N.next(ve)}var V=he(D),ie=he(function(ve){return N.throw(ve)});function he(ve){return function(He){var De=ve(He),He=De.value;return De.done?He:He&&typeof He.then=="function"?He.then(V,ie):o(He)?Promise.all(He).then(V,ie):V(He)}}return he(D)()}function ta(N,D,V){for(var ie=o(N)?N.slice():[N],he=0;he<V;++he)ie.push(D);return ie}var tt={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(N){return n(n({},N),{table:function(D){var V=N.table(D),ie=V.schema,he={},ve=[];function Ie(Le,qe,Qe){var Ke=br(Le),We=he[Ke]=he[Ke]||[],Je=Le==null?0:typeof Le=="string"?1:Le.length,nt=0<qe,nt=n(n({},Qe),{name:nt?"".concat(Ke,"(virtual-from:").concat(Qe.name,")"):Qe.name,lowLevelIndex:Qe,isVirtual:nt,keyTail:qe,keyLength:Je,extractKey:rt(Le),unique:!nt&&Qe.unique});return We.push(nt),nt.isPrimaryKey||ve.push(nt),1<Je&&Ie(Je===2?Le[0]:Le.slice(0,Je-1),qe+1,Qe),We.sort(function(lt,ht){return lt.keyTail-ht.keyTail}),nt}D=Ie(ie.primaryKey.keyPath,0,ie.primaryKey),he[":id"]=[D];for(var De=0,He=ie.indexes;De<He.length;De++){var ze=He[De];Ie(ze.keyPath,0,ze)}function Ve(Le){var qe,Qe=Le.query.index;return Qe.isVirtual?n(n({},Le),{query:{index:Qe.lowLevelIndex,range:(qe=Le.query.range,Qe=Qe.keyTail,{type:qe.type===1?2:qe.type,lower:ta(qe.lower,qe.lowerOpen?N.MAX_KEY:N.MIN_KEY,Qe),lowerOpen:!0,upper:ta(qe.upper,qe.upperOpen?N.MIN_KEY:N.MAX_KEY,Qe),upperOpen:!0})}}):Le}return n(n({},V),{schema:n(n({},ie),{primaryKey:D,indexes:ve,getIndexByKeyPath:function(Le){return(Le=he[br(Le)])&&Le[0]}}),count:function(Le){return V.count(Ve(Le))},query:function(Le){return V.query(Ve(Le))},openCursor:function(Le){var qe=Le.query.index,Qe=qe.keyTail,Ke=qe.isVirtual,We=qe.keyLength;return Ke?V.openCursor(Ve(Le)).then(function(nt){return nt&&Je(nt)}):V.openCursor(Le);function Je(nt){return Object.create(nt,{continue:{value:function(lt){lt!=null?nt.continue(ta(lt,Le.reverse?N.MAX_KEY:N.MIN_KEY,Qe)):Le.unique?nt.continue(nt.key.slice(0,We).concat(Le.reverse?N.MIN_KEY:N.MAX_KEY,Qe)):nt.continue()}},continuePrimaryKey:{value:function(lt,ht){nt.continuePrimaryKey(ta(lt,N.MAX_KEY,Qe),ht)}},primaryKey:{get:function(){return nt.primaryKey}},key:{get:function(){var lt=nt.key;return We===1?lt[0]:lt.slice(0,We)}},value:{get:function(){return nt.value}}})}}})}})}};function vt(N,D,V,ie){return V=V||{},ie=ie||"",a(N).forEach(function(he){var ve,Ie,De;h(D,he)?(ve=N[he],Ie=D[he],typeof ve=="object"&&typeof Ie=="object"&&ve&&Ie?(De=re(ve))!==re(Ie)?V[ie+he]=D[he]:De==="Object"?vt(ve,Ie,V,ie+he+"."):ve!==Ie&&(V[ie+he]=D[he]):ve!==Ie&&(V[ie+he]=D[he])):V[ie+he]=void 0}),a(D).forEach(function(he){h(N,he)||(V[ie+he]=D[he])}),V}function zt(N,D){return D.type==="delete"?D.keys:D.keys||D.values.map(N.extractKey)}var Ar={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(N){return n(n({},N),{table:function(D){var V=N.table(D),ie=V.schema.primaryKey;return n(n({},V),{mutate:function(he){var ve=mt.trans,Ie=ve.table(D).hook,De=Ie.deleting,He=Ie.creating,ze=Ie.updating;switch(he.type){case"add":if(He.fire===Z)break;return ve._promise("readwrite",function(){return Ve(he)},!0);case"put":if(He.fire===Z&&ze.fire===Z)break;return ve._promise("readwrite",function(){return Ve(he)},!0);case"delete":if(De.fire===Z)break;return ve._promise("readwrite",function(){return Ve(he)},!0);case"deleteRange":if(De.fire===Z)break;return ve._promise("readwrite",function(){return function Le(qe,Qe,Ke){return V.query({trans:qe,values:!1,query:{index:ie,range:Qe},limit:Ke}).then(function(We){var Je=We.result;return Ve({type:"delete",keys:Je,trans:qe}).then(function(nt){return 0<nt.numFailures?Promise.reject(nt.failures[0]):Je.length<Ke?{failures:[],numFailures:0,lastResult:void 0}:Le(qe,n(n({},Qe),{lower:Je[Je.length-1],lowerOpen:!0}),Ke)})})}(he.trans,he.range,1e4)},!0)}return V.mutate(he);function Ve(Le){var qe,Qe,Ke,We=mt.trans,Je=Le.keys||zt(ie,Le);if(!Je)throw new Error("Keys missing");return(Le=Le.type==="add"||Le.type==="put"?n(n({},Le),{keys:Je}):n({},Le)).type!=="delete"&&(Le.values=i([],Le.values,!0)),Le.keys&&(Le.keys=i([],Le.keys,!0)),qe=V,Ke=Je,((Qe=Le).type==="add"?Promise.resolve([]):qe.getMany({trans:Qe.trans,keys:Ke,cache:"immutable"})).then(function(nt){var lt=Je.map(function(ht,xt){var Rt,Kt,jt,Ot=nt[xt],Mt={onerror:null,onsuccess:null};return Le.type==="delete"?De.fire.call(Mt,ht,Ot,We):Le.type==="add"||Ot===void 0?(Rt=He.fire.call(Mt,ht,Le.values[xt],We),ht==null&&Rt!=null&&(Le.keys[xt]=ht=Rt,ie.outbound||R(Le.values[xt],ie.keyPath,ht))):(Rt=vt(Ot,Le.values[xt]),(Kt=ze.fire.call(Mt,Rt,ht,Ot,We))&&(jt=Le.values[xt],Object.keys(Kt).forEach(function(Pt){h(jt,Pt)?jt[Pt]=Kt[Pt]:R(jt,Pt,Kt[Pt])}))),Mt});return V.mutate(Le).then(function(ht){for(var xt=ht.failures,Rt=ht.results,Kt=ht.numFailures,ht=ht.lastResult,jt=0;jt<Je.length;++jt){var Ot=(Rt||Je)[jt],Mt=lt[jt];Ot==null?Mt.onerror&&Mt.onerror(xt[jt]):Mt.onsuccess&&Mt.onsuccess(Le.type==="put"&&nt[jt]?Le.values[jt]:Ot)}return{failures:xt,results:Rt,numFailures:Kt,lastResult:ht}}).catch(function(ht){return lt.forEach(function(xt){return xt.onerror&&xt.onerror(ht)}),Promise.reject(ht)})})}}})}})}};function mr(N,D,V){try{if(!D||D.keys.length<N.length)return null;for(var ie=[],he=0,ve=0;he<D.keys.length&&ve<N.length;++he)kr(D.keys[he],N[ve])===0&&(ie.push(V?K(D.values[he]):D.values[he]),++ve);return ie.length===N.length?ie:null}catch{return null}}var Vr={stack:"dbcore",level:-1,create:function(N){return{table:function(D){var V=N.table(D);return n(n({},V),{getMany:function(ie){if(!ie.cache)return V.getMany(ie);var he=mr(ie.keys,ie.trans._cache,ie.cache==="clone");return he?Ct.resolve(he):V.getMany(ie).then(function(ve){return ie.trans._cache={keys:ie.keys,values:ie.cache==="clone"?K(ve):ve},ve})},mutate:function(ie){return ie.type!=="add"&&(ie.trans._cache=null),V.mutate(ie)}})}}}};function Ui(N,D){return N.trans.mode==="readonly"&&!!N.subscr&&!N.trans.explicit&&N.trans.db._options.cache!=="disabled"&&!D.schema.primaryKey.outbound}function $r(N,D){switch(N){case"query":return D.values&&!D.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var qn={stack:"dbcore",level:0,name:"Observability",create:function(N){var D=N.schema.name,V=new Ht(N.MIN_KEY,N.MAX_KEY);return n(n({},N),{transaction:function(ie,he,ve){if(mt.subscr&&he!=="readonly")throw new J.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(mt.querier));return N.transaction(ie,he,ve)},table:function(ie){var he=N.table(ie),ve=he.schema,Ie=ve.primaryKey,Le=ve.indexes,De=Ie.extractKey,He=Ie.outbound,ze=Ie.autoIncrement&&Le.filter(function(Qe){return Qe.compound&&Qe.keyPath.includes(Ie.keyPath)}),Ve=n(n({},he),{mutate:function(Qe){function Ke(Pt){return Pt="idb://".concat(D,"/").concat(ie,"/").concat(Pt),ht[Pt]||(ht[Pt]=new Ht)}var We,Je,nt,lt=Qe.trans,ht=Qe.mutatedParts||(Qe.mutatedParts={}),xt=Ke(""),Rt=Ke(":dels"),Kt=Qe.type,Mt=Qe.type==="deleteRange"?[Qe.range]:Qe.type==="delete"?[Qe.keys]:Qe.values.length<50?[zt(Ie,Qe).filter(function(Pt){return Pt}),Qe.values]:[],jt=Mt[0],Ot=Mt[1],Mt=Qe.trans._cache;return o(jt)?(xt.addKeys(jt),(Mt=Kt==="delete"||jt.length===Ot.length?mr(jt,Mt):null)||Rt.addKeys(jt),(Mt||Ot)&&(We=Ke,Je=Mt,nt=Ot,ve.indexes.forEach(function(Pt){var Jt=We(Pt.name||"");function Ir(Or){return Or!=null?Pt.extractKey(Or):null}function jr(Or){return Pt.multiEntry&&o(Or)?Or.forEach(function(Ns){return Jt.addKey(Ns)}):Jt.addKey(Or)}(Je||nt).forEach(function(Or,qi){var Nr=Je&&Ir(Je[qi]),qi=nt&&Ir(nt[qi]);kr(Nr,qi)!==0&&(Nr!=null&&jr(Nr),qi!=null&&jr(qi))})}))):jt?(Ot={from:(Ot=jt.lower)!==null&&Ot!==void 0?Ot:N.MIN_KEY,to:(Ot=jt.upper)!==null&&Ot!==void 0?Ot:N.MAX_KEY},Rt.add(Ot),xt.add(Ot)):(xt.add(V),Rt.add(V),ve.indexes.forEach(function(Pt){return Ke(Pt.name).add(V)})),he.mutate(Qe).then(function(Pt){return!jt||Qe.type!=="add"&&Qe.type!=="put"||(xt.addKeys(Pt.results),ze&&ze.forEach(function(Jt){for(var Ir=Qe.values.map(function(Nr){return Jt.extractKey(Nr)}),jr=Jt.keyPath.findIndex(function(Nr){return Nr===Ie.keyPath}),Or=0,Ns=Pt.results.length;Or<Ns;++Or)Ir[Or][jr]=Pt.results[Or];Ke(Jt.name).addKeys(Ir)})),lt.mutatedParts=on(lt.mutatedParts||{},ht),Pt})}}),Le=function(Ke){var We=Ke.query,Ke=We.index,We=We.range;return[Ke,new Ht((Ke=We.lower)!==null&&Ke!==void 0?Ke:N.MIN_KEY,(We=We.upper)!==null&&We!==void 0?We:N.MAX_KEY)]},qe={get:function(Qe){return[Ie,new Ht(Qe.key)]},getMany:function(Qe){return[Ie,new Ht().addKeys(Qe.keys)]},count:Le,query:Le,openCursor:Le};return a(qe).forEach(function(Qe){Ve[Qe]=function(Ke){var We=mt.subscr,Je=!!We,nt=Ui(mt,he)&&$r(Qe,Ke)?Ke.obsSet={}:We;if(Je){var lt=function(Ot){return Ot="idb://".concat(D,"/").concat(ie,"/").concat(Ot),nt[Ot]||(nt[Ot]=new Ht)},ht=lt(""),xt=lt(":dels"),We=qe[Qe](Ke),Je=We[0],We=We[1];if((Qe==="query"&&Je.isPrimaryKey&&!Ke.values?xt:lt(Je.name||"")).add(We),!Je.isPrimaryKey){if(Qe!=="count"){var Rt=Qe==="query"&&He&&Ke.values&&he.query(n(n({},Ke),{values:!1}));return he[Qe].apply(this,arguments).then(function(Ot){if(Qe==="query"){if(He&&Ke.values)return Rt.then(function(Ir){return Ir=Ir.result,ht.addKeys(Ir),Ot});var Mt=Ke.values?Ot.result.map(De):Ot.result;(Ke.values?ht:xt).addKeys(Mt)}else if(Qe==="openCursor"){var Pt=Ot,Jt=Ke.values;return Pt&&Object.create(Pt,{key:{get:function(){return xt.addKey(Pt.primaryKey),Pt.key}},primaryKey:{get:function(){var Ir=Pt.primaryKey;return xt.addKey(Ir),Ir}},value:{get:function(){return Jt&&ht.addKey(Pt.primaryKey),Pt.value}}})}return Ot})}xt.add(V)}}return he[Qe].apply(this,arguments)}}),Ve}})}};function yi(N,D,V){if(V.numFailures===0)return D;if(D.type==="deleteRange")return null;var ie=D.keys?D.keys.length:"values"in D&&D.values?D.values.length:1;return V.numFailures===ie?null:(D=n({},D),o(D.keys)&&(D.keys=D.keys.filter(function(he,ve){return!(ve in V.failures)})),"values"in D&&o(D.values)&&(D.values=D.values.filter(function(he,ve){return!(ve in V.failures)})),D)}function fo(N,D){return V=N,((ie=D).lower===void 0||(ie.lowerOpen?0<kr(V,ie.lower):0<=kr(V,ie.lower)))&&(N=N,(D=D).upper===void 0||(D.upperOpen?kr(N,D.upper)<0:kr(N,D.upper)<=0));var V,ie}function ri(N,D,qe,ie,he,ve){if(!qe||qe.length===0)return N;var Ie=D.query.index,De=Ie.multiEntry,He=D.query.range,ze=ie.schema.primaryKey.extractKey,Ve=Ie.extractKey,Le=(Ie.lowLevelIndex||Ie).extractKey,qe=qe.reduce(function(Qe,Ke){var We=Qe,Je=[];if(Ke.type==="add"||Ke.type==="put")for(var nt=new Ht,lt=Ke.values.length-1;0<=lt;--lt){var ht,xt=Ke.values[lt],Rt=ze(xt);nt.hasKey(Rt)||(ht=Ve(xt),(De&&o(ht)?ht.some(function(Pt){return fo(Pt,He)}):fo(ht,He))&&(nt.addKey(Rt),Je.push(xt)))}switch(Ke.type){case"add":var Kt=new Ht().addKeys(D.values?Qe.map(function(Jt){return ze(Jt)}):Qe),We=Qe.concat(D.values?Je.filter(function(Jt){return Jt=ze(Jt),!Kt.hasKey(Jt)&&(Kt.addKey(Jt),!0)}):Je.map(function(Jt){return ze(Jt)}).filter(function(Jt){return!Kt.hasKey(Jt)&&(Kt.addKey(Jt),!0)}));break;case"put":var jt=new Ht().addKeys(Ke.values.map(function(Jt){return ze(Jt)}));We=Qe.filter(function(Jt){return!jt.hasKey(D.values?ze(Jt):Jt)}).concat(D.values?Je:Je.map(function(Jt){return ze(Jt)}));break;case"delete":var Ot=new Ht().addKeys(Ke.keys);We=Qe.filter(function(Jt){return!Ot.hasKey(D.values?ze(Jt):Jt)});break;case"deleteRange":var Mt=Ke.range;We=Qe.filter(function(Jt){return!fo(ze(Jt),Mt)})}return We},N);return qe===N?N:(qe.sort(function(Qe,Ke){return kr(Le(Qe),Le(Ke))||kr(ze(Qe),ze(Ke))}),D.limit&&D.limit<1/0&&(qe.length>D.limit?qe.length=D.limit:N.length===D.limit&&qe.length<D.limit&&(he.dirty=!0)),ve?Object.freeze(qe):qe)}function po(N,D){return kr(N.lower,D.lower)===0&&kr(N.upper,D.upper)===0&&!!N.lowerOpen==!!D.lowerOpen&&!!N.upperOpen==!!D.upperOpen}function jA(N,D){return function(V,ie,he,ve){if(V===void 0)return ie!==void 0?-1:0;if(ie===void 0)return 1;if((ie=kr(V,ie))===0){if(he&&ve)return 0;if(he)return 1;if(ve)return-1}return ie}(N.lower,D.lower,N.lowerOpen,D.lowerOpen)<=0&&0<=function(V,ie,he,ve){if(V===void 0)return ie!==void 0?1:0;if(ie===void 0)return-1;if((ie=kr(V,ie))===0){if(he&&ve)return 0;if(he)return-1;if(ve)return 1}return ie}(N.upper,D.upper,N.upperOpen,D.upperOpen)}function UA(N,D,V,ie){N.subscribers.add(V),ie.addEventListener("abort",function(){var he,ve;N.subscribers.delete(V),N.subscribers.size===0&&(he=N,ve=D,setTimeout(function(){he.subscribers.size===0&&fe(ve,he)},3e3))})}var ml={stack:"dbcore",level:0,name:"Cache",create:function(N){var D=N.schema.name;return n(n({},N),{transaction:function(V,ie,he){var ve,Ie,De=N.transaction(V,ie,he);return ie==="readwrite"&&(Ie=(ve=new AbortController).signal,he=function(He){return function(){if(ve.abort(),ie==="readwrite"){for(var ze=new Set,Ve=0,Le=V;Ve<Le.length;Ve++){var qe=Le[Ve],Qe=yn["idb://".concat(D,"/").concat(qe)];if(Qe){var Ke=N.table(qe),We=Qe.optimisticOps.filter(function(Jt){return Jt.trans===De});if(De._explicit&&He&&De.mutatedParts)for(var Je=0,nt=Object.values(Qe.queries.query);Je<nt.length;Je++)for(var lt=0,ht=(Kt=nt[Je]).slice();lt<ht.length;lt++)Kn((jt=ht[lt]).obsSet,De.mutatedParts)&&(fe(Kt,jt),jt.subscribers.forEach(function(Jt){return ze.add(Jt)}));else if(0<We.length){Qe.optimisticOps=Qe.optimisticOps.filter(function(Jt){return Jt.trans!==De});for(var xt=0,Rt=Object.values(Qe.queries.query);xt<Rt.length;xt++)for(var Kt,jt,Ot,Mt=0,Pt=(Kt=Rt[xt]).slice();Mt<Pt.length;Mt++)(jt=Pt[Mt]).res!=null&&De.mutatedParts&&(He&&!jt.dirty?(Ot=Object.isFrozen(jt.res),Ot=ri(jt.res,jt.req,We,Ke,jt,Ot),jt.dirty?(fe(Kt,jt),jt.subscribers.forEach(function(Jt){return ze.add(Jt)})):Ot!==jt.res&&(jt.res=Ot,jt.promise=Ct.resolve({result:Ot}))):(jt.dirty&&fe(Kt,jt),jt.subscribers.forEach(function(Jt){return ze.add(Jt)})))}}}ze.forEach(function(Jt){return Jt()})}}},De.addEventListener("abort",he(!1),{signal:Ie}),De.addEventListener("error",he(!1),{signal:Ie}),De.addEventListener("complete",he(!0),{signal:Ie})),De},table:function(V){var ie=N.table(V),he=ie.schema.primaryKey;return n(n({},ie),{mutate:function(ve){var Ie=mt.trans;if(he.outbound||Ie.db._options.cache==="disabled"||Ie.explicit||Ie.idbtrans.mode!=="readwrite")return ie.mutate(ve);var De=yn["idb://".concat(D,"/").concat(V)];return De?(Ie=ie.mutate(ve),ve.type!=="add"&&ve.type!=="put"||!(50<=ve.values.length||zt(he,ve).some(function(He){return He==null}))?(De.optimisticOps.push(ve),ve.mutatedParts&&gi(ve.mutatedParts),Ie.then(function(He){0<He.numFailures&&(fe(De.optimisticOps,ve),(He=yi(0,ve,He))&&De.optimisticOps.push(He),ve.mutatedParts&&gi(ve.mutatedParts))}),Ie.catch(function(){fe(De.optimisticOps,ve),ve.mutatedParts&&gi(ve.mutatedParts)})):Ie.then(function(He){var ze=yi(0,n(n({},ve),{values:ve.values.map(function(Ve,Le){var qe;return He.failures[Le]?Ve:(Ve=(qe=he.keyPath)!==null&&qe!==void 0&&qe.includes(".")?K(Ve):n({},Ve),R(Ve,he.keyPath,He.results[Le]),Ve)})}),He);De.optimisticOps.push(ze),queueMicrotask(function(){return ve.mutatedParts&&gi(ve.mutatedParts)})}),Ie):ie.mutate(ve)},query:function(ve){if(!Ui(mt,ie)||!$r("query",ve))return ie.query(ve);var Ie=((ze=mt.trans)===null||ze===void 0?void 0:ze.db._options.cache)==="immutable",Le=mt,De=Le.requery,He=Le.signal,ze=function(Ke,We,Je,nt){var lt=yn["idb://".concat(Ke,"/").concat(We)];if(!lt)return[];if(!(We=lt.queries[Je]))return[null,!1,lt,null];var ht=We[(nt.query?nt.query.index.name:null)||""];if(!ht)return[null,!1,lt,null];switch(Je){case"query":var xt=ht.find(function(Rt){return Rt.req.limit===nt.limit&&Rt.req.values===nt.values&&po(Rt.req.query.range,nt.query.range)});return xt?[xt,!0,lt,ht]:[ht.find(function(Rt){return("limit"in Rt.req?Rt.req.limit:1/0)>=nt.limit&&(!nt.values||Rt.req.values)&&jA(Rt.req.query.range,nt.query.range)}),!1,lt,ht];case"count":return xt=ht.find(function(Rt){return po(Rt.req.query.range,nt.query.range)}),[xt,!!xt,lt,ht]}}(D,V,"query",ve),Ve=ze[0],Le=ze[1],qe=ze[2],Qe=ze[3];return Ve&&Le?Ve.obsSet=ve.obsSet:(Le=ie.query(ve).then(function(Ke){var We=Ke.result;if(Ve&&(Ve.res=We),Ie){for(var Je=0,nt=We.length;Je<nt;++Je)Object.freeze(We[Je]);Object.freeze(We)}else Ke.result=K(We);return Ke}).catch(function(Ke){return Qe&&Ve&&fe(Qe,Ve),Promise.reject(Ke)}),Ve={obsSet:ve.obsSet,promise:Le,subscribers:new Set,type:"query",req:ve,dirty:!1},Qe?Qe.push(Ve):(Qe=[Ve],(qe=qe||(yn["idb://".concat(D,"/").concat(V)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[ve.query.index.name||""]=Qe)),UA(Ve,Qe,De,He),Ve.promise.then(function(Ke){return{result:ri(Ke.result,ve,qe==null?void 0:qe.optimisticOps,ie,Ve,Ie)}})}})}})}};function mo(N,D){return new Proxy(N,{get:function(V,ie,he){return ie==="db"?D:Reflect.get(V,ie,he)}})}var ni=(en.prototype.version=function(N){if(isNaN(N)||N<.1)throw new J.Type("Given version is not a positive number");if(N=Math.round(10*N)/10,this.idbdb||this._state.isBeingOpened)throw new J.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,N);var D=this._versions,V=D.filter(function(ie){return ie._cfg.version===N})[0];return V||(V=new this.Version(N),D.push(V),D.sort(uo),V.stores({}),this._state.autoSchema=!1,V)},en.prototype._whenReady=function(N){var D=this;return this.idbdb&&(this._state.openComplete||mt.letThrough||this._vip)?N():new Ct(function(V,ie){if(D._state.openComplete)return ie(new J.DatabaseClosed(D._state.dbOpenError));if(!D._state.isBeingOpened){if(!D._state.autoOpen)return void ie(new J.DatabaseClosed);D.open().catch(Z)}D._state.dbReadyPromise.then(V,ie)}).then(N)},en.prototype.use=function(N){var D=N.stack,V=N.create,ie=N.level,he=N.name;return he&&this.unuse({stack:D,name:he}),N=this._middlewares[D]||(this._middlewares[D]=[]),N.push({stack:D,create:V,level:ie??10,name:he}),N.sort(function(ve,Ie){return ve.level-Ie.level}),this},en.prototype.unuse=function(N){var D=N.stack,V=N.name,ie=N.create;return D&&this._middlewares[D]&&(this._middlewares[D]=this._middlewares[D].filter(function(he){return ie?he.create!==ie:!!V&&he.name!==V})),this},en.prototype.open=function(){var N=this;return Ti(Yt,function(){return ho(N)})},en.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var N=this._state,D=ls.indexOf(this);if(0<=D&&ls.splice(D,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}N.isBeingOpened||(N.dbReadyPromise=new Ct(function(V){N.dbReadyResolve=V}),N.openCanceller=new Ct(function(V,ie){N.cancelOpen=ie}))},en.prototype.close=function(V){var D=(V===void 0?{disableAutoOpen:!0}:V).disableAutoOpen,V=this._state;D?(V.isBeingOpened&&V.cancelOpen(new J.DatabaseClosed),this._close(),V.autoOpen=!1,V.dbOpenError=new J.DatabaseClosed):(this._close(),V.autoOpen=this._options.autoOpen||V.isBeingOpened,V.openComplete=!1,V.dbOpenError=null)},en.prototype.delete=function(N){var D=this;N===void 0&&(N={disableAutoOpen:!0});var V=0<arguments.length&&typeof arguments[0]!="object",ie=this._state;return new Ct(function(he,ve){function Ie(){D.close(N);var De=D._deps.indexedDB.deleteDatabase(D.name);De.onsuccess=Lr(function(){var He,ze,Ve;He=D._deps,ze=D.name,Ve=He.indexedDB,He=He.IDBKeyRange,Ye(Ve)||ze===Fi||Pe(Ve,He).delete(ze).catch(Z),he()}),De.onerror=As(ve),De.onblocked=D._fireOnBlocked}if(V)throw new J.InvalidArgument("Invalid closeOptions argument to db.delete()");ie.isBeingOpened?ie.dbReadyPromise.then(Ie):Ie()})},en.prototype.backendDB=function(){return this.idbdb},en.prototype.isOpen=function(){return this.idbdb!==null},en.prototype.hasBeenClosed=function(){var N=this._state.dbOpenError;return N&&N.name==="DatabaseClosed"},en.prototype.hasFailed=function(){return this._state.dbOpenError!==null},en.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(en.prototype,"tables",{get:function(){var N=this;return a(this._allTables).map(function(D){return N._allTables[D]})},enumerable:!1,configurable:!0}),en.prototype.transaction=function(){var N=(function(D,V,ie){var he=arguments.length;if(he<2)throw new J.InvalidArgument("Too few arguments");for(var ve=new Array(he-1);--he;)ve[he-1]=arguments[he];return ie=ve.pop(),[D,$(ve),ie]}).apply(this,arguments);return this._transaction.apply(this,N)},en.prototype._transaction=function(N,D,V){var ie=this,he=mt.trans;he&&he.db===this&&N.indexOf("!")===-1||(he=null);var ve,Ie,De=N.indexOf("?")!==-1;N=N.replace("!","").replace("?","");try{if(Ie=D.map(function(ze){if(ze=ze instanceof ie.Table?ze.name:ze,typeof ze!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return ze}),N=="r"||N===ha)ve=ha;else{if(N!="rw"&&N!=Lo)throw new J.InvalidArgument("Invalid transaction mode: "+N);ve=Lo}if(he){if(he.mode===ha&&ve===Lo){if(!De)throw new J.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");he=null}he&&Ie.forEach(function(ze){if(he&&he.storeNames.indexOf(ze)===-1){if(!De)throw new J.SubTransaction("Table "+ze+" not included in parent transaction.");he=null}}),De&&he&&!he.active&&(he=null)}}catch(ze){return he?he._promise(null,function(Ve,Le){Le(ze)}):an(ze)}var He=(function ze(Ve,Le,qe,Qe,Ke){return Ct.resolve().then(function(){var We=mt.transless||mt,Je=Ve._createTransaction(Le,qe,Ve._dbSchema,Qe);if(Je.explicit=!0,We={trans:Je,transless:We},Qe)Je.idbtrans=Qe.idbtrans;else try{Je.create(),Je.idbtrans._explicit=!0,Ve._state.PR1398_maxLoop=3}catch(ht){return ht.name===U.InvalidState&&Ve.isOpen()&&0<--Ve._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Ve.close({disableAutoOpen:!1}),Ve.open().then(function(){return ze(Ve,Le,qe,null,Ke)})):an(ht)}var nt,lt=ae(Ke);return lt&&Ni(),We=Ct.follow(function(){var ht;(nt=Ke.call(Je,Je))&&(lt?(ht=li.bind(null,null),nt.then(ht,ht)):typeof nt.next=="function"&&typeof nt.throw=="function"&&(nt=ea(nt)))},We),(nt&&typeof nt.then=="function"?Ct.resolve(nt).then(function(ht){return Je.active?ht:an(new J.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):We.then(function(){return nt})).then(function(ht){return Qe&&Je._resolve(),Je._completion.then(function(){return ht})}).catch(function(ht){return Je._reject(ht),an(ht)})})}).bind(null,this,ve,Ie,he,V);return he?he._promise(ve,He,"lock"):mt.trans?Ti(mt.transless,function(){return ie._whenReady(He)}):this._whenReady(He)},en.prototype.table=function(N){if(!h(this._allTables,N))throw new J.InvalidTable("Table ".concat(N," does not exist"));return this._allTables[N]},en);function en(N,D){var V=this;this._middlewares={},this.verno=0;var ie=en.dependencies;this._options=D=n({addons:en.addons,autoOpen:!0,indexedDB:ie.indexedDB,IDBKeyRange:ie.IDBKeyRange,cache:"cloned"},D),this._deps={indexedDB:D.indexedDB,IDBKeyRange:D.IDBKeyRange},ie=D.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var he,ve,Ie,De,He,ze={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Z,dbReadyPromise:null,cancelOpen:Z,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:D.autoOpen};ze.dbReadyPromise=new Ct(function(Le){ze.dbReadyResolve=Le}),ze.openCanceller=new Ct(function(Le,qe){ze.cancelOpen=qe}),this._state=ze,this.name=N,this.on=bn(this,"populate","blocked","versionchange","close",{ready:[de,Z]}),this.once=function(Le,qe){var Qe=function(){for(var Ke=[],We=0;We<arguments.length;We++)Ke[We]=arguments[We];V.on(Le).unsubscribe(Qe),qe.apply(V,Ke)};return V.on(Le,Qe)},this.on.ready.subscribe=w(this.on.ready.subscribe,function(Le){return function(qe,Qe){en.vip(function(){var Ke,We=V._state;We.openComplete?(We.dbOpenError||Ct.resolve().then(qe),Qe&&Le(qe)):We.onReadyBeingFired?(We.onReadyBeingFired.push(qe),Qe&&Le(qe)):(Le(qe),Ke=V,Qe||Le(function Je(){Ke.on.ready.unsubscribe(qe),Ke.on.ready.unsubscribe(Je)}))})}}),this.Collection=(he=this,ja(ql.prototype,function(nt,Je){this.db=he;var Qe=Do,Ke=null;if(Je)try{Qe=Je()}catch(lt){Ke=lt}var We=nt._ctx,Je=We.table,nt=Je.hook.reading.fire;this._ctx={table:Je,index:We.index,isPrimKey:!We.index||Je.schema.primKey.keyPath&&We.index===Je.schema.primKey.name,range:Qe,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Ke,or:We.or,valueMapper:nt!==me?nt:null}})),this.Table=(ve=this,ja(Hi.prototype,function(Le,qe,Qe){this.db=ve,this._tx=Qe,this.name=Le,this.schema=qe,this.hook=ve._allTables[Le]?ve._allTables[Le].hook:bn(null,{creating:[H,Z],reading:[B,me],updating:[E,Z],deleting:[S,Z]})})),this.Transaction=(Ie=this,ja(Gl.prototype,function(Le,qe,Qe,Ke,We){var Je=this;Le!=="readonly"&&qe.forEach(function(nt){nt=(nt=Qe[nt])===null||nt===void 0?void 0:nt.yProps,nt&&(qe=qe.concat(nt.map(function(lt){return lt.updatesTable})))}),this.db=Ie,this.mode=Le,this.storeNames=qe,this.schema=Qe,this.chromeTransactionDurability=Ke,this.idbtrans=null,this.on=bn(this,"complete","error","abort"),this.parent=We||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ct(function(nt,lt){Je._resolve=nt,Je._reject=lt}),this._completion.then(function(){Je.active=!1,Je.on.complete.fire()},function(nt){var lt=Je.active;return Je.active=!1,Je.on.error.fire(nt),Je.parent?Je.parent._reject(nt):lt&&Je.idbtrans&&Je.idbtrans.abort(),an(nt)})})),this.Version=(De=this,ja(we.prototype,function(Le){this.db=De,this._cfg={version:Le,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(He=this,ja(yr.prototype,function(Le,qe,Qe){if(this.db=He,this._ctx={table:Le,index:qe===":id"?null:qe,or:Qe},this._cmp=this._ascending=kr,this._descending=function(Ke,We){return kr(We,Ke)},this._max=function(Ke,We){return 0<kr(Ke,We)?Ke:We},this._min=function(Ke,We){return kr(Ke,We)<0?Ke:We},this._IDBKeyRange=He._deps.IDBKeyRange,!this._IDBKeyRange)throw new J.MissingAPI})),this.on("versionchange",function(Le){0<Le.newVersion?console.warn("Another connection wants to upgrade database '".concat(V.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(V.name,"'. Closing db now to resume the delete request.")),V.close({disableAutoOpen:!1})}),this.on("blocked",function(Le){!Le.newVersion||Le.newVersion<Le.oldVersion?console.warn("Dexie.delete('".concat(V.name,"') was blocked")):console.warn("Upgrade '".concat(V.name,"' blocked by other connection holding version ").concat(Le.oldVersion/10))}),this._maxKey=Re(D.IDBKeyRange),this._createTransaction=function(Le,qe,Qe,Ke){return new V.Transaction(Le,qe,Qe,V._options.chromeTransactionDurability,Ke)},this._fireOnBlocked=function(Le){V.on("blocked").fire(Le),ls.filter(function(qe){return qe.name===V.name&&qe!==V&&!qe._state.vcFired}).map(function(qe){return qe.on("versionchange").fire(Le)})},this.use(Vr),this.use(ml),this.use(qn),this.use(tt),this.use(Ar);var Ve=new Proxy(this,{get:function(Le,qe,Qe){if(qe==="_vip")return!0;if(qe==="table")return function(We){return mo(V.table(We),Ve)};var Ke=Reflect.get(Le,qe,Qe);return Ke instanceof Hi?mo(Ke,Ve):qe==="tables"?Ke.map(function(We){return mo(We,Ve)}):qe==="_createTransaction"?function(){return mo(Ke.apply(this,arguments),Ve)}:Ke}});this.vip=Ve,ie.forEach(function(Le){return Le(V)})}var Da,Ai=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",gl=(Vl.prototype.subscribe=function(N,D,V){return this._subscribe(N&&typeof N!="function"?N:{next:N,error:D,complete:V})},Vl.prototype[Ai]=function(){return this},Vl);function Vl(N){this._subscribe=N}try{Da={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{Da={indexedDB:null,IDBKeyRange:null}}function Xl(N){var D,V=!1,ie=new gl(function(he){var ve=ae(N),Ie,De=!1,He={},ze={},Ve={get closed(){return De},unsubscribe:function(){De||(De=!0,Ie&&Ie.abort(),Le&&Yn.storagemutated.unsubscribe(Qe))}};he.start&&he.start(Ve);var Le=!1,qe=function(){return mi(Ke)},Qe=function(We){on(He,We),Kn(ze,He)&&qe()},Ke=function(){var We,Je,nt;!De&&Da.indexedDB&&(He={},We={},Ie&&Ie.abort(),Ie=new AbortController,nt=function(lt){var ht=Tr();try{ve&&Ni();var xt=Yr(N,lt);return xt=ve?xt.finally(li):xt}finally{ht&&Lt()}}(Je={subscr:We,signal:Ie.signal,requery:qe,querier:N,trans:null}),Promise.resolve(nt).then(function(lt){V=!0,D=lt,De||Je.signal.aborted||(He={},function(ht){for(var xt in ht)if(h(ht,xt))return;return 1}(ze=We)||Le||(Yn(Ys,Qe),Le=!0),mi(function(){return!De&&he.next&&he.next(lt)}))},function(lt){V=!1,["DatabaseClosedError","AbortError"].includes(lt==null?void 0:lt.name)||De||mi(function(){De||he.error&&he.error(lt)})}))};return setTimeout(qe,0),Ve});return ie.hasValue=function(){return V},ie.getValue=function(){return D},ie}var vn=ni;function Tc(N){var D=Ki;try{Ki=!0,Yn.storagemutated.fire(N),pl(N,!0)}finally{Ki=D}}f(vn,n(n({},ee),{delete:function(N){return new vn(N,{addons:[]}).delete()},exists:function(N){return new vn(N,{addons:[]}).open().then(function(D){return D.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(N){try{return D=vn.dependencies,V=D.indexedDB,D=D.IDBKeyRange,(Ye(V)?Promise.resolve(V.databases()).then(function(ie){return ie.map(function(he){return he.name}).filter(function(he){return he!==Fi})}):Pe(V,D).toCollection().primaryKeys()).then(N)}catch{return an(new J.MissingAPI)}var D,V},defineClass:function(){return function(N){c(this,N)}},ignoreTransaction:function(N){return mt.trans?Ti(mt.transless,N):N()},vip:ft,async:function(N){return function(){try{var D=ea(N.apply(this,arguments));return D&&typeof D.then=="function"?D:Ct.resolve(D)}catch(V){return an(V)}}},spawn:function(N,D,V){try{var ie=ea(N.apply(V,D||[]));return ie&&typeof ie.then=="function"?ie:Ct.resolve(ie)}catch(he){return an(he)}},currentTransaction:{get:function(){return mt.trans||null}},waitFor:function(N,D){return D=Ct.resolve(typeof N=="function"?vn.ignoreTransaction(N):N).timeout(D||6e4),mt.trans?mt.trans.waitFor(D):D},Promise:Ct,debug:{get:function(){return ye},set:function(N){ue(N)}},derive:m,extend:c,props:f,override:w,Events:bn,on:Yn,liveQuery:Xl,extendObservabilitySet:on,getByKeyPath:F,setByKeyPath:R,delByKeyPath:function(N,D){typeof D=="string"?R(N,D,void 0):"length"in D&&[].map.call(D,function(V){R(N,V,void 0)})},shallowClone:Q,deepClone:K,getObjectDiff:vt,cmp:kr,asap:I,minKey:-1/0,addons:[],connections:ls,errnames:U,dependencies:Da,cache:yn,semVer:"4.2.1",version:"4.2.1".split(".").map(function(N){return parseInt(N)}).reduce(function(N,D,V){return N+D/Math.pow(10,2*V)})})),vn.maxKey=Re(vn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Yn(Ys,function(N){Ki||(N=new CustomEvent(ci,{detail:N}),Ki=!0,dispatchEvent(N),Ki=!1)}),addEventListener(ci,function(N){N=N.detail,Ki||Tc(N)}));var us,Ki=!1,Fc=function(){};return typeof BroadcastChannel<"u"&&((Fc=function(){(us=new BroadcastChannel(ci)).onmessage=function(N){return N.data&&Tc(N.data)}})(),typeof us.unref=="function"&&us.unref(),Yn(Ys,function(N){Ki||us.postMessage(N)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(N){if(!ni.disableBfCache&&N.persisted){ye&&console.debug("Dexie: handling persisted pagehide"),us!=null&&us.close();for(var D=0,V=ls;D<V.length;D++)V[D].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(N){!ni.disableBfCache&&N.persisted&&(ye&&console.debug("Dexie: handling persisted pageshow"),Fc(),Tc({all:new Ht(-1/0,[[]])}))})),Ct.rejectionMapper=function(N,D){return!N||N instanceof O||N instanceof TypeError||N instanceof SyntaxError||!N.name||!ce[N.name]?N:(D=new ce[N.name](D||N.message,N),"stack"in N&&g(D,"stack",{get:function(){return this.inner.stack}}),D)},ue(ye),n(ni,Object.freeze({__proto__:null,Dexie:ni,liveQuery:Xl,Entity:dl,cmp:kr,PropModification:Zi,replacePrefix:function(N,D){return new Zi({replacePrefix:[N,D]})},add:function(N){return new Zi({add:N})},remove:function(N){return new Zi({remove:N})},default:ni,RangeSet:Ht,mergeRanges:pr,rangesOverlap:xr}),{default:ni}),ni})})(mL);var oJ=mL.exports;const t5=ch(oJ),Z3=Symbol.for("Dexie"),r5=globalThis[Z3]||(globalThis[Z3]=t5);if(t5.semVer!==r5.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${t5.semVer} and ${r5.semVer}`);class lJ extends r5{constructor(){super("SDDGeneratorDB");Br(this,"projects");Br(this,"artifacts");Br(this,"sections");Br(this,"adrs");Br(this,"umlDiagrams");Br(this,"approvers");Br(this,"approvals");Br(this,"chatMessages");this.version(1).stores({projects:"id, name, createdAt",artifacts:"id, projectId, fileName, uploadedAt",sections:"id, [projectId+sectionId], projectId, generatedAt"}),this.version(2).stores({projects:"id, name, createdAt",artifacts:"id, projectId, fileName, uploadedAt",sections:"id, [projectId+sectionId], projectId, generatedAt",adrs:"id, projectId, number, createdAt"}),this.version(3).stores({projects:"id, name, createdAt",artifacts:"id, projectId, fileName, uploadedAt",sections:"id, [projectId+sectionId], projectId, generatedAt",adrs:"id, projectId, number, createdAt",umlDiagrams:"id, projectId, name, diagramType, createdAt"}),this.version(4).stores({projects:"id, name, createdAt",artifacts:"id, projectId, fileName, uploadedAt",sections:"id, [projectId+sectionId], projectId, generatedAt",adrs:"id, projectId, number, createdAt",umlDiagrams:"id, projectId, name, diagramType, createdAt"}).upgrade(async r=>{const n=await r.table("projects").toArray();for(const i of n)!i.selectedSectionIds&&!i.customSections&&await r.table("projects").update(i.id,{selectedSectionIds:[],customSections:[]})}),this.version(5).stores({projects:"id, name, createdAt",artifacts:"id, projectId, fileName, uploadedAt",sections:"id, [projectId+sectionId], projectId, generatedAt",adrs:"id, projectId, number, createdAt",umlDiagrams:"id, projectId, name, diagramType, createdAt",approvers:"id, projectId, email, [projectId+email], addedAt",approvals:"id, projectId, approverId, [projectId+approverId], status, createdAt"}),this.version(6).stores({projects:"id, name, createdAt",artifacts:"id, projectId, fileName, uploadedAt",sections:"id, [projectId+sectionId], projectId, generatedAt",adrs:"id, projectId, number, createdAt",umlDiagrams:"id, projectId, name, diagramType, createdAt",approvers:"id, projectId, email, [projectId+email], addedAt",approvals:"id, projectId, approverId, [projectId+approverId], status, createdAt",chatMessages:"id, projectId, timestamp, [projectId+timestamp], createdAt"})}}const nd=new lJ;nd.open().then(()=>{console.log("âœ… IndexedDB initialized successfully")}).catch(e=>{console.error("âŒ IndexedDB initialization error:",e)});async function gL(){var e,t,r,n,i,s,a,o,c;console.log("ðŸ”„ Starting migration from IndexedDB to SQLite file database...");try{const A=await Dp(),d=new so,h=await d.getAllProjects();if(h.length>0){console.log("âœ… Migration already completed. SQLite database contains",h.length,"projects"),localStorage.setItem("migration_complete","true"),localStorage.setItem("migration_date",new Date().toISOString());return}console.log("ðŸ“¦ Migrating projects...");const f=await nd.projects.toArray();let u=0;for(const R of f)try{if(await d.getProjectById(R.id)){console.log(`â­ï¸  Project ${R.name} already exists, skipping...`);continue}const k=new Date().toISOString();A.run(`INSERT INTO Project (id, name, description, selectedSectionIds, customSections, coverPageSettings, createdAt, updatedAt)
           VALUES ('${R.id.replace(/'/g,"''")}', '${R.name.replace(/'/g,"''")}', '${R.description.replace(/'/g,"''")}', 
                   ${R.selectedSectionIds?`'${JSON.stringify(R.selectedSectionIds).replace(/'/g,"''")}'`:"NULL"}, 
                   ${R.customSections?`'${JSON.stringify(R.customSections).replace(/'/g,"''")}'`:"NULL"}, 
                   ${R.coverPageSettings?`'${JSON.stringify(R.coverPageSettings).replace(/'/g,"''")}'`:"NULL"}, 
                   '${R.createdAt.toISOString()}', '${R.updatedAt.toISOString()}')`),u++,console.log(`âœ… Migrated project: ${R.name}`)}catch(Q){(e=Q.message)!=null&&e.includes("UNIQUE constraint")?console.log(`â­ï¸  Project ${R.name} already exists, skipping...`):console.error(`âŒ Failed to migrate project ${R.id}:`,Q)}await Cr(),console.log("ðŸ“¦ Migrating artifacts...");const g=await nd.artifacts.toArray();let m=0;for(const R of g)try{if((await d.getArtifactsByProject(R.projectId)).some(k=>k.id===R.id)){console.log(`â­ï¸  Artifact ${R.fileName} already exists, skipping...`);continue}A.run(`INSERT INTO ProjectArtifact (id, projectId, fileName, fileType, fileSize, fileContent, artifactType, uploadedAt)
           VALUES ('${R.id.replace(/'/g,"''")}', '${R.projectId.replace(/'/g,"''")}', 
                   '${R.fileName.replace(/'/g,"''")}', '${R.fileType.replace(/'/g,"''")}', 
                   ${R.fileSize}, '${R.fileContent.replace(/'/g,"''")}', 
                   '${R.artifactType}', '${R.uploadedAt.toISOString()}')`),m++,console.log(`âœ… Migrated artifact: ${R.fileName}`)}catch(Q){(t=Q.message)!=null&&t.includes("UNIQUE constraint")||(r=Q.message)!=null&&r.includes("already exists")?console.log(`â­ï¸  Artifact ${R.fileName} already exists, skipping...`):console.error(`âŒ Failed to migrate artifact ${R.id}:`,Q)}await Cr(),console.log("ðŸ“¦ Migrating generated sections...");const x=await nd.sections.toArray();let p=0;for(const R of x)try{if(await d.getGeneratedSection(R.projectId,R.sectionId)){console.log(`â­ï¸  Section ${R.sectionId} already exists, skipping...`);continue}A.run(`INSERT INTO GeneratedSection (id, projectId, sectionId, sectionTitle, content, generatedAt, updatedAt)
           VALUES ('${R.id.replace(/'/g,"''")}', '${R.projectId.replace(/'/g,"''")}', 
                   '${R.sectionId.replace(/'/g,"''")}', '${R.sectionTitle.replace(/'/g,"''")}', 
                   '${R.content.replace(/'/g,"''")}', '${R.generatedAt.toISOString()}', 
                   '${R.updatedAt.toISOString()}')`),p++,console.log(`âœ… Migrated section: ${R.sectionId}`)}catch(Q){(n=Q.message)!=null&&n.includes("UNIQUE constraint")||(i=Q.message)!=null&&i.includes("already exists")?console.log(`â­ï¸  Section ${R.sectionId} already exists, skipping...`):console.error(`âŒ Failed to migrate section ${R.id}:`,Q)}await Cr(),console.log("ðŸ“¦ Migrating ADRs...");const y=await nd.adrs.toArray();let w=0;for(const R of y)try{if(await d.getADRById(R.id)){console.log(`â­ï¸  ADR ${R.title} already exists, skipping...`);continue}A.run(`INSERT INTO ADR (id, projectId, number, title, status, date, context, decision, consequences, createdAt, updatedAt)
           VALUES ('${R.id.replace(/'/g,"''")}', '${R.projectId.replace(/'/g,"''")}', ${R.number}, 
                   '${R.title.replace(/'/g,"''")}', '${R.status}', '${R.date.toISOString()}', 
                   '${R.context.replace(/'/g,"''")}', '${R.decision.replace(/'/g,"''")}', 
                   '${R.consequences.replace(/'/g,"''")}', '${R.createdAt.toISOString()}', 
                   '${R.updatedAt.toISOString()}')`),w++,console.log(`âœ… Migrated ADR: ${R.title}`)}catch(Q){(s=Q.message)!=null&&s.includes("UNIQUE constraint")||(a=Q.message)!=null&&a.includes("already exists")?console.log(`â­ï¸  ADR ${R.title} already exists, skipping...`):console.error(`âŒ Failed to migrate ADR ${R.id}:`,Q)}await Cr(),console.log("ðŸ“¦ Migrating UML diagrams...");const b=await nd.umlDiagrams.toArray();let I=0;for(const R of b)try{if(await d.getUMLDiagramById(R.id)){console.log(`â­ï¸  UML diagram ${R.name} already exists, skipping...`);continue}A.run(`INSERT INTO UMLDiagram (id, projectId, name, description, diagramType, content, format, createdAt, updatedAt)
           VALUES ('${R.id.replace(/'/g,"''")}', '${R.projectId.replace(/'/g,"''")}', 
                   '${R.name.replace(/'/g,"''")}', '${R.description.replace(/'/g,"''")}', 
                   '${R.diagramType}', '${R.content.replace(/'/g,"''")}', 
                   '${R.format.replace(/'/g,"''")}', '${R.createdAt.toISOString()}', 
                   '${R.updatedAt.toISOString()}')`),I++,console.log(`âœ… Migrated UML diagram: ${R.name}`)}catch(Q){(o=Q.message)!=null&&o.includes("UNIQUE constraint")||(c=Q.message)!=null&&c.includes("already exists")?console.log(`â­ï¸  UML diagram ${R.name} already exists, skipping...`):console.error(`âŒ Failed to migrate UML diagram ${R.id}:`,Q)}await Cr();const{saveDatabaseFile:F}=await Mf(()=>Promise.resolve().then(()=>_O),void 0,import.meta.url);try{await F(),console.log("âœ… Database saved to file system")}catch{console.log("â„¹ï¸  Could not save to file system (will use localStorage). You can export/import later.")}console.log("âœ… Migration completed successfully!"),console.log("ðŸ“Š Migration summary:"),console.log(`   - Projects: ${u} migrated (${f.length} total in IndexedDB)`),console.log(`   - Artifacts: ${m} migrated (${g.length} total in IndexedDB)`),console.log(`   - Sections: ${p} migrated (${x.length} total in IndexedDB)`),console.log(`   - ADRs: ${w} migrated (${y.length} total in IndexedDB)`),console.log(`   - UML Diagrams: ${I} migrated (${b.length} total in IndexedDB)`),localStorage.setItem("migration_complete","true"),localStorage.setItem("migration_date",new Date().toISOString()),(u>0||m>0||p>0)&&console.log("ðŸ’¡ Tip: Export your database file to share it across browsers or save it to a shared location.")}catch(A){throw console.error("âŒ Migration failed:",A),A}}function cJ(){return localStorage.getItem("migration_complete")==="true"}function AJ(){const e=[],t=localStorage.getItem("SDDGeneratorDB");t&&e.push({name:"SDDGeneratorDB (Main)",size:t.length,timestamp:"Current"});const r=localStorage.getItem("SDDGeneratorDB_backup");r&&e.push({name:"SDDGeneratorDB_backup",size:r.length,timestamp:"Backup"});for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);if(i&&i.startsWith("SDDGeneratorDB")&&i!=="SDDGeneratorDB"&&i!=="SDDGeneratorDB_backup"){const s=localStorage.getItem(i);s&&e.push({name:i,size:s.length,timestamp:"Unknown"})}}return e}async function uJ(){try{if(await v6()){const n=(await Jo()).exec("SELECT COUNT(*) as count FROM Project"),i=n.length>0&&n[0].values.length>0?n[0].values[0][0]:0;return{success:!0,message:`Successfully recovered ${i} project(s) from backup`,projectCount:i}}if(localStorage.getItem("SDDGeneratorDB"))try{const n=(await Jo()).exec("SELECT COUNT(*) as count FROM Project"),i=n.length>0&&n[0].values.length>0?n[0].values[0][0]:0;return{success:!0,message:`Found ${i} project(s) in main database`,projectCount:i}}catch(r){return{success:!1,message:`Main database exists but is corrupted: ${r}`}}return{success:!1,message:"No backups found. Data may have been permanently lost."}}catch(e){return{success:!1,message:`Recovery failed: ${e}`}}}async function dJ(){await hp()}function hJ(){console.log(`
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘         DATABASE RECOVERY INSTRUCTIONS                       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

If your projects are lost, follow these steps:

1. Open Browser DevTools (F12)
2. Go to Application tab â†’ Local Storage
3. Look for these keys:
   - SDDGeneratorDB (main database)
   - SDDGeneratorDB_backup (backup)

4. To recover in console:
   import { recoverProjects } from './src/infrastructure/database/recovery';
   await recoverProjects();

5. To export current database:
   import { exportCurrentDatabase } from './src/infrastructure/database/recovery';
   await exportCurrentDatabase();

6. To list all backups:
   import { listBackups } from './src/infrastructure/database/recovery';
   listBackups();

âš ï¸  IMPORTANT: Do not clear localStorage until you've recovered your data!
  `)}typeof window<"u"&&(window.recoverProjects=uJ,window.listBackups=AJ,window.exportCurrentDatabase=dJ,window.printRecoveryInstructions=hJ);const ek=[{id:"microservices-vs-monolith",title:"Adopt Microservices Architecture",category:"Architecture",context:`We need to decide on the architectural pattern for our new application. The system needs to handle multiple business domains (payments, customer management, notifications) and must scale independently. We have a team of 20+ developers who need to work in parallel.

Current challenges:
- Single deployment unit blocks independent releases
- Tight coupling between features
- Difficult to scale individual components
- Technology stack locked to one choice`,decision:`We will adopt a microservices architecture with the following characteristics:
- Each service owns its data and business logic
- Services communicate via REST APIs and message queues
- Independent deployment and scaling
- Service mesh for cross-cutting concerns
- API Gateway for external access
- Container orchestration using Kubernetes`,consequences:`Positive:
- Independent deployment and scaling of services
- Technology diversity (each service can use different tech stack)
- Better team autonomy and parallel development
- Fault isolation (failure in one service doesn't bring down entire system)
- Easier to understand and maintain individual services

Negative:
- Increased operational complexity
- Network latency and potential failures
- Data consistency challenges (distributed transactions)
- More complex testing and debugging
- Higher infrastructure costs
- Need for service discovery and monitoring tools`},{id:"sql-vs-nosql",title:"Use SQL Database for Primary Data Storage",category:"Database",context:`We need to choose a database solution for our core banking application. The system requires:
- Strong ACID compliance for financial transactions
- Complex queries and joins across multiple tables
- Relational data with foreign keys
- Transaction integrity
- Audit trails and compliance requirements
- Team familiarity with SQL`,decision:`We will use PostgreSQL as our primary database for core transactional data.

Rationale:
- ACID compliance for financial transactions
- Strong consistency guarantees
- Rich query capabilities with SQL
- Mature ecosystem and tooling
- Excellent support for relational data
- Proven reliability for financial systems
- JSON support for flexible schema when needed`,consequences:`Positive:
- Strong data consistency and integrity
- Familiar SQL interface for developers
- Mature tooling and ecosystem
- Excellent for complex queries and reporting
- ACID transactions ensure data correctness
- Wide community support and documentation

Negative:
- Vertical scaling limitations (though horizontal read replicas help)
- Schema changes require migrations
- Can be slower for very high write loads
- Less flexible than NoSQL for schema evolution`},{id:"api-rest-vs-graphql",title:"Use REST API for External Integration",category:"API Design",context:`We need to expose APIs for third-party integrations and mobile applications. Requirements include:
- Simple integration for partners
- Standard HTTP methods and status codes
- Caching support
- Wide industry adoption
- Easy documentation and testing
- Support for various client types (web, mobile, third-party)`,decision:`We will expose RESTful APIs following OpenAPI 3.0 specification.

Standards:
- Use standard HTTP methods (GET, POST, PUT, DELETE, PATCH)
- RESTful resource naming conventions
- JSON for request/response payloads
- Proper HTTP status codes
- API versioning in URL path (/api/v1/)
- Rate limiting and authentication
- Comprehensive OpenAPI documentation`,consequences:`Positive:
- Industry standard, easy for partners to integrate
- Caching support via HTTP headers
- Simple and predictable
- Excellent tooling and documentation
- Works well with HTTP proxies and CDNs
- Easy to test with standard HTTP tools

Negative:
- Over-fetching or under-fetching data
- Multiple round trips for complex data
- Versioning can be challenging
- Less flexible than GraphQL for client-specific queries`},{id:"containerization",title:"Use Docker Containers for Application Deployment",category:"Deployment",context:`We need a consistent deployment strategy across development, staging, and production environments. Current challenges:
- Environment inconsistencies causing "works on my machine" issues
- Difficult to replicate production environment locally
- Manual deployment processes
- Dependency conflicts between applications
- Scaling and resource management`,decision:`We will containerize all applications using Docker and deploy using Kubernetes.

Strategy:
- Docker containers for all application services
- Multi-stage builds for optimized images
- Container orchestration with Kubernetes
- Helm charts for deployment configuration
- CI/CD pipeline for automated builds and deployments
- Container registry for image storage`,consequences:`Positive:
- Consistent environments across all stages
- Easy local development setup
- Scalable and portable deployments
- Efficient resource utilization
- Isolation between applications
- Easy rollback capabilities
- Standardized deployment process

Negative:
- Learning curve for Docker and Kubernetes
- Additional infrastructure complexity
- Container orchestration overhead
- Need for monitoring and logging solutions
- Image security scanning required`},{id:"authentication-oauth",title:"Implement OAuth 2.0 for Authentication",category:"Security",context:`We need a secure authentication and authorization system for our application. Requirements:
- Support for multiple client types (web, mobile, third-party)
- Single Sign-On (SSO) capability
- Token-based authentication
- Industry-standard security practices
- Integration with identity providers
- Support for different user roles and permissions`,decision:`We will implement OAuth 2.0 with OpenID Connect for authentication and authorization.

Implementation:
- Authorization Server for token issuance
- Resource Server for API protection
- Support for multiple grant types (Authorization Code, Client Credentials, Refresh Token)
- JWT tokens for stateless authentication
- Integration with identity providers (Azure AD, Okta)
- Role-based access control (RBAC)
- Token refresh mechanism`,consequences:`Positive:
- Industry-standard and widely supported
- Secure token-based authentication
- Supports multiple client types
- Enables SSO across applications
- Stateless authentication (scalable)
- Fine-grained authorization control

Negative:
- Complex implementation and configuration
- Token management overhead
- Requires understanding of OAuth flows
- Potential security vulnerabilities if misconfigured
- Token expiration and refresh complexity`},{id:"message-queue",title:"Use Message Queue for Asynchronous Processing",category:"Communication",context:`We need to handle asynchronous operations and decouple services. Current challenges:
- Synchronous calls causing timeouts
- Tight coupling between services
- Need for reliable message delivery
- Event-driven architecture requirements
- Background job processing
- Integration with external systems`,decision:`We will use Apache Kafka for event streaming and message queuing.

Setup:
- Kafka clusters for high availability
- Topic-based messaging for different event types
- Consumer groups for parallel processing
- Message retention for replay capability
- Schema registry for message validation
- Dead letter queues for failed messages`,consequences:`Positive:
- Decoupled services and asynchronous processing
- High throughput and scalability
- Event replay capability
- Ordering guarantees within partitions
- Durable message storage
- Supports event sourcing patterns

Negative:
- Operational complexity
- Learning curve for Kafka
- Requires Zookeeper (or KRaft)
- Message ordering complexity across partitions
- Potential for message duplication
- Resource intensive`},{id:"caching-strategy",title:"Implement Multi-Layer Caching Strategy",category:"Performance",context:`Our application experiences high read traffic and database load. We need to improve response times and reduce database pressure. Requirements:
- Fast response times for frequently accessed data
- Reduce database query load
- Support for high traffic volumes
- Cache invalidation strategies
- Support for distributed systems`,decision:`We will implement a multi-layer caching strategy using Redis and in-memory caches.

Layers:
1. Application-level cache (in-memory) for frequently accessed, small data
2. Distributed cache (Redis) for shared data across instances
3. CDN caching for static assets
4. Database query result caching
5. Cache-aside pattern for data loading
6. TTL-based expiration with manual invalidation`,consequences:`Positive:
- Significantly reduced response times
- Lower database load
- Better scalability
- Improved user experience
- Cost reduction (fewer database resources)

Negative:
- Cache invalidation complexity
- Potential stale data issues
- Additional infrastructure to maintain
- Memory costs
- Cache consistency challenges in distributed systems`},{id:"monitoring-observability",title:"Implement Comprehensive Observability Stack",category:"Operations",context:`We need visibility into our distributed system for debugging, performance optimization, and reliability. Challenges:
- Difficult to trace requests across services
- Limited visibility into system health
- Slow incident response
- Performance bottlenecks hard to identify
- Limited business metrics visibility`,decision:`We will implement a comprehensive observability stack using:
- Prometheus for metrics collection
- Grafana for visualization and dashboards
- ELK Stack (Elasticsearch, Logstash, Kibana) for log aggregation
- Jaeger for distributed tracing
- AlertManager for alerting
- Custom business metrics dashboards`,consequences:`Positive:
- Full visibility into system behavior
- Faster debugging and issue resolution
- Proactive problem detection via alerts
- Performance optimization insights
- Business metrics tracking
- Better incident response

Negative:
- High data volume and storage costs
- Operational overhead to maintain
- Learning curve for tooling
- Potential performance impact from instrumentation
- Complex query languages to learn`},{id:"ci-cd-pipeline",title:"Implement CI/CD Pipeline with Automated Testing",category:"DevOps",context:`We need to improve our software delivery process. Current issues:
- Manual deployment processes prone to errors
- Long release cycles
- Difficult to rollback changes
- Limited automated testing
- Inconsistent deployment processes
- Need for faster feedback loops`,decision:`We will implement a CI/CD pipeline using GitHub Actions with the following stages:

Pipeline:
1. Code quality checks (linting, formatting)
2. Unit tests execution
3. Integration tests
4. Security scanning (SAST, dependency scanning)
5. Build Docker images
6. Deploy to staging environment
7. Run E2E tests
8. Manual approval for production
9. Deploy to production with blue-green deployment
10. Automated rollback on health check failures`,consequences:`Positive:
- Faster and reliable deployments
- Automated testing reduces bugs
- Consistent deployment process
- Quick rollback capabilities
- Better code quality through automated checks
- Faster feedback for developers

Negative:
- Initial setup complexity
- Maintenance of pipeline scripts
- Test execution time can slow down feedback
- Requires discipline in test writing
- Infrastructure costs for CI/CD runners`},{id:"api-gateway",title:"Implement API Gateway Pattern",category:"Architecture",context:`We have multiple microservices that need to be exposed to clients. Challenges:
- Multiple entry points for clients
- Different authentication/authorization per service
- Rate limiting and throttling needs
- Request/response transformation
- Protocol translation
- Service discovery complexity`,decision:`We will implement an API Gateway using Kong/NGINX as a single entry point.

Responsibilities:
- Single entry point for all client requests
- Authentication and authorization
- Rate limiting and throttling
- Request routing and load balancing
- Request/response transformation
- API versioning
- Request logging and monitoring
- Circuit breaker pattern`,consequences:`Positive:
- Single entry point simplifies client integration
- Centralized cross-cutting concerns
- Better security control
- Protocol translation (HTTP to gRPC)
- Request aggregation reduces round trips
- Centralized monitoring and logging

Negative:
- Single point of failure (mitigated with high availability)
- Additional network hop (latency)
- Operational complexity
- Potential bottleneck
- Gateway can become a monolith itself if not managed carefully`},{id:"database-sharding",title:"Implement Database Sharding for Scalability",category:"Database",context:`Our database is approaching capacity limits and query performance is degrading. We need to scale horizontally. Constraints:
- Single database can't handle the load
- Read replicas help but writes are bottleneck
- Need to distribute data across multiple databases
- Maintain data locality
- Support for complex queries`,decision:`We will implement horizontal database sharding using a shard key strategy.

Strategy:
- Shard by customer ID (hash-based sharding)
- Each shard contains complete customer data
- Shard proxy/router for query routing
- Cross-shard queries handled by application layer
- Read replicas per shard for read scaling
- Automated shard rebalancing when needed`,consequences:`Positive:
- Horizontal scalability for writes
- Improved query performance
- Better resource utilization
- Fault isolation per shard
- Can scale independently

Negative:
- Complex query routing
- Cross-shard queries are expensive
- Data rebalancing complexity
- Operational complexity
- Application logic changes required
- Potential data distribution skew`},{id:"event-sourcing",title:"Adopt Event Sourcing for Critical Domains",category:"Architecture",context:`We need complete audit trails and ability to replay events for financial transactions. Requirements:
- Immutable audit log
- Event replay capability
- Temporal queries (state at any point in time)
- Compliance and regulatory requirements
- Complex business logic with multiple state changes`,decision:`We will implement Event Sourcing for the payment and transaction domains.

Implementation:
- Store all domain events as the source of truth
- Rebuild state by replaying events
- Separate read models (CQRS) for queries
- Event store for persistence
- Event versioning for schema evolution
- Snapshot support for performance`,consequences:`Positive:
- Complete audit trail
- Event replay and debugging capability
- Temporal queries (state at any time)
- Natural fit for financial systems
- Decoupled read/write models
- Better compliance support

Negative:
- Complex implementation
- Event schema evolution challenges
- Performance considerations (event replay)
- Learning curve for team
- Additional storage requirements
- Eventual consistency complexity`},{id:"cdn-strategy",title:"Use CDN for Static Asset Delivery",category:"Performance",context:`Our application serves static assets (images, CSS, JS) to users globally. Issues:
- Slow load times for users far from origin
- High bandwidth costs
- Origin server overload
- Poor user experience in some regions`,decision:`We will use CloudFront (AWS) / Cloudflare CDN for static asset delivery.

Configuration:
- Cache static assets with long TTLs
- Versioned asset URLs for cache busting
- HTTPS for all assets
- Geographic distribution
- Edge locations for low latency
- Origin failover for reliability`,consequences:`Positive:
- Faster load times globally
- Reduced origin server load
- Lower bandwidth costs
- Better user experience
- DDoS protection
- SSL/TLS termination at edge

Negative:
- CDN costs
- Cache invalidation complexity
- Potential stale content issues
- Additional configuration overhead`},{id:"database-backup",title:"Implement Automated Database Backup Strategy",category:"Operations",context:`We need a robust backup and disaster recovery strategy for our critical financial data. Requirements:
- Point-in-time recovery capability
- Automated backups
- Off-site backup storage
- Fast recovery time objectives (RTO)
- Compliance requirements
- Regular testing of restore procedures`,decision:`We will implement a comprehensive backup strategy with:
- Daily full backups
- Continuous transaction log backups
- Backup retention: 30 days daily, 12 months monthly
- Off-site backup storage (different region)
- Automated backup verification
- Monthly restore testing
- Encrypted backups`,consequences:`Positive:
- Data protection and compliance
- Fast recovery from disasters
- Point-in-time recovery capability
- Peace of mind
- Regulatory compliance

Negative:
- Storage costs
- Backup window considerations
- Restore testing overhead
- Management complexity`}],fJ=["All","Architecture","Database","API Design","Deployment","Security","Communication","Performance","Operations","DevOps"];function pJ(e){return e==="All"?ek:ek.filter(t=>t.category===e)}var yL={exports:{}},mJ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",gJ=mJ,yJ=gJ;function wL(){}function bL(){}bL.resetWarningCache=wL;var wJ=function(){function e(n,i,s,a,o,c){if(c!==yJ){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:bL,resetWarningCache:wL};return r.PropTypes=r,r};yL.exports=wJ();var St=yL.exports,n5=globalThis&&globalThis.__assign||function(){return n5=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},n5.apply(this,arguments)},vL={onActivate:St.func,onAddUndo:St.func,onBeforeAddUndo:St.func,onBeforeExecCommand:St.func,onBeforeGetContent:St.func,onBeforeRenderUI:St.func,onBeforeSetContent:St.func,onBeforePaste:St.func,onBlur:St.func,onChange:St.func,onClearUndos:St.func,onClick:St.func,onContextMenu:St.func,onCommentChange:St.func,onCompositionEnd:St.func,onCompositionStart:St.func,onCompositionUpdate:St.func,onCopy:St.func,onCut:St.func,onDblclick:St.func,onDeactivate:St.func,onDirty:St.func,onDrag:St.func,onDragDrop:St.func,onDragEnd:St.func,onDragGesture:St.func,onDragOver:St.func,onDrop:St.func,onExecCommand:St.func,onFocus:St.func,onFocusIn:St.func,onFocusOut:St.func,onGetContent:St.func,onHide:St.func,onInit:St.func,onInput:St.func,onKeyDown:St.func,onKeyPress:St.func,onKeyUp:St.func,onLoadContent:St.func,onMouseDown:St.func,onMouseEnter:St.func,onMouseLeave:St.func,onMouseMove:St.func,onMouseOut:St.func,onMouseOver:St.func,onMouseUp:St.func,onNodeChange:St.func,onObjectResizeStart:St.func,onObjectResized:St.func,onObjectSelected:St.func,onPaste:St.func,onPostProcess:St.func,onPostRender:St.func,onPreProcess:St.func,onProgressState:St.func,onRedo:St.func,onRemove:St.func,onReset:St.func,onSaveContent:St.func,onSelectionChange:St.func,onSetAttrib:St.func,onSetContent:St.func,onShow:St.func,onSubmit:St.func,onUndo:St.func,onVisualAid:St.func,onSkinLoadError:St.func,onThemeLoadError:St.func,onModelLoadError:St.func,onPluginLoadError:St.func,onIconsLoadError:St.func,onLanguageLoadError:St.func,onScriptsLoad:St.func,onScriptsLoadError:St.func},bJ=n5({apiKey:St.string,licenseKey:St.string,id:St.string,inline:St.bool,init:St.object,initialValue:St.string,onEditorChange:St.func,value:St.string,tagName:St.string,tabIndex:St.number,cloudChannel:St.string,plugins:St.oneOfType([St.string,St.array]),toolbar:St.oneOfType([St.string,St.array]),disabled:St.bool,readonly:St.bool,textareaName:St.string,tinymceScriptSrc:St.oneOfType([St.string,St.arrayOf(St.string),St.arrayOf(St.shape({src:St.string,async:St.bool,defer:St.bool}))]),rollback:St.oneOfType([St.number,St.oneOf([!1])]),scriptLoading:St.shape({async:St.bool,defer:St.bool,delay:St.number})},vL),xL=function(e){var t=e;return t&&t.tinymce?t.tinymce:null},qv=function(e){return typeof e=="function"},tk=function(e){return e in vL},rk=function(e){return e.substr(2)},vJ=function(e,t,r,n,i,s,a){var o=Object.keys(i).filter(tk),c=Object.keys(s).filter(tk),A=o.filter(function(h){return s[h]===void 0}),d=c.filter(function(h){return i[h]===void 0});A.forEach(function(h){var f=rk(h),u=a[f];r(f,u),delete a[f]}),d.forEach(function(h){var f=n(e,h),u=rk(h);a[u]=f,t(u,f)})},xJ=function(e,t,r,n,i){return vJ(i,e.on.bind(e),e.off.bind(e),function(s,a){return function(o){var c;return(c=s(a))===null||c===void 0?void 0:c(o,e)}},t,r,n)},nk=0,BL=function(e){var t=Date.now(),r=Math.floor(Math.random()*1e9);return nk++,e+"_"+r+nk+String(t)},ik=function(e){return e!==null&&(e.tagName.toLowerCase()==="textarea"||e.tagName.toLowerCase()==="input")},sk=function(e){return typeof e>"u"||e===""?[]:Array.isArray(e)?e:e.split(" ")},BJ=function(e,t){return sk(e).concat(sk(t))},CJ=function(){return window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"},EJ=function(e){if(!("isConnected"in Node.prototype)){for(var t=e,r=e.parentNode;r!=null;)t=r,r=t.parentNode;return t===e.ownerDocument}return e.isConnected},ak=function(e,t){e!==void 0&&(e.mode!=null&&typeof e.mode=="object"&&typeof e.mode.set=="function"?e.mode.set(t):e.setMode(t))},SJ=function(e){var t=xL(e);if(!t)throw new Error("tinymce should have been loaded into global scope");return t},ok=function(e){return e.options&&e.options.isRegistered("disabled")},i5=globalThis&&globalThis.__assign||function(){return i5=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},i5.apply(this,arguments)},_J=function(e,t,r){var n,i,s=e.createElement("script");s.referrerPolicy="origin",s.type="application/javascript",s.id=t.id,s.src=t.src,s.async=(n=t.async)!==null&&n!==void 0?n:!1,s.defer=(i=t.defer)!==null&&i!==void 0?i:!1;var a=function(){s.removeEventListener("load",a),s.removeEventListener("error",o),r(t.src)},o=function(c){s.removeEventListener("load",a),s.removeEventListener("error",o),r(t.src,c)};s.addEventListener("load",a),s.addEventListener("error",o),e.head&&e.head.appendChild(s)},NJ=function(e){var t={},r=function(a,o){var c=t[a];c.done=!0,c.error=o;for(var A=0,d=c.handlers;A<d.length;A++){var h=d[A];h(a,o)}c.handlers=[]},n=function(a,o,c){var A=function(y){return c!==void 0?c(y):console.error(y)};if(a.length===0){A(new Error("At least one script must be provided"));return}for(var d=0,h=!1,f=function(y,w){h||(w?(h=!0,A(w)):++d===a.length&&o())},u=0,g=a;u<g.length;u++){var m=g[u],x=t[m.src];if(x)x.done?f(m.src,x.error):x.handlers.push(f);else{var p=BL("tiny-");t[m.src]={id:p,src:m.src,done:!1,error:null,handlers:[f]},_J(e,i5({id:p},m),r)}}},i=function(){for(var a,o=0,c=Object.values(t);o<c.length;o++){var A=c[o],d=e.getElementById(A.id);d!=null&&d.tagName==="SCRIPT"&&((a=d.parentNode)===null||a===void 0||a.removeChild(d))}t={}},s=function(){return e};return{loadScripts:n,deleteScripts:i,getDocument:s}},kJ=function(){var e=[],t=function(i){var s=e.find(function(a){return a.getDocument()===i});return s===void 0&&(s=NJ(i),e.push(s)),s},r=function(i,s,a,o,c){var A=function(){return t(i).loadScripts(s,o,c)};a>0?setTimeout(A,a):A()},n=function(){for(var i=e.pop();i!=null;i=e.pop())i.deleteScripts()};return{loadList:r,reinitialize:n}},IJ=kJ(),TJ=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xd=globalThis&&globalThis.__assign||function(){return xd=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},xd.apply(this,arguments)},Gv="change keyup compositionend setcontent CommentChange",FJ=function(e){TJ(t,e);function t(r){var n,i,s,a=e.call(this,r)||this;return a.rollbackTimer=void 0,a.valueCursor=void 0,a.rollbackChange=function(){var o=a.editor,c=a.props.value;o&&c&&c!==a.currentContent&&o.undoManager.ignore(function(){if(o.setContent(c),a.valueCursor&&(!a.inline||o.hasFocus()))try{o.selection.moveToBookmark(a.valueCursor)}catch{}}),a.rollbackTimer=void 0},a.handleBeforeInput=function(o){if(a.props.value!==void 0&&a.props.value===a.currentContent&&a.editor&&(!a.inline||a.editor.hasFocus()))try{a.valueCursor=a.editor.selection.getBookmark(3)}catch{}},a.handleBeforeInputSpecial=function(o){(o.key==="Enter"||o.key==="Backspace"||o.key==="Delete")&&a.handleBeforeInput(o)},a.handleEditorChange=function(o){var c=a.editor;if(c&&c.initialized){var A=c.getContent();a.props.value!==void 0&&a.props.value!==A&&a.props.rollback!==!1&&(a.rollbackTimer||(a.rollbackTimer=window.setTimeout(a.rollbackChange,typeof a.props.rollback=="number"?a.props.rollback:200))),A!==a.currentContent&&(a.currentContent=A,qv(a.props.onEditorChange)&&a.props.onEditorChange(A,c))}},a.handleEditorChangeSpecial=function(o){(o.key==="Backspace"||o.key==="Delete")&&a.handleEditorChange(o)},a.initialise=function(o){var c,A,d;o===void 0&&(o=0);var h=a.elementRef.current;if(h){if(!EJ(h)){if(o===0)setTimeout(function(){return a.initialise(1)},1);else if(o<100)setTimeout(function(){return a.initialise(o+1)},100);else throw new Error("tinymce can only be initialised when in a document");return}var f=SJ(a.view),u=xd(xd(xd(xd({},a.props.init),{selector:void 0,target:h,disabled:a.props.disabled,readonly:a.props.readonly,inline:a.inline,plugins:BJ((c=a.props.init)===null||c===void 0?void 0:c.plugins,a.props.plugins),toolbar:(A=a.props.toolbar)!==null&&A!==void 0?A:(d=a.props.init)===null||d===void 0?void 0:d.toolbar}),a.props.licenseKey?{license_key:a.props.licenseKey}:{}),{setup:function(g){a.editor=g,a.bindHandlers({}),a.inline&&!ik(h)&&g.once("PostRender",function(m){g.setContent(a.getInitialValue(),{no_events:!0})}),a.props.init&&qv(a.props.init.setup)&&a.props.init.setup(g),a.props.disabled&&(ok(a.editor)?a.editor.options.set("disabled",a.props.disabled):a.editor.mode.set("readonly"))},init_instance_callback:function(g){var m,x=a.getInitialValue();a.currentContent=(m=a.currentContent)!==null&&m!==void 0?m:g.getContent(),a.currentContent!==x&&(a.currentContent=x,g.setContent(x),g.undoManager.clear(),g.undoManager.add(),g.setDirty(!1)),a.props.init&&qv(a.props.init.init_instance_callback)&&a.props.init.init_instance_callback(g)}});a.inline||(h.style.visibility=""),ik(h)&&(h.value=a.getInitialValue()),f.init(u)}},a.id=a.props.id||BL("tiny-react"),a.elementRef=Se.createRef(),a.inline=(s=(n=a.props.inline)!==null&&n!==void 0?n:(i=a.props.init)===null||i===void 0?void 0:i.inline)!==null&&s!==void 0?s:!1,a.boundHandlers={},a}return Object.defineProperty(t.prototype,"view",{get:function(){var r,n;return(n=(r=this.elementRef.current)===null||r===void 0?void 0:r.ownerDocument.defaultView)!==null&&n!==void 0?n:window},enumerable:!1,configurable:!0}),t.prototype.componentDidUpdate=function(r){var n=this,i,s;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(r),this.editor.initialized)){if(this.currentContent=(i=this.currentContent)!==null&&i!==void 0?i:this.editor.getContent(),typeof this.props.initialValue=="string"&&this.props.initialValue!==r.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if(typeof this.props.value=="string"&&this.props.value!==this.currentContent){var a=this.editor;a.undoManager.transact(function(){var c;if(!n.inline||a.hasFocus())try{c=a.selection.getBookmark(3)}catch{}var A=n.valueCursor;if(a.setContent(n.props.value),!n.inline||a.hasFocus())for(var d=0,h=[c,A];d<h.length;d++){var f=h[d];if(f)try{a.selection.moveToBookmark(f),n.valueCursor=f;break}catch{}}})}if(this.props.readonly!==r.readonly){var o=(s=this.props.readonly)!==null&&s!==void 0?s:!1;ak(this.editor,o?"readonly":"design")}this.props.disabled!==r.disabled&&(ok(this.editor)?this.editor.options.set("disabled",this.props.disabled):ak(this.editor,this.props.disabled?"readonly":"design"))}},t.prototype.componentDidMount=function(){var r=this,n,i,s,a,o;if(xL(this.view)!==null)this.initialise();else if(Array.isArray(this.props.tinymceScriptSrc)&&this.props.tinymceScriptSrc.length===0)(i=(n=this.props).onScriptsLoadError)===null||i===void 0||i.call(n,new Error("No `tinymce` global is present but the `tinymceScriptSrc` prop was an empty array."));else if(!((s=this.elementRef.current)===null||s===void 0)&&s.ownerDocument){var c=function(){var d,h;(h=(d=r.props).onScriptsLoad)===null||h===void 0||h.call(d),r.initialise()},A=function(d){var h,f;(f=(h=r.props).onScriptsLoadError)===null||f===void 0||f.call(h,d)};IJ.loadList(this.elementRef.current.ownerDocument,this.getScriptSources(),(o=(a=this.props.scriptLoading)===null||a===void 0?void 0:a.delay)!==null&&o!==void 0?o:0,c,A)}},t.prototype.componentWillUnmount=function(){var r=this,n=this.editor;n&&(n.off(Gv,this.handleEditorChange),n.off(this.beforeInputEvent(),this.handleBeforeInput),n.off("keypress",this.handleEditorChangeSpecial),n.off("keydown",this.handleBeforeInputSpecial),n.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach(function(i){n.off(i,r.boundHandlers[i])}),this.boundHandlers={},n.remove(),this.editor=void 0)},t.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},t.prototype.beforeInputEvent=function(){return CJ()?"beforeinput SelectionChange":"SelectionChange"},t.prototype.renderInline=function(){var r=this.props.tagName,n=r===void 0?"div":r;return Se.createElement(n,{ref:this.elementRef,id:this.id,tabIndex:this.props.tabIndex})},t.prototype.renderIframe=function(){return Se.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id,tabIndex:this.props.tabIndex})},t.prototype.getScriptSources=function(){var r,n,i=(r=this.props.scriptLoading)===null||r===void 0?void 0:r.async,s=(n=this.props.scriptLoading)===null||n===void 0?void 0:n.defer;if(this.props.tinymceScriptSrc!==void 0)return typeof this.props.tinymceScriptSrc=="string"?[{src:this.props.tinymceScriptSrc,async:i,defer:s}]:this.props.tinymceScriptSrc.map(function(A){return typeof A=="string"?{src:A,async:i,defer:s}:A});var a=this.props.cloudChannel,o=this.props.apiKey?this.props.apiKey:"no-api-key",c="https://cdn.tiny.cloud/1/".concat(o,"/tinymce/").concat(a,"/tinymce.min.js");return[{src:c,async:i,defer:s}]},t.prototype.getInitialValue=function(){return typeof this.props.initialValue=="string"?this.props.initialValue:typeof this.props.value=="string"?this.props.value:""},t.prototype.bindHandlers=function(r){var n=this;if(this.editor!==void 0){xJ(this.editor,r,this.props,this.boundHandlers,function(o){return n.props[o]});var i=function(o){return o.onEditorChange!==void 0||o.value!==void 0},s=i(r),a=i(this.props);!s&&a?(this.editor.on(Gv,this.handleEditorChange),this.editor.on(this.beforeInputEvent(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):s&&!a&&(this.editor.off(Gv,this.handleEditorChange),this.editor.off(this.beforeInputEvent(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},t.propTypes=bJ,t.defaultProps={cloudChannel:"8"},t}(Se.Component);const hu=({value:e,onChange:t,height:r=500,placeholder:n="Enter your content here..."})=>{const i=Se.useRef(null),[s,a]=Se.useState(!0),[o,c]=Se.useState(!1);return l.jsxs("div",{children:[s&&l.jsx("div",{className:"p-4 border border-gray-300 rounded-lg bg-gray-50",children:l.jsx("p",{className:"text-gray-600",children:"Loading editor..."})}),o&&l.jsxs("div",{className:"p-4 border border-red-300 rounded-lg bg-red-50",children:[l.jsx("p",{className:"text-red-700 font-semibold mb-2",children:"âš ï¸ Editor Error"}),l.jsx("p",{className:"text-red-600 text-sm",children:"TinyMCE failed to load. Using fallback textarea."}),l.jsx("textarea",{value:e,onChange:A=>t(A.target.value),className:"w-full h-96 p-4 border border-gray-300 rounded-lg font-mono text-sm mt-2",placeholder:n})]}),l.jsx(FJ,{apiKey:"389iepivkkmaq9e9esp8dwgg4m2hrnhr8ssgxr9xcysuonr9",onInit:(A,d)=>{i.current=d,a(!1),console.log("âœ… TinyMCE editor initialized:",d)},onLoadContent:()=>{a(!1)},onFailure:A=>{console.error("âŒ TinyMCE failed to load:",A),c(!0),a(!1)},value:e,onEditorChange:A=>{t(A)},init:{height:r,menubar:!0,plugins:["advlist","autolink","lists","link","image","charmap","preview","anchor","searchreplace","visualblocks","code","fullscreen","insertdatetime","media","table","codesample","help","wordcount"],toolbar:"undo redo | blocks | bold italic underline strikethrough | forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | link image | code | fullscreen | help",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }",placeholder:n,branding:!1,promotion:!1,allow_script_urls:!0,convert_urls:!1,valid_elements:"*[*]",extended_valid_elements:"*[*]",toolbar_mode:"sliding",toolbar_sticky:!0,menu:{file:{title:"File",items:"newdocument restoredraft | preview | print "},edit:{title:"Edit",items:"undo redo | cut copy paste | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | preview fullscreen"},insert:{title:"Insert",items:"image link media template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align | forecolor backcolor | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | code wordcount"},table:{title:"Table",items:"inserttable | cell row column | tableprops deletetable"},help:{title:"Help",items:"help"}},skin:"oxide",content_css:"default"},style:{display:s||o?"none":"block"}})]})},jJ=({project:e,artifacts:t=[]})=>{const[r,n]=Se.useState([]),[i,s]=Se.useState(null),[a,o]=Se.useState(!1),[c,A]=Se.useState(!1),[d,h]=Se.useState("All"),[f,u]=Se.useState(!1),[g,m]=Se.useState(""),[x,p]=Se.useState("all"),[y,w]=Se.useState(null),b=Se.useMemo(()=>new so,[]),I=Se.useMemo(()=>new yp,[]),[F,R]=Se.useState({number:1,title:"",status:"proposed",date:new Date().toISOString().split("T")[0],context:"",decision:"",consequences:""}),Q=Se.useCallback(async()=>{if(!e){n([]);return}const _=await b.getADRsByProject(e.id);n(_)},[e,b]);Se.useEffect(()=>{Q()},[Q]);const k=Se.useCallback(()=>r.length===0?1:Math.max(...r.map(_=>_.number))+1,[r]),$=()=>{A(!0)},q=_=>{e&&(R({number:k(),title:(_==null?void 0:_.title)||"",status:"proposed",date:new Date().toISOString().split("T")[0],context:(_==null?void 0:_.context)||"",decision:(_==null?void 0:_.decision)||"",consequences:(_==null?void 0:_.consequences)||""}),s(null),u(!1),A(!1),o(!0))},T=()=>{q()},K=_=>{R({number:_.number,title:_.title,status:_.status,date:new Date(_.date).toISOString().split("T")[0],context:_.context,decision:_.decision,consequences:_.consequences}),s(_),u(!0),o(!0)},v=async()=>{if(e)try{const _=(G,oe)=>ne(G||oe),O={projectId:e.id,number:F.number,title:F.title,status:F.status,date:new Date(F.date),context:_(F.context,""),decision:_(F.decision,""),consequences:_(F.consequences,"")};f&&i?await b.updateADR(i.id,O):await b.createADR(O),await Q(),o(!1),s(null),u(!1)}catch(_){console.error("Error saving ADR:",_),alert("Error saving ADR. Please try again.")}},re=async _=>{if(confirm("Are you sure you want to delete this ADR?"))try{await b.deleteADR(_),await Q(),(i==null?void 0:i.id)===_&&s(null)}catch(O){console.error("Error deleting ADR:",O),alert("Error deleting ADR. Please try again.")}},ge=_=>{switch(_){case"accepted":return"bg-green-500/20 text-green-300 border border-green-500/30";case"proposed":return"bg-blue-500/20 text-blue-300 border border-blue-500/30";case"deprecated":return"bg-red-500/20 text-red-300 border border-red-500/30";case"superseded":return"bg-gray-500/20 text-gray-300 border border-gray-500/30";default:return"bg-gray-500/20 text-gray-300 border border-gray-500/30"}},Y=Se.useCallback(_=>_.map(O=>{const G=O.fileContent.match(/\[PDF_BASE64_START\]([\s\S]+?)\[PDF_BASE64_END\]/);let oe,Ae="extracted",U=O.fileContent;if(G&&G[1])try{const M=G[1].trim(),J=atob(M),ce=new Uint8Array(J.length);for(let Z=0;Z<J.length;Z++)ce[Z]=J.charCodeAt(Z);const ee=new Blob([ce],{type:O.fileType||"application/pdf"});oe=new File([ee],O.fileName,{type:O.fileType||"application/pdf"}),Ae="pdf",U=O.fileContent.replace(/\[PDF_BASE64_START\][\s\S]+?\[PDF_BASE64_END\]/,"").trim()}catch{Ae=O.fileContent.includes("[PDF")?"pdf":"error"}else O.fileContent.includes("[PDF")||O.fileType==="application/pdf"?Ae="pdf":O.fileContent.includes("[Word")&&(Ae="limited");return{name:O.fileName,size:O.fileSize,type:O.fileType,content:U,status:Ae,file:oe}}),[]),fe=Se.useCallback(async _=>{if(!e||!F.title.trim()){alert("Please enter an ADR title first");return}w(_);try{const O=Y(t),G={name:e.name,description:e.description},oe=await I.generateADRContent(F.title,_,G,O,_==="decision"?F.context:void 0,_==="consequences"?F.decision:void 0);R(Ae=>({...Ae,[_]:oe}))}catch(O){console.error(`Error generating ADR ${_}:`,O);const G=O instanceof Error?O.message:"Unknown error";alert(`Error generating ${_}: ${G}

Please check:
- Your Claude API key is configured in .env file
- Restart the dev server after updating .env
- You have an active internet connection`)}finally{w(null)}},[e,F.title,F.context,F.decision,t,I,Y]),le=Se.useCallback(async()=>{if(!e||!F.title.trim()){alert("Please enter an ADR title first");return}if(confirm("Generate all ADR fields (Context, Decision, and Consequences) with AI? This may take a minute.")){w("context");try{const _=Y(t),O={name:e.name,description:e.description},G=await I.generateADRContent(F.title,"context",O,_);R(U=>({...U,context:G})),w("decision");const oe=await I.generateADRContent(F.title,"decision",O,_,G);R(U=>({...U,decision:oe})),w("consequences");const Ae=await I.generateADRContent(F.title,"consequences",O,_,G,oe);R(U=>({...U,consequences:Ae}))}catch(_){console.error("Error generating ADR fields:",_);const O=_ instanceof Error?_.message:"Unknown error";alert(`Error generating ADR content: ${O}

Please check:
- Your Claude API key is configured in .env file
- Restart the dev server after updating .env
- You have an active internet connection`)}finally{w(null)}}},[e,F.title,t,I,Y]),ne=_=>{if(!_)return"";let O=_.trim();O=O.replace(/<p>\s*<\/p>/gi,""),O=O.replace(/<p><\/p>/gi,""),O=O.replace(/\s+/g," ");const G=O.split(/(<(?:h[1-6]|p)[^>]*>.*?<\/(?:h[1-6]|p)>)/gi),oe=new Map,Ae=[];for(let U=0;U<G.length;U++){const M=G[U];if(!M||!M.trim()){Ae.push(M);continue}const J=M.replace(/<[^>]*>/g,"").trim();if(!J){Ae.push(M);continue}const ce=J.toLowerCase().replace(/\s+/g," ").substring(0,50),ee=oe.get(ce);ee!==void 0&&U-ee<5||(oe.set(ce,U),Ae.push(M))}return Ae.join("")},ae=Se.useMemo(()=>{let _=r;if(g.trim()){const O=g.toLowerCase();_=_.filter(G=>G.title.toLowerCase().includes(O)||G.context.toLowerCase().includes(O)||G.decision.toLowerCase().includes(O)||`adr-${G.number}`.includes(O))}return x!=="all"&&(_=_.filter(O=>O.status===x)),_.sort((O,G)=>G.number-O.number)},[r,g,x]);return e?l.jsxs("div",{className:"flex",style:{height:"calc(100vh - 200px)",minHeight:"600px"},children:[l.jsxs("div",{className:"w-80 glass-dark border-r border-white/10 flex flex-col shadow-xl",style:{height:"100%"},children:[l.jsxs("div",{className:"p-4 border-b border-purple-500/30 bg-gradient-to-r from-purple-600/30 via-blue-600/30 to-purple-600/30 backdrop-blur-xl sticky top-0 z-10",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h2",{className:"text-xl font-bold text-white flex items-center space-x-2",children:[l.jsx(pn,{size:20}),l.jsx("span",{children:"Architecture Decisions"})]}),l.jsxs("button",{onClick:$,className:"flex items-center space-x-1 bg-gradient-to-r from-purple-600 to-blue-600 text-white px-3 py-1.5 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all font-semibold text-sm shadow-lg",title:"New ADR",children:[l.jsx(Sn,{size:16}),l.jsx("span",{children:"New"})]})]}),l.jsxs("div",{className:"relative mb-3",children:[l.jsx(Jd,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-purple-200/70"}),l.jsx("input",{type:"text",placeholder:"Search ADRs...",value:g,onChange:_=>m(_.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/10 border border-white/20 rounded-lg focus:ring-2 focus:ring-purple-400 focus:border-purple-400 focus:bg-white/20 text-sm text-white placeholder-purple-200/50 backdrop-blur-sm"})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("button",{onClick:()=>p("all"),className:`px-3 py-1 rounded-lg text-xs font-medium transition-all ${x==="all"?"bg-gradient-to-r from-purple-600 to-blue-600 text-white shadow-lg":"bg-white/10 text-purple-200 hover:bg-white/20 border border-white/20"}`,children:"All"}),l.jsx("button",{onClick:()=>p("proposed"),className:`px-3 py-1 rounded-lg text-xs font-medium transition-all ${x==="proposed"?"bg-blue-500/80 text-white shadow-lg":"bg-white/10 text-purple-200 hover:bg-white/20 border border-white/20"}`,children:"Proposed"}),l.jsx("button",{onClick:()=>p("accepted"),className:`px-3 py-1 rounded-lg text-xs font-medium transition-all ${x==="accepted"?"bg-green-500/80 text-white shadow-lg":"bg-white/10 text-purple-200 hover:bg-white/20 border border-white/20"}`,children:"Accepted"}),l.jsx("button",{onClick:()=>p("deprecated"),className:`px-3 py-1 rounded-lg text-xs font-medium transition-all ${x==="deprecated"?"bg-red-500/80 text-white shadow-lg":"bg-white/10 text-purple-200 hover:bg-white/20 border border-white/20"}`,children:"Deprecated"})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:r.length===0?l.jsxs("div",{className:"text-center py-8 px-4",children:[l.jsx(pn,{size:48,className:"mx-auto text-purple-300/50 mb-4"}),l.jsx("p",{className:"text-purple-200/70 mb-4 text-sm",children:"No ADRs yet."}),l.jsxs("button",{onClick:$,className:"inline-flex items-center space-x-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-2 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all font-semibold text-sm shadow-lg",children:[l.jsx(Sn,{size:16}),l.jsx("span",{children:"Create First ADR"})]})]}):ae.length===0?l.jsxs("div",{className:"text-center py-8 px-4",children:[l.jsx(Jd,{size:48,className:"mx-auto text-purple-300/50 mb-4"}),l.jsx("p",{className:"text-purple-200/70 text-sm",children:"No ADRs match your search."})]}):l.jsx("div",{className:"space-y-2",children:ae.map(_=>l.jsxs("div",{className:`border rounded-lg p-3 cursor-pointer transition-all backdrop-blur-sm ${(i==null?void 0:i.id)===_.id?"border-purple-400 bg-gradient-to-r from-purple-600/30 via-blue-600/30 to-purple-600/30 shadow-lg":"border-white/20 bg-white/5 hover:border-purple-400/50 hover:bg-white/10 hover:shadow-md"}`,onClick:()=>s(_),children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.jsxs("span",{className:"text-sm font-bold bg-gradient-to-r from-purple-400 to-blue-400 bg-clip-text text-transparent",children:["ADR-",_.number]}),l.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-semibold backdrop-blur-sm ${ge(_.status)}`,children:_.status.toUpperCase()})]}),l.jsx("h3",{className:"text-sm font-semibold text-white line-clamp-2 mb-1",children:_.title}),l.jsx("p",{className:"text-xs text-purple-200/70",children:new Date(_.date).toLocaleDateString()})]}),l.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[l.jsx("button",{onClick:O=>{O.stopPropagation(),K(_)},className:"p-1.5 text-blue-300 hover:bg-blue-500/20 rounded transition-colors",title:"Edit",children:l.jsx(V0,{size:14})}),l.jsx("button",{onClick:O=>{O.stopPropagation(),re(_.id)},className:"p-1.5 text-red-300 hover:bg-red-500/20 rounded transition-colors",title:"Delete",children:l.jsx(Il,{size:14})})]})]}),l.jsxs("p",{className:"text-xs text-purple-200/60 line-clamp-2",children:[_.context.replace(/<[^>]*>/g,"").substring(0,100),"..."]})]},_.id))})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto glass-dark",children:i&&!a?l.jsx("div",{className:"min-h-full p-8",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-purple-500/30",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("h3",{className:"text-3xl font-bold bg-gradient-to-r from-purple-400 to-blue-400 bg-clip-text text-transparent",children:["ADR-",i.number]}),l.jsx("span",{className:`px-3 py-1 rounded text-sm font-semibold backdrop-blur-sm ${ge(i.status)}`,children:i.status.toUpperCase()})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("button",{onClick:()=>K(i),className:"flex items-center space-x-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-2 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all font-semibold shadow-lg",children:[l.jsx(V0,{size:16}),l.jsx("span",{children:"Edit"})]}),l.jsx("button",{onClick:()=>s(null),className:"p-2 text-purple-200 hover:bg-white/10 rounded transition-colors",title:"Close",children:l.jsx(qr,{size:20})})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-2xl font-semibold text-white mb-2",children:i.title}),l.jsxs("p",{className:"text-sm text-purple-200/70",children:["Date: ",new Date(i.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),l.jsxs("div",{className:"glass rounded-lg p-6 border border-white/10",children:[l.jsxs("h5",{className:"text-lg font-semibold text-purple-200 mb-3 flex items-center space-x-2",children:[l.jsx("span",{className:"w-1 h-6 bg-gradient-to-b from-purple-400 to-blue-400 rounded"}),l.jsx("span",{children:"Context"})]}),l.jsx("div",{className:"prose prose-sm max-w-none text-purple-100/80 prose-headings:text-purple-200 prose-strong:text-white prose-a:text-blue-300",dangerouslySetInnerHTML:{__html:ne(i.context)}})]}),l.jsxs("div",{className:"glass rounded-lg p-6 border border-blue-500/30 bg-gradient-to-br from-blue-600/10 to-purple-600/10",children:[l.jsxs("h5",{className:"text-lg font-semibold text-blue-200 mb-3 flex items-center space-x-2",children:[l.jsx("span",{className:"w-1 h-6 bg-gradient-to-b from-blue-400 to-purple-400 rounded"}),l.jsx("span",{children:"Decision"})]}),l.jsx("div",{className:"prose prose-sm max-w-none text-purple-100/80 prose-headings:text-blue-200 prose-strong:text-white prose-a:text-blue-300",dangerouslySetInnerHTML:{__html:ne(i.decision)}})]}),l.jsxs("div",{className:"glass rounded-lg p-6 border border-green-500/30 bg-gradient-to-br from-green-600/10 to-emerald-600/10",children:[l.jsxs("h5",{className:"text-lg font-semibold text-green-200 mb-3 flex items-center space-x-2",children:[l.jsx("span",{className:"w-1 h-6 bg-gradient-to-b from-green-400 to-emerald-400 rounded"}),l.jsx("span",{children:"Consequences"})]}),l.jsx("div",{className:"prose prose-sm max-w-none text-purple-100/80 prose-headings:text-green-200 prose-strong:text-white prose-a:text-green-300",dangerouslySetInnerHTML:{__html:ne(i.consequences)}})]})]})]})}):l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center glass rounded-xl p-8 border border-white/10",children:[l.jsx(pn,{size:64,className:"mx-auto text-purple-300/50 mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No ADR Selected"}),l.jsx("p",{className:"text-purple-200/70 mb-4",children:"Select an ADR from the sidebar to view its details"}),r.length===0&&l.jsxs("button",{onClick:$,className:"inline-flex items-center space-x-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-3 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all font-semibold shadow-lg",children:[l.jsx(Sn,{size:20}),l.jsx("span",{children:"Create Your First ADR"})]})]})})}),a&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"glass-dark rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col border border-white/20",children:[l.jsxs("div",{className:"bg-gradient-to-r from-purple-600/90 via-blue-600/90 to-purple-600/90 text-white p-4 flex items-center justify-between rounded-t-xl backdrop-blur-xl",children:[l.jsx("h3",{className:"text-xl font-bold",children:f?`Edit ADR-${F.number}`:"New Architecture Decision Record"}),l.jsx("button",{onClick:()=>{o(!1),s(null),u(!1)},className:"text-white hover:text-purple-200 transition-colors p-1 hover:bg-white/10 rounded",children:l.jsx(qr,{size:24})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 bg-white/5",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-purple-200 mb-2",children:"ADR Number *"}),l.jsx("input",{type:"number",value:F.number,onChange:_=>R({...F,number:parseInt(_.target.value)||1}),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg focus:ring-2 focus:ring-purple-400 focus:border-purple-400 text-white placeholder-purple-200/50 backdrop-blur-sm",min:"1"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-purple-200 mb-2",children:"Status *"}),l.jsxs("select",{value:F.status,onChange:_=>R({...F,status:_.target.value}),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg focus:ring-2 focus:ring-purple-400 focus:border-purple-400 text-white backdrop-blur-sm",children:[l.jsx("option",{value:"proposed",className:"bg-gray-800",children:"Proposed"}),l.jsx("option",{value:"accepted",className:"bg-gray-800",children:"Accepted"}),l.jsx("option",{value:"deprecated",className:"bg-gray-800",children:"Deprecated"}),l.jsx("option",{value:"superseded",className:"bg-gray-800",children:"Superseded"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-purple-200 mb-2",children:"Date *"}),l.jsx("input",{type:"date",value:F.date,onChange:_=>R({...F,date:_.target.value}),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg focus:ring-2 focus:ring-purple-400 focus:border-purple-400 text-white backdrop-blur-sm"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"block text-sm font-semibold text-purple-200",children:"Title *"}),t.length>0&&l.jsxs("span",{className:"text-xs text-purple-300/70",children:[t.length," artifact",t.length!==1?"s":""," available for AI"]})]}),l.jsx("input",{type:"text",value:F.title,onChange:_=>R({...F,title:_.target.value}),placeholder:"e.g., Use microservices architecture for the payment system",className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg focus:ring-2 focus:ring-purple-400 focus:border-purple-400 text-white placeholder-purple-200/50 backdrop-blur-sm"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"block text-sm font-semibold text-purple-200",children:"Context *"}),l.jsx("button",{type:"button",onClick:()=>fe("context"),disabled:y!==null||!F.title.trim(),className:"flex items-center space-x-1 bg-gradient-to-r from-purple-600/80 to-blue-600/80 text-white px-3 py-1.5 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all font-semibold text-xs disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",title:"Generate context with AI",children:y==="context"?l.jsxs(l.Fragment,{children:[l.jsx(Ea,{className:"animate-spin",size:14}),l.jsx("span",{children:"Generating..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(as,{size:14}),l.jsx("span",{children:"Generate with AI"})]})})]}),l.jsx("div",{className:"bg-white/5 rounded-lg border border-white/20",children:l.jsx(hu,{value:F.context,onChange:_=>R({...F,context:_}),height:300,placeholder:"Enter context. Use the source code button to edit HTML directly. Or click 'Generate with AI' to create content automatically."})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"block text-sm font-semibold text-purple-200",children:"Decision *"}),l.jsx("button",{type:"button",onClick:()=>fe("decision"),disabled:y!==null||!F.title.trim(),className:"flex items-center space-x-1 bg-gradient-to-r from-purple-600/80 to-blue-600/80 text-white px-3 py-1.5 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all font-semibold text-xs disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",title:"Generate decision with AI",children:y==="decision"?l.jsxs(l.Fragment,{children:[l.jsx(Ea,{className:"animate-spin",size:14}),l.jsx("span",{children:"Generating..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(as,{size:14}),l.jsx("span",{children:"Generate with AI"})]})})]}),l.jsx("div",{className:"bg-white/5 rounded-lg border border-white/20",children:l.jsx(hu,{value:F.decision,onChange:_=>R({...F,decision:_}),height:300,placeholder:"Enter decision. Use the source code button to edit HTML directly. Or click 'Generate with AI' to create content automatically."})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"block text-sm font-semibold text-purple-200",children:"Consequences *"}),l.jsx("button",{type:"button",onClick:()=>fe("consequences"),disabled:y!==null||!F.title.trim(),className:"flex items-center space-x-1 bg-gradient-to-r from-purple-600/80 to-blue-600/80 text-white px-3 py-1.5 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all font-semibold text-xs disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",title:"Generate consequences with AI",children:y==="consequences"?l.jsxs(l.Fragment,{children:[l.jsx(Ea,{className:"animate-spin",size:14}),l.jsx("span",{children:"Generating..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(as,{size:14}),l.jsx("span",{children:"Generate with AI"})]})})]}),l.jsx("div",{className:"bg-white/5 rounded-lg border border-white/20",children:l.jsx(hu,{value:F.consequences,onChange:_=>R({...F,consequences:_}),height:300,placeholder:"Enter consequences. Use the source code button to edit HTML directly. Or click 'Generate with AI' to create content automatically."})})]})]}),l.jsxs("div",{className:"border-t border-white/20 p-4 flex justify-between items-center bg-white/5",children:[l.jsx("button",{type:"button",onClick:le,disabled:y!==null||!F.title.trim(),className:"flex items-center space-x-2 bg-gradient-to-r from-purple-500/80 to-blue-500/80 text-white px-4 py-2 rounded-lg hover:from-purple-600 hover:to-blue-600 transition-all font-semibold text-sm disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",title:"Generate all fields with AI",children:y!==null?l.jsxs(l.Fragment,{children:[l.jsx(Ea,{className:"animate-spin",size:16}),l.jsx("span",{children:"Generating All Fields..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(as,{size:16}),l.jsx("span",{children:"Generate All with AI"})]})}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>{o(!1),s(null),u(!1)},className:"px-4 py-2 border border-white/20 rounded-lg hover:bg-white/10 transition-colors font-semibold text-purple-200",children:"Cancel"}),l.jsxs("button",{onClick:v,disabled:!F.title.trim(),className:"flex items-center space-x-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-2 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all font-semibold disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:[l.jsx(io,{size:16}),l.jsx("span",{children:"Save ADR"})]})]})]})]})}),c&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"glass-dark rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col border border-white/20",children:[l.jsxs("div",{className:"bg-gradient-to-r from-purple-600/90 via-blue-600/90 to-purple-600/90 text-white p-4 flex items-center justify-between rounded-t-xl backdrop-blur-xl",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(pp,{size:24}),l.jsx("h3",{className:"text-xl font-bold",children:"Select ADR Template"})]}),l.jsx("button",{onClick:()=>A(!1),className:"text-white hover:text-purple-200 transition-colors p-1 hover:bg-white/10 rounded",children:l.jsx(qr,{size:24})})]}),l.jsx("div",{className:"border-b border-white/20 p-4 bg-white/5",children:l.jsx("div",{className:"flex flex-wrap gap-2",children:fJ.map(_=>l.jsx("button",{onClick:()=>h(_),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${d===_?"bg-gradient-to-r from-purple-600 to-blue-600 text-white shadow-lg":"bg-white/10 text-purple-200 hover:bg-white/20 border border-white/20"}`,children:_},_))})}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 bg-white/5",children:[l.jsx("div",{className:"mb-4",children:l.jsxs("button",{onClick:T,className:"w-full p-4 border-2 border-dashed border-white/30 rounded-lg hover:border-purple-400 hover:bg-gradient-to-r hover:from-purple-600/20 hover:to-blue-600/20 transition-all text-left backdrop-blur-sm",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Sn,{size:20,className:"text-purple-300"}),l.jsx("span",{className:"font-semibold text-white",children:"Create Blank ADR"})]}),l.jsx("p",{className:"text-sm text-purple-200/70 mt-1",children:"Start with an empty template"})]})}),l.jsx("div",{className:"space-y-3",children:pJ(d).map(_=>l.jsx("div",{className:"glass border border-white/20 rounded-lg p-4 hover:shadow-lg hover:border-purple-400/50 transition-all cursor-pointer",onClick:()=>q(_),children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"flex items-center space-x-2 mb-2",children:l.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 rounded text-xs font-semibold border border-blue-500/30 backdrop-blur-sm",children:_.category})}),l.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:_.title}),l.jsxs("p",{className:"text-sm text-purple-200/70 line-clamp-2",children:[_.context.replace(/<[^>]*>/g,"").substring(0,200),"..."]})]}),l.jsx("button",{onClick:O=>{O.stopPropagation(),q(_)},className:"ml-4 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all font-semibold text-sm shadow-lg",children:"Use Template"})]})},_.id))})]})]})})]}):l.jsxs("div",{className:"glass rounded-xl shadow-xl p-8 text-center border border-white/10",children:[l.jsx(pn,{size:48,className:"mx-auto text-purple-300/50 mb-4"}),l.jsx("p",{className:"text-purple-200/70",children:"Please select a project to manage ADRs"})]})};function UJ(e,t){const r=t||{};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const LJ=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,DJ=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,RJ={};function lk(e,t){return((t||RJ).jsx?DJ:LJ).test(e)}const OJ=/[ \t\n\f\r]/g;function PJ(e){return typeof e=="object"?e.type==="text"?ck(e.value):!1:ck(e)}function ck(e){return e.replace(OJ,"")===""}class Zp{constructor(t,r,n){this.normal=r,this.property=t,n&&(this.space=n)}}Zp.prototype.normal={};Zp.prototype.property={};Zp.prototype.space=void 0;function CL(e,t){const r={},n={};for(const i of e)Object.assign(r,i.property),Object.assign(n,i.normal);return new Zp(r,n,t)}function s5(e){return e.toLowerCase()}class Fa{constructor(t,r){this.attribute=r,this.property=t}}Fa.prototype.attribute="";Fa.prototype.booleanish=!1;Fa.prototype.boolean=!1;Fa.prototype.commaOrSpaceSeparated=!1;Fa.prototype.commaSeparated=!1;Fa.prototype.defined=!1;Fa.prototype.mustUseProperty=!1;Fa.prototype.number=!1;Fa.prototype.overloadedBoolean=!1;Fa.prototype.property="";Fa.prototype.spaceSeparated=!1;Fa.prototype.space=void 0;let QJ=0;const Mr=ku(),Oi=ku(),a5=ku(),Dt=ku(),Rn=ku(),Qd=ku(),Ga=ku();function ku(){return 2**++QJ}const o5=Object.freeze(Object.defineProperty({__proto__:null,boolean:Mr,booleanish:Oi,commaOrSpaceSeparated:Ga,commaSeparated:Qd,number:Dt,overloadedBoolean:a5,spaceSeparated:Rn},Symbol.toStringTag,{value:"Module"})),Wv=Object.keys(o5);class ZB extends Fa{constructor(t,r,n,i){let s=-1;if(super(t,r),Ak(this,"space",i),typeof n=="number")for(;++s<Wv.length;){const a=Wv[s];Ak(this,Wv[s],(n&o5[a])===o5[a])}}}ZB.prototype.defined=!0;function Ak(e,t,r){r&&(e[t]=r)}function bh(e){const t={},r={};for(const[n,i]of Object.entries(e.properties)){const s=new ZB(n,e.transform(e.attributes||{},n),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(s.mustUseProperty=!0),t[n]=s,r[s5(n)]=n,r[s5(s.attribute)]=n}return new Zp(t,r,e.space)}const EL=bh({properties:{ariaActiveDescendant:null,ariaAtomic:Oi,ariaAutoComplete:null,ariaBusy:Oi,ariaChecked:Oi,ariaColCount:Dt,ariaColIndex:Dt,ariaColSpan:Dt,ariaControls:Rn,ariaCurrent:null,ariaDescribedBy:Rn,ariaDetails:null,ariaDisabled:Oi,ariaDropEffect:Rn,ariaErrorMessage:null,ariaExpanded:Oi,ariaFlowTo:Rn,ariaGrabbed:Oi,ariaHasPopup:null,ariaHidden:Oi,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Rn,ariaLevel:Dt,ariaLive:null,ariaModal:Oi,ariaMultiLine:Oi,ariaMultiSelectable:Oi,ariaOrientation:null,ariaOwns:Rn,ariaPlaceholder:null,ariaPosInSet:Dt,ariaPressed:Oi,ariaReadOnly:Oi,ariaRelevant:null,ariaRequired:Oi,ariaRoleDescription:Rn,ariaRowCount:Dt,ariaRowIndex:Dt,ariaRowSpan:Dt,ariaSelected:Oi,ariaSetSize:Dt,ariaSort:null,ariaValueMax:Dt,ariaValueMin:Dt,ariaValueNow:Dt,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function SL(e,t){return t in e?e[t]:t}function _L(e,t){return SL(e,t.toLowerCase())}const MJ=bh({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Qd,acceptCharset:Rn,accessKey:Rn,action:null,allow:null,allowFullScreen:Mr,allowPaymentRequest:Mr,allowUserMedia:Mr,alt:null,as:null,async:Mr,autoCapitalize:null,autoComplete:Rn,autoFocus:Mr,autoPlay:Mr,blocking:Rn,capture:null,charSet:null,checked:Mr,cite:null,className:Rn,cols:Dt,colSpan:null,content:null,contentEditable:Oi,controls:Mr,controlsList:Rn,coords:Dt|Qd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Mr,defer:Mr,dir:null,dirName:null,disabled:Mr,download:a5,draggable:Oi,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Mr,formTarget:null,headers:Rn,height:Dt,hidden:a5,high:Dt,href:null,hrefLang:null,htmlFor:Rn,httpEquiv:Rn,id:null,imageSizes:null,imageSrcSet:null,inert:Mr,inputMode:null,integrity:null,is:null,isMap:Mr,itemId:null,itemProp:Rn,itemRef:Rn,itemScope:Mr,itemType:Rn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Mr,low:Dt,manifest:null,max:null,maxLength:Dt,media:null,method:null,min:null,minLength:Dt,multiple:Mr,muted:Mr,name:null,nonce:null,noModule:Mr,noValidate:Mr,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Mr,optimum:Dt,pattern:null,ping:Rn,placeholder:null,playsInline:Mr,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Mr,referrerPolicy:null,rel:Rn,required:Mr,reversed:Mr,rows:Dt,rowSpan:Dt,sandbox:Rn,scope:null,scoped:Mr,seamless:Mr,selected:Mr,shadowRootClonable:Mr,shadowRootDelegatesFocus:Mr,shadowRootMode:null,shape:null,size:Dt,sizes:null,slot:null,span:Dt,spellCheck:Oi,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Dt,step:null,style:null,tabIndex:Dt,target:null,title:null,translate:null,type:null,typeMustMatch:Mr,useMap:null,value:Oi,width:Dt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Rn,axis:null,background:null,bgColor:null,border:Dt,borderColor:null,bottomMargin:Dt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Mr,declare:Mr,event:null,face:null,frame:null,frameBorder:null,hSpace:Dt,leftMargin:Dt,link:null,longDesc:null,lowSrc:null,marginHeight:Dt,marginWidth:Dt,noResize:Mr,noHref:Mr,noShade:Mr,noWrap:Mr,object:null,profile:null,prompt:null,rev:null,rightMargin:Dt,rules:null,scheme:null,scrolling:Oi,standby:null,summary:null,text:null,topMargin:Dt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Dt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Mr,disableRemotePlayback:Mr,prefix:null,property:null,results:Dt,security:null,unselectable:null},space:"html",transform:_L}),HJ=bh({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ga,accentHeight:Dt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Dt,amplitude:Dt,arabicForm:null,ascent:Dt,attributeName:null,attributeType:null,azimuth:Dt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Dt,by:null,calcMode:null,capHeight:Dt,className:Rn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Dt,diffuseConstant:Dt,direction:null,display:null,dur:null,divisor:Dt,dominantBaseline:null,download:Mr,dx:null,dy:null,edgeMode:null,editable:null,elevation:Dt,enableBackground:null,end:null,event:null,exponent:Dt,externalResourcesRequired:null,fill:null,fillOpacity:Dt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Qd,g2:Qd,glyphName:Qd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Dt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Dt,horizOriginX:Dt,horizOriginY:Dt,id:null,ideographic:Dt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Dt,k:Dt,k1:Dt,k2:Dt,k3:Dt,k4:Dt,kernelMatrix:Ga,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Dt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Dt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Dt,overlineThickness:Dt,paintOrder:null,panose1:null,path:null,pathLength:Dt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Rn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Dt,pointsAtY:Dt,pointsAtZ:Dt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ga,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ga,rev:Ga,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ga,requiredFeatures:Ga,requiredFonts:Ga,requiredFormats:Ga,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Dt,specularExponent:Dt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Dt,strikethroughThickness:Dt,string:null,stroke:null,strokeDashArray:Ga,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Dt,strokeOpacity:Dt,strokeWidth:null,style:null,surfaceScale:Dt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ga,tabIndex:Dt,tableValues:null,target:null,targetX:Dt,targetY:Dt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ga,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Dt,underlineThickness:Dt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Dt,values:null,vAlphabetic:Dt,vMathematical:Dt,vectorEffect:null,vHanging:Dt,vIdeographic:Dt,version:null,vertAdvY:Dt,vertOriginX:Dt,vertOriginY:Dt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Dt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:SL}),NL=bh({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),kL=bh({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:_L}),IL=bh({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),zJ={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},KJ=/[A-Z]/g,uk=/-[a-z]/g,qJ=/^data[-\w.:]+$/i;function GJ(e,t){const r=s5(t);let n=t,i=Fa;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&qJ.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(uk,$J);n="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!uk.test(s)){let a=s.replace(KJ,WJ);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=ZB}return new i(n,t)}function WJ(e){return"-"+e.toLowerCase()}function $J(e){return e.charAt(1).toUpperCase()}const VJ=CL([EL,MJ,NL,kL,IL],"html"),eC=CL([EL,HJ,NL,kL,IL],"svg");function XJ(e){return e.join(" ").trim()}var tC={},dk=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,YJ=/\n/g,JJ=/^\s*/,ZJ=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,eZ=/^:\s*/,tZ=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,rZ=/^[;\s]*/,nZ=/^\s+|\s+$/g,iZ=`
`,hk="/",fk="*",XA="",sZ="comment",aZ="declaration";function oZ(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var r=1,n=1;function i(g){var m=g.match(YJ);m&&(r+=m.length);var x=g.lastIndexOf(iZ);n=~x?g.length-x:n+g.length}function s(){var g={line:r,column:n};return function(m){return m.position=new a(g),A(),m}}function a(g){this.start=g,this.end={line:r,column:n},this.source=t.source}a.prototype.content=e;function o(g){var m=new Error(t.source+":"+r+":"+n+": "+g);if(m.reason=g,m.filename=t.source,m.line=r,m.column=n,m.source=e,!t.silent)throw m}function c(g){var m=g.exec(e);if(m){var x=m[0];return i(x),e=e.slice(x.length),m}}function A(){c(JJ)}function d(g){var m;for(g=g||[];m=h();)m!==!1&&g.push(m);return g}function h(){var g=s();if(!(hk!=e.charAt(0)||fk!=e.charAt(1))){for(var m=2;XA!=e.charAt(m)&&(fk!=e.charAt(m)||hk!=e.charAt(m+1));)++m;if(m+=2,XA===e.charAt(m-1))return o("End of comment missing");var x=e.slice(2,m-2);return n+=2,i(x),e=e.slice(m),n+=2,g({type:sZ,comment:x})}}function f(){var g=s(),m=c(ZJ);if(m){if(h(),!c(eZ))return o("property missing ':'");var x=c(tZ),p=g({type:aZ,property:pk(m[0].replace(dk,XA)),value:x?pk(x[0].replace(dk,XA)):XA});return c(rZ),p}}function u(){var g=[];d(g);for(var m;m=f();)m!==!1&&(g.push(m),d(g));return g}return A(),u()}function pk(e){return e?e.replace(nZ,XA):XA}var lZ=oZ,cZ=la&&la.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tC,"__esModule",{value:!0});tC.default=uZ;const AZ=cZ(lZ);function uZ(e,t){let r=null;if(!e||typeof e!="string")return r;const n=(0,AZ.default)(e),i=typeof t=="function";return n.forEach(s=>{if(s.type!=="declaration")return;const{property:a,value:o}=s;i?t(a,o,s):o&&(r=r||{},r[a]=o)}),r}var ow={};Object.defineProperty(ow,"__esModule",{value:!0});ow.camelCase=void 0;var dZ=/^--[a-zA-Z0-9_-]+$/,hZ=/-([a-z])/g,fZ=/^[^-]+$/,pZ=/^-(webkit|moz|ms|o|khtml)-/,mZ=/^-(ms)-/,gZ=function(e){return!e||fZ.test(e)||dZ.test(e)},yZ=function(e,t){return t.toUpperCase()},mk=function(e,t){return"".concat(t,"-")},wZ=function(e,t){return t===void 0&&(t={}),gZ(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(mZ,mk):e=e.replace(pZ,mk),e.replace(hZ,yZ))};ow.camelCase=wZ;var bZ=la&&la.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},vZ=bZ(tC),xZ=ow;function l5(e,t){var r={};return!e||typeof e!="string"||(0,vZ.default)(e,function(n,i){n&&i&&(r[(0,xZ.camelCase)(n,t)]=i)}),r}l5.default=l5;var BZ=l5;const CZ=ch(BZ),TL=FL("end"),rC=FL("start");function FL(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function EZ(e){const t=rC(e),r=TL(e);if(t&&r)return{start:t,end:r}}function Wf(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?gk(e.position):"start"in e||"end"in e?gk(e):"line"in e||"column"in e?c5(e):""}function c5(e){return yk(e&&e.line)+":"+yk(e&&e.column)}function gk(e){return c5(e&&e.start)+"-"+c5(e&&e.end)}function yk(e){return e&&typeof e=="number"?e:1}class qs extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let i="",s={},a=!1;if(r&&("line"in r&&"column"in r?s={place:r}:"start"in r&&"end"in r?s={place:r}:"type"in r?s={ancestors:[r],place:r.position}:s={...r}),typeof t=="string"?i=t:!s.cause&&t&&(a=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof n=="string"){const c=n.indexOf(":");c===-1?s.ruleId=n:(s.source=n.slice(0,c),s.ruleId=n.slice(c+1))}if(!s.place&&s.ancestors&&s.ancestors){const c=s.ancestors[s.ancestors.length-1];c&&(s.place=c.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=Wf(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}qs.prototype.file="";qs.prototype.name="";qs.prototype.reason="";qs.prototype.message="";qs.prototype.stack="";qs.prototype.column=void 0;qs.prototype.line=void 0;qs.prototype.ancestors=void 0;qs.prototype.cause=void 0;qs.prototype.fatal=void 0;qs.prototype.place=void 0;qs.prototype.ruleId=void 0;qs.prototype.source=void 0;const nC={}.hasOwnProperty,SZ=new Map,_Z=/[A-Z]/g,NZ=new Set(["table","tbody","thead","tfoot","tr"]),kZ=new Set(["td","th"]),jL="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function IZ(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=OZ(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=RZ(r,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?eC:VJ,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=UL(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function UL(e,t,r){if(t.type==="element")return TZ(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return FZ(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return UZ(e,t,r);if(t.type==="mdxjsEsm")return jZ(e,t);if(t.type==="root")return LZ(e,t,r);if(t.type==="text")return DZ(e,t)}function TZ(e,t,r){const n=e.schema;let i=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=eC,e.schema=i),e.ancestors.push(t);const s=DL(e,t.tagName,!1),a=PZ(e,t);let o=sC(e,t);return NZ.has(t.tagName)&&(o=o.filter(function(c){return typeof c=="string"?!PJ(c):!0})),LL(e,a,s,t),iC(a,o),e.ancestors.pop(),e.schema=n,e.create(t,s,a,r)}function FZ(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Ip(e,t.position)}function jZ(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Ip(e,t.position)}function UZ(e,t,r){const n=e.schema;let i=n;t.name==="svg"&&n.space==="html"&&(i=eC,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:DL(e,t.name,!0),a=QZ(e,t),o=sC(e,t);return LL(e,a,s,t),iC(a,o),e.ancestors.pop(),e.schema=n,e.create(t,s,a,r)}function LZ(e,t,r){const n={};return iC(n,sC(e,t)),e.create(t,e.Fragment,n,r)}function DZ(e,t){return t.value}function LL(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function iC(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function RZ(e,t,r){return n;function n(i,s,a,o){const A=Array.isArray(a.children)?r:t;return o?A(s,a,o):A(s,a)}}function OZ(e,t){return r;function r(n,i,s,a){const o=Array.isArray(s.children),c=rC(n);return t(i,s,a,o,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function PZ(e,t){const r={};let n,i;for(i in t.properties)if(i!=="children"&&nC.call(t.properties,i)){const s=MZ(e,i,t.properties[i]);if(s){const[a,o]=s;e.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&kZ.has(t.tagName)?n=o:r[a]=o}}if(n){const s=r.style||(r.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function QZ(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const s=n.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(r,e.evaluater.evaluateExpression(o.argument))}else Ip(e,t.position);else{const i=n.name;let s;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const o=n.value.data.estree.body[0];o.type,s=e.evaluater.evaluateExpression(o.expression)}else Ip(e,t.position);else s=n.value===null?!0:n.value;r[i]=s}return r}function sC(e,t){const r=[];let n=-1;const i=e.passKeys?new Map:SZ;for(;++n<t.children.length;){const s=t.children[n];let a;if(e.passKeys){const c=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(c){const A=i.get(c)||0;a=c+"-"+A,i.set(c,A+1)}}const o=UL(e,s,a);o!==void 0&&r.push(o)}return r}function MZ(e,t,r){const n=GJ(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?UJ(r):XJ(r)),n.property==="style"){let i=typeof r=="object"?r:HZ(e,String(r));return e.stylePropertyNameCase==="css"&&(i=zZ(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&n.space?zJ[n.property]||n.property:n.attribute,r]}}function HZ(e,t){try{return CZ(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const n=r,i=new qs("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=jL+"#cannot-parse-style-attribute",i}}function DL(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,a;for(;++s<i.length;){const o=lk(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}n=a}else n=lk(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const i=n.value;return nC.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(n);Ip(e)}function Ip(e,t){const r=new qs("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=jL+"#cannot-handle-mdx-estrees-without-createevaluater",r}function zZ(e){const t={};let r;for(r in e)nC.call(e,r)&&(t[KZ(r)]=e[r]);return t}function KZ(e){let t=e.replace(_Z,qZ);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function qZ(e){return"-"+e.toLowerCase()}const $v={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},GZ={};function WZ(e,t){const r=t||GZ,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return RL(e,n,i)}function RL(e,t,r){if($Z(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return wk(e.children,t,r)}return Array.isArray(e)?wk(e,t,r):""}function wk(e,t,r){const n=[];let i=-1;for(;++i<e.length;)n[i]=RL(e[i],t,r);return n.join("")}function $Z(e){return!!(e&&typeof e=="object")}const bk=document.createElement("i");function aC(e){const t="&"+e+";";bk.innerHTML=t;const r=bk.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function Pl(e,t,r,n){const i=e.length;let s=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,r=r>0?r:0,n.length<1e4)a=Array.from(n),a.unshift(t,r),e.splice(...a);else for(r&&e.splice(t,r);s<n.length;)a=n.slice(s,s+1e4),a.unshift(t,0),e.splice(...a),s+=1e4,t+=1e4}function Eo(e,t){return e.length>0?(Pl(e,e.length,0,t),e):t}const vk={}.hasOwnProperty;function VZ(e){const t={};let r=-1;for(;++r<e.length;)XZ(t,e[r]);return t}function XZ(e,t){let r;for(r in t){const i=(vk.call(e,r)?e[r]:void 0)||(e[r]={}),s=t[r];let a;if(s)for(a in s){vk.call(i,a)||(i[a]=[]);const o=s[a];YZ(i[a],Array.isArray(o)?o:o?[o]:[])}}}function YZ(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);Pl(e,0,0,n)}function OL(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"ï¿½":String.fromCodePoint(r)}function Md(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const kl=FA(/[A-Za-z]/),to=FA(/[\dA-Za-z]/),JZ=FA(/[#-'*+\--9=?A-Z^-~]/);function A5(e){return e!==null&&(e<32||e===127)}const u5=FA(/\d/),ZZ=FA(/[\dA-Fa-f]/),eee=FA(/[!-/:-@[-`{-~]/);function Sr(e){return e!==null&&e<-2}function Ia(e){return e!==null&&(e<0||e===32)}function mn(e){return e===-2||e===-1||e===32}const tee=FA(/\p{P}|\p{S}/u),ree=FA(/\s/);function FA(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function vh(e){const t=[];let r=-1,n=0,i=0;for(;++r<e.length;){const s=e.charCodeAt(r);let a="";if(s===37&&to(e.charCodeAt(r+1))&&to(e.charCodeAt(r+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=e.charCodeAt(r+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a="ï¿½"}else a=String.fromCharCode(s);a&&(t.push(e.slice(n,r),encodeURIComponent(a)),n=r+i+1,a=""),i&&(r+=i,i=0)}return t.join("")+e.slice(n)}function Qn(e,t,r,n){const i=n?n-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(c){return mn(c)?(e.enter(r),o(c)):t(c)}function o(c){return mn(c)&&s++<i?(e.consume(c),o):(e.exit(r),t(c))}}const nee={tokenize:iee};function iee(e){const t=e.attempt(this.parser.constructs.contentInitial,n,i);let r;return t;function n(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Qn(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),s(o)}function s(o){const c=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=c),r=c,a(o)}function a(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return Sr(o)?(e.consume(o),e.exit("chunkText"),s):(e.consume(o),a)}}const see={tokenize:aee},xk={tokenize:oee};function aee(e){const t=this,r=[];let n=0,i,s,a;return o;function o(w){if(n<r.length){const b=r[n];return t.containerState=b[1],e.attempt(b[0].continuation,c,A)(w)}return A(w)}function c(w){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&y();const b=t.events.length;let I=b,F;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){F=t.events[I][1].end;break}p(n);let R=b;for(;R<t.events.length;)t.events[R][1].end={...F},R++;return Pl(t.events,I+1,0,t.events.slice(b)),t.events.length=R,A(w)}return o(w)}function A(w){if(n===r.length){if(!i)return f(w);if(i.currentConstruct&&i.currentConstruct.concrete)return g(w);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(xk,d,h)(w)}function d(w){return i&&y(),p(n),f(w)}function h(w){return t.parser.lazy[t.now().line]=n!==r.length,a=t.now().offset,g(w)}function f(w){return t.containerState={},e.attempt(xk,u,g)(w)}function u(w){return n++,r.push([t.currentConstruct,t.containerState]),f(w)}function g(w){if(w===null){i&&y(),p(0),e.consume(w);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),m(w)}function m(w){if(w===null){x(e.exit("chunkFlow"),!0),p(0),e.consume(w);return}return Sr(w)?(e.consume(w),x(e.exit("chunkFlow")),n=0,t.interrupt=void 0,o):(e.consume(w),m)}function x(w,b){const I=t.sliceStream(w);if(b&&I.push(null),w.previous=s,s&&(s.next=w),s=w,i.defineSkip(w.start),i.write(I),t.parser.lazy[w.start.line]){let F=i.events.length;for(;F--;)if(i.events[F][1].start.offset<a&&(!i.events[F][1].end||i.events[F][1].end.offset>a))return;const R=t.events.length;let Q=R,k,$;for(;Q--;)if(t.events[Q][0]==="exit"&&t.events[Q][1].type==="chunkFlow"){if(k){$=t.events[Q][1].end;break}k=!0}for(p(n),F=R;F<t.events.length;)t.events[F][1].end={...$},F++;Pl(t.events,Q+1,0,t.events.slice(R)),t.events.length=F}}function p(w){let b=r.length;for(;b-- >w;){const I=r[b];t.containerState=I[1],I[0].exit.call(t,e)}r.length=w}function y(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function oee(e,t,r){return Qn(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Bk(e){if(e===null||Ia(e)||ree(e))return 1;if(tee(e))return 2}function oC(e,t,r){const n=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!n.includes(s)&&(t=s(t,r),n.push(s))}return t}const d5={name:"attention",resolveAll:lee,tokenize:cee};function lee(e,t){let r=-1,n,i,s,a,o,c,A,d;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;c=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const h={...e[n][1].end},f={...e[r][1].start};Ck(h,-c),Ck(f,c),a={type:c>1?"strongSequence":"emphasisSequence",start:h,end:{...e[n][1].end}},o={type:c>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:f},s={type:c>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},i={type:c>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},e[n][1].end={...a.start},e[r][1].start={...o.end},A=[],e[n][1].end.offset-e[n][1].start.offset&&(A=Eo(A,[["enter",e[n][1],t],["exit",e[n][1],t]])),A=Eo(A,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",s,t]]),A=Eo(A,oC(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),A=Eo(A,[["exit",s,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[r][1].end.offset-e[r][1].start.offset?(d=2,A=Eo(A,[["enter",e[r][1],t],["exit",e[r][1],t]])):d=0,Pl(e,n-1,r-n+3,A),r=n+A.length-d-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function cee(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=Bk(n);let s;return a;function a(c){return s=c,e.enter("attentionSequence"),o(c)}function o(c){if(c===s)return e.consume(c),o;const A=e.exit("attentionSequence"),d=Bk(c),h=!d||d===2&&i||r.includes(c),f=!i||i===2&&d||r.includes(n);return A._open=!!(s===42?h:h&&(i||!f)),A._close=!!(s===42?f:f&&(d||!h)),t(c)}}function Ck(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Aee={name:"autolink",tokenize:uee};function uee(e,t,r){let n=0;return i;function i(u){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(u),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(u){return kl(u)?(e.consume(u),a):u===64?r(u):A(u)}function a(u){return u===43||u===45||u===46||to(u)?(n=1,o(u)):A(u)}function o(u){return u===58?(e.consume(u),n=0,c):(u===43||u===45||u===46||to(u))&&n++<32?(e.consume(u),o):(n=0,A(u))}function c(u){return u===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(u),e.exit("autolinkMarker"),e.exit("autolink"),t):u===null||u===32||u===60||A5(u)?r(u):(e.consume(u),c)}function A(u){return u===64?(e.consume(u),d):JZ(u)?(e.consume(u),A):r(u)}function d(u){return to(u)?h(u):r(u)}function h(u){return u===46?(e.consume(u),n=0,d):u===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(u),e.exit("autolinkMarker"),e.exit("autolink"),t):f(u)}function f(u){if((u===45||to(u))&&n++<63){const g=u===45?f:h;return e.consume(u),g}return r(u)}}const lw={partial:!0,tokenize:dee};function dee(e,t,r){return n;function n(s){return mn(s)?Qn(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||Sr(s)?t(s):r(s)}}const PL={continuation:{tokenize:fee},exit:pee,name:"blockQuote",tokenize:hee};function hee(e,t,r){const n=this;return i;function i(a){if(a===62){const o=n.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return r(a)}function s(a){return mn(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function fee(e,t,r){const n=this;return i;function i(a){return mn(a)?Qn(e,s,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(PL,t,r)(a)}}function pee(e){e.exit("blockQuote")}const QL={name:"characterEscape",tokenize:mee};function mee(e,t,r){return n;function n(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return eee(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(s)}}const ML={name:"characterReference",tokenize:gee};function gee(e,t,r){const n=this;let i=0,s,a;return o;function o(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),c}function c(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),A):(e.enter("characterReferenceValue"),s=31,a=to,d(h))}function A(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=ZZ,d):(e.enter("characterReferenceValue"),s=7,a=u5,d(h))}function d(h){if(h===59&&i){const f=e.exit("characterReferenceValue");return a===to&&!aC(n.sliceSerialize(f))?r(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(h)&&i++<s?(e.consume(h),d):r(h)}}const Ek={partial:!0,tokenize:wee},Sk={concrete:!0,name:"codeFenced",tokenize:yee};function yee(e,t,r){const n=this,i={partial:!0,tokenize:I};let s=0,a=0,o;return c;function c(F){return A(F)}function A(F){const R=n.events[n.events.length-1];return s=R&&R[1].type==="linePrefix"?R[2].sliceSerialize(R[1],!0).length:0,o=F,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(F)}function d(F){return F===o?(a++,e.consume(F),d):a<3?r(F):(e.exit("codeFencedFenceSequence"),mn(F)?Qn(e,h,"whitespace")(F):h(F))}function h(F){return F===null||Sr(F)?(e.exit("codeFencedFence"),n.interrupt?t(F):e.check(Ek,m,b)(F)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(F))}function f(F){return F===null||Sr(F)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(F)):mn(F)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Qn(e,u,"whitespace")(F)):F===96&&F===o?r(F):(e.consume(F),f)}function u(F){return F===null||Sr(F)?h(F):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(F))}function g(F){return F===null||Sr(F)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(F)):F===96&&F===o?r(F):(e.consume(F),g)}function m(F){return e.attempt(i,b,x)(F)}function x(F){return e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),p}function p(F){return s>0&&mn(F)?Qn(e,y,"linePrefix",s+1)(F):y(F)}function y(F){return F===null||Sr(F)?e.check(Ek,m,b)(F):(e.enter("codeFlowValue"),w(F))}function w(F){return F===null||Sr(F)?(e.exit("codeFlowValue"),y(F)):(e.consume(F),w)}function b(F){return e.exit("codeFenced"),t(F)}function I(F,R,Q){let k=0;return $;function $(re){return F.enter("lineEnding"),F.consume(re),F.exit("lineEnding"),q}function q(re){return F.enter("codeFencedFence"),mn(re)?Qn(F,T,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(re):T(re)}function T(re){return re===o?(F.enter("codeFencedFenceSequence"),K(re)):Q(re)}function K(re){return re===o?(k++,F.consume(re),K):k>=a?(F.exit("codeFencedFenceSequence"),mn(re)?Qn(F,v,"whitespace")(re):v(re)):Q(re)}function v(re){return re===null||Sr(re)?(F.exit("codeFencedFence"),R(re)):Q(re)}}}function wee(e,t,r){const n=this;return i;function i(a){return a===null?r(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return n.parser.lazy[n.now().line]?r(a):t(a)}}const Vv={name:"codeIndented",tokenize:vee},bee={partial:!0,tokenize:xee};function vee(e,t,r){const n=this;return i;function i(A){return e.enter("codeIndented"),Qn(e,s,"linePrefix",4+1)(A)}function s(A){const d=n.events[n.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?a(A):r(A)}function a(A){return A===null?c(A):Sr(A)?e.attempt(bee,a,c)(A):(e.enter("codeFlowValue"),o(A))}function o(A){return A===null||Sr(A)?(e.exit("codeFlowValue"),a(A)):(e.consume(A),o)}function c(A){return e.exit("codeIndented"),t(A)}}function xee(e,t,r){const n=this;return i;function i(a){return n.parser.lazy[n.now().line]?r(a):Sr(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):Qn(e,s,"linePrefix",4+1)(a)}function s(a){const o=n.events[n.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):Sr(a)?i(a):r(a)}}const Bee={name:"codeText",previous:Eee,resolve:Cee,tokenize:See};function Cee(e){let t=e.length-4,r=3,n,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)i===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(i=n):(n===t||e[n][1].type==="lineEnding")&&(e[i][1].type="codeTextData",n!==i+2&&(e[i][1].end=e[n-1][1].end,e.splice(i+2,n-i-2),t-=n-i-2,n=i+2),i=void 0);return e}function Eee(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function See(e,t,r){let n=0,i,s;return a;function a(h){return e.enter("codeText"),e.enter("codeTextSequence"),o(h)}function o(h){return h===96?(e.consume(h),n++,o):(e.exit("codeTextSequence"),c(h))}function c(h){return h===null?r(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),c):h===96?(s=e.enter("codeTextSequence"),i=0,d(h)):Sr(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),c):(e.enter("codeTextData"),A(h))}function A(h){return h===null||h===32||h===96||Sr(h)?(e.exit("codeTextData"),c(h)):(e.consume(h),A)}function d(h){return h===96?(e.consume(h),i++,d):i===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(s.type="codeTextData",A(h))}}class _ee{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const i=r||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&of(this.left,n),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),of(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),of(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);of(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);of(this.left,r.reverse())}}}function of(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function HL(e){const t={};let r=-1,n,i,s,a,o,c,A;const d=new _ee(e);for(;++r<d.length;){for(;r in t;)r=t[r];if(n=d.get(r),r&&n[1].type==="chunkFlow"&&d.get(r-1)[1].type==="listItemPrefix"&&(c=n[1]._tokenizer.events,s=0,s<c.length&&c[s][1].type==="lineEndingBlank"&&(s+=2),s<c.length&&c[s][1].type==="content"))for(;++s<c.length&&c[s][1].type!=="content";)c[s][1].type==="chunkText"&&(c[s][1]._isInFirstContentOfListItem=!0,s++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,Nee(d,r)),r=t[r],A=!0);else if(n[1]._container){for(s=r,i=void 0;s--;)if(a=d.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(n[1].end={...d.get(i)[1].start},o=d.slice(i,r),o.unshift(n),d.splice(i,r-i+1,o))}}return Pl(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!A}function Nee(e,t){const r=e.get(t)[1],n=e.get(t)[2];let i=t-1;const s=[];let a=r._tokenizer;a||(a=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,c=[],A={};let d,h,f=-1,u=r,g=0,m=0;const x=[m];for(;u;){for(;e.get(++i)[1]!==u;);s.push(i),u._tokenizer||(d=n.sliceStream(u),u.next||d.push(null),h&&a.defineSkip(u.start),u._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),u._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),h=u,u=u.next}for(u=r;++f<o.length;)o[f][0]==="exit"&&o[f-1][0]==="enter"&&o[f][1].type===o[f-1][1].type&&o[f][1].start.line!==o[f][1].end.line&&(m=f+1,x.push(m),u._tokenizer=void 0,u.previous=void 0,u=u.next);for(a.events=[],u?(u._tokenizer=void 0,u.previous=void 0):x.pop(),f=x.length;f--;){const p=o.slice(x[f],x[f+1]),y=s.pop();c.push([y,y+p.length-1]),e.splice(y,2,p)}for(c.reverse(),f=-1;++f<c.length;)A[g+c[f][0]]=g+c[f][1],g+=c[f][1]-c[f][0]-1;return A}const kee={resolve:Tee,tokenize:Fee},Iee={partial:!0,tokenize:jee};function Tee(e){return HL(e),e}function Fee(e,t){let r;return n;function n(o){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):Sr(o)?e.check(Iee,a,s)(o):(e.consume(o),i)}function s(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function a(o){return e.consume(o),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function jee(e,t,r){const n=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Qn(e,s,"linePrefix")}function s(a){if(a===null||Sr(a))return r(a);const o=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(a):e.interrupt(n.parser.constructs.flow,r,t)(a)}}function zL(e,t,r,n,i,s,a,o,c){const A=c||Number.POSITIVE_INFINITY;let d=0;return h;function h(p){return p===60?(e.enter(n),e.enter(i),e.enter(s),e.consume(p),e.exit(s),f):p===null||p===32||p===41||A5(p)?r(p):(e.enter(n),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),m(p))}function f(p){return p===62?(e.enter(s),e.consume(p),e.exit(s),e.exit(i),e.exit(n),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),u(p))}function u(p){return p===62?(e.exit("chunkString"),e.exit(o),f(p)):p===null||p===60||Sr(p)?r(p):(e.consume(p),p===92?g:u)}function g(p){return p===60||p===62||p===92?(e.consume(p),u):u(p)}function m(p){return!d&&(p===null||p===41||Ia(p))?(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(n),t(p)):d<A&&p===40?(e.consume(p),d++,m):p===41?(e.consume(p),d--,m):p===null||p===32||p===40||A5(p)?r(p):(e.consume(p),p===92?x:m)}function x(p){return p===40||p===41||p===92?(e.consume(p),m):m(p)}}function KL(e,t,r,n,i,s){const a=this;let o=0,c;return A;function A(u){return e.enter(n),e.enter(i),e.consume(u),e.exit(i),e.enter(s),d}function d(u){return o>999||u===null||u===91||u===93&&!c||u===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?r(u):u===93?(e.exit(s),e.enter(i),e.consume(u),e.exit(i),e.exit(n),t):Sr(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),h(u))}function h(u){return u===null||u===91||u===93||Sr(u)||o++>999?(e.exit("chunkString"),d(u)):(e.consume(u),c||(c=!mn(u)),u===92?f:h)}function f(u){return u===91||u===92||u===93?(e.consume(u),o++,h):h(u)}}function qL(e,t,r,n,i,s){let a;return o;function o(f){return f===34||f===39||f===40?(e.enter(n),e.enter(i),e.consume(f),e.exit(i),a=f===40?41:f,c):r(f)}function c(f){return f===a?(e.enter(i),e.consume(f),e.exit(i),e.exit(n),t):(e.enter(s),A(f))}function A(f){return f===a?(e.exit(s),c(a)):f===null?r(f):Sr(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),Qn(e,A,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(f))}function d(f){return f===a||f===null||Sr(f)?(e.exit("chunkString"),A(f)):(e.consume(f),f===92?h:d)}function h(f){return f===a||f===92?(e.consume(f),d):d(f)}}function $f(e,t){let r;return n;function n(i){return Sr(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),r=!0,n):mn(i)?Qn(e,n,r?"linePrefix":"lineSuffix")(i):t(i)}}const Uee={name:"definition",tokenize:Dee},Lee={partial:!0,tokenize:Ree};function Dee(e,t,r){const n=this;let i;return s;function s(u){return e.enter("definition"),a(u)}function a(u){return KL.call(n,e,o,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(u)}function o(u){return i=Md(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),u===58?(e.enter("definitionMarker"),e.consume(u),e.exit("definitionMarker"),c):r(u)}function c(u){return Ia(u)?$f(e,A)(u):A(u)}function A(u){return zL(e,d,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(u)}function d(u){return e.attempt(Lee,h,h)(u)}function h(u){return mn(u)?Qn(e,f,"whitespace")(u):f(u)}function f(u){return u===null||Sr(u)?(e.exit("definition"),n.parser.defined.push(i),t(u)):r(u)}}function Ree(e,t,r){return n;function n(o){return Ia(o)?$f(e,i)(o):r(o)}function i(o){return qL(e,s,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return mn(o)?Qn(e,a,"whitespace")(o):a(o)}function a(o){return o===null||Sr(o)?t(o):r(o)}}const Oee={name:"hardBreakEscape",tokenize:Pee};function Pee(e,t,r){return n;function n(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return Sr(s)?(e.exit("hardBreakEscape"),t(s)):r(s)}}const Qee={name:"headingAtx",resolve:Mee,tokenize:Hee};function Mee(e,t){let r=e.length-2,n=3,i,s;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},s={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},Pl(e,n,r-n+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function Hee(e,t,r){let n=0;return i;function i(d){return e.enter("atxHeading"),s(d)}function s(d){return e.enter("atxHeadingSequence"),a(d)}function a(d){return d===35&&n++<6?(e.consume(d),a):d===null||Ia(d)?(e.exit("atxHeadingSequence"),o(d)):r(d)}function o(d){return d===35?(e.enter("atxHeadingSequence"),c(d)):d===null||Sr(d)?(e.exit("atxHeading"),t(d)):mn(d)?Qn(e,o,"whitespace")(d):(e.enter("atxHeadingText"),A(d))}function c(d){return d===35?(e.consume(d),c):(e.exit("atxHeadingSequence"),o(d))}function A(d){return d===null||d===35||Ia(d)?(e.exit("atxHeadingText"),o(d)):(e.consume(d),A)}}const zee=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],_k=["pre","script","style","textarea"],Kee={concrete:!0,name:"htmlFlow",resolveTo:Wee,tokenize:$ee},qee={partial:!0,tokenize:Xee},Gee={partial:!0,tokenize:Vee};function Wee(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function $ee(e,t,r){const n=this;let i,s,a,o,c;return A;function A(O){return d(O)}function d(O){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(O),h}function h(O){return O===33?(e.consume(O),f):O===47?(e.consume(O),s=!0,m):O===63?(e.consume(O),i=3,n.interrupt?t:ne):kl(O)?(e.consume(O),a=String.fromCharCode(O),x):r(O)}function f(O){return O===45?(e.consume(O),i=2,u):O===91?(e.consume(O),i=5,o=0,g):kl(O)?(e.consume(O),i=4,n.interrupt?t:ne):r(O)}function u(O){return O===45?(e.consume(O),n.interrupt?t:ne):r(O)}function g(O){const G="CDATA[";return O===G.charCodeAt(o++)?(e.consume(O),o===G.length?n.interrupt?t:T:g):r(O)}function m(O){return kl(O)?(e.consume(O),a=String.fromCharCode(O),x):r(O)}function x(O){if(O===null||O===47||O===62||Ia(O)){const G=O===47,oe=a.toLowerCase();return!G&&!s&&_k.includes(oe)?(i=1,n.interrupt?t(O):T(O)):zee.includes(a.toLowerCase())?(i=6,G?(e.consume(O),p):n.interrupt?t(O):T(O)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(O):s?y(O):w(O))}return O===45||to(O)?(e.consume(O),a+=String.fromCharCode(O),x):r(O)}function p(O){return O===62?(e.consume(O),n.interrupt?t:T):r(O)}function y(O){return mn(O)?(e.consume(O),y):$(O)}function w(O){return O===47?(e.consume(O),$):O===58||O===95||kl(O)?(e.consume(O),b):mn(O)?(e.consume(O),w):$(O)}function b(O){return O===45||O===46||O===58||O===95||to(O)?(e.consume(O),b):I(O)}function I(O){return O===61?(e.consume(O),F):mn(O)?(e.consume(O),I):w(O)}function F(O){return O===null||O===60||O===61||O===62||O===96?r(O):O===34||O===39?(e.consume(O),c=O,R):mn(O)?(e.consume(O),F):Q(O)}function R(O){return O===c?(e.consume(O),c=null,k):O===null||Sr(O)?r(O):(e.consume(O),R)}function Q(O){return O===null||O===34||O===39||O===47||O===60||O===61||O===62||O===96||Ia(O)?I(O):(e.consume(O),Q)}function k(O){return O===47||O===62||mn(O)?w(O):r(O)}function $(O){return O===62?(e.consume(O),q):r(O)}function q(O){return O===null||Sr(O)?T(O):mn(O)?(e.consume(O),q):r(O)}function T(O){return O===45&&i===2?(e.consume(O),ge):O===60&&i===1?(e.consume(O),Y):O===62&&i===4?(e.consume(O),ae):O===63&&i===3?(e.consume(O),ne):O===93&&i===5?(e.consume(O),le):Sr(O)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(qee,_,K)(O)):O===null||Sr(O)?(e.exit("htmlFlowData"),K(O)):(e.consume(O),T)}function K(O){return e.check(Gee,v,_)(O)}function v(O){return e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),re}function re(O){return O===null||Sr(O)?K(O):(e.enter("htmlFlowData"),T(O))}function ge(O){return O===45?(e.consume(O),ne):T(O)}function Y(O){return O===47?(e.consume(O),a="",fe):T(O)}function fe(O){if(O===62){const G=a.toLowerCase();return _k.includes(G)?(e.consume(O),ae):T(O)}return kl(O)&&a.length<8?(e.consume(O),a+=String.fromCharCode(O),fe):T(O)}function le(O){return O===93?(e.consume(O),ne):T(O)}function ne(O){return O===62?(e.consume(O),ae):O===45&&i===2?(e.consume(O),ne):T(O)}function ae(O){return O===null||Sr(O)?(e.exit("htmlFlowData"),_(O)):(e.consume(O),ae)}function _(O){return e.exit("htmlFlow"),t(O)}}function Vee(e,t,r){const n=this;return i;function i(a){return Sr(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):r(a)}function s(a){return n.parser.lazy[n.now().line]?r(a):t(a)}}function Xee(e,t,r){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(lw,t,r)}}const Yee={name:"htmlText",tokenize:Jee};function Jee(e,t,r){const n=this;let i,s,a;return o;function o(ne){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(ne),c}function c(ne){return ne===33?(e.consume(ne),A):ne===47?(e.consume(ne),I):ne===63?(e.consume(ne),w):kl(ne)?(e.consume(ne),Q):r(ne)}function A(ne){return ne===45?(e.consume(ne),d):ne===91?(e.consume(ne),s=0,g):kl(ne)?(e.consume(ne),y):r(ne)}function d(ne){return ne===45?(e.consume(ne),u):r(ne)}function h(ne){return ne===null?r(ne):ne===45?(e.consume(ne),f):Sr(ne)?(a=h,Y(ne)):(e.consume(ne),h)}function f(ne){return ne===45?(e.consume(ne),u):h(ne)}function u(ne){return ne===62?ge(ne):ne===45?f(ne):h(ne)}function g(ne){const ae="CDATA[";return ne===ae.charCodeAt(s++)?(e.consume(ne),s===ae.length?m:g):r(ne)}function m(ne){return ne===null?r(ne):ne===93?(e.consume(ne),x):Sr(ne)?(a=m,Y(ne)):(e.consume(ne),m)}function x(ne){return ne===93?(e.consume(ne),p):m(ne)}function p(ne){return ne===62?ge(ne):ne===93?(e.consume(ne),p):m(ne)}function y(ne){return ne===null||ne===62?ge(ne):Sr(ne)?(a=y,Y(ne)):(e.consume(ne),y)}function w(ne){return ne===null?r(ne):ne===63?(e.consume(ne),b):Sr(ne)?(a=w,Y(ne)):(e.consume(ne),w)}function b(ne){return ne===62?ge(ne):w(ne)}function I(ne){return kl(ne)?(e.consume(ne),F):r(ne)}function F(ne){return ne===45||to(ne)?(e.consume(ne),F):R(ne)}function R(ne){return Sr(ne)?(a=R,Y(ne)):mn(ne)?(e.consume(ne),R):ge(ne)}function Q(ne){return ne===45||to(ne)?(e.consume(ne),Q):ne===47||ne===62||Ia(ne)?k(ne):r(ne)}function k(ne){return ne===47?(e.consume(ne),ge):ne===58||ne===95||kl(ne)?(e.consume(ne),$):Sr(ne)?(a=k,Y(ne)):mn(ne)?(e.consume(ne),k):ge(ne)}function $(ne){return ne===45||ne===46||ne===58||ne===95||to(ne)?(e.consume(ne),$):q(ne)}function q(ne){return ne===61?(e.consume(ne),T):Sr(ne)?(a=q,Y(ne)):mn(ne)?(e.consume(ne),q):k(ne)}function T(ne){return ne===null||ne===60||ne===61||ne===62||ne===96?r(ne):ne===34||ne===39?(e.consume(ne),i=ne,K):Sr(ne)?(a=T,Y(ne)):mn(ne)?(e.consume(ne),T):(e.consume(ne),v)}function K(ne){return ne===i?(e.consume(ne),i=void 0,re):ne===null?r(ne):Sr(ne)?(a=K,Y(ne)):(e.consume(ne),K)}function v(ne){return ne===null||ne===34||ne===39||ne===60||ne===61||ne===96?r(ne):ne===47||ne===62||Ia(ne)?k(ne):(e.consume(ne),v)}function re(ne){return ne===47||ne===62||Ia(ne)?k(ne):r(ne)}function ge(ne){return ne===62?(e.consume(ne),e.exit("htmlTextData"),e.exit("htmlText"),t):r(ne)}function Y(ne){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(ne),e.exit("lineEnding"),fe}function fe(ne){return mn(ne)?Qn(e,le,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ne):le(ne)}function le(ne){return e.enter("htmlTextData"),a(ne)}}const lC={name:"labelEnd",resolveAll:rte,resolveTo:nte,tokenize:ite},Zee={tokenize:ste},ete={tokenize:ate},tte={tokenize:ote};function rte(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const i=n.type==="labelImage"?4:2;n.type="data",t+=i}}return e.length!==r.length&&Pl(e,0,e.length,r),e}function nte(e,t){let r=e.length,n=0,i,s,a,o;for(;r--;)if(i=e[r][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(a=r);const c={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},A={type:"label",start:{...e[s][1].start},end:{...e[a][1].end}},d={type:"labelText",start:{...e[s+n+2][1].end},end:{...e[a-2][1].start}};return o=[["enter",c,t],["enter",A,t]],o=Eo(o,e.slice(s+1,s+n+3)),o=Eo(o,[["enter",d,t]]),o=Eo(o,oC(t.parser.constructs.insideSpan.null,e.slice(s+n+4,a-3),t)),o=Eo(o,[["exit",d,t],e[a-2],e[a-1],["exit",A,t]]),o=Eo(o,e.slice(a+1)),o=Eo(o,[["exit",c,t]]),Pl(e,s,e.length,o),e}function ite(e,t,r){const n=this;let i=n.events.length,s,a;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){s=n.events[i][1];break}return o;function o(f){return s?s._inactive?h(f):(a=n.parser.defined.includes(Md(n.sliceSerialize({start:s.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),c):r(f)}function c(f){return f===40?e.attempt(Zee,d,a?d:h)(f):f===91?e.attempt(ete,d,a?A:h)(f):a?d(f):h(f)}function A(f){return e.attempt(tte,d,h)(f)}function d(f){return t(f)}function h(f){return s._balanced=!0,r(f)}}function ste(e,t,r){return n;function n(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),i}function i(h){return Ia(h)?$f(e,s)(h):s(h)}function s(h){return h===41?d(h):zL(e,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function a(h){return Ia(h)?$f(e,c)(h):d(h)}function o(h){return r(h)}function c(h){return h===34||h===39||h===40?qL(e,A,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function A(h){return Ia(h)?$f(e,d)(h):d(h)}function d(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):r(h)}}function ate(e,t,r){const n=this;return i;function i(o){return KL.call(n,e,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return n.parser.defined.includes(Md(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(o):r(o)}function a(o){return r(o)}}function ote(e,t,r){return n;function n(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):r(s)}}const lte={name:"labelStartImage",resolveAll:lC.resolveAll,tokenize:cte};function cte(e,t,r){const n=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),s}function s(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),a):r(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):t(o)}}const Ate={name:"labelStartLink",resolveAll:lC.resolveAll,tokenize:ute};function ute(e,t,r){const n=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(a):t(a)}}const Xv={name:"lineEnding",tokenize:dte};function dte(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),Qn(e,t,"linePrefix")}}const w0={name:"thematicBreak",tokenize:hte};function hte(e,t,r){let n=0,i;return s;function s(A){return e.enter("thematicBreak"),a(A)}function a(A){return i=A,o(A)}function o(A){return A===i?(e.enter("thematicBreakSequence"),c(A)):n>=3&&(A===null||Sr(A))?(e.exit("thematicBreak"),t(A)):r(A)}function c(A){return A===i?(e.consume(A),n++,c):(e.exit("thematicBreakSequence"),mn(A)?Qn(e,o,"whitespace")(A):o(A))}}const va={continuation:{tokenize:gte},exit:wte,name:"list",tokenize:mte},fte={partial:!0,tokenize:bte},pte={partial:!0,tokenize:yte};function mte(e,t,r){const n=this,i=n.events[n.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(u){const g=n.containerState.type||(u===42||u===43||u===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!n.containerState.marker||u===n.containerState.marker:u5(u)){if(n.containerState.type||(n.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),u===42||u===45?e.check(w0,r,A)(u):A(u);if(!n.interrupt||u===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(u)}return r(u)}function c(u){return u5(u)&&++a<10?(e.consume(u),c):(!n.interrupt||a<2)&&(n.containerState.marker?u===n.containerState.marker:u===41||u===46)?(e.exit("listItemValue"),A(u)):r(u)}function A(u){return e.enter("listItemMarker"),e.consume(u),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||u,e.check(lw,n.interrupt?r:d,e.attempt(fte,f,h))}function d(u){return n.containerState.initialBlankLine=!0,s++,f(u)}function h(u){return mn(u)?(e.enter("listItemPrefixWhitespace"),e.consume(u),e.exit("listItemPrefixWhitespace"),f):r(u)}function f(u){return n.containerState.size=s+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(u)}}function gte(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(lw,i,s);function i(o){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,Qn(e,t,"listItemIndent",n.containerState.size+1)(o)}function s(o){return n.containerState.furtherBlankLines||!mn(o)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,a(o)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(pte,t,a)(o))}function a(o){return n.containerState._closeFlow=!0,n.interrupt=void 0,Qn(e,e.attempt(va,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function yte(e,t,r){const n=this;return Qn(e,i,"listItemIndent",n.containerState.size+1);function i(s){const a=n.events[n.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===n.containerState.size?t(s):r(s)}}function wte(e){e.exit(this.containerState.type)}function bte(e,t,r){const n=this;return Qn(e,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(s){const a=n.events[n.events.length-1];return!mn(s)&&a&&a[1].type==="listItemPrefixWhitespace"?t(s):r(s)}}const Nk={name:"setextUnderline",resolveTo:vte,tokenize:xte};function vte(e,t){let r=e.length,n,i,s;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(i=r)}else e[r][1].type==="content"&&e.splice(r,1),!s&&e[r][1].type==="definition"&&(s=r);const a={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",a,t]),e.splice(s+1,0,["exit",e[n][1],t]),e[n][1].end={...e[s][1].end}):e[n][1]=a,e.push(["exit",a,t]),e}function xte(e,t,r){const n=this;let i;return s;function s(A){let d=n.events.length,h;for(;d--;)if(n.events[d][1].type!=="lineEnding"&&n.events[d][1].type!=="linePrefix"&&n.events[d][1].type!=="content"){h=n.events[d][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||h)?(e.enter("setextHeadingLine"),i=A,a(A)):r(A)}function a(A){return e.enter("setextHeadingLineSequence"),o(A)}function o(A){return A===i?(e.consume(A),o):(e.exit("setextHeadingLineSequence"),mn(A)?Qn(e,c,"lineSuffix")(A):c(A))}function c(A){return A===null||Sr(A)?(e.exit("setextHeadingLine"),t(A)):r(A)}}const Bte={tokenize:Cte};function Cte(e){const t=this,r=e.attempt(lw,n,e.attempt(this.parser.constructs.flowInitial,i,Qn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(kee,i)),"linePrefix")));return r;function n(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const Ete={resolveAll:WL()},Ste=GL("string"),_te=GL("text");function GL(e){return{resolveAll:WL(e==="text"?Nte:void 0),tokenize:t};function t(r){const n=this,i=this.parser.constructs[e],s=r.attempt(i,a,o);return a;function a(d){return A(d)?s(d):o(d)}function o(d){if(d===null){r.consume(d);return}return r.enter("data"),r.consume(d),c}function c(d){return A(d)?(r.exit("data"),s(d)):(r.consume(d),c)}function A(d){if(d===null)return!0;const h=i[d];let f=-1;if(h)for(;++f<h.length;){const u=h[f];if(!u.previous||u.previous.call(n,n.previous))return!0}return!1}}}function WL(e){return t;function t(r,n){let i=-1,s;for(;++i<=r.length;)s===void 0?r[i]&&r[i][1].type==="data"&&(s=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==s+2&&(r[s][1].end=r[i-1][1].end,r.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(r,n):r}}function Nte(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],i=t.sliceStream(n);let s=i.length,a=-1,o=0,c;for(;s--;){const A=i[s];if(typeof A=="string"){for(a=A.length;A.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(A===-2)c=!0,o++;else if(A!==-1){s++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(o=0),o){const A={type:r===e.length||c||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:n.start._bufferIndex+a,_index:n.start._index+s,line:n.end.line,column:n.end.column-o,offset:n.end.offset-o},end:{...n.end}};n.end={...A.start},n.start.offset===n.end.offset?Object.assign(n,A):(e.splice(r,0,["enter",A,t],["exit",A,t]),r+=2)}r++}return e}const kte={42:va,43:va,45:va,48:va,49:va,50:va,51:va,52:va,53:va,54:va,55:va,56:va,57:va,62:PL},Ite={91:Uee},Tte={[-2]:Vv,[-1]:Vv,32:Vv},Fte={35:Qee,42:w0,45:[Nk,w0],60:Kee,61:Nk,95:w0,96:Sk,126:Sk},jte={38:ML,92:QL},Ute={[-5]:Xv,[-4]:Xv,[-3]:Xv,33:lte,38:ML,42:d5,60:[Aee,Yee],91:Ate,92:[Oee,QL],93:lC,95:d5,96:Bee},Lte={null:[d5,Ete]},Dte={null:[42,95]},Rte={null:[]},Ote=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Dte,contentInitial:Ite,disable:Rte,document:kte,flow:Fte,flowInitial:Tte,insideSpan:Lte,string:jte,text:Ute},Symbol.toStringTag,{value:"Module"}));function Pte(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const i={},s=[];let a=[],o=[];const c={attempt:R(I),check:R(F),consume:y,enter:w,exit:b,interrupt:R(F,{interrupt:!0})},A={code:null,containerState:{},defineSkip:m,events:[],now:g,parser:e,previous:null,sliceSerialize:f,sliceStream:u,write:h};let d=t.tokenize.call(A,c);return t.resolveAll&&s.push(t),A;function h(q){return a=Eo(a,q),x(),a[a.length-1]!==null?[]:(Q(t,0),A.events=oC(s,A.events,A),A.events)}function f(q,T){return Mte(u(q),T)}function u(q){return Qte(a,q)}function g(){const{_bufferIndex:q,_index:T,line:K,column:v,offset:re}=n;return{_bufferIndex:q,_index:T,line:K,column:v,offset:re}}function m(q){i[q.line]=q.column,$()}function x(){let q;for(;n._index<a.length;){const T=a[n._index];if(typeof T=="string")for(q=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===q&&n._bufferIndex<T.length;)p(T.charCodeAt(n._bufferIndex));else p(T)}}function p(q){d=d(q)}function y(q){Sr(q)?(n.line++,n.column=1,n.offset+=q===-3?2:1,$()):q!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===a[n._index].length&&(n._bufferIndex=-1,n._index++)),A.previous=q}function w(q,T){const K=T||{};return K.type=q,K.start=g(),A.events.push(["enter",K,A]),o.push(K),K}function b(q){const T=o.pop();return T.end=g(),A.events.push(["exit",T,A]),T}function I(q,T){Q(q,T.from)}function F(q,T){T.restore()}function R(q,T){return K;function K(v,re,ge){let Y,fe,le,ne;return Array.isArray(v)?_(v):"tokenize"in v?_([v]):ae(v);function ae(Ae){return U;function U(M){const J=M!==null&&Ae[M],ce=M!==null&&Ae.null,ee=[...Array.isArray(J)?J:J?[J]:[],...Array.isArray(ce)?ce:ce?[ce]:[]];return _(ee)(M)}}function _(Ae){return Y=Ae,fe=0,Ae.length===0?ge:O(Ae[fe])}function O(Ae){return U;function U(M){return ne=k(),le=Ae,Ae.partial||(A.currentConstruct=Ae),Ae.name&&A.parser.constructs.disable.null.includes(Ae.name)?oe():Ae.tokenize.call(T?Object.assign(Object.create(A),T):A,c,G,oe)(M)}}function G(Ae){return q(le,ne),re}function oe(Ae){return ne.restore(),++fe<Y.length?O(Y[fe]):ge}}}function Q(q,T){q.resolveAll&&!s.includes(q)&&s.push(q),q.resolve&&Pl(A.events,T,A.events.length-T,q.resolve(A.events.slice(T),A)),q.resolveTo&&(A.events=q.resolveTo(A.events,A))}function k(){const q=g(),T=A.previous,K=A.currentConstruct,v=A.events.length,re=Array.from(o);return{from:v,restore:ge};function ge(){n=q,A.previous=T,A.currentConstruct=K,A.events.length=v,o=re,$()}}function $(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function Qte(e,t){const r=t.start._index,n=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let a;if(r===i)a=[e[r].slice(n,s)];else{if(a=e.slice(r,i),n>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(n):a.shift()}s>0&&a.push(e[i].slice(0,s))}return a}function Mte(e,t){let r=-1;const n=[];let i;for(;++r<e.length;){const s=e[r];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,n.push(a)}return n.join("")}function Hte(e){const n={constructs:VZ([Ote,...(e||{}).extensions||[]]),content:i(nee),defined:[],document:i(see),flow:i(Bte),lazy:{},string:i(Ste),text:i(_te)};return n;function i(s){return a;function a(o){return Pte(n,s,o)}}}function zte(e){for(;!HL(e););return e}const kk=/[\0\t\n\r]/g;function Kte(){let e=1,t="",r=!0,n;return i;function i(s,a,o){const c=[];let A,d,h,f,u;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),h=0,t="",r&&(s.charCodeAt(0)===65279&&h++,r=void 0);h<s.length;){if(kk.lastIndex=h,A=kk.exec(s),f=A&&A.index!==void 0?A.index:s.length,u=s.charCodeAt(f),!A){t=s.slice(h);break}if(u===10&&h===f&&n)c.push(-3),n=void 0;else switch(n&&(c.push(-5),n=void 0),h<f&&(c.push(s.slice(h,f)),e+=f-h),u){case 0:{c.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,c.push(-2);e++<d;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:n=!0,e=1}h=f+1}return o&&(n&&c.push(-5),t&&c.push(t),c.push(null)),c}}const qte=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Gte(e){return e.replace(qte,Wte)}function Wte(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),s=i===120||i===88;return OL(r.slice(s?2:1),s?16:10)}return aC(r)||e}const $L={}.hasOwnProperty;function $te(e,t,r){return typeof t!="string"&&(r=t,t=void 0),Vte(r)(zte(Hte(r).document().write(Kte()(e,t,!0))))}function Vte(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(P),autolinkProtocol:k,autolinkEmail:k,atxHeading:s(te),blockQuote:s(ce),characterEscape:k,characterReference:k,codeFenced:s(ee),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(ee,a),codeText:s(Z,a),codeTextData:k,data:k,codeFlowValue:k,definition:s(me),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(B),hardBreakEscape:s(H),hardBreakTrailing:s(H),htmlFlow:s(S,a),htmlFlowData:k,htmlText:s(S,a),htmlTextData:k,image:s(E),label:a,link:s(P),listItem:s(ye),listItemValue:f,listOrdered:s(de,h),listUnordered:s(de),paragraph:s(ue),reference:O,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(te),strong:s(ke),thematicBreak:s(Ue)},exit:{atxHeading:c(),atxHeadingSequence:I,autolink:c(),autolinkEmail:J,autolinkProtocol:M,blockQuote:c(),characterEscapeValue:$,characterReferenceMarkerHexadecimal:oe,characterReferenceMarkerNumeric:oe,characterReferenceValue:Ae,characterReference:U,codeFenced:c(x),codeFencedFence:m,codeFencedFenceInfo:u,codeFencedFenceMeta:g,codeFlowValue:$,codeIndented:c(p),codeText:c(re),codeTextData:$,data:$,definition:c(),definitionDestinationString:b,definitionLabelString:y,definitionTitleString:w,emphasis:c(),hardBreakEscape:c(T),hardBreakTrailing:c(T),htmlFlow:c(K),htmlFlowData:$,htmlText:c(v),htmlTextData:$,image:c(Y),label:le,labelText:fe,lineEnding:q,link:c(ge),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:G,resourceDestinationString:ne,resourceTitleString:ae,resource:_,setextHeading:c(Q),setextHeadingLineSequence:R,setextHeadingText:F,strong:c(),thematicBreak:c()}};VL(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(_e){let Me={type:"root",children:[]};const Ze={stack:[Me],tokenStack:[],config:t,enter:o,exit:A,buffer:a,resume:d,data:r},ut=[];let kt=-1;for(;++kt<_e.length;)if(_e[kt][1].type==="listOrdered"||_e[kt][1].type==="listUnordered")if(_e[kt][0]==="enter")ut.push(kt);else{const It=ut.pop();kt=i(_e,It,kt)}for(kt=-1;++kt<_e.length;){const It=t[_e[kt][0]];$L.call(It,_e[kt][1].type)&&It[_e[kt][1].type].call(Object.assign({sliceSerialize:_e[kt][2].sliceSerialize},Ze),_e[kt][1])}if(Ze.tokenStack.length>0){const It=Ze.tokenStack[Ze.tokenStack.length-1];(It[1]||Ik).call(Ze,void 0,It[0])}for(Me.position={start:Gc(_e.length>0?_e[0][1].start:{line:1,column:1,offset:0}),end:Gc(_e.length>0?_e[_e.length-2][1].end:{line:1,column:1,offset:0})},kt=-1;++kt<t.transforms.length;)Me=t.transforms[kt](Me)||Me;return Me}function i(_e,Me,Ze){let ut=Me-1,kt=-1,It=!1,ur,Ft,yt,Yt;for(;++ut<=Ze;){const mt=_e[ut];switch(mt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{mt[0]==="enter"?kt++:kt--,Yt=void 0;break}case"lineEndingBlank":{mt[0]==="enter"&&(ur&&!Yt&&!kt&&!yt&&(yt=ut),Yt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Yt=void 0}if(!kt&&mt[0]==="enter"&&mt[1].type==="listItemPrefix"||kt===-1&&mt[0]==="exit"&&(mt[1].type==="listUnordered"||mt[1].type==="listOrdered")){if(ur){let $t=ut;for(Ft=void 0;$t--;){const tr=_e[$t];if(tr[1].type==="lineEnding"||tr[1].type==="lineEndingBlank"){if(tr[0]==="exit")continue;Ft&&(_e[Ft][1].type="lineEndingBlank",It=!0),tr[1].type="lineEnding",Ft=$t}else if(!(tr[1].type==="linePrefix"||tr[1].type==="blockQuotePrefix"||tr[1].type==="blockQuotePrefixWhitespace"||tr[1].type==="blockQuoteMarker"||tr[1].type==="listItemIndent"))break}yt&&(!Ft||yt<Ft)&&(ur._spread=!0),ur.end=Object.assign({},Ft?_e[Ft][1].start:mt[1].end),_e.splice(Ft||ut,0,["exit",ur,mt[2]]),ut++,Ze++}if(mt[1].type==="listItemPrefix"){const $t={type:"listItem",_spread:!1,start:Object.assign({},mt[1].start),end:void 0};ur=$t,_e.splice(ut,0,["enter",$t,mt[2]]),ut++,Ze++,yt=void 0,Yt=!0}}}return _e[Me][1]._spread=It,Ze}function s(_e,Me){return Ze;function Ze(ut){o.call(this,_e(ut),ut),Me&&Me.call(this,ut)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(_e,Me,Ze){this.stack[this.stack.length-1].children.push(_e),this.stack.push(_e),this.tokenStack.push([Me,Ze||void 0]),_e.position={start:Gc(Me.start),end:void 0}}function c(_e){return Me;function Me(Ze){_e&&_e.call(this,Ze),A.call(this,Ze)}}function A(_e,Me){const Ze=this.stack.pop(),ut=this.tokenStack.pop();if(ut)ut[0].type!==_e.type&&(Me?Me.call(this,_e,ut[0]):(ut[1]||Ik).call(this,_e,ut[0]));else throw new Error("Cannot close `"+_e.type+"` ("+Wf({start:_e.start,end:_e.end})+"): itâ€™s not open");Ze.position.end=Gc(_e.end)}function d(){return WZ(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function f(_e){if(this.data.expectingFirstListItemValue){const Me=this.stack[this.stack.length-2];Me.start=Number.parseInt(this.sliceSerialize(_e),10),this.data.expectingFirstListItemValue=void 0}}function u(){const _e=this.resume(),Me=this.stack[this.stack.length-1];Me.lang=_e}function g(){const _e=this.resume(),Me=this.stack[this.stack.length-1];Me.meta=_e}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const _e=this.resume(),Me=this.stack[this.stack.length-1];Me.value=_e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function p(){const _e=this.resume(),Me=this.stack[this.stack.length-1];Me.value=_e.replace(/(\r?\n|\r)$/g,"")}function y(_e){const Me=this.resume(),Ze=this.stack[this.stack.length-1];Ze.label=Me,Ze.identifier=Md(this.sliceSerialize(_e)).toLowerCase()}function w(){const _e=this.resume(),Me=this.stack[this.stack.length-1];Me.title=_e}function b(){const _e=this.resume(),Me=this.stack[this.stack.length-1];Me.url=_e}function I(_e){const Me=this.stack[this.stack.length-1];if(!Me.depth){const Ze=this.sliceSerialize(_e).length;Me.depth=Ze}}function F(){this.data.setextHeadingSlurpLineEnding=!0}function R(_e){const Me=this.stack[this.stack.length-1];Me.depth=this.sliceSerialize(_e).codePointAt(0)===61?1:2}function Q(){this.data.setextHeadingSlurpLineEnding=void 0}function k(_e){const Ze=this.stack[this.stack.length-1].children;let ut=Ze[Ze.length-1];(!ut||ut.type!=="text")&&(ut=Oe(),ut.position={start:Gc(_e.start),end:void 0},Ze.push(ut)),this.stack.push(ut)}function $(_e){const Me=this.stack.pop();Me.value+=this.sliceSerialize(_e),Me.position.end=Gc(_e.end)}function q(_e){const Me=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ze=Me.children[Me.children.length-1];Ze.position.end=Gc(_e.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Me.type)&&(k.call(this,_e),$.call(this,_e))}function T(){this.data.atHardBreak=!0}function K(){const _e=this.resume(),Me=this.stack[this.stack.length-1];Me.value=_e}function v(){const _e=this.resume(),Me=this.stack[this.stack.length-1];Me.value=_e}function re(){const _e=this.resume(),Me=this.stack[this.stack.length-1];Me.value=_e}function ge(){const _e=this.stack[this.stack.length-1];if(this.data.inReference){const Me=this.data.referenceType||"shortcut";_e.type+="Reference",_e.referenceType=Me,delete _e.url,delete _e.title}else delete _e.identifier,delete _e.label;this.data.referenceType=void 0}function Y(){const _e=this.stack[this.stack.length-1];if(this.data.inReference){const Me=this.data.referenceType||"shortcut";_e.type+="Reference",_e.referenceType=Me,delete _e.url,delete _e.title}else delete _e.identifier,delete _e.label;this.data.referenceType=void 0}function fe(_e){const Me=this.sliceSerialize(_e),Ze=this.stack[this.stack.length-2];Ze.label=Gte(Me),Ze.identifier=Md(Me).toLowerCase()}function le(){const _e=this.stack[this.stack.length-1],Me=this.resume(),Ze=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ze.type==="link"){const ut=_e.children;Ze.children=ut}else Ze.alt=Me}function ne(){const _e=this.resume(),Me=this.stack[this.stack.length-1];Me.url=_e}function ae(){const _e=this.resume(),Me=this.stack[this.stack.length-1];Me.title=_e}function _(){this.data.inReference=void 0}function O(){this.data.referenceType="collapsed"}function G(_e){const Me=this.resume(),Ze=this.stack[this.stack.length-1];Ze.label=Me,Ze.identifier=Md(this.sliceSerialize(_e)).toLowerCase(),this.data.referenceType="full"}function oe(_e){this.data.characterReferenceType=_e.type}function Ae(_e){const Me=this.sliceSerialize(_e),Ze=this.data.characterReferenceType;let ut;Ze?(ut=OL(Me,Ze==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ut=aC(Me);const kt=this.stack[this.stack.length-1];kt.value+=ut}function U(_e){const Me=this.stack.pop();Me.position.end=Gc(_e.end)}function M(_e){$.call(this,_e);const Me=this.stack[this.stack.length-1];Me.url=this.sliceSerialize(_e)}function J(_e){$.call(this,_e);const Me=this.stack[this.stack.length-1];Me.url="mailto:"+this.sliceSerialize(_e)}function ce(){return{type:"blockquote",children:[]}}function ee(){return{type:"code",lang:null,meta:null,value:""}}function Z(){return{type:"inlineCode",value:""}}function me(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function B(){return{type:"emphasis",children:[]}}function te(){return{type:"heading",depth:0,children:[]}}function H(){return{type:"break"}}function S(){return{type:"html",value:""}}function E(){return{type:"image",title:null,url:"",alt:null}}function P(){return{type:"link",title:null,url:"",children:[]}}function de(_e){return{type:"list",ordered:_e.type==="listOrdered",start:null,spread:_e._spread,children:[]}}function ye(_e){return{type:"listItem",spread:_e._spread,checked:null,children:[]}}function ue(){return{type:"paragraph",children:[]}}function ke(){return{type:"strong",children:[]}}function Oe(){return{type:"text",value:""}}function Ue(){return{type:"thematicBreak"}}}function Gc(e){return{line:e.line,column:e.column,offset:e.offset}}function VL(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?VL(e,n):Xte(e,n)}}function Xte(e,t){let r;for(r in t)if($L.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function Ik(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Wf({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Wf({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Wf({start:t.start,end:t.end})+") is still open")}function Yte(e){const t=this;t.parser=r;function r(n){return $te(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Jte(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function Zte(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function ere(e,t){const r=t.value?t.value+`
`:"",n={};t.lang&&(n.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function tre(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function rre(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function nre(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),i=vh(n.toLowerCase()),s=e.footnoteOrder.indexOf(n);let a,o=e.footnoteCounts.get(n);o===void 0?(o=0,e.footnoteOrder.push(n),a=e.footnoteOrder.length):a=s+1,o+=1,e.footnoteCounts.set(n,o);const c={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,c);const A={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,A),e.applyData(t,A)}function ire(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function sre(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function XL(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=n:i.push({type:"text",value:n}),i}function are(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return XL(e,t);const i={src:vh(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function ore(e,t){const r={src:vh(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function lre(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function cre(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return XL(e,t);const i={href:vh(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function Are(e,t){const r={href:vh(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ure(e,t,r){const n=e.all(t),i=r?dre(r):YL(t),s={},a=[];if(typeof t.checked=="boolean"){const d=n[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},n.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<n.length;){const d=n[o];(i||o!==0||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?a.push(...d.children):a.push(d)}const c=n[n.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&a.push({type:"text",value:`
`});const A={type:"element",tagName:"li",properties:s,children:a};return e.patch(t,A),e.applyData(t,A)}function dre(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=YL(r[n])}return t}function YL(e){const t=e.spread;return t??e.children.length>1}function hre(e,t){const r={},n=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++i<n.length;){const a=n[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,s),e.applyData(t,s)}function fre(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function pre(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function mre(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function gre(e,t){const r=e.all(t),n=r.shift(),i=[];if(n){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],a),i.push(a)}if(r.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},o=rC(t.children[1]),c=TL(t.children[t.children.length-1]);o&&c&&(a.position={start:o,end:c}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function yre(e,t,r){const n=r?r.children:void 0,s=(n?n.indexOf(t):1)===0?"th":"td",a=r&&r.type==="table"?r.align:void 0,o=a?a.length:t.children.length;let c=-1;const A=[];for(;++c<o;){const h=t.children[c],f={},u=a?a[c]:void 0;u&&(f.align=u);let g={type:"element",tagName:s,properties:f,children:[]};h&&(g.children=e.all(h),e.patch(h,g),g=e.applyData(h,g)),A.push(g)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(A,!0)};return e.patch(t,d),e.applyData(t,d)}function wre(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const Tk=9,Fk=32;function bre(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),i=0;const s=[];for(;n;)s.push(jk(t.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=r.exec(t);return s.push(jk(t.slice(i),i>0,!1)),s.join("")}function jk(e,t,r){let n=0,i=e.length;if(t){let s=e.codePointAt(n);for(;s===Tk||s===Fk;)n++,s=e.codePointAt(n)}if(r){let s=e.codePointAt(i-1);for(;s===Tk||s===Fk;)i--,s=e.codePointAt(i-1)}return i>n?e.slice(n,i):""}function vre(e,t){const r={type:"text",value:bre(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function xre(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const Bre={blockquote:Jte,break:Zte,code:ere,delete:tre,emphasis:rre,footnoteReference:nre,heading:ire,html:sre,imageReference:are,image:ore,inlineCode:lre,linkReference:cre,link:Are,listItem:ure,list:hre,paragraph:fre,root:pre,strong:mre,table:gre,tableCell:wre,tableRow:yre,text:vre,thematicBreak:xre,toml:Qg,yaml:Qg,definition:Qg,footnoteDefinition:Qg};function Qg(){}const JL=-1,cw=0,Vf=1,yy=2,cC=3,AC=4,uC=5,dC=6,ZL=7,eD=8,Uk=typeof self=="object"?self:globalThis,Cre=(e,t)=>{const r=(i,s)=>(e.set(s,i),i),n=i=>{if(e.has(i))return e.get(i);const[s,a]=t[i];switch(s){case cw:case JL:return r(a,i);case Vf:{const o=r([],i);for(const c of a)o.push(n(c));return o}case yy:{const o=r({},i);for(const[c,A]of a)o[n(c)]=n(A);return o}case cC:return r(new Date(a),i);case AC:{const{source:o,flags:c}=a;return r(new RegExp(o,c),i)}case uC:{const o=r(new Map,i);for(const[c,A]of a)o.set(n(c),n(A));return o}case dC:{const o=r(new Set,i);for(const c of a)o.add(n(c));return o}case ZL:{const{name:o,message:c}=a;return r(new Uk[o](c),i)}case eD:return r(BigInt(a),i);case"BigInt":return r(Object(BigInt(a)),i);case"ArrayBuffer":return r(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return r(new DataView(o),a)}}return r(new Uk[s](a),i)};return n},Lk=e=>Cre(new Map,e)(0),$u="",{toString:Ere}={},{keys:Sre}=Object,lf=e=>{const t=typeof e;if(t!=="object"||!e)return[cw,t];const r=Ere.call(e).slice(8,-1);switch(r){case"Array":return[Vf,$u];case"Object":return[yy,$u];case"Date":return[cC,$u];case"RegExp":return[AC,$u];case"Map":return[uC,$u];case"Set":return[dC,$u];case"DataView":return[Vf,r]}return r.includes("Array")?[Vf,r]:r.includes("Error")?[ZL,r]:[yy,r]},Mg=([e,t])=>e===cw&&(t==="function"||t==="symbol"),_re=(e,t,r,n)=>{const i=(a,o)=>{const c=n.push(a)-1;return r.set(o,c),c},s=a=>{if(r.has(a))return r.get(a);let[o,c]=lf(a);switch(o){case cw:{let d=a;switch(c){case"bigint":o=eD,d=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return i([JL],a)}return i([o,d],a)}case Vf:{if(c){let f=a;return c==="DataView"?f=new Uint8Array(a.buffer):c==="ArrayBuffer"&&(f=new Uint8Array(a)),i([c,[...f]],a)}const d=[],h=i([o,d],a);for(const f of a)d.push(s(f));return h}case yy:{if(c)switch(c){case"BigInt":return i([c,a.toString()],a);case"Boolean":case"Number":case"String":return i([c,a.valueOf()],a)}if(t&&"toJSON"in a)return s(a.toJSON());const d=[],h=i([o,d],a);for(const f of Sre(a))(e||!Mg(lf(a[f])))&&d.push([s(f),s(a[f])]);return h}case cC:return i([o,a.toISOString()],a);case AC:{const{source:d,flags:h}=a;return i([o,{source:d,flags:h}],a)}case uC:{const d=[],h=i([o,d],a);for(const[f,u]of a)(e||!(Mg(lf(f))||Mg(lf(u))))&&d.push([s(f),s(u)]);return h}case dC:{const d=[],h=i([o,d],a);for(const f of a)(e||!Mg(lf(f)))&&d.push(s(f));return h}}const{message:A}=a;return i([o,{name:c,message:A}],a)};return s},Dk=(e,{json:t,lossy:r}={})=>{const n=[];return _re(!(t||r),!!t,new Map,n)(e),n},wy=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Lk(Dk(e,t)):structuredClone(e):(e,t)=>Lk(Dk(e,t));function Nre(e,t){const r=[{type:"text",value:"â†©"}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function kre(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Ire(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||Nre,n=e.options.footnoteBackLabel||kre,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let c=-1;for(;++c<e.footnoteOrder.length;){const A=e.footnoteById.get(e.footnoteOrder[c]);if(!A)continue;const d=e.all(A),h=String(A.identifier).toUpperCase(),f=vh(h.toLowerCase());let u=0;const g=[],m=e.footnoteCounts.get(h);for(;m!==void 0&&++u<=m;){g.length>0&&g.push({type:"text",value:" "});let y=typeof r=="string"?r:r(c,u);typeof y=="string"&&(y={type:"text",value:y}),g.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(u>1?"-"+u:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(c,u),className:["data-footnote-backref"]},children:Array.isArray(y)?y:[y]})}const x=d[d.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const y=x.children[x.children.length-1];y&&y.type==="text"?y.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...g)}else d.push(...g);const p={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(d,!0)};e.patch(A,p),o.push(p)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...wy(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const tD=function(e){if(e==null)return Ure;if(typeof e=="function")return Aw(e);if(typeof e=="object")return Array.isArray(e)?Tre(e):Fre(e);if(typeof e=="string")return jre(e);throw new Error("Expected function, string, or object as test")};function Tre(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=tD(e[r]);return Aw(n);function n(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function Fre(e){const t=e;return Aw(r);function r(n){const i=n;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function jre(e){return Aw(t);function t(r){return r&&r.type===e}}function Aw(e){return t;function t(r,n,i){return!!(Lre(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function Ure(){return!0}function Lre(e){return e!==null&&typeof e=="object"&&"type"in e}const rD=[],Dre=!0,Rk=!1,Rre="skip";function Ore(e,t,r,n){let i;typeof t=="function"&&typeof r!="function"?(n=r,r=t):i=t;const s=tD(i),a=n?-1:1;o(e,void 0,[])();function o(c,A,d){const h=c&&typeof c=="object"?c:{};if(typeof h.type=="string"){const u=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(c.type+(u?"<"+u+">":""))+")"})}return f;function f(){let u=rD,g,m,x;if((!t||s(c,A,d[d.length-1]||void 0))&&(u=Pre(r(c,d)),u[0]===Rk))return u;if("children"in c&&c.children){const p=c;if(p.children&&u[0]!==Rre)for(m=(n?p.children.length:-1)+a,x=d.concat(p);m>-1&&m<p.children.length;){const y=p.children[m];if(g=o(y,m,x)(),g[0]===Rk)return g;m=typeof g[1]=="number"?g[1]:m+a}}return u}}}function Pre(e){return Array.isArray(e)?e:typeof e=="number"?[Dre,e]:e==null?rD:[e]}function nD(e,t,r,n){let i,s,a;typeof t=="function"&&typeof r!="function"?(s=void 0,a=t,i=r):(s=t,a=r,i=n),Ore(e,s,o,i);function o(c,A){const d=A[A.length-1],h=d?d.children.indexOf(c):void 0;return a(c,h,d)}}const h5={}.hasOwnProperty,Qre={};function Mre(e,t){const r=t||Qre,n=new Map,i=new Map,s=new Map,a={...Bre,...r.handlers},o={all:A,applyData:zre,definitionById:n,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:c,options:r,patch:Hre,wrap:qre};return nD(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?n:i,f=String(d.identifier).toUpperCase();h.has(f)||h.set(f,d)}}),o;function c(d,h){const f=d.type,u=o.handlers[f];if(h5.call(o.handlers,f)&&u)return u(o,d,h);if(o.options.passThrough&&o.options.passThrough.includes(f)){if("children"in d){const{children:m,...x}=d,p=wy(x);return p.children=o.all(d),p}return wy(d)}return(o.options.unknownHandler||Kre)(o,d,h)}function A(d){const h=[];if("children"in d){const f=d.children;let u=-1;for(;++u<f.length;){const g=o.one(f[u],d);if(g){if(u&&f[u-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=Ok(g.value)),!Array.isArray(g)&&g.type==="element")){const m=g.children[0];m&&m.type==="text"&&(m.value=Ok(m.value))}Array.isArray(g)?h.push(...g):h.push(g)}}}return h}}function Hre(e,t){e.position&&(t.position=EZ(e))}function zre(e,t){let r=t;if(e&&e.data){const n=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const a="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:a}}r.type==="element"&&s&&Object.assign(r.properties,wy(s)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}function Kre(e,t){const r=t.data||{},n="value"in t&&!(h5.call(r,"hProperties")||h5.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function qre(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function Ok(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function Pk(e,t){const r=Mre(e,t),n=r.one(e,void 0),i=Ire(r),s=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function Gre(e,t){return e&&"run"in e?async function(r,n){const i=Pk(r,{file:n,...t});await e.run(i,n)}:function(r,n){return Pk(r,{file:n,...e||t})}}function Qk(e){if(e)throw e}var b0=Object.prototype.hasOwnProperty,iD=Object.prototype.toString,Mk=Object.defineProperty,Hk=Object.getOwnPropertyDescriptor,zk=function(t){return typeof Array.isArray=="function"?Array.isArray(t):iD.call(t)==="[object Array]"},Kk=function(t){if(!t||iD.call(t)!=="[object Object]")return!1;var r=b0.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&b0.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;var i;for(i in t);return typeof i>"u"||b0.call(t,i)},qk=function(t,r){Mk&&r.name==="__proto__"?Mk(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},Gk=function(t,r){if(r==="__proto__")if(b0.call(t,r)){if(Hk)return Hk(t,r).value}else return;return t[r]},Wre=function e(){var t,r,n,i,s,a,o=arguments[0],c=1,A=arguments.length,d=!1;for(typeof o=="boolean"&&(d=o,o=arguments[1]||{},c=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});c<A;++c)if(t=arguments[c],t!=null)for(r in t)n=Gk(o,r),i=Gk(t,r),o!==i&&(d&&i&&(Kk(i)||(s=zk(i)))?(s?(s=!1,a=n&&zk(n)?n:[]):a=n&&Kk(n)?n:{},qk(o,{name:r,newValue:e(d,a,i)})):typeof i<"u"&&qk(o,{name:r,newValue:i}));return o};const Yv=ch(Wre);function f5(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function $re(){const e=[],t={run:r,use:n};return t;function r(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(c,...A){const d=e[++s];let h=-1;if(c){a(c);return}for(;++h<i.length;)(A[h]===null||A[h]===void 0)&&(A[h]=i[h]);i=A,d?Vre(d,o)(...A):a(null,...A)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Vre(e,t){let r;return n;function n(...a){const o=e.length>a.length;let c;o&&a.push(i);try{c=e.apply(this,a)}catch(A){const d=A;if(o&&r)throw d;return i(d)}o||(c&&c.then&&typeof c.then=="function"?c.then(s,i):c instanceof Error?i(c):s(c))}function i(a,...o){r||(r=!0,t(a,...o))}function s(a){i(null,a)}}const Cl={basename:Xre,dirname:Yre,extname:Jre,join:Zre,sep:"/"};function Xre(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');em(e);let r=0,n=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){r=i+1;break}}else n<0&&(s=!0,n=i+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let a=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){r=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(n=i):(o=-1,n=a));return r===n?n=a:n<0&&(n=e.length),e.slice(r,n)}function Yre(e){if(em(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Jre(e){em(e);let t=e.length,r=-1,n=0,i=-1,s=0,a;for(;t--;){const o=e.codePointAt(t);if(o===47){if(a){n=t+1;break}continue}r<0&&(a=!0,r=t+1),o===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||r<0||s===0||s===1&&i===r-1&&i===n+1?"":e.slice(i,r)}function Zre(...e){let t=-1,r;for(;++t<e.length;)em(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":ene(r)}function ene(e){em(e);const t=e.codePointAt(0)===47;let r=tne(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function tne(e,t){let r="",n=0,i=-1,s=0,a=-1,o,c;for(;++a<=e.length;){if(a<e.length)o=e.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(c=r.lastIndexOf("/"),c!==r.length-1){c<0?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length>0){r="",n=0,i=a,s=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(i+1,a):r=e.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return r}function em(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const rne={cwd:nne};function nne(){return"/"}function p5(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function ine(e){if(typeof e=="string")e=new URL(e);else if(!p5(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return sne(e)}function sne(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Jv=["history","path","basename","stem","extname","dirname"];class sD{constructor(t){let r;t?p5(t)?r={path:t}:typeof t=="string"||ane(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":rne.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<Jv.length;){const s=Jv[n];s in r&&r[s]!==void 0&&r[s]!==null&&(this[s]=s==="history"?[...r[s]]:r[s])}let i;for(i in r)Jv.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?Cl.basename(this.path):void 0}set basename(t){ex(t,"basename"),Zv(t,"basename"),this.path=Cl.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Cl.dirname(this.path):void 0}set dirname(t){Wk(this.basename,"dirname"),this.path=Cl.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Cl.extname(this.path):void 0}set extname(t){if(Zv(t,"extname"),Wk(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Cl.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){p5(t)&&(t=ine(t)),ex(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Cl.basename(this.path,this.extname):void 0}set stem(t){ex(t,"stem"),Zv(t,"stem"),this.path=Cl.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const i=this.message(t,r,n);throw i.fatal=!0,i}info(t,r,n){const i=this.message(t,r,n);return i.fatal=void 0,i}message(t,r,n){const i=new qs(t,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Zv(e,t){if(e&&e.includes(Cl.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Cl.sep+"`")}function ex(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Wk(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function ane(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const one=function(e){const n=this.constructor.prototype,i=n[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,n),s},lne={}.hasOwnProperty;class hC extends one{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=$re()}copy(){const t=new hC;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(Yv(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(nx("data",this.frozen),this.namespace[t]=r,this):lne.call(this.namespace,t)&&this.namespace[t]||void 0:t?(nx("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=r.call(t,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=Hg(t),n=this.parser||this.Parser;return tx("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),tx("process",this.parser||this.Parser),rx("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(s,a){const o=Hg(t),c=n.parse(o);n.run(c,o,function(d,h,f){if(d||!h||!f)return A(d);const u=h,g=n.stringify(u,f);une(g)?f.value=g:f.result=g,A(d,f)});function A(d,h){d||!h?a(d):s?s(h):r(void 0,h)}}}processSync(t){let r=!1,n;return this.freeze(),tx("processSync",this.parser||this.Parser),rx("processSync",this.compiler||this.Compiler),this.process(t,i),Vk("processSync","process",r),n;function i(s,a){r=!0,Qk(s),n=a}}run(t,r,n){$k(t),this.freeze();const i=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?s(void 0,n):new Promise(s);function s(a,o){const c=Hg(r);i.run(t,c,A);function A(d,h,f){const u=h||t;d?o(d):a?a(u):n(void 0,u,f)}}}runSync(t,r){let n=!1,i;return this.run(t,r,s),Vk("runSync","run",n),i;function s(a,o){Qk(a),i=o,n=!0}}stringify(t,r){this.freeze();const n=Hg(r),i=this.compiler||this.Compiler;return rx("stringify",i),$k(t),i(t,n)}use(t,...r){const n=this.attachers,i=this.namespace;if(nx("use",this.frozen),t!=null)if(typeof t=="function")c(t,r);else if(typeof t=="object")Array.isArray(t)?o(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(A){if(typeof A=="function")c(A,[]);else if(typeof A=="object")if(Array.isArray(A)){const[d,...h]=A;c(d,h)}else a(A);else throw new TypeError("Expected usable value, not `"+A+"`")}function a(A){if(!("plugins"in A)&&!("settings"in A))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(A.plugins),A.settings&&(i.settings=Yv(!0,i.settings,A.settings))}function o(A){let d=-1;if(A!=null)if(Array.isArray(A))for(;++d<A.length;){const h=A[d];s(h)}else throw new TypeError("Expected a list of plugins, not `"+A+"`")}function c(A,d){let h=-1,f=-1;for(;++h<n.length;)if(n[h][0]===A){f=h;break}if(f===-1)n.push([A,...d]);else if(d.length>0){let[u,...g]=d;const m=n[f][1];f5(m)&&f5(u)&&(u=Yv(!0,m,u)),n[f]=[A,u,...g]}}}}const cne=new hC().freeze();function tx(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function rx(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function nx(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function $k(e){if(!f5(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Vk(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Hg(e){return Ane(e)?e:new sD(e)}function Ane(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function une(e){return typeof e=="string"||dne(e)}function dne(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const hne="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Xk=[],Yk={allowDangerousHtml:!0},fne=/^(https?|ircs?|mailto|xmpp)$/i,pne=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Jk(e){const t=mne(e),r=gne(e);return yne(t.runSync(t.parse(r),r),e)}function mne(e){const t=e.rehypePlugins||Xk,r=e.remarkPlugins||Xk,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Yk}:Yk;return cne().use(Yte).use(r).use(Gre,n).use(t)}function gne(e){const t=e.children||"",r=new sD;return typeof t=="string"&&(r.value=t),r}function yne(e,t){const r=t.allowedElements,n=t.allowElement,i=t.components,s=t.disallowedElements,a=t.skipHtml,o=t.unwrapDisallowed,c=t.urlTransform||wne;for(const d of pne)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+hne+d.id,void 0);return nD(e,A),IZ(e,{Fragment:l.Fragment,components:i,ignoreInvalidStyle:!0,jsx:l.jsx,jsxs:l.jsxs,passKeys:!0,passNode:!0});function A(d,h,f){if(d.type==="raw"&&f&&typeof h=="number")return a?f.children.splice(h,1):f.children[h]={type:"text",value:d.value},h;if(d.type==="element"){let u;for(u in $v)if(Object.hasOwn($v,u)&&Object.hasOwn(d.properties,u)){const g=d.properties[u],m=$v[u];(m===null||m.includes(d.tagName))&&(d.properties[u]=c(String(g||""),u,d))}}if(d.type==="element"){let u=r?!r.includes(d.tagName):s?s.includes(d.tagName):!1;if(!u&&n&&typeof h=="number"&&(u=!n(d,h,f)),u&&f&&typeof h=="number")return o&&d.children?f.children.splice(h,1,...d.children):f.children.splice(h,1),h}}}function wne(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||r!==-1&&t>r||n!==-1&&t>n||fne.test(e.slice(0,t))?e:""}const bne=({selectedProject:e})=>{const[t,r]=Se.useState([]),[n,i]=Se.useState(""),[s,a]=Se.useState(!1),[o,c]=Se.useState(!1),[A,d]=Se.useState(""),[h,f]=Se.useState(null),[u,g]=Se.useState([]),[m,x]=Se.useState(new Set),[p,y]=Se.useState(!1),[w,b]=Se.useState(!1),I=Se.useRef(null),F=Se.useRef(null),R=Se.useRef(null),Q=Se.useRef(new so),k=v5.useMemo(()=>[{id:"modeler",title:"AI Modeler",description:"Generate architecture diagrams or data models",icon:l.jsx(pn,{size:18}),color:"from-blue-500 to-cyan-500",prompt:"Generate a draft architecture diagram for a microservices-based system"},{id:"reviewer",title:"AI Reviewer",description:e?`Review SDD document for ${e.name}`:"Review SDD document (select a project first)",icon:l.jsx(LO,{size:18}),color:"from-green-500 to-emerald-500",prompt:e?`Review the complete SDD document for ${e.name}`:"Review architecture for security risks and compliance issues"},{id:"mapper",title:"AI Mapper",description:"Auto-link systems and data flows",icon:l.jsx(Yd,{size:18}),color:"from-purple-500 to-pink-500",prompt:e?`Auto-link systems and data flows for ${e.name}`:"Map all system integrations and data flows"},{id:"chat",title:"Chat Query",description:"Ask questions about architecture",icon:l.jsx(ZE,{size:18}),color:"from-orange-500 to-red-500",prompt:"Show all APIs that connect Finacle to Johari"},{id:"pattern",title:"Pattern Recommender",description:"Suggest integration or cloud patterns",icon:l.jsx(Op,{size:18}),color:"from-indigo-500 to-purple-500",prompt:"Suggest best-fit integration patterns for real-time payment processing"}],[e]);Se.useEffect(()=>{(async()=>{if(!e){g([]),x(new Set);return}y(!0);try{const G=(await Q.current.getArtifactsByProject(e.id)).filter(oe=>oe.projectId===e.id);g(G),x(new Set(G.map(oe=>oe.id)))}catch(O){console.error("Error loading artifacts:",O),g([]),x(new Set)}finally{y(!1)}})()},[e==null?void 0:e.id]),Se.useEffect(()=>{(async()=>{try{const O=(e==null?void 0:e.id)||null,oe=(await Q.current.getChatMessagesByProject(O)).map(Ae=>({role:Ae.role,content:Ae.content,timestamp:new Date(Ae.timestamp)}));r(oe)}catch(O){console.error("Error loading chat history:",O),r([])}})()},[e==null?void 0:e.id]),Se.useEffect(()=>{R.current&&(R.current.scrollTop=R.current.scrollHeight)},[t,o,A]),Se.useEffect(()=>{F.current&&(F.current.style.height="auto",F.current.style.height=`${Math.min(F.current.scrollHeight,120)}px`)},[n]);const $=Se.useCallback(()=>u.filter(_=>m.has(_.id)),[u,m]),q=_=>{x(O=>{const G=new Set(O);return G.has(_)?G.delete(_):G.add(_),G})},T=()=>{x(new Set(u.map(_=>_.id)))},K=()=>{x(new Set)},v=async()=>{if(!n.trim()||s)return;const _={role:"user",content:n.trim(),timestamp:new Date};r(G=>[...G,_]);try{await Q.current.addChatMessage({projectId:(e==null?void 0:e.id)||null,role:"user",content:n.trim(),timestamp:_.timestamp,capabilityType:h})}catch(G){console.error("Error saving user message:",G)}const O=n.trim();i(""),a(!0),c(!0),d("");try{const G=new yp,oe=t.map(Z=>({role:Z.role,content:Z.content})),Ae=$(),U=e?{name:e.name,description:e.description||""}:void 0,M=Ae.map(Z=>({id:Z.id,fileName:Z.fileName,fileType:Z.fileType,fileContent:Z.fileContent,artifactType:Z.artifactType}));let J="";const ce=await G.chatStream(O,oe,U,M,Z=>{J+=Z,d(J)}),ee={role:"assistant",content:ce,timestamp:new Date};r(Z=>[...Z,ee]);try{await Q.current.addChatMessage({projectId:(e==null?void 0:e.id)||null,role:"assistant",content:ce,timestamp:ee.timestamp,capabilityType:h})}catch(Z){console.error("Error saving assistant message:",Z)}d("")}catch(G){console.error("Error processing message:",G);let oe="I apologize, but I encountered an error processing your request.";G.message&&(G.message.includes("API key")?oe=`**Configuration Error**

Please configure your Claude API key:
1. Create a \`.env\` file in the project root
2. Add: \`VITE_ANTHROPIC_API_KEY=your_api_key_here\`
3. Restart the development server`:G.message.includes("Rate limit")?oe=`**Rate Limit Exceeded**

Too many requests. Please wait a moment and try again.`:G.message.includes("Connection")?oe=`**Connection Error**

Unable to connect to Claude API. Please check your internet connection and try again.`:oe=`**Error**

${G.message}

Please try again or rephrase your question.`);const Ae={role:"assistant",content:oe,timestamp:new Date};r(U=>[...U,Ae]);try{await Q.current.addChatMessage({projectId:(e==null?void 0:e.id)||null,role:"assistant",content:oe,timestamp:Ae.timestamp,capabilityType:h})}catch(U){console.error("Error saving error message:",U)}d("")}finally{a(!1),c(!1)}},re=async _=>{var O;f(_.id),_.id==="reviewer"&&e?await ge():(i(_.prompt),(O=F.current)==null||O.focus())},ge=async()=>{if(!(!e||w)){b(!0),a(!0),c(!0),d("");try{const O=(await Q.current.getGeneratedSectionsByProject(e.id)).filter(Z=>!Z.parentSectionId);if(O.length===0){const Z={role:"assistant",content:`**No SDD Sections Found**

Please generate some SDD sections first before requesting a review. Go to the SDD view and generate sections for your project.`,timestamp:new Date};r(me=>[...me,Z]),b(!1),a(!1),c(!1);return}const G=O.map(Z=>({sectionId:Z.sectionId,sectionTitle:Z.sectionTitle,content:Z.content||""})),oe=$();oe.length===0&&u.length>0&&oe.push(...u);const Ae={name:e.name,description:e.description||""},U=oe.map(Z=>({id:Z.id,fileName:Z.fileName,fileType:Z.fileType,fileContent:Z.fileContent,artifactType:Z.artifactType})),M={role:"user",content:`Review the SDD document for ${e.name} (${G.length} sections)`,timestamp:new Date};r(Z=>[...Z,M]);try{await Q.current.addChatMessage({projectId:e.id,role:"user",content:M.content,timestamp:M.timestamp,capabilityType:"reviewer"})}catch(Z){console.error("Error saving user message:",Z)}const ce=await new yp().reviewSDDDocument(G,Ae,U);d(ce),await new Promise(Z=>setTimeout(Z,500));const ee={role:"assistant",content:ce,timestamp:new Date};r(Z=>[...Z,ee]);try{await Q.current.addChatMessage({projectId:e.id,role:"assistant",content:ce,timestamp:ee.timestamp,capabilityType:"reviewer"})}catch(Z){console.error("Error saving assistant message:",Z)}d("")}catch(_){console.error("Error reviewing SDD:",_);let O="I apologize, but I encountered an error while reviewing the SDD document.";_.message&&(_.message.includes("API key")?O=`**Configuration Error**

Please configure your Claude API key:
1. Create a \`.env\` file in the project root
2. Add: \`VITE_ANTHROPIC_API_KEY=your_api_key_here\`
3. Restart the development server`:_.message.includes("Rate limit")?O=`**Rate Limit Exceeded**

Too many requests. Please wait a moment and try again.`:_.message.includes("Connection")?O=`**Connection Error**

Unable to connect to Claude API. Please check your internet connection and try again.`:O=`**Error**

${_.message}

Please try again.`);const G={role:"assistant",content:O,timestamp:new Date};r(oe=>[...oe,G]);try{await Q.current.addChatMessage({projectId:(e==null?void 0:e.id)||null,role:"assistant",content:O,timestamp:G.timestamp,capabilityType:"reviewer"})}catch(oe){console.error("Error saving error message:",oe)}d("")}finally{b(!1),a(!1),c(!1)}}},Y=_=>{var O;i(_),(O=F.current)==null||O.focus()},fe=_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),v())},le=async()=>{try{const _=(e==null?void 0:e.id)||null;await Q.current.deleteChatMessagesByProject(_),r([]),f(null)}catch(_){console.error("Error clearing chat history:",_),r([]),f(null)}},ne=u.filter(_=>_.artifactType==="BRD"||_.artifactType==="FLOW"||_.artifactType==="SEQUENCE"||_.artifactType==="OTHER"),ae=u.filter(_=>_.artifactType==="ARCHITECTURE"||_.artifactType==="TECHNICAL_SPEC");return l.jsxs("div",{className:"flex h-full gap-4 overflow-hidden",children:[l.jsxs("div",{className:"w-64 flex-shrink-0 glass-dark border border-white/10 rounded-lg flex flex-col overflow-hidden h-full",children:[l.jsx("div",{className:"flex-shrink-0 p-3 border-b border-white/10",children:l.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[l.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-blue-500 p-1.5 rounded-lg",children:l.jsx(Vu,{size:16,className:"text-white"})}),l.jsx("h3",{className:"text-sm font-bold text-white",children:"AI Capabilities"})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-1 min-h-0",style:{overscrollBehavior:"contain"},children:k.map(_=>l.jsx("button",{onClick:()=>re(_),className:`w-full text-left px-3 py-2 rounded-lg text-xs transition-all ${h===_.id?"bg-gradient-to-r from-purple-600/30 to-blue-600/30 text-white border border-purple-400/50":"hover:bg-white/5 text-purple-200/80 hover:text-purple-200 border border-transparent hover:border-purple-500/30"}`,children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:`bg-gradient-to-br ${_.color} p-1 rounded`,children:_.icon}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-semibold truncate",children:_.title}),l.jsx("div",{className:"text-xs opacity-70 truncate",children:_.description})]})]})},_.id))}),e&&l.jsxs("div",{className:"flex-shrink-0 border-t border-white/10 overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"p-2 border-b border-white/10 flex items-center justify-between",children:[l.jsx("div",{className:"text-xs font-semibold text-purple-200",children:"Artifacts"}),u.length>0&&l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("button",{onClick:T,className:"text-[10px] text-purple-300/70 hover:text-purple-200 px-1.5 py-0.5 rounded",title:"Select All",children:"All"}),l.jsx("span",{className:"text-purple-300/50",children:"|"}),l.jsx("button",{onClick:K,className:"text-[10px] text-purple-300/70 hover:text-purple-200 px-1.5 py-0.5 rounded",title:"Deselect All",children:"None"})]})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1 min-h-0",children:p?l.jsxs("div",{className:"flex items-center space-x-2 text-xs text-purple-300/70",children:[l.jsx(Ea,{size:12,className:"animate-spin"}),l.jsx("span",{children:"Loading..."})]}):u.length===0?l.jsx("div",{className:"text-xs text-purple-300/60 italic",children:"No artifacts"}):l.jsxs(l.Fragment,{children:[ne.length>0&&l.jsxs("div",{className:"mb-2",children:[l.jsxs("div",{className:"text-[10px] font-semibold text-purple-300/80 mb-1 flex items-center space-x-1",children:[l.jsx(Lf,{size:10}),l.jsxs("span",{children:["Business (",ne.length,")"]})]}),ne.map(_=>l.jsxs("label",{className:"flex items-center space-x-2 px-2 py-1 rounded hover:bg-white/5 cursor-pointer group",children:[l.jsx("input",{type:"checkbox",checked:m.has(_.id),onChange:()=>q(_.id),className:"w-3 h-3 rounded border-purple-400/50 bg-purple-900/30 text-purple-500 focus:ring-purple-500 focus:ring-offset-0"}),l.jsx("span",{className:"text-[10px] text-purple-200/80 group-hover:text-purple-200 truncate flex-1",title:_.fileName,children:_.fileName})]},_.id))]}),ae.length>0&&l.jsxs("div",{children:[l.jsxs("div",{className:"text-[10px] font-semibold text-purple-300/80 mb-1 flex items-center space-x-1",children:[l.jsx(gd,{size:10}),l.jsxs("span",{children:["Technology (",ae.length,")"]})]}),ae.map(_=>l.jsxs("label",{className:"flex items-center space-x-2 px-2 py-1 rounded hover:bg-white/5 cursor-pointer group",children:[l.jsx("input",{type:"checkbox",checked:m.has(_.id),onChange:()=>q(_.id),className:"w-3 h-3 rounded border-purple-400/50 bg-purple-900/30 text-purple-500 focus:ring-purple-500 focus:ring-offset-0"}),l.jsx("span",{className:"text-[10px] text-purple-200/80 group-hover:text-purple-200 truncate flex-1",title:_.fileName,children:_.fileName})]},_.id))]})]})}),u.length>0&&l.jsxs("div",{className:"p-2 border-t border-white/10 text-[10px] text-purple-300/70",children:[m.size," of ",u.length," selected"]})]}),!e&&l.jsx("div",{className:"flex-shrink-0 p-3 border-t border-white/10",children:l.jsxs("div",{className:"flex items-center space-x-2 text-xs text-yellow-300/80",children:[l.jsx(E6,{size:12}),l.jsx("span",{children:"Select a project to enable artifact context"})]})})]}),l.jsxs("div",{className:"flex-1 flex flex-col min-w-0 glass-dark border border-white/10 rounded-lg overflow-hidden",children:[l.jsxs("div",{className:"flex-shrink-0 flex items-center justify-between p-3 border-b border-white/10",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-blue-500 p-1.5 rounded-lg",children:l.jsx(ZE,{size:16,className:"text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-bold text-white",children:"AI Chat"}),e&&l.jsx("p",{className:"text-xs text-purple-200/70",children:e.name})]})]}),t.length>0&&l.jsxs("button",{onClick:le,className:"flex items-center space-x-1 glass hover:bg-white/10 text-purple-200 px-2 py-1 rounded text-xs transition-all border border-purple-500/30 hover:border-purple-400/50",children:[l.jsx(qr,{size:12}),l.jsx("span",{children:"Clear"})]})]}),l.jsxs("div",{ref:R,className:"flex-1 overflow-y-auto p-4 space-y-3 min-h-0",style:{overscrollBehavior:"contain",isolation:"isolate"},children:[t.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-8",children:[l.jsx("div",{className:"bg-gradient-to-br from-purple-500/20 to-blue-500/20 p-4 rounded-full mb-4",children:l.jsx(Vu,{size:32,className:"text-purple-300"})}),l.jsx("h3",{className:"text-sm font-semibold text-white mb-1",children:"How can I help you?"}),l.jsx("p",{className:"text-xs text-purple-200/70 mb-6 text-center max-w-sm",children:"Select a capability from the sidebar or start typing your question."}),l.jsx("div",{className:"w-full max-w-md space-y-1.5",children:k.slice(0,3).map((_,O)=>l.jsx("button",{onClick:()=>Y(_.prompt),className:"w-full glass border border-white/10 hover:border-purple-500/30 rounded-lg p-2 text-left transition-all hover:scale-[1.01] group text-xs",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:`bg-gradient-to-br ${_.color} p-1 rounded`,children:_.icon}),l.jsx("span",{className:"text-purple-200/80 group-hover:text-purple-200 line-clamp-1",children:_.prompt})]})},O))})]}):l.jsxs(l.Fragment,{children:[t.map((_,O)=>l.jsx("div",{className:`flex ${_.role==="user"?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`flex items-start space-x-2 max-w-[85%] ${_.role==="user"?"flex-row-reverse space-x-reverse":""}`,children:[l.jsx("div",{className:`flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center ${_.role==="user"?"bg-gradient-to-br from-purple-500 to-blue-500":"bg-gradient-to-br from-purple-600/30 to-blue-600/30 border border-purple-400/50"}`,children:_.role==="user"?l.jsx("span",{className:"text-white text-[10px] font-semibold",children:"U"}):l.jsx(Vu,{size:12,className:"text-purple-200"})}),l.jsxs("div",{className:`rounded-lg px-3 py-2 ${_.role==="user"?"bg-gradient-to-r from-purple-600/30 to-blue-600/30 text-white border border-purple-400/50":"glass text-purple-200 border border-white/20"}`,children:[_.role==="assistant"?l.jsx("div",{className:"text-xs break-words prose prose-invert prose-sm max-w-none",children:l.jsx(Jk,{components:{p:({children:G})=>l.jsx("p",{className:"mb-1.5 last:mb-0 text-xs",children:G}),ul:({children:G})=>l.jsx("ul",{className:"list-disc list-inside mb-1.5 space-y-0.5 text-xs",children:G}),ol:({children:G})=>l.jsx("ol",{className:"list-decimal list-inside mb-1.5 space-y-0.5 text-xs",children:G}),li:({children:G})=>l.jsx("li",{className:"ml-1 text-xs",children:G}),strong:({children:G})=>l.jsx("strong",{className:"font-semibold text-purple-100 text-xs",children:G}),em:({children:G})=>l.jsx("em",{className:"italic text-xs",children:G}),code:({children:G,className:oe,...Ae})=>!oe||!oe.includes("language-")?l.jsx("code",{className:"bg-purple-900/50 px-1 py-0.5 rounded text-[10px] font-mono",...Ae,children:G}):l.jsx("code",{className:"block bg-purple-900/50 p-2 rounded text-[10px] font-mono overflow-x-auto",...Ae,children:G}),pre:({children:G})=>l.jsx("pre",{className:"bg-purple-900/50 p-2 rounded text-[10px] font-mono overflow-x-auto mb-1.5",children:G}),h1:({children:G})=>l.jsx("h1",{className:"text-sm font-bold mb-1.5 mt-2 first:mt-0",children:G}),h2:({children:G})=>l.jsx("h2",{className:"text-xs font-bold mb-1 mt-2 first:mt-0",children:G}),h3:({children:G})=>l.jsx("h3",{className:"text-xs font-semibold mb-0.5 mt-1.5 first:mt-0",children:G}),blockquote:({children:G})=>l.jsx("blockquote",{className:"border-l-2 border-purple-400 pl-2 italic my-1.5 text-xs",children:G}),a:({href:G,children:oe})=>l.jsx("a",{href:G,className:"text-blue-300 hover:text-blue-200 underline text-xs",target:"_blank",rel:"noopener noreferrer",children:oe})},children:_.content})}):l.jsx("div",{className:"text-xs whitespace-pre-wrap break-words",children:_.content}),l.jsx("div",{className:`text-[10px] mt-1 opacity-60 ${_.role==="user"?"text-right":"text-left"}`,children:_.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},O)),o&&A&&l.jsx("div",{className:"flex justify-start",children:l.jsxs("div",{className:"flex items-start space-x-2 max-w-[85%]",children:[l.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-gradient-to-br from-purple-600/30 to-blue-600/30 border border-purple-400/50 flex items-center justify-center",children:l.jsx(Vu,{size:12,className:"text-purple-200"})}),l.jsxs("div",{className:"glass border border-white/20 rounded-lg px-3 py-2",children:[l.jsx("div",{className:"text-xs break-words prose prose-invert prose-sm max-w-none",children:l.jsx(Jk,{components:{p:({children:_})=>l.jsx("p",{className:"mb-1.5 last:mb-0 text-xs",children:_}),ul:({children:_})=>l.jsx("ul",{className:"list-disc list-inside mb-1.5 space-y-0.5 text-xs",children:_}),ol:({children:_})=>l.jsx("ol",{className:"list-decimal list-inside mb-1.5 space-y-0.5 text-xs",children:_}),li:({children:_})=>l.jsx("li",{className:"ml-1 text-xs",children:_}),strong:({children:_})=>l.jsx("strong",{className:"font-semibold text-purple-100 text-xs",children:_}),em:({children:_})=>l.jsx("em",{className:"italic text-xs",children:_}),code:({children:_,className:O,...G})=>!O||!O.includes("language-")?l.jsx("code",{className:"bg-purple-900/50 px-1 py-0.5 rounded text-[10px] font-mono",...G,children:_}):l.jsx("code",{className:"block bg-purple-900/50 p-2 rounded text-[10px] font-mono overflow-x-auto",...G,children:_}),pre:({children:_})=>l.jsx("pre",{className:"bg-purple-900/50 p-2 rounded text-[10px] font-mono overflow-x-auto mb-1.5",children:_}),h1:({children:_})=>l.jsx("h1",{className:"text-sm font-bold mb-1.5 mt-2 first:mt-0",children:_}),h2:({children:_})=>l.jsx("h2",{className:"text-xs font-bold mb-1 mt-2 first:mt-0",children:_}),h3:({children:_})=>l.jsx("h3",{className:"text-xs font-semibold mb-0.5 mt-1.5 first:mt-0",children:_}),blockquote:({children:_})=>l.jsx("blockquote",{className:"border-l-2 border-purple-400 pl-2 italic my-1.5 text-xs",children:_}),a:({href:_,children:O})=>l.jsx("a",{href:_,className:"text-blue-300 hover:text-blue-200 underline text-xs",target:"_blank",rel:"noopener noreferrer",children:O})},children:A})}),l.jsx("span",{className:"inline-block w-2 h-3 bg-purple-400 ml-1 animate-pulse",children:"|"})]})]})}),o&&!A&&l.jsx("div",{className:"flex justify-start",children:l.jsxs("div",{className:"flex items-start space-x-2 max-w-[85%]",children:[l.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-gradient-to-br from-purple-600/30 to-blue-600/30 border border-purple-400/50 flex items-center justify-center",children:l.jsx(Vu,{size:12,className:"text-purple-200"})}),l.jsx("div",{className:"glass border border-white/20 rounded-lg px-3 py-2",children:l.jsxs("div",{className:"flex space-x-1",children:[l.jsx("div",{className:"w-1.5 h-1.5 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),l.jsx("div",{className:"w-1.5 h-1.5 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),l.jsx("div",{className:"w-1.5 h-1.5 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]})})]}),l.jsx("div",{ref:I})]}),l.jsxs("div",{className:"flex-shrink-0 p-3 border-t border-white/10 bg-glass-dark",children:[l.jsxs("div",{className:"flex items-end space-x-2",children:[l.jsx("div",{className:"flex-1 relative",children:l.jsx("textarea",{ref:F,value:n,onChange:_=>i(_.target.value),onKeyDown:fe,placeholder:e?`Ask about ${e.name}...`:"Ask me anything about architecture...",className:"w-full px-3 py-2 glass border border-white/20 rounded-lg focus:ring-1 focus:ring-purple-500 focus:border-purple-500/50 text-white placeholder-purple-300/50 transition-all resize-none outline-none text-xs max-h-[120px] overflow-y-auto",rows:1,disabled:s})}),l.jsx("button",{onClick:v,disabled:s||!n.trim()||w,className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white px-4 py-2 rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed font-semibold shadow-lg hover:shadow-purple-500/50 flex items-center justify-center flex-shrink-0",children:s||w?l.jsx(Ea,{size:14,className:"animate-spin"}):l.jsx(qO,{size:14})})]}),l.jsxs("div",{className:"flex items-center justify-between mt-1.5 text-[10px] text-purple-300/60",children:[l.jsx("span",{children:"Enter to send, Shift+Enter for new line"}),e&&u.length>0&&l.jsxs("span",{className:"flex items-center space-x-1",children:[l.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${m.size>0?"bg-green-400":"bg-yellow-400"}`}),l.jsxs("span",{children:[m.size," of ",u.length," artifact",u.length!==1?"s":""," selected"]})]})]})]})]})]})};class vne{analyzeDependencies(t,r,n){const i=r.find(h=>h.id===t);if(!i)throw new Error(`System ${t} not found`);const s=n.filter(h=>h.sourceId===t).map(h=>{const f=r.find(u=>u.id===h.targetId);return{systemId:h.targetId,systemName:(f==null?void 0:f.name)||"Unknown",relationshipType:h.type,impactType:this.calculateImpactType(h.type,f==null?void 0:f.metadata.risk),description:h.description||`Dependency on ${f==null?void 0:f.name}`,mitigation:this.getMitigationStrategies(h.type)}}),a=this.findTransitiveDependencies(t,n,r),o=this.findAffectedSystems(t,n,r),c=this.calculateImpactScore(s,a,o),A=this.determineRiskLevel(c,o),d=this.generateDependencyRecommendations(s,a,o,A);return{id:`dep-${t}-${Date.now()}`,projectId:"",systemId:t,systemName:i.name,analysisDate:new Date,directDependencies:s,transitiveDependencies:a,affectedSystems:o,impactScore:c,riskLevel:A,recommendations:d}}analyzeGaps(t,r,n,i){const s=[],a=new Set(t.map(d=>d.id));new Set(r.map(d=>d.id)),r.forEach(d=>{a.has(d.id)||s.push({id:`gap-${d.id}`,category:this.determineGapCategory(d),description:`Missing ${d.type}: ${d.name}`,severity:this.calculateGapSeverity(d),affectedLayers:[d.layer],estimatedEffort:this.estimateEffort(d),priority:this.calculatePriority(d),dependencies:[]})});const o=new Set(n.filter(d=>d.type==="INTEGRATES_WITH"||d.type==="DEPENDS_ON").map(d=>`${d.sourceId}-${d.targetId}`));i.filter(d=>d.type==="INTEGRATES_WITH"||d.type==="DEPENDS_ON").forEach(d=>{const h=`${d.sourceId}-${d.targetId}`;if(!o.has(h)){const f=r.find(g=>g.id===d.sourceId),u=r.find(g=>g.id===d.targetId);s.push({id:`gap-int-${d.id}`,category:"MISSING_INTEGRATION",description:`Missing integration: ${f==null?void 0:f.name} â†’ ${u==null?void 0:u.name}`,severity:"MEDIUM",affectedLayers:f?[f.layer]:[],estimatedEffort:5,priority:7,dependencies:[]})}});const c=this.calculateGapSummary(s),A=s.map(d=>({gapId:d.id,recommendation:this.generateGapRecommendation(d),priority:d.priority,estimatedEffort:d.estimatedEffort,dependencies:d.dependencies}));return{id:`gap-${Date.now()}`,projectId:"",asIsArchitectureId:"",toBeArchitectureId:"",analysisDate:new Date,gaps:s,summary:c,recommendations:A}}generatePortfolioDashboard(t,r){const n=this.calculatePortfolioHealth(t),i=this.calculatePortfolioMaturity(t),s=this.calculateTechnicalDebt(t),a={totalSystems:t.filter(o=>o.layer==="APPLICATION").length,totalIntegrations:r.filter(o=>o.type==="INTEGRATES_WITH").length,totalDataEntities:t.filter(o=>o.layer==="DATA").length,totalTechnologies:t.filter(o=>o.layer==="TECHNOLOGY").length,activeProjects:0,completedProjects:0};return{id:`dashboard-${Date.now()}`,dashboardDate:new Date,health:n,maturity:i,technicalDebt:s,summary:a}}calculateRiskScoring(t,r){const n=[];t.forEach(c=>{(c.metadata.risk==="HIGH"||c.metadata.risk==="CRITICAL")&&n.push({id:`risk-${c.id}`,category:"TECHNICAL",title:`High Risk: ${c.name}`,description:`Element ${c.name} has ${c.metadata.risk} risk level`,probability:this.riskToProbability(c.metadata.risk),impact:this.riskToImpact(c.metadata.risk),riskScore:this.riskToProbability(c.metadata.risk)*this.riskToImpact(c.metadata.risk)/100,mitigation:this.getRiskMitigation(c),status:"OPEN"}),(c.metadata.lifecycleStage==="DEPRECATED"||c.metadata.lifecycleStage==="DECOMMISSIONED")&&n.push({id:`risk-lifecycle-${c.id}`,category:"OPERATIONAL",title:`Deprecated System: ${c.name}`,description:`System ${c.name} is ${c.metadata.lifecycleStage}`,probability:70,impact:60,riskScore:42,mitigation:["Plan migration","Identify replacement","Document dependencies"],status:"OPEN"})});const i=n.length>0?n.reduce((c,A)=>c+A.riskScore,0)/n.length:0,s=i>=70?"CRITICAL":i>=50?"HIGH":i>=30?"MEDIUM":"LOW",a=this.generateRiskHeatmap(n),o=[{date:new Date,riskScore:i,riskCount:n.length,criticalRisks:n.filter(c=>c.riskScore>=70).length}];return{id:`risk-${Date.now()}`,analysisDate:new Date,overallRiskScore:i,riskLevel:s,risks:n,heatmap:a,trends:o}}estimateCosts(t,r){const n={infrastructure:{cloud:0,onPremise:0,hybrid:0,total:0},software:{licenses:0,subscriptions:0,customDevelopment:0,total:0},services:{consulting:0,implementation:0,support:0,training:0,total:0},operations:{maintenance:0,monitoring:0,backup:0,disasterRecovery:0,total:0},byLayer:{business:0,application:0,data:0,technology:0,solution:0},bySystem:[]};t.forEach(s=>{const a=s.metadata.cost||0;switch(s.layer){case"BUSINESS":n.byLayer.business+=a;break;case"APPLICATION":n.byLayer.application+=a,n.software.customDevelopment+=a*.6,n.services.implementation+=a*.3,n.operations.maintenance+=a*.1;break;case"DATA":n.byLayer.data+=a,n.infrastructure.cloud+=a*.4,n.software.licenses+=a*.3,n.operations.backup+=a*.3;break;case"TECHNOLOGY":n.byLayer.technology+=a,n.infrastructure.onPremise+=a*.5,n.infrastructure.cloud+=a*.3,n.infrastructure.hybrid+=a*.2;break;case"SOLUTION":n.byLayer.solution+=a;break}n.bySystem.push({systemId:s.id,systemName:s.name,cost:a,category:s.type})}),n.infrastructure.total=n.infrastructure.cloud+n.infrastructure.onPremise+n.infrastructure.hybrid,n.software.total=n.software.licenses+n.software.subscriptions+n.software.customDevelopment,n.services.total=n.services.consulting+n.services.implementation+n.services.support+n.services.training,n.operations.total=n.operations.maintenance+n.operations.monitoring+n.operations.backup+n.operations.disasterRecovery;const i=n.infrastructure.total+n.software.total+n.services.total+n.operations.total;return{id:`cost-${Date.now()}`,architectureId:"",estimationDate:new Date,totalCost:i,costBreakdown:n,assumptions:["Costs are annual estimates","Based on current architecture state","Does not include one-time setup costs"],confidence:"MEDIUM"}}calculateKPIs(t,r){const n=this.calculateReuseRate(t),i=this.calculateIntegrationMetrics(r),s=this.calculateSLACompliance(t);return{id:`kpi-${Date.now()}`,reportDate:new Date,reuseRate:n,integrationCount:i,slaCompliance:s,otherKPIs:{totalComponents:t.length,averageComplexity:this.calculateAverageComplexity(t),documentationCoverage:this.calculateDocumentationCoverage(t)}}}findTransitiveDependencies(t,r,n){const i=new Set,s=[],a=(o,c)=>{c>3||i.has(o)||(i.add(o),r.filter(A=>A.sourceId===o).forEach(A=>{const d=n.find(h=>h.id===A.targetId);d&&!i.has(A.targetId)&&(s.push({systemId:A.targetId,systemName:d.name,relationshipType:A.type,impactType:c===1?"MODERATE":"MINOR",description:`Transitive dependency (depth ${c}): ${d.name}`,mitigation:[]}),a(A.targetId,c+1))}))};return r.filter(o=>o.sourceId===t).forEach(o=>a(o.targetId,1)),s}findAffectedSystems(t,r,n){const i=[];return r.filter(a=>a.targetId===t).forEach(a=>{const o=n.find(c=>c.id===a.sourceId);o&&i.push({systemId:o.id,systemName:o.name,layer:o.layer,impactSeverity:this.calculateImpactSeverity(a.type,o),affectedComponents:[o.type],estimatedDowntime:this.estimateDowntime(o)})}),i}calculateImpactScore(t,r,n){let i=0;return t.forEach(s=>{i+=s.impactType==="BREAKING"?30:s.impactType==="MODERATE"?15:s.impactType==="MINOR"?5:0}),r.forEach(s=>{i+=s.impactType==="MODERATE"?5:s.impactType==="MINOR"?2:0}),n.forEach(s=>{i+=s.impactSeverity==="CRITICAL"?20:s.impactSeverity==="HIGH"?10:s.impactSeverity==="MEDIUM"?5:0}),Math.min(100,i)}determineRiskLevel(t,r){return t>=70||r.some(n=>n.impactSeverity==="CRITICAL")?"CRITICAL":t>=50||r.some(n=>n.impactSeverity==="HIGH")?"HIGH":t>=30?"MEDIUM":"LOW"}calculateImpactType(t,r){return t==="DEPENDS_ON"&&r==="CRITICAL"?"BREAKING":t==="INTEGRATES_WITH"&&r==="HIGH"||t==="CONSUMES"||t==="PROVIDES"?"MODERATE":"MINOR"}getMitigationStrategies(t){return{DEPENDS_ON:["Implement circuit breaker","Add fallback mechanisms","Monitor dependency health"],INTEGRATES_WITH:["Version APIs","Implement retry logic","Add integration tests"],CONSUMES:["Cache responses","Implement rate limiting","Monitor consumption"],PROVIDES:["Document API contracts","Version services","Monitor usage"]}[t]||["Review dependency","Document relationship"]}generateDependencyRecommendations(t,r,n,i){const s=[];return(i==="CRITICAL"||i==="HIGH")&&(s.push("Implement comprehensive testing before deployment"),s.push("Create rollback plan"),s.push("Notify all affected stakeholders")),t.length>10&&(s.push("Consider reducing direct dependencies"),s.push("Evaluate dependency consolidation opportunities")),r.length>20&&(s.push("Review transitive dependency chain"),s.push("Consider breaking circular dependencies")),n.length>5&&(s.push("Coordinate change with all affected systems"),s.push("Plan phased rollout")),s}determineGapCategory(t){return t.layer==="APPLICATION"?"MISSING_COMPONENT":t.layer==="TECHNOLOGY"?"TECHNOLOGY_GAP":t.layer==="DATA"?"DATA_GAP":t.layer==="BUSINESS"?"MISSING_CAPABILITY":"MISSING_COMPONENT"}calculateGapSeverity(t){return t.metadata.risk==="CRITICAL"?"CRITICAL":t.metadata.risk==="HIGH"?"HIGH":t.layer==="APPLICATION"||t.layer==="DATA"?"MEDIUM":"LOW"}estimateEffort(t){return{BUSINESS:10,APPLICATION:20,DATA:15,TECHNOLOGY:25,SOLUTION:30}[t.layer]||15}calculatePriority(t){let r=5;return t.metadata.risk==="CRITICAL"&&(r+=3),t.metadata.risk==="HIGH"&&(r+=2),t.layer==="APPLICATION"&&(r+=1),Math.min(10,r)}calculateGapSummary(t){return{totalGaps:t.length,criticalGaps:t.filter(r=>r.severity==="CRITICAL").length,highGaps:t.filter(r=>r.severity==="HIGH").length,mediumGaps:t.filter(r=>r.severity==="MEDIUM").length,lowGaps:t.filter(r=>r.severity==="LOW").length,estimatedTotalEffort:t.reduce((r,n)=>r+n.estimatedEffort,0),estimatedCost:t.reduce((r,n)=>r+n.estimatedEffort*1e3,0),estimatedTimeline:Math.ceil(t.reduce((r,n)=>r+n.estimatedEffort,0)/20)}}generateGapRecommendation(t){return`Address ${t.category.toLowerCase().replace("_"," ")}: ${t.description}`}calculatePortfolioHealth(t){const r=t.filter(o=>o.layer==="APPLICATION"),n=r.filter(o=>o.metadata.risk==="LOW"||!o.metadata.risk).length,i=r.filter(o=>o.metadata.risk==="MEDIUM").length,s=r.filter(o=>o.metadata.risk==="HIGH"||o.metadata.risk==="CRITICAL").length,a=r.length>0?(n*100+i*60+s*20)/r.length:100;return{overallScore:a,status:a>=80?"HEALTHY":a>=60?"WARNING":"CRITICAL",metrics:{availability:95,performance:85,security:90,compliance:88,maintainability:75},systemsByHealth:{healthy:n,warning:i,critical:s}}}calculatePortfolioMaturity(t){return{overallLevel:68>=80?"OPTIMIZING":68>=60?"MANAGED":68>=40?"DEFINED":68>=20?"DEVELOPING":"INITIAL",levelScore:68,dimensions:{processMaturity:70,technologyMaturity:65,dataMaturity:60,integrationMaturity:75,governanceMaturity:70},roadmap:[]}}calculateTechnicalDebt(t){const r=t.length*5;return{totalDebt:r,debtByCategory:{codeQuality:r*.3,architecture:r*.25,documentation:r*.2,testing:r*.15,security:r*.05,performance:r*.05},debtBySystem:t.map(n=>({systemId:n.id,systemName:n.name,debt:5,category:n.type})),priorityDebt:[]}}riskToProbability(t){if(!t)return 20;switch(t){case"CRITICAL":return 90;case"HIGH":return 70;case"MEDIUM":return 50;case"LOW":return 30;default:return 20}}riskToImpact(t){if(!t)return 30;switch(t){case"CRITICAL":return 100;case"HIGH":return 80;case"MEDIUM":return 60;case"LOW":return 40;default:return 30}}getRiskMitigation(t){return["Review architecture","Implement monitoring","Create contingency plan","Document dependencies"]}generateRiskHeatmap(t){const r=[];for(let n=0;n<=100;n+=20)for(let i=0;i<=100;i+=20){const s=t.filter(o=>o.impact>=n&&o.impact<n+20&&o.probability>=i&&o.probability<i+20);let a="#22c55e";n>=60&&i>=60?a="#ef4444":(n>=40||i>=40)&&(a="#f59e0b"),r.push({x:n+10,y:i+10,riskCount:s.length,riskIds:s.map(o=>o.id),color:a})}return{dimensions:{x:"Impact",y:"Probability"},cells:r}}calculateImpactSeverity(t,r){return r.metadata.risk==="CRITICAL"?"CRITICAL":r.metadata.risk==="HIGH"?"HIGH":t==="DEPENDS_ON"?"MEDIUM":"LOW"}estimateDowntime(t){return t.metadata.risk==="CRITICAL"?24:t.metadata.risk==="HIGH"?12:t.metadata.risk==="MEDIUM"?6:2}calculateReuseRate(t){const r=t.length,n=t.filter(s=>{var a;return(a=s.tags)==null?void 0:a.includes("reusable")}).length,i=r>0?n/r*100:0;return{overallRate:i,byType:{components:i*.4,patterns:i*.3,services:i*.2,dataModels:i*.1},topReused:[],trends:[]}}calculateIntegrationMetrics(t){const r=t.filter(n=>n.type==="INTEGRATES_WITH");return{totalIntegrations:r.length,byType:{api:r.length*.6,messageQueue:r.length*.2,database:r.length*.1,file:r.length*.05,webhook:r.length*.05},byStatus:{active:r.length*.8,inactive:r.length*.15,deprecated:r.length*.05},integrationHealth:{healthy:r.length*.7,warning:r.length*.2,critical:r.length*.1},trends:[]}}calculateSLACompliance(t){return{overallCompliance:95,bySLA:[],bySystem:t.map(r=>({systemId:r.id,systemName:r.name,compliance:95,breaches:0})),trends:[]}}calculateAverageComplexity(t){return t.length>0?50:0}calculateDocumentationCoverage(t){const r=t.filter(n=>n.description&&n.description.length>50).length;return t.length>0?r/t.length*100:0}}const xne=({project:e})=>{const[t,r]=Se.useState("portfolio"),[n,i]=Se.useState(!1),[s,a]=Se.useState(null),[o,c]=Se.useState(null),[A,d]=Se.useState(null),[h,f]=Se.useState(null),[u,g]=Se.useState(null),[m,x]=Se.useState(null),[p,y]=Se.useState(null),w=Se.useMemo(()=>new vne,[]),b=Se.useMemo(()=>[{id:"sys1",layer:"APPLICATION",name:"Core Banking System",description:"Main banking application",type:"System",metadata:{risk:"MEDIUM",cost:5e5,lifecycleStage:"PRODUCTION"},relationships:[],createdAt:new Date,updatedAt:new Date,version:"1.0",tags:["reusable"],state:"AS_IS"},{id:"sys2",layer:"APPLICATION",name:"Mobile Banking App",description:"Mobile application",type:"System",metadata:{risk:"LOW",cost:3e5,lifecycleStage:"PRODUCTION"},relationships:[],createdAt:new Date,updatedAt:new Date,version:"2.0",tags:[],state:"AS_IS"}],[]),I=Se.useMemo(()=>[{id:"rel1",sourceId:"sys2",targetId:"sys1",type:"DEPENDS_ON",description:"Mobile app depends on core banking"}],[]);Se.useEffect(()=>{e&&F()},[e]);const F=async()=>{i(!0);try{const T=w.generatePortfolioDashboard(b,I);d(T);const K=w.calculateRiskScoring(b,I);f(K);const v=w.estimateCosts(b,I);g(v);const re=w.calculateKPIs(b,I);x(re)}catch(T){console.error("Error loading analyses:",T)}finally{i(!1)}},R=T=>{try{const K=w.analyzeDependencies(T,b,I);a(K),r("dependency")}catch(K){console.error("Error analyzing dependencies:",K)}},Q=()=>{try{const T=b.filter(re=>re.state==="AS_IS"),K=b.filter(re=>re.state==="TO_BE"),v=w.analyzeGaps(T,K,I,I);c(v),r("gap")}catch(T){console.error("Error analyzing gaps:",T)}},k=T=>T>=80?"text-green-500":T>=60?"text-yellow-500":"text-red-500",$=T=>T>=80?"bg-green-500":T>=60?"bg-yellow-500":"bg-red-500",q=T=>{switch(T){case"CRITICAL":return"text-red-600 bg-red-100";case"HIGH":return"text-orange-600 bg-orange-100";case"MEDIUM":return"text-yellow-600 bg-yellow-100";case"LOW":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}};return n&&!A?l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Zx,{className:"animate-spin mx-auto text-purple-500 mb-4",size:32}),l.jsx("p",{className:"text-gray-600",children:"Loading analysis data..."})]})}):l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 border border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-gray-800 flex items-center space-x-2",children:[l.jsx(fp,{className:"text-purple-600",size:28}),l.jsx("span",{children:"Analysis & Reporting"})]}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive architecture analysis and insights"})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("button",{onClick:F,className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[l.jsx(Zx,{size:16}),l.jsx("span",{children:"Refresh"})]}),l.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[l.jsx(Ya,{size:16}),l.jsx("span",{children:"Export"})]})]})]})}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200",children:[l.jsx("div",{className:"flex border-b border-gray-200 overflow-x-auto",children:[{id:"portfolio",label:"Portfolio Dashboard",icon:KO},{id:"dependency",label:"Dependency Analysis",icon:Yd},{id:"gap",label:"Gap Analysis",icon:T6},{id:"risk",label:"Risk Scoring",icon:S6},{id:"cost",label:"Cost Estimation",icon:N6},{id:"kpis",label:"Architecture KPIs",icon:C6}].map(T=>{const K=T.icon;return l.jsxs("button",{onClick:()=>r(T.id),className:`flex items-center space-x-2 px-6 py-4 font-semibold transition-colors border-b-2 ${t===T.id?"border-purple-600 text-purple-600 bg-purple-50":"border-transparent text-gray-600 hover:text-purple-600 hover:bg-gray-50"}`,children:[l.jsx(K,{size:18}),l.jsx("span",{children:T.label})]},T.id)})}),l.jsxs("div",{className:"p-6",children:[t==="portfolio"&&A&&l.jsx(Bne,{dashboard:A,getHealthColor:k,getHealthBgColor:$}),t==="dependency"&&l.jsx(Cne,{analysis:s,elements:b,onAnalyze:R,selectedSystemId:p,setSelectedSystemId:y}),t==="gap"&&l.jsx(Ene,{analysis:o,onAnalyze:Q}),t==="risk"&&h&&l.jsx(Sne,{riskScoring:h,getRiskColor:q}),t==="cost"&&u&&l.jsx(_ne,{costEstimation:u}),t==="kpis"&&m&&l.jsx(Nne,{kpis:m})]})]})]})},Bne=({dashboard:e,getHealthColor:t,getHealthBgColor:r})=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-6 border border-green-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-semibold text-green-800",children:"Overall Health"}),l.jsx(e2,{className:"text-green-600",size:24})]}),l.jsxs("div",{className:"flex items-baseline space-x-2",children:[l.jsx("span",{className:`text-3xl font-bold ${t(e.health.overallScore)}`,children:e.health.overallScore.toFixed(0)}),l.jsx("span",{className:"text-sm text-gray-600",children:"/ 100"})]}),l.jsx("div",{className:"mt-2",children:l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full ${r(e.health.overallScore)}`,style:{width:`${e.health.overallScore}%`}})})}),l.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:["Status: ",e.health.status]})]}),l.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 border border-blue-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-semibold text-blue-800",children:"Maturity Level"}),l.jsx(Op,{className:"text-blue-600",size:24})]}),l.jsx("div",{className:"text-2xl font-bold text-blue-700",children:e.maturity.overallLevel}),l.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:["Score: ",e.maturity.levelScore.toFixed(0),"/100"]})]}),l.jsxs("div",{className:"bg-orange-50 rounded-lg p-6 border border-orange-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-semibold text-orange-800",children:"Technical Debt"}),l.jsx(S6,{className:"text-orange-600",size:24})]}),l.jsx("div",{className:"text-2xl font-bold text-orange-700",children:e.technicalDebt.totalDebt.toFixed(0)}),l.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"person-days"})]})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(e.health.metrics).map(([n,i])=>l.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[l.jsx("div",{className:"text-sm text-gray-600 capitalize mb-1",children:n}),l.jsx("div",{className:"text-2xl font-bold text-gray-800",children:i}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mt-2",children:l.jsx("div",{className:"bg-purple-600 h-1.5 rounded-full",style:{width:`${i}%`}})})]},n))}),l.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Systems by Health Status"}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-green-700",children:e.health.systemsByHealth.healthy}),l.jsx("div",{className:"text-sm text-gray-600",children:"Healthy"})]}),l.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:e.health.systemsByHealth.warning}),l.jsx("div",{className:"text-sm text-gray-600",children:"Warning"})]}),l.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-red-700",children:e.health.systemsByHealth.critical}),l.jsx("div",{className:"text-sm text-gray-600",children:"Critical"})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Portfolio Summary"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Total Systems"}),l.jsx("div",{className:"text-2xl font-bold text-gray-800",children:e.summary.totalSystems})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Total Integrations"}),l.jsx("div",{className:"text-2xl font-bold text-gray-800",children:e.summary.totalIntegrations})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Data Entities"}),l.jsx("div",{className:"text-2xl font-bold text-gray-800",children:e.summary.totalDataEntities})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Technologies"}),l.jsx("div",{className:"text-2xl font-bold text-gray-800",children:e.summary.totalTechnologies})]})]})]})]}),Cne=({analysis:e,elements:t,onAnalyze:r,selectedSystemId:n,setSelectedSystemId:i})=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Select System for Analysis"}),l.jsx("div",{className:"space-y-2",children:t.map(s=>l.jsx("button",{onClick:()=>{i(s.id),r(s.id)},className:`w-full text-left p-4 rounded-lg border transition-colors ${n===s.id?"bg-purple-50 border-purple-300":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold text-gray-800",children:s.name}),l.jsxs("div",{className:"text-sm text-gray-600",children:[s.type," - ",s.layer]})]}),l.jsx(il,{className:"text-gray-400",size:20})]})},s.id))})]}),e&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-blue-50 rounded-lg p-6 border border-purple-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Impact Analysis"}),l.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${e.riskLevel==="CRITICAL"?"bg-red-100 text-red-700":e.riskLevel==="HIGH"?"bg-orange-100 text-orange-700":e.riskLevel==="MEDIUM"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:e.riskLevel})]}),l.jsxs("div",{className:"flex items-baseline space-x-2",children:[l.jsx("span",{className:"text-4xl font-bold text-gray-800",children:e.impactScore.toFixed(0)}),l.jsx("span",{className:"text-gray-600",children:"/ 100"})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mt-4",children:l.jsx("div",{className:"bg-purple-600 h-3 rounded-full",style:{width:`${e.impactScore}%`}})})]}),l.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:["Direct Dependencies (",e.directDependencies.length,")"]}),l.jsx("div",{className:"space-y-3",children:e.directDependencies.map((s,a)=>l.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"font-semibold text-gray-800",children:s.systemName}),l.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${s.impactType==="BREAKING"?"bg-red-100 text-red-700":s.impactType==="MODERATE"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:s.impactType})]}),l.jsx("div",{className:"text-sm text-gray-600 mb-2",children:s.description}),l.jsxs("div",{className:"text-xs text-gray-500",children:["Type: ",s.relationshipType]})]},a))})]}),l.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:["Affected Systems (",e.affectedSystems.length,")"]}),l.jsx("div",{className:"space-y-3",children:e.affectedSystems.map((s,a)=>l.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"font-semibold text-gray-800",children:s.systemName}),l.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${s.impactSeverity==="CRITICAL"?"bg-red-100 text-red-700":s.impactSeverity==="HIGH"?"bg-orange-100 text-orange-700":s.impactSeverity==="MEDIUM"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:s.impactSeverity})]}),l.jsxs("div",{className:"text-sm text-gray-600",children:["Layer: ",s.layer]}),s.estimatedDowntime&&l.jsxs("div",{className:"text-sm text-gray-600",children:["Estimated Downtime: ",s.estimatedDowntime," hours"]})]},a))})]}),l.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Recommendations"}),l.jsx("ul",{className:"space-y-2",children:e.recommendations.map((s,a)=>l.jsxs("li",{className:"flex items-start space-x-2",children:[l.jsx(il,{className:"text-purple-600 mt-1 flex-shrink-0",size:16}),l.jsx("span",{className:"text-gray-700",children:s})]},a))})]})]})]}),Ene=({analysis:e,onAnalyze:t})=>e?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Total Gaps"}),l.jsx("div",{className:"text-2xl font-bold text-gray-800",children:e.summary.totalGaps})]}),l.jsxs("div",{className:"bg-red-50 rounded-lg p-4 border border-red-200",children:[l.jsx("div",{className:"text-sm text-red-700",children:"Critical"}),l.jsx("div",{className:"text-2xl font-bold text-red-700",children:e.summary.criticalGaps})]}),l.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 border border-orange-200",children:[l.jsx("div",{className:"text-sm text-orange-700",children:"High"}),l.jsx("div",{className:"text-2xl font-bold text-orange-700",children:e.summary.highGaps})]}),l.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4 border border-yellow-200",children:[l.jsx("div",{className:"text-sm text-yellow-700",children:"Medium"}),l.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:e.summary.mediumGaps})]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Identified Gaps"}),l.jsx("div",{className:"space-y-3",children:e.gaps.map(r=>l.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"font-semibold text-gray-800",children:r.description}),l.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${r.severity==="CRITICAL"?"bg-red-100 text-red-700":r.severity==="HIGH"?"bg-orange-100 text-orange-700":r.severity==="MEDIUM"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:r.severity})]}),l.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Category: ",r.category.replace("_"," ")]}),l.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[l.jsxs("span",{children:["Effort: ",r.estimatedEffort," days"]}),l.jsxs("span",{children:["Priority: ",r.priority,"/10"]})]})]},r.id))})]})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx(T6,{className:"mx-auto text-gray-400 mb-4",size:48}),l.jsx("p",{className:"text-gray-600 mb-4",children:"No gap analysis available"}),l.jsx("button",{onClick:t,className:"px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Perform Gap Analysis"})]}),Sne=({riskScoring:e,getRiskColor:t})=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-orange-50 rounded-lg p-6 border border-red-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Overall Risk Score"}),l.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${t(e.riskLevel)}`,children:e.riskLevel})]}),l.jsxs("div",{className:"flex items-baseline space-x-2",children:[l.jsx("span",{className:"text-4xl font-bold text-gray-800",children:e.overallRiskScore.toFixed(1)}),l.jsx("span",{className:"text-gray-600",children:"/ 100"})]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:["Identified Risks (",e.risks.length,")"]}),l.jsx("div",{className:"space-y-3",children:e.risks.map(r=>l.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"font-semibold text-gray-800",children:r.title}),l.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium ${t(e.riskLevel)}`,children:["Score: ",r.riskScore.toFixed(1)]})]}),l.jsx("div",{className:"text-sm text-gray-600 mb-2",children:r.description}),l.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[l.jsxs("span",{children:["Category: ",r.category]}),l.jsxs("span",{children:["Probability: ",r.probability,"%"]}),l.jsxs("span",{children:["Impact: ",r.impact,"%"]})]})]},r.id))})]})]}),_ne=({costEstimation:e})=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-blue-50 rounded-lg p-6 border border-green-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Total Estimated Cost"}),l.jsx(N6,{className:"text-green-600",size:24})]}),l.jsxs("div",{className:"text-4xl font-bold text-gray-800",children:["$",(e.totalCost/1e3).toFixed(0),"K"]}),l.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Confidence: ",e.confidence]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[l.jsx("h4",{className:"font-semibold text-gray-800 mb-4",children:"Infrastructure"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Cloud"}),l.jsxs("span",{className:"font-semibold",children:["$",(e.costBreakdown.infrastructure.cloud/1e3).toFixed(0),"K"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"On-Premise"}),l.jsxs("span",{className:"font-semibold",children:["$",(e.costBreakdown.infrastructure.onPremise/1e3).toFixed(0),"K"]})]}),l.jsxs("div",{className:"flex justify-between border-t pt-2",children:[l.jsx("span",{className:"font-semibold",children:"Total"}),l.jsxs("span",{className:"font-bold",children:["$",(e.costBreakdown.infrastructure.total/1e3).toFixed(0),"K"]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[l.jsx("h4",{className:"font-semibold text-gray-800 mb-4",children:"Software"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Licenses"}),l.jsxs("span",{className:"font-semibold",children:["$",(e.costBreakdown.software.licenses/1e3).toFixed(0),"K"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Development"}),l.jsxs("span",{className:"font-semibold",children:["$",(e.costBreakdown.software.customDevelopment/1e3).toFixed(0),"K"]})]}),l.jsxs("div",{className:"flex justify-between border-t pt-2",children:[l.jsx("span",{className:"font-semibold",children:"Total"}),l.jsxs("span",{className:"font-bold",children:["$",(e.costBreakdown.software.total/1e3).toFixed(0),"K"]})]})]})]})]})]}),Nne=({kpis:e})=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Reuse Rate"}),l.jsx("div",{className:"flex items-baseline space-x-2 mb-4",children:l.jsxs("span",{className:"text-4xl font-bold text-purple-600",children:[e.reuseRate.overallRate.toFixed(1),"%"]})}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:l.jsx("div",{className:"bg-purple-600 h-3 rounded-full",style:{width:`${e.reuseRate.overallRate}%`}})})]}),l.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Integration Metrics"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Total"}),l.jsx("div",{className:"text-2xl font-bold text-gray-800",children:e.integrationCount.totalIntegrations})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Active"}),l.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.integrationCount.byStatus.active})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Inactive"}),l.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:e.integrationCount.byStatus.inactive})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm text-gray-600",children:"Deprecated"}),l.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.integrationCount.byStatus.deprecated})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"SLA Compliance"}),l.jsx("div",{className:"flex items-baseline space-x-2 mb-4",children:l.jsxs("span",{className:"text-4xl font-bold text-green-600",children:[e.slaCompliance.overallCompliance.toFixed(1),"%"]})}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:l.jsx("div",{className:"bg-green-600 h-3 rounded-full",style:{width:`${e.slaCompliance.overallCompliance}%`}})})]})]}),kne=({projectName:e="Solution Design Document",projectDescription:t="",version:r="1.0",date:n,settings:i})=>{n||new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"});const s=(i==null?void 0:i.showOrangeLine)!==!1;i==null||i.showOrganization;const a=(i==null?void 0:i.showProjectName)!==!1;return i!=null&&i.organizationName,i!=null&&i.logoText,i==null||i.footerText,l.jsxs("div",{className:"cover-page bg-white min-h-[800px] flex flex-col items-center justify-center relative py-16",style:{pageBreakAfter:"always"},children:[s&&l.jsx("div",{className:"absolute top-0 bottom-0 right-0",style:{width:"4px",backgroundColor:"#FF6B35",right:"20%"}}),a&&l.jsxs("div",{className:"text-center mb-8",style:{width:"80%",maxWidth:"600px"},children:[l.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:e}),t&&l.jsx("p",{className:"text-xl text-gray-600 mb-6",children:t})]})]})},Ine=({project:e,approver:t,repository:r,generatedSections:n,onApprovalChange:i})=>{const[s,a]=Se.useState(null),[o,c]=Se.useState(!1),[A,d]=Se.useState(""),[h,f]=Se.useState(""),[u,g]=Se.useState(!1),[m,x]=Se.useState("draw"),p=Se.useRef(null),[y,w]=Se.useState([]);Se.useEffect(()=>{I(),b()},[e.id,t.id]);const b=()=>{const v=i0(e,Va);w(v)},I=async()=>{try{const v=await r.getApprovalByApprover(e.id,t.id);if(v)a(v),d(v.signature||""),f(v.comments||"");else{const re=await r.createApproval({projectId:e.id,approverId:t.id,status:"PENDING"});a(re)}}catch(v){console.error("Error loading approval:",v)}},F=()=>{const v=p.current;if(!v)return;v.width=400,v.height=150;const re=v.getContext("2d");if(re&&(re.strokeStyle="#000",re.lineWidth=2,re.lineCap="round",re.lineJoin="round",re.beginPath(),re.moveTo(20,140),re.lineTo(380,140),re.stroke(),A&&A.startsWith("data:image"))){const ge=new Image;ge.onload=()=>{re.clearRect(0,0,v.width,v.height),re.drawImage(ge,0,0,v.width,v.height),re.beginPath(),re.moveTo(20,140),re.lineTo(380,140),re.stroke()},ge.src=A}};Se.useEffect(()=>{F()},[A]);const R=v=>{if(m!=="draw")return;g(!0);const re=p.current;if(!re)return;const ge=re.getContext("2d");if(!ge)return;const Y=re.getBoundingClientRect();ge.beginPath(),ge.moveTo(v.clientX-Y.left,v.clientY-Y.top)},Q=v=>{if(!u||m!=="draw")return;const re=p.current;if(!re)return;const ge=re.getContext("2d");if(!ge)return;const Y=re.getBoundingClientRect();ge.lineTo(v.clientX-Y.left,v.clientY-Y.top),ge.stroke()},k=()=>{if(!u)return;g(!1);const v=p.current;if(!v)return;const re=v.toDataURL();d(re)},$=()=>{const v=p.current;if(!v)return;const re=v.getContext("2d");re&&(re.clearRect(0,0,v.width,v.height),re.beginPath(),re.moveTo(20,140),re.lineTo(380,140),re.stroke(),d(""))},q=async v=>{if(s)try{c(!0);const re={status:v,signature:A||void 0,comments:h||void 0};await r.updateApproval(s.id,re),await I(),i==null||i(),alert(`Approval ${v.toLowerCase()} successfully!`)}catch(re){console.error("Error saving approval:",re),alert("Failed to save approval")}finally{c(!1)}},T=v=>{switch(v){case"APPROVED":case"SIGNED":return"bg-green-100 text-green-800";case"REJECTED":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}},K={};return n.forEach(v=>{K[v.sectionId]=v.content}),l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.name}),l.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Approval View - ",t.name]})]}),s&&l.jsx("div",{className:`px-4 py-2 rounded-lg font-medium ${T(s.status)}`,children:s.status})]})})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-8",children:l.jsxs("div",{className:"p-8",children:[l.jsx(kne,{project:e}),l.jsx("div",{className:"mt-12 space-y-8",children:y.map((v,re)=>{const ge=K[v.id];return ge?l.jsxs("div",{className:"border-b border-gray-200 pb-8 last:border-b-0",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:Rs(v)}),l.jsx("div",{className:"prose prose-lg max-w-none",dangerouslySetInnerHTML:{__html:ge}})]},v.id):null})})]})}),s&&s.status==="PENDING"&&l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[l.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[l.jsx(pn,{className:"w-5 h-5"}),"Review & Approval"]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Signature"}),l.jsxs("div",{className:"flex gap-4 mb-4",children:[l.jsxs("button",{onClick:()=>x("draw"),className:`px-4 py-2 rounded-md ${m==="draw"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[l.jsx(zO,{className:"w-4 h-4 inline mr-2"}),"Draw"]}),l.jsx("button",{onClick:()=>x("text"),className:`px-4 py-2 rounded-md ${m==="text"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Text"})]}),m==="draw"?l.jsxs("div",{className:"border-2 border-gray-300 rounded-lg p-4 bg-white",children:[l.jsx("canvas",{ref:p,onMouseDown:R,onMouseMove:Q,onMouseUp:k,onMouseLeave:k,className:"border border-gray-300 rounded cursor-crosshair w-full",style:{maxWidth:"400px"}}),l.jsx("button",{onClick:$,className:"mt-2 px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Clear"})]}):l.jsx("input",{type:"text",value:A,onChange:v=>d(v.target.value),placeholder:"Enter your name",className:"w-full max-w-md px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comments (Optional)"}),l.jsx("textarea",{value:h,onChange:v=>f(v.target.value),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Add any comments or feedback..."})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("button",{onClick:()=>q("APPROVED"),disabled:o||!A,className:"flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[l.jsx(q0,{className:"w-5 h-5"}),"Approve"]}),l.jsxs("button",{onClick:()=>q("SIGNED"),disabled:o||!A,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[l.jsx(io,{className:"w-5 h-5"}),"Sign & Approve"]}),l.jsxs("button",{onClick:()=>q("REJECTED"),disabled:o,className:"flex items-center gap-2 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[l.jsx(qr,{className:"w-5 h-5"}),"Reject"]})]})]}),s&&s.status!=="PENDING"&&l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Approval Status"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Status: "}),l.jsx("span",{className:`px-3 py-1 rounded-md font-medium ${T(s.status)}`,children:s.status})]}),s.signature&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium text-gray-700 block mb-2",children:"Signature:"}),s.signature.startsWith("data:image")?l.jsx("img",{src:s.signature,alt:"Signature",className:"border border-gray-300 rounded max-w-md"}):l.jsx("div",{className:"px-4 py-2 bg-gray-50 border border-gray-300 rounded-md inline-block",children:s.signature})]}),s.comments&&l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium text-gray-700 block mb-2",children:"Comments:"}),l.jsx("div",{className:"px-4 py-2 bg-gray-50 border border-gray-300 rounded-md",children:s.comments})]}),s.approvedAt&&l.jsxs("div",{className:"text-sm text-gray-600",children:["Approved on: ",new Date(s.approvedAt).toLocaleString()]})]})]})]})]})},Tne=({project:e,repository:t,onApproversChange:r})=>{const[n,i]=Se.useState([]),[s,a]=Se.useState(!1),[o,c]=Se.useState(!1),[A,d]=Se.useState({email:"",name:"",role:""});Se.useEffect(()=>{h()},[e.id]);const h=async()=>{try{a(!0);const g=await t.getApproversByProject(e.id);i(g)}catch(g){console.error("Error loading approvers:",g)}finally{a(!1)}},f=async g=>{if(g.preventDefault(),!A.email||!A.name){alert("Please provide email and name");return}try{const m={projectId:e.id,email:A.email.trim(),name:A.name.trim(),role:A.role.trim()||void 0};await t.addApprover(m),d({email:"",name:"",role:""}),c(!1),await h(),r==null||r()}catch(m){console.error("Error adding approver:",m),alert(m.message||"Failed to add approver. Email might already be added.")}},u=async g=>{if(confirm("Are you sure you want to remove this approver?"))try{await t.deleteApprover(g),await h(),r==null||r()}catch(m){console.error("Error deleting approver:",m),alert("Failed to delete approver")}};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[l.jsx(Id,{className:"w-5 h-5"}),"Approvers (",n.length,")"]}),l.jsxs("button",{onClick:()=>c(!o),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(Sn,{className:"w-4 h-4"}),"Add Approver"]})]}),o&&l.jsx("form",{onSubmit:f,className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"email",value:A.email,onChange:g=>d({...A,email:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"approver@example.com",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",value:A.name,onChange:g=>d({...A,name:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"John Doe",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role (Optional)"}),l.jsx("input",{type:"text",value:A.role,onChange:g=>d({...A,role:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Technical Lead, Business Owner, etc."})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[l.jsx(q0,{className:"w-4 h-4"}),"Add"]}),l.jsxs("button",{type:"button",onClick:()=>{c(!1),d({email:"",name:"",role:""})},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition-colors flex items-center justify-center gap-2",children:[l.jsx(qr,{className:"w-4 h-4"}),"Cancel"]})]})]})}),s?l.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading approvers..."}):n.length===0?l.jsxs("div",{className:"text-center py-8 text-gray-500 bg-gray-50 rounded-lg border border-gray-200",children:[l.jsx(Id,{className:"w-12 h-12 mx-auto mb-2 text-gray-400"}),l.jsx("p",{children:"No approvers added yet"}),l.jsx("p",{className:"text-sm",children:"Add approvers who will review and approve this document"})]}):l.jsx("div",{className:"space-y-2",children:n.map(g=>l.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-gray-200 rounded-lg hover:shadow-sm transition-shadow",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:l.jsx(Id,{className:"w-5 h-5 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:g.name}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[l.jsx(hB,{className:"w-3 h-3"}),g.email]}),g.role&&l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:g.role})]})]})}),l.jsx("button",{onClick:()=>u(g.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"Remove approver",children:l.jsx(Il,{className:"w-4 h-4"})})]},g.id))})]})};class aD{async uploadFile(t){let r="",n="ready";try{if(t.type==="application/pdf")r=`[PDF Document: ${t.name}]
Note: This is a PDF file. While full text extraction is not available in the browser, the AI will use the filename, project context, and any information you provide about this document to generate relevant content.`,n="pdf";else if(t.type.includes("word")||t.name.endsWith(".doc")||t.name.endsWith(".docx"))try{const i=await t.text();i&&i.length>100?(r=i,n="extracted"):(r=`[Word Document: ${t.name}]
Note: Limited content extraction available for Word documents. Please ensure key information is also provided in the project context or as text files.`,n="limited")}catch{r=`[Word Document: ${t.name}]
Note: Content extraction not available for this Word format. The AI will use the filename and project context.`,n="limited"}else r=await t.text(),n="extracted"}catch(i){console.error(`Error reading ${t.name}:`,i),r=`[File: ${t.name}]
Error reading file content. The filename and project context will be used.`,n="error"}return{name:t.name,size:t.size,type:t.type,content:r,status:n,file:t}}async readFileContent(t){return this.uploadFile(t).then(r=>r.content)}}const Fne=WD;var jne=Fne;const Ds=new jne.PrismaClient,Une=()=>{const{user:e}=Rp(),[t,r]=Se.useState("patterns"),[n,i]=Se.useState(""),[s,a]=Se.useState([]),[o,c]=Se.useState("all"),[A,d]=Se.useState([]),[h,f]=Se.useState([]),[u,g]=Se.useState([]),[m,x]=Se.useState([]),[p,y]=Se.useState(!1),[w,b]=Se.useState(null),[I,F]=Se.useState({}),[R,Q]=Se.useState(!1),[k,$]=Se.useState([]),[q,T]=Se.useState(null),[K,v]=Se.useState(null),re=Se.useMemo(()=>new aD,[]);Se.useEffect(()=>{ge()},[]);const ge=async()=>{try{const U=await Ds.architecturePattern.findMany({include:{tagMappings:{include:{tag:!0}}}});d(U.map(me=>{var B;return{...me,tags:((B=me.tagMappings)==null?void 0:B.map(te=>te.tag.name))||[]}}));const M=await Ds.referenceArchitecture.findMany({include:{tagMappings:{include:{tag:!0}}}});f(M.map(me=>{var B;return{...me,components:JSON.parse(me.components||"[]"),layers:me.layers?JSON.parse(me.layers):void 0,patterns:me.patterns?JSON.parse(me.patterns):void 0,technologies:me.technologies?JSON.parse(me.technologies):void 0,bestPractices:me.bestPractices?JSON.parse(me.bestPractices):void 0,diagrams:me.diagrams?JSON.parse(me.diagrams):void 0,useCases:me.useCases?JSON.parse(me.useCases):void 0,caseStudies:me.caseStudies?JSON.parse(me.caseStudies):void 0,tags:((B=me.tagMappings)==null?void 0:B.map(te=>te.tag.name))||[]}}));const J=await Ds.reusableComponent.findMany({include:{tagMappings:{include:{tag:!0}}}});g(J.map(me=>{var B;return{...me,specifications:me.specifications?JSON.parse(me.specifications):void 0,capabilities:me.capabilities?JSON.parse(me.capabilities):void 0,integrations:me.integrations?JSON.parse(me.integrations):void 0,dependencies:me.dependencies?JSON.parse(me.dependencies):void 0,examples:me.examples?JSON.parse(me.examples):void 0,tags:((B=me.tagMappings)==null?void 0:B.map(te=>te.tag.name))||[]}}));const ce=await Ds.tag.findMany();x(ce);const ee=await Ds.knowledgeBaseFile.findMany(),Z={};ee.forEach(me=>{const B=`${me.entityType}-${me.entityId}`;Z[B]||(Z[B]=[]),Z[B].push(me)}),F(Z)}catch(U){console.error("Error loading data:",U)}},Y=Se.useMemo(()=>{let U=[];if(t==="patterns"?U=A:t==="architectures"?U=h:U=u,n){const M=n.toLowerCase();U=U.filter(J=>J.name.toLowerCase().includes(M)||J.description.toLowerCase().includes(M)||J.category&&J.category.toLowerCase().includes(M)||J.tags&&J.tags.some(ce=>ce.toLowerCase().includes(M)))}return s.length>0&&(U=U.filter(M=>M.tags&&s.every(J=>M.tags.includes(J)))),o!=="all"&&(t==="patterns"?U=U.filter(M=>M.category===o):t==="architectures"?U=U.filter(M=>M.domain===o):U=U.filter(M=>M.componentType===o)),U},[t,A,h,u,n,s,o]),fe=Se.useMemo(()=>t==="patterns"?[{value:"all",label:"All Patterns"},{value:"MICROSERVICES",label:"Microservices"},{value:"EVENT_DRIVEN",label:"Event-Driven"},{value:"API_GATEWAY",label:"API Gateway"},{value:"ETL",label:"ETL"},{value:"CQRS",label:"CQRS"},{value:"SAGA",label:"Saga"},{value:"CIRCUIT_BREAKER",label:"Circuit Breaker"},{value:"SERVICE_MESH",label:"Service Mesh"},{value:"STRANGLER_FIG",label:"Strangler Fig"},{value:"BACKEND_FOR_FRONTEND",label:"Backend for Frontend"},{value:"OTHER",label:"Other"}]:t==="architectures"?[{value:"all",label:"All Domains"},{value:"CLOUD_NATIVE",label:"Cloud-Native"},{value:"BANKING",label:"Banking"},{value:"ERP_INTEGRATION",label:"ERP Integration"},{value:"E_COMMERCE",label:"E-Commerce"},{value:"FINANCIAL_SERVICES",label:"Financial Services"},{value:"HEALTHCARE",label:"Healthcare"},{value:"RETAIL",label:"Retail"},{value:"MANUFACTURING",label:"Manufacturing"},{value:"TELECOMMUNICATIONS",label:"Telecommunications"},{value:"GOVERNMENT",label:"Government"},{value:"EDUCATION",label:"Education"},{value:"OTHER",label:"Other"}]:[{value:"all",label:"All Types"},{value:"APPLICATION",label:"Application"},{value:"API",label:"API"},{value:"DATABASE",label:"Database"},{value:"VENDOR",label:"Vendor"},{value:"SERVICE",label:"Service"},{value:"LIBRARY",label:"Library"},{value:"FRAMEWORK",label:"Framework"},{value:"MIDDLEWARE",label:"Middleware"},{value:"INFRASTRUCTURE",label:"Infrastructure"},{value:"OTHER",label:"Other"}],[t]),le=()=>{b(null),y(!0)},ne=U=>{b(U),y(!0)},ae=async(U,M)=>{if(confirm("Are you sure you want to delete this item?"))try{M==="pattern"?(await Ds.architecturePattern.delete({where:{id:U}}),d(A.filter(J=>J.id!==U))):M==="architecture"?(await Ds.referenceArchitecture.delete({where:{id:U}}),f(h.filter(J=>J.id!==U))):(await Ds.reusableComponent.delete({where:{id:U}}),g(u.filter(J=>J.id!==U)))}catch(J){console.error("Error deleting item:",J),alert("Error deleting item")}},_=U=>{a(M=>M.includes(U)?M.filter(J=>J!==U):[...M,U])},O=(U,M)=>{const J=`${M.toUpperCase()}-${U.id}`,ce=I[J]||[];$(ce),T(U.id),v(M),Q(!0)},G=async U=>{if(!(!q||!K))try{for(const M of U){const J=await re.uploadFile(M);let ce=J.content;if(M.type==="application/pdf"||M.name.endsWith(".pdf"))try{const ee=await M.arrayBuffer();ce=`[PDF_BASE64_START]${btoa(String.fromCharCode(...new Uint8Array(ee)))}[PDF_BASE64_END]${J.content}`}catch(ee){console.warn("Could not convert PDF to base64:",ee)}await Ds.knowledgeBaseFile.create({data:{entityType:K.toUpperCase(),entityId:q,fileName:M.name,fileType:M.type,fileSize:M.size,fileContent:ce,uploadedBy:e==null?void 0:e.email}})}await ge(),alert(`Successfully uploaded ${U.length} file(s)`)}catch(M){console.error("Error uploading files:",M),alert("Error uploading files")}},oe=async U=>{if(confirm("Are you sure you want to delete this file?"))try{await Ds.knowledgeBaseFile.delete({where:{id:U}}),await ge(),$(k.filter(M=>M.id!==U))}catch(M){console.error("Error deleting file:",M),alert("Error deleting file")}},Ae=U=>{try{const M=U.fileContent.match(/\[PDF_BASE64_START\]([\s\S]+?)\[PDF_BASE64_END\]/);if(M&&M[1]){const J=atob(M[1]),ce=new Uint8Array(J.length);for(let B=0;B<J.length;B++)ce[B]=J.charCodeAt(B);const ee=new Blob([ce],{type:U.fileType}),Z=URL.createObjectURL(ee),me=document.createElement("a");me.href=Z,me.download=U.fileName,me.click(),URL.revokeObjectURL(Z)}else{const J=new Blob([U.fileContent],{type:U.fileType}),ce=URL.createObjectURL(J),ee=document.createElement("a");ee.href=ce,ee.download=U.fileName,ee.click(),URL.revokeObjectURL(ce)}}catch(M){console.error("Error downloading file:",M),alert("Error downloading file")}};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-6",children:[l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-blue-500 p-3 rounded-lg shadow-lg",children:l.jsx(pp,{size:24,className:"text-white"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gradient bg-gradient-to-r from-white to-purple-200 bg-clip-text text-transparent",children:"Architecture Knowledge Base"}),l.jsx("p",{className:"text-purple-200/80 mt-1",children:"Shared library of patterns, reference architectures, and reusable components â€¢ Available to all users"})]})]}),l.jsxs("button",{onClick:le,className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white rounded-lg shadow-lg hover:shadow-purple-500/50 transition-all flex items-center space-x-2",children:[l.jsx(Sn,{size:18}),l.jsx("span",{children:"Add New"})]})]}),l.jsx("div",{className:"flex space-x-2 mb-4",children:[{id:"patterns",label:"Patterns",icon:Ja},{id:"architectures",label:"Reference Architectures",icon:pp},{id:"components",label:"Reusable Components",icon:no}].map(U=>l.jsxs("button",{onClick:()=>{r(U.id),c("all"),i("")},className:`px-4 py-2 rounded-lg transition-all flex items-center space-x-2 ${t===U.id?"bg-gradient-to-r from-purple-600/30 to-blue-600/30 text-white border border-purple-400/50":"glass text-purple-200/80 hover:bg-white/5 hover:text-purple-200 border border-transparent"}`,children:[l.jsx(U.icon,{size:18}),l.jsx("span",{children:U.label})]},U.id))}),l.jsxs("div",{className:"glass-dark rounded-lg p-4 border border-white/10 mb-4",children:[l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Jd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-purple-300",size:18}),l.jsx("input",{type:"text",placeholder:`Search ${t}...`,value:n,onChange:U=>i(U.target.value),className:"w-full pl-10 pr-4 py-2 glass border border-white/20 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500/50 text-white placeholder-purple-300/50 outline-none"})]}),l.jsxs("div",{className:"relative",children:[l.jsx(PO,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-purple-300",size:18}),l.jsx("select",{value:o,onChange:U=>c(U.target.value),className:"pl-10 pr-4 py-2 glass border border-white/20 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500/50 text-white outline-none appearance-none bg-transparent",children:fe.map(U=>l.jsx("option",{value:U.value,className:"bg-slate-800",children:U.label},U.value))})]})]}),m.length>0&&l.jsxs("div",{className:"mt-4",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[l.jsx(I6,{size:16,className:"text-purple-300"}),l.jsx("span",{className:"text-sm text-purple-200/80",children:"Filter by tags:"})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(U=>l.jsx("button",{onClick:()=>_(U.name),className:`px-3 py-1 rounded-full text-xs transition-all ${s.includes(U.name)?"bg-gradient-to-r from-purple-600 to-blue-600 text-white border border-purple-400/50":"glass text-purple-200/80 hover:bg-white/5 border border-white/20"}`,style:U.color?{borderColor:U.color}:{},children:U.name},U.id))})]})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Y.length===0?l.jsx("div",{className:"col-span-full text-center py-12",children:l.jsx("p",{className:"text-purple-200/60 text-lg",children:"No items found. Try adjusting your filters."})}):Y.map(U=>l.jsxs("div",{className:"glass-dark rounded-lg p-4 border border-white/10 hover:border-purple-500/50 transition-all cursor-pointer",onClick:()=>ne(U),children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsx("h3",{className:"text-lg font-semibold text-white",children:U.name}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:M=>{M.stopPropagation(),O(U,t==="patterns"?"pattern":t==="architectures"?"architecture":"component")},className:"text-blue-300 hover:text-blue-200",title:"View Files",children:l.jsx(eS,{size:16})}),l.jsx("button",{onClick:M=>{M.stopPropagation(),ne(U)},className:"text-purple-300 hover:text-purple-200",children:"Edit"}),l.jsx("button",{onClick:M=>{M.stopPropagation(),ae(U.id,t==="patterns"?"pattern":t==="architectures"?"architecture":"component")},className:"text-red-300 hover:text-red-200",children:"Delete"})]})]}),l.jsx("p",{className:"text-purple-200/70 text-sm mb-3 line-clamp-2",children:U.description}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-xs text-purple-300/60",children:[t==="patterns"&&U.category,t==="architectures"&&U.domain,t==="components"&&U.componentType]}),U.tags&&U.tags.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-1",children:[U.tags.slice(0,3).map((M,J)=>l.jsx("span",{className:"px-2 py-0.5 text-xs glass rounded-full text-purple-200/80 border border-purple-500/30",children:M},J)),U.tags.length>3&&l.jsxs("span",{className:"px-2 py-0.5 text-xs text-purple-300/60",children:["+",U.tags.length-3]})]})]}),(()=>{const M=`${t==="patterns"?"PATTERN":t==="architectures"?"REFERENCE_ARCHITECTURE":"REUSABLE_COMPONENT"}-${U.id}`,J=I[M]||[];return J.length>0?l.jsxs("div",{className:"mt-2 flex items-center space-x-1 text-xs text-purple-300/60",children:[l.jsx(eS,{size:12}),l.jsxs("span",{children:[J.length," file",J.length>1?"s":""]})]}):null})()]},U.id))})]}),R&&l.jsx(Dne,{files:k,entityId:q,entityType:K,onClose:()=>{Q(!1),$([]),T(null),v(null)},onUpload:G,onDelete:oe,onDownload:Ae}),p&&l.jsx(Lne,{item:w,type:t==="patterns"?"pattern":t==="architectures"?"architecture":"component",tags:m,onClose:()=>{y(!1),b(null)},onSave:async U=>{try{t==="patterns"?w?await Ds.architecturePattern.update({where:{id:w.id},data:{name:U.name,category:U.category,description:U.description,problem:U.problem,solution:U.solution,benefits:U.benefits?JSON.stringify(U.benefits):null,tradeoffs:U.tradeoffs?JSON.stringify(U.tradeoffs):null,useCases:U.useCases?JSON.stringify(U.useCases):null,examples:U.examples?JSON.stringify(U.examples):null,diagram:U.diagram,relatedPatterns:U.relatedPatterns?JSON.stringify(U.relatedPatterns):null}}):await Ds.architecturePattern.create({data:{name:U.name,category:U.category,description:U.description,problem:U.problem,solution:U.solution,benefits:U.benefits?JSON.stringify(U.benefits):null,tradeoffs:U.tradeoffs?JSON.stringify(U.tradeoffs):null,useCases:U.useCases?JSON.stringify(U.useCases):null,examples:U.examples?JSON.stringify(U.examples):null,diagram:U.diagram,relatedPatterns:U.relatedPatterns?JSON.stringify(U.relatedPatterns):null,createdBy:e==null?void 0:e.email}}):t==="architectures"?w?await Ds.referenceArchitecture.update({where:{id:w.id},data:{name:U.name,domain:U.domain,description:U.description,overview:U.overview,components:JSON.stringify(U.components||[]),layers:U.layers?JSON.stringify(U.layers):null,patterns:U.patterns?JSON.stringify(U.patterns):null,technologies:U.technologies?JSON.stringify(U.technologies):null,bestPractices:U.bestPractices?JSON.stringify(U.bestPractices):null,diagrams:U.diagrams?JSON.stringify(U.diagrams):null,useCases:U.useCases?JSON.stringify(U.useCases):null,caseStudies:U.caseStudies?JSON.stringify(U.caseStudies):null}}):await Ds.referenceArchitecture.create({data:{name:U.name,domain:U.domain,description:U.description,overview:U.overview,components:JSON.stringify(U.components||[]),layers:U.layers?JSON.stringify(U.layers):null,patterns:U.patterns?JSON.stringify(U.patterns):null,technologies:U.technologies?JSON.stringify(U.technologies):null,bestPractices:U.bestPractices?JSON.stringify(U.bestPractices):null,diagrams:U.diagrams?JSON.stringify(U.diagrams):null,useCases:U.useCases?JSON.stringify(U.useCases):null,caseStudies:U.caseStudies?JSON.stringify(U.caseStudies):null,createdBy:e==null?void 0:e.email}}):w?await Ds.reusableComponent.update({where:{id:w.id},data:{name:U.name,componentType:U.componentType,description:U.description,category:U.category,vendor:U.vendor,version:U.version,specifications:U.specifications?JSON.stringify(U.specifications):null,capabilities:U.capabilities?JSON.stringify(U.capabilities):null,integrations:U.integrations?JSON.stringify(U.integrations):null,dependencies:U.dependencies?JSON.stringify(U.dependencies):null,documentation:U.documentation,examples:U.examples?JSON.stringify(U.examples):null}}):await Ds.reusableComponent.create({data:{name:U.name,componentType:U.componentType,description:U.description,category:U.category,vendor:U.vendor,version:U.version,specifications:U.specifications?JSON.stringify(U.specifications):null,capabilities:U.capabilities?JSON.stringify(U.capabilities):null,integrations:U.integrations?JSON.stringify(U.integrations):null,dependencies:U.dependencies?JSON.stringify(U.dependencies):null,documentation:U.documentation,examples:U.examples?JSON.stringify(U.examples):null,createdBy:e==null?void 0:e.email}}),U.tags&&U.tags.length>0,await ge(),y(!1),b(null)}catch(M){console.error("Error saving item:",M),alert("Error saving item")}}})]})},Lne=({item:e,type:t,onClose:r,onSave:n})=>{const[i,s]=Se.useState({});Se.useEffect(()=>{s(e||(t==="pattern"?{name:"",category:"MICROSERVICES",description:"",problem:"",solution:"",benefits:[],tradeoffs:[],useCases:[],examples:[]}:t==="architecture"?{name:"",domain:"CLOUD_NATIVE",description:"",overview:"",components:[],layers:[],patterns:[],technologies:[],bestPractices:[],diagrams:[],useCases:[],caseStudies:[]}:{name:"",componentType:"APPLICATION",description:"",category:"",vendor:"",version:"",specifications:{},capabilities:[],integrations:[],dependencies:[],documentation:"",examples:[]}))},[e,t]);const a=async o=>{o.preventDefault(),await n(i)};return l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[9999] p-4",children:l.jsxs("div",{className:"glass-dark rounded-2xl border border-white/10 shadow-2xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("h2",{className:"text-2xl font-bold text-gradient",children:[e?"Edit":"Create"," ",t==="pattern"?"Pattern":t==="architecture"?"Reference Architecture":"Reusable Component"]}),l.jsx("button",{onClick:r,className:"glass hover:bg-white/10 p-2 rounded-lg transition-all border border-white/20",children:l.jsx(qr,{size:18,className:"text-purple-200"})})]}),l.jsxs("form",{onSubmit:a,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-purple-200 mb-2",children:"Name *"}),l.jsx("input",{type:"text",value:i.name||"",onChange:o=>s({...i,name:o.target.value}),className:"w-full px-4 py-2 glass border border-white/20 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500/50 text-white placeholder-purple-300/50 outline-none",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-purple-200 mb-2",children:"Description *"}),l.jsx("textarea",{value:i.description||"",onChange:o=>s({...i,description:o.target.value}),className:"w-full px-4 py-2 glass border border-white/20 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500/50 text-white placeholder-purple-300/50 resize-none outline-none",rows:3,required:!0})]}),t==="pattern"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-purple-200 mb-2",children:"Category *"}),l.jsxs("select",{value:i.category||"MICROSERVICES",onChange:o=>s({...i,category:o.target.value}),className:"w-full px-4 py-2 glass border border-white/20 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500/50 text-white outline-none bg-transparent",children:[l.jsx("option",{value:"MICROSERVICES",className:"bg-slate-800",children:"Microservices"}),l.jsx("option",{value:"EVENT_DRIVEN",className:"bg-slate-800",children:"Event-Driven"}),l.jsx("option",{value:"API_GATEWAY",className:"bg-slate-800",children:"API Gateway"}),l.jsx("option",{value:"ETL",className:"bg-slate-800",children:"ETL"}),l.jsx("option",{value:"CQRS",className:"bg-slate-800",children:"CQRS"}),l.jsx("option",{value:"SAGA",className:"bg-slate-800",children:"Saga"}),l.jsx("option",{value:"CIRCUIT_BREAKER",className:"bg-slate-800",children:"Circuit Breaker"}),l.jsx("option",{value:"SERVICE_MESH",className:"bg-slate-800",children:"Service Mesh"}),l.jsx("option",{value:"STRANGLER_FIG",className:"bg-slate-800",children:"Strangler Fig"}),l.jsx("option",{value:"BACKEND_FOR_FRONTEND",className:"bg-slate-800",children:"Backend for Frontend"}),l.jsx("option",{value:"OTHER",className:"bg-slate-800",children:"Other"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-purple-200 mb-2",children:"Problem"}),l.jsx("textarea",{value:i.problem||"",onChange:o=>s({...i,problem:o.target.value}),className:"w-full px-4 py-2 glass border border-white/20 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500/50 text-white placeholder-purple-300/50 resize-none outline-none",rows:2})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-purple-200 mb-2",children:"Solution *"}),l.jsx("textarea",{value:i.solution||"",onChange:o=>s({...i,solution:o.target.value}),className:"w-full px-4 py-2 glass border border-white/20 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500/50 text-white placeholder-purple-300/50 resize-none outline-none",rows:4,required:!0})]})]}),t==="architecture"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-purple-200 mb-2",children:"Domain *"}),l.jsxs("select",{value:i.domain||"CLOUD_NATIVE",onChange:o=>s({...i,domain:o.target.value}),className:"w-full px-4 py-2 glass border border-white/20 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500/50 text-white outline-none bg-transparent",children:[l.jsx("option",{value:"CLOUD_NATIVE",className:"bg-slate-800",children:"Cloud-Native"}),l.jsx("option",{value:"BANKING",className:"bg-slate-800",children:"Banking"}),l.jsx("option",{value:"ERP_INTEGRATION",className:"bg-slate-800",children:"ERP Integration"}),l.jsx("option",{value:"E_COMMERCE",className:"bg-slate-800",children:"E-Commerce"}),l.jsx("option",{value:"FINANCIAL_SERVICES",className:"bg-slate-800",children:"Financial Services"}),l.jsx("option",{value:"HEALTHCARE",className:"bg-slate-800",children:"Healthcare"}),l.jsx("option",{value:"RETAIL",className:"bg-slate-800",children:"Retail"}),l.jsx("option",{value:"MANUFACTURING",className:"bg-slate-800",children:"Manufacturing"}),l.jsx("option",{value:"TELECOMMUNICATIONS",className:"bg-slate-800",children:"Telecommunications"}),l.jsx("option",{value:"GOVERNMENT",className:"bg-slate-800",children:"Government"}),l.jsx("option",{value:"EDUCATION",className:"bg-slate-800",children:"Education"}),l.jsx("option",{value:"OTHER",className:"bg-slate-800",children:"Other"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-purple-200 mb-2",children:"Overview *"}),l.jsx("textarea",{value:i.overview||"",onChange:o=>s({...i,overview:o.target.value}),className:"w-full px-4 py-2 glass border border-white/20 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500/50 text-white placeholder-purple-300/50 resize-none outline-none",rows:4,required:!0})]})]}),t==="component"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-purple-200 mb-2",children:"Component Type *"}),l.jsxs("select",{value:i.componentType||"APPLICATION",onChange:o=>s({...i,componentType:o.target.value}),className:"w-full px-4 py-2 glass border border-white/20 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500/50 text-white outline-none bg-transparent",children:[l.jsx("option",{value:"APPLICATION",className:"bg-slate-800",children:"Application"}),l.jsx("option",{value:"API",className:"bg-slate-800",children:"API"}),l.jsx("option",{value:"DATABASE",className:"bg-slate-800",children:"Database"}),l.jsx("option",{value:"VENDOR",className:"bg-slate-800",children:"Vendor"}),l.jsx("option",{value:"SERVICE",className:"bg-slate-800",children:"Service"}),l.jsx("option",{value:"LIBRARY",className:"bg-slate-800",children:"Library"}),l.jsx("option",{value:"FRAMEWORK",className:"bg-slate-800",children:"Framework"}),l.jsx("option",{value:"MIDDLEWARE",className:"bg-slate-800",children:"Middleware"}),l.jsx("option",{value:"INFRASTRUCTURE",className:"bg-slate-800",children:"Infrastructure"}),l.jsx("option",{value:"OTHER",className:"bg-slate-800",children:"Other"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-purple-200 mb-2",children:"Category"}),l.jsx("input",{type:"text",value:i.category||"",onChange:o=>s({...i,category:o.target.value}),className:"w-full px-4 py-2 glass border border-white/20 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500/50 text-white placeholder-purple-300/50 outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-purple-200 mb-2",children:"Vendor"}),l.jsx("input",{type:"text",value:i.vendor||"",onChange:o=>s({...i,vendor:o.target.value}),className:"w-full px-4 py-2 glass border border-white/20 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500/50 text-white placeholder-purple-300/50 outline-none"})]})]})]}),l.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[l.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 glass border border-white/20 rounded-lg hover:bg-white/10 text-purple-200 transition-all font-medium",children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white rounded-lg transition-all shadow-lg hover:shadow-purple-500/50 font-medium",children:e?"Update":"Create"})]})]})]})})},Dne=({files:e,onClose:t,onUpload:r,onDelete:n,onDownload:i})=>{const[s,a]=Se.useState(!1),o=v5.useRef(null),c=f=>{f.preventDefault(),f.stopPropagation(),f.type==="dragenter"||f.type==="dragover"?a(!0):f.type==="dragleave"&&a(!1)},A=f=>{if(f.preventDefault(),f.stopPropagation(),a(!1),f.dataTransfer.files&&f.dataTransfer.files.length>0){const u=Array.from(f.dataTransfer.files);r(u)}},d=f=>{if(f.target.files&&f.target.files.length>0){const u=Array.from(f.target.files);r(u),o.current&&(o.current.value="")}},h=f=>f<1024?f+" B":f<1024*1024?(f/1024).toFixed(2)+" KB":(f/(1024*1024)).toFixed(2)+" MB";return l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[9999] p-4",children:l.jsxs("div",{className:"glass-dark rounded-2xl border border-white/10 shadow-2xl p-6 w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gradient",children:"File Management"}),l.jsx("button",{onClick:t,className:"glass hover:bg-white/10 p-2 rounded-lg transition-all border border-white/20",children:l.jsx(qr,{size:18,className:"text-purple-200"})})]}),l.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-all mb-6 ${s?"border-purple-500 bg-purple-500/10":"border-purple-500/30 hover:border-purple-500/50"}`,onDragEnter:c,onDragLeave:c,onDragOver:c,onDrop:A,children:[l.jsx(el,{size:48,className:"mx-auto text-purple-300 mb-4"}),l.jsx("p",{className:"text-purple-200 mb-2",children:"Drag and drop files here, or click to browse"}),l.jsx("p",{className:"text-sm text-purple-300/60 mb-4",children:"Supports PDF, Word, images, and text files"}),l.jsx("input",{ref:o,type:"file",multiple:!0,onChange:d,className:"hidden",id:"file-upload"}),l.jsxs("label",{htmlFor:"file-upload",className:"inline-block px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white rounded-lg cursor-pointer transition-all",children:[l.jsx(el,{size:16,className:"inline mr-2"}),"Select Files"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h3",{className:"text-lg font-semibold text-purple-200 mb-3",children:["Attached Files (",e.length,")"]}),e.length===0?l.jsx("p",{className:"text-purple-300/60 text-center py-8",children:"No files attached yet"}):e.map(f=>l.jsxs("div",{className:"glass-dark rounded-lg p-4 border border-white/10 flex items-center justify-between hover:border-purple-500/50 transition-all",children:[l.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[l.jsx(pn,{size:20,className:"text-purple-300 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-white font-medium truncate",children:f.fileName}),l.jsxs("p",{className:"text-xs text-purple-300/60",children:[h(f.fileSize)," â€¢ ",new Date(f.uploadedAt).toLocaleDateString()]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>i(f),className:"p-2 glass hover:bg-white/10 rounded-lg transition-all border border-white/20",title:"Download",children:l.jsx(Ya,{size:16,className:"text-purple-300"})}),l.jsx("button",{onClick:()=>n(f.id),className:"p-2 glass hover:bg-red-500/20 rounded-lg transition-all border border-white/20",title:"Delete",children:l.jsx(qr,{size:16,className:"text-red-300"})})]})]},f.id))]})]})})},Rne=({project:e})=>{const[t,r]=Se.useState([]),[n,i]=Se.useState(null),[s,a]=Se.useState("BUSINESS_PROCESS"),[o,c]=Se.useState("AS_IS"),[A,d]=Se.useState(!1),[h,f]=Se.useState(!1),[u,g]=Se.useState(!1),[m,x]=Se.useState(!1),[p,y]=Se.useState(!1),[w,b]=Se.useState(""),[I,F]=Se.useState(""),[R,Q]=Se.useState(null),[k,$]=Se.useState(""),[q,T]=Se.useState(!1),[K,v]=Se.useState(!1),[re,ge]=Se.useState(!1),Y=Se.useRef(null),fe=Se.useRef(null),le=Se.useRef(null),ne=Se.useRef(null),ae=Se.useRef(null),_=Se.useMemo(()=>new so,[]),O={BUSINESS:[{id:"capability",name:"Capability",icon:l.jsx(Uf,{size:16}),layer:"BUSINESS",type:"Capability",shape:"rectangle",color:"#9333ea"},{id:"process",name:"Process",icon:l.jsx(yd,{size:16}),layer:"BUSINESS",type:"Process",shape:"rectangle",color:"#7c3aed"},{id:"value-stream",name:"Value Stream",icon:l.jsx(Op,{size:16}),layer:"BUSINESS",type:"ValueStream",shape:"hexagon",color:"#a855f7"},{id:"org-unit",name:"Org Unit",icon:l.jsx(Ja,{size:16}),layer:"BUSINESS",type:"OrgUnit",shape:"rectangle",color:"#c084fc"}],APPLICATION:[{id:"system",name:"System",icon:l.jsx(kd,{size:16}),layer:"APPLICATION",type:"System",shape:"rectangle",color:"#3b82f6"},{id:"api",name:"API",icon:l.jsx(tS,{size:16}),layer:"APPLICATION",type:"API",shape:"hexagon",color:"#2563eb"},{id:"microservice",name:"Microservice",icon:l.jsx(C6,{size:16}),layer:"APPLICATION",type:"Microservice",shape:"circle",color:"#1d4ed8"},{id:"integration",name:"Integration",icon:l.jsx(md,{size:16}),layer:"APPLICATION",type:"Integration",shape:"rectangle",color:"#60a5fa"}],DATA:[{id:"data-entity",name:"Data Entity",icon:l.jsx(no,{size:16}),layer:"DATA",type:"DataEntity",shape:"cylinder",color:"#10b981"},{id:"data-store",name:"Data Store",icon:l.jsx(no,{size:16}),layer:"DATA",type:"DataStore",shape:"cylinder",color:"#059669"},{id:"data-flow",name:"Data Flow",icon:l.jsx(md,{size:16}),layer:"DATA",type:"DataFlow",shape:"rectangle",color:"#34d399"},{id:"data-lineage",name:"Data Lineage",icon:l.jsx(Xd,{size:16}),layer:"DATA",type:"DataLineage",shape:"hexagon",color:"#6ee7b7"}],TECHNOLOGY:[{id:"server",name:"Server",icon:l.jsx(kd,{size:16}),layer:"TECHNOLOGY",type:"Server",shape:"rectangle",color:"#f97316"},{id:"cloud",name:"Cloud Platform",icon:l.jsx(r0,{size:16}),layer:"TECHNOLOGY",type:"CloudPlatform",shape:"hexagon",color:"#ea580c"},{id:"network",name:"Network",icon:l.jsx(JE,{size:16}),layer:"TECHNOLOGY",type:"Network",shape:"rectangle",color:"#fb923c"},{id:"storage",name:"Storage",icon:l.jsx(no,{size:16}),layer:"TECHNOLOGY",type:"Storage",shape:"cylinder",color:"#fdba74"}],SOLUTION:[{id:"solution",name:"Solution",icon:l.jsx(r0,{size:16}),layer:"SOLUTION",type:"Solution",shape:"hexagon",color:"#ec4899"},{id:"end-to-end",name:"End-to-End Flow",icon:l.jsx(yd,{size:16}),layer:"SOLUTION",type:"EndToEndFlow",shape:"rectangle",color:"#f472b6"},{id:"integration-pattern",name:"Integration Pattern",icon:l.jsx(md,{size:16}),layer:"SOLUTION",type:"IntegrationPattern",shape:"diamond",color:"#f9a8d4"}]},G=[{value:"BPMN",label:"BPMN",icon:l.jsx(yd,{size:16})},{value:"UML",label:"UML",icon:l.jsx(Ja,{size:16})},{value:"ARCHIMATE",label:"ArchiMate",icon:l.jsx(GA,{size:16})},{value:"C4",label:"C4 Model",icon:l.jsx(Uf,{size:16})},{value:"DATA_FLOW",label:"Data Flow",icon:l.jsx(md,{size:16})},{value:"INTEGRATION",label:"Integration",icon:l.jsx(tS,{size:16})},{value:"BUSINESS_PROCESS",label:"Business Process",icon:l.jsx(yd,{size:16})},{value:"APPLICATION_ARCHITECTURE",label:"Application Architecture",icon:l.jsx(kd,{size:16})},{value:"TECHNOLOGY_INFRASTRUCTURE",label:"Technology Infrastructure",icon:l.jsx(r0,{size:16})},{value:"CUSTOM",label:"Custom",icon:l.jsx(X0,{size:16})}];Se.useEffect(()=>{e&&oe()},[e]);const oe=Se.useCallback(async()=>{if(e){x(!0);try{const S=(await _.getArtifactsByProject(e.id)).filter(E=>E.artifactType==="ARCHITECTURE");r(S)}catch(H){console.error("Error loading diagrams:",H)}finally{x(!1)}}},[e,_]),Ae=Se.useCallback(async(H,S)=>{if(!e){console.error("No project selected");return}const E=S||n;if(!E){console.error("No diagram selected");return}try{const P=E.fileName.endsWith(".drawio")||E.fileName.endsWith(".xml")?E.fileName:`${E.fileName}.drawio`,ye=(await _.getArtifactsByProject(e.id)).find(ke=>ke.id===E.id);ye&&await _.deleteArtifact(ye.id);const ue=await _.addArtifact({projectId:e.id,fileName:P,fileType:"image/png",fileSize:new Blob([H]).size,fileContent:H,artifactType:"ARCHITECTURE"});i(ue),ne.current=ue.id,ae.current=ue,await oe(),v(!1),y(!1)}catch(P){throw console.error("Error saving diagram:",P),y(!1),P}},[e,_,oe]),U=Se.useCallback(async H=>{if(!Y.current){console.warn("Container ref not available");return}const S=(H==null?void 0:H.id)||"new";if(ne.current===S&&fe.current){console.log("Editor already initialized for this diagram, skipping reinitialization");return}fe.current&&Y.current.contains(fe.current)&&Y.current.removeChild(fe.current),le.current&&(window.removeEventListener("message",le.current),le.current=null),ne.current=S,ae.current=H,ge(!1),x(!0);try{const E=document.createElement("iframe");E.style.width="100%",E.style.height="100%",E.style.border="none",E.style.background="#ffffff",E.setAttribute("frameborder","0"),E.setAttribute("id","drawio-iframe");const P="https://embed.diagrams.net/?embed=1&spin=1&ui=atlas&proto=json&saveAndExit=0&noSaveBtn=1&noExitBtn=1&modified=1";E.src=P,E.allowFullscreen=!0;const de=`.draft-${S}`,ye=ue=>{if(!(!ue.origin.includes("diagrams.net")&&!ue.origin.includes("draw.io"))&&ue.data&&typeof ue.data=="string"&&ue.data.length>0)try{const ke=JSON.parse(ue.data);if(ke.event==="init"){console.log("âœ… draw.io editor initialized"),ge(!0),x(!1);const Oe=localStorage.getItem(de);if(Oe)try{const Ue=JSON.parse(Oe);Ue.xml&&E.contentWindow&&(E.contentWindow.postMessage(JSON.stringify({action:"load",autosave:1,xml:Ue.xml}),"*"),E.contentWindow.postMessage(JSON.stringify({action:"status",modified:!0}),"*"))}catch(Ue){console.warn("Error loading draft:",Ue)}else H&&H.fileContent&&E.contentWindow&&E.contentWindow.postMessage(JSON.stringify({action:"load",autosave:1,xmlpng:H.fileContent}),"*")}else if(ke.event==="export"){const Oe=ke.data,Ue=ae.current;if(!Ue){console.warn("No diagram selected for export"),y(!1);return}if(Oe&&Ue?Ae(Oe,Ue).then(()=>{setTimeout(()=>{alert("Diagram saved successfully!")},100)}).catch(_e=>{console.error("Error in save callback:",_e),alert("Error saving diagram: "+(_e instanceof Error?_e.message:"Unknown error"))}):Oe||(console.warn("Export returned empty data"),alert("Cannot save empty diagram. Please draw something first."),y(!1)),Ue){const _e=Ue.id||"default";localStorage.setItem(_e,JSON.stringify({lastModified:new Date().toISOString(),data:Oe||""}))}}else ke.event==="autosave"?(v(!0),ke.xml&&localStorage.setItem(de,JSON.stringify({lastModified:new Date().toISOString(),xml:ke.xml}))):ke.event==="save"?(v(!1),ke.xml&&E.contentWindow&&(E.contentWindow.postMessage(JSON.stringify({action:"export",format:"xmlpng",xml:ke.xml,spin:"Updating page"}),"*"),localStorage.setItem(de,JSON.stringify({lastModified:new Date().toISOString(),xml:ke.xml})))):ke.event==="exit"&&(localStorage.removeItem(de),v(!1))}catch{}};le.current=ye,window.addEventListener("message",ye),E.onerror=ue=>{console.error("âŒ Error loading draw.io:",ue),x(!1),ge(!1),Y.current&&(Y.current.innerHTML=`
            <div style="padding: 40px; text-align: center; color: #666;">
              <h3 style="color: #dc2626; margin-bottom: 16px;">âš ï¸ Editor Loading Error</h3>
              <p style="margin-bottom: 8px;">Failed to load draw.io editor</p>
              <p style="font-size: 14px; color: #999;">Please check your internet connection and try again.</p>
            </div>
          `)},Y.current.appendChild(E),fe.current=E}catch(E){console.error("âŒ Error initializing draw.io:",E),x(!1),ge(!1),Y.current&&(Y.current.innerHTML=`
          <div style="padding: 40px; text-align: center; color: #666;">
            <h3 style="color: #dc2626; margin-bottom: 16px;">âš ï¸ Editor Initialization Error</h3>
            <p style="margin-bottom: 8px;">${E instanceof Error?E.message:"Unknown error"}</p>
            <p style="font-size: 14px; color: #999;">Please check the browser console for details.</p>
          </div>
        `)}},[Ae]);Se.useEffect(()=>{const H=(n==null?void 0:n.id)||(w?"new":null),S=H&&H!==ne.current;return Y.current&&S&&U(n),()=>{if(le.current&&(window.removeEventListener("message",le.current),le.current=null),fe.current&&Y.current){try{Y.current.contains(fe.current)&&Y.current.removeChild(fe.current)}catch{}fe.current=null}}},[U,n==null?void 0:n.id,w]);const M=async()=>{if(!e||!s)return;const H=w.trim()||`New ${s} Diagram`,S=`${H.replace(/[^a-z0-9]/gi,"_")}.drawio`,E={id:crypto.randomUUID(),projectId:e.id,fileName:S,fileType:"image/png",fileSize:0,fileContent:"",artifactType:"ARCHITECTURE",uploadedAt:new Date};i(E),d(!1),b(H),F(""),v(!1)},J=async()=>{if(!e||!n){alert("Please create or select a diagram first.");return}if(!fe.current||!fe.current.contentWindow){alert("Editor is not ready yet. Please wait for the editor to load.");return}if(!re){alert("Editor is still loading. Please wait a moment and try again.");return}try{y(!0),fe.current.contentWindow.postMessage(JSON.stringify({action:"export",format:"xmlpng"}),"*")}catch(H){console.error("Error saving diagram:",H),alert("Error saving diagram. Please try again."),y(!1)}},ce=()=>{alert("To auto-arrange shapes, use the Arrange menu in the draw.io editor (Arrange â†’ Layout) or select shapes and use the layout options in the toolbar.")},ee=H=>{alert(`To add "${H.name}", use the draw.io shapes panel on the left side of the editor. Draw.io provides a full-featured shape library with ${H.layer} layer shapes.`)},Z=async()=>{if(!(!e||!k.trim())){T(!0);try{alert("AI diagram generation feature coming soon. For now, you can create diagrams manually using the draw.io editor."),g(!1),$("")}catch(H){console.error("Error generating diagram:",H),alert("Error generating diagram with AI")}finally{T(!1)}}},me=async H=>{if(e)try{const S=await H.text(),E=H.name,P=await _.addArtifact({projectId:e.id,fileName:E,fileType:H.type||"application/xml",fileSize:H.size,fileContent:S,artifactType:"ARCHITECTURE"});i(P),f(!1),await oe()}catch(S){console.error("Error importing file:",S),alert("Error importing file. Please try again.")}},B=H=>{if(!fe.current||!fe.current.contentWindow){alert("Please create or select a diagram first.");return}try{fe.current.contentWindow.postMessage(JSON.stringify({action:"export",format:H.toLowerCase()}),"*")}catch(S){console.error("Error exporting:",S),alert("Error exporting diagram. Please use the File menu in the draw.io editor.")}},te=async()=>{if(!e)try{const H=await _.createProject({name:`Architecture Project ${new Date().toLocaleDateString()}`,description:"Quick project for architecture modeling"});alert(`Project "${H.name}" created! Please select it from the sidebar to continue.`),window.location.reload()}catch(H){console.error("Error creating project:",H),alert("Error creating project. Please try again.")}};return e?l.jsxs("div",{className:"h-full flex flex-col bg-white rounded-lg shadow-md overflow-hidden",children:[l.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white p-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(GA,{size:24}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold",children:"Architecture Modeling Studio"}),l.jsx("p",{className:"text-sm text-purple-100",children:"Canvas-based diagramming with drag-and-drop"})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("button",{onClick:()=>d(!0),className:"flex items-center space-x-2 bg-white text-purple-700 px-4 py-2 rounded-lg hover:bg-purple-50 transition-colors font-semibold",children:[l.jsx(Sn,{size:16}),l.jsx("span",{children:"New Diagram"})]}),l.jsxs("button",{onClick:()=>f(!0),className:"flex items-center space-x-2 bg-white text-purple-700 px-4 py-2 rounded-lg hover:bg-purple-50 transition-colors",children:[l.jsx(el,{size:16}),l.jsx("span",{children:"Import"})]}),n&&l.jsx("div",{className:"ml-4 px-3 py-1 bg-white bg-opacity-20 rounded text-sm",children:l.jsx("span",{className:"font-medium",children:n.fileName})})]})]}),l.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[l.jsxs("div",{className:"w-64 bg-gray-50 border-r border-gray-200 flex flex-col",children:[l.jsxs("div",{className:"p-4 border-b border-gray-200",children:[l.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Saved Diagrams"}),m?l.jsx("div",{className:"text-sm text-gray-500",children:"Loading..."}):t.length===0?l.jsx("div",{className:"text-sm text-gray-500",children:"No diagrams yet"}):l.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:t.map(H=>l.jsxs("button",{onClick:()=>{i(H),b(H.fileName.replace(".drawio","").replace(".xml",""))},className:`w-full text-left px-2 py-1 rounded text-sm transition-colors ${(n==null?void 0:n.id)===H.id?"bg-purple-600 text-white":"bg-white text-gray-700 hover:bg-gray-200"}`,children:[l.jsx(pn,{size:12,className:"inline mr-1"}),H.fileName]},H.id))})]}),l.jsxs("div",{className:"p-4 border-b border-gray-200",children:[l.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Stencil Library"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:["BUSINESS","APPLICATION","DATA","TECHNOLOGY","SOLUTION"].map(H=>l.jsx("button",{onClick:()=>Q(R===H?null:H),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${R===H?"bg-purple-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:H},H))})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:R&&l.jsx("div",{className:"space-y-2",children:O[R].map(H=>l.jsxs("button",{onClick:()=>ee(H),className:"w-full flex items-center space-x-3 p-3 bg-white rounded-lg border border-gray-200 hover:border-purple-500 hover:shadow-md transition-all text-left",children:[l.jsx("div",{style:{color:H.color},children:H.icon}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-800",children:H.name}),l.jsx("div",{className:"text-xs text-gray-500",children:H.type})]})]},H.id))})})]}),l.jsxs("div",{className:"flex-1 flex flex-col",children:[l.jsxs("div",{className:"bg-gray-100 border-b border-gray-200 p-2 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("select",{value:o,onChange:H=>c(H.target.value),className:"px-3 py-1 border border-gray-300 rounded text-sm",children:[l.jsx("option",{value:"AS_IS",children:"As-Is"}),l.jsx("option",{value:"TO_BE",children:"To-Be"}),l.jsx("option",{value:"SCENARIO",children:"Scenario"})]}),l.jsxs("button",{onClick:ce,className:"flex items-center space-x-1 px-3 py-1 bg-white border border-gray-300 rounded hover:bg-gray-50 text-sm",children:[l.jsx(JE,{size:14}),l.jsx("span",{children:"Auto Layout"})]}),l.jsxs("button",{onClick:()=>g(!0),className:"flex items-center space-x-1 px-3 py-1 bg-white border border-gray-300 rounded hover:bg-gray-50 text-sm",children:[l.jsx(as,{size:14}),l.jsx("span",{children:"AI Generate"})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("button",{onClick:()=>B("PNG"),className:"flex items-center space-x-1 px-3 py-1 bg-white border border-gray-300 rounded hover:bg-gray-50 text-sm",children:[l.jsx(Ya,{size:14}),l.jsx("span",{children:"PNG"})]}),l.jsxs("button",{onClick:()=>B("SVG"),className:"flex items-center space-x-1 px-3 py-1 bg-white border border-gray-300 rounded hover:bg-gray-50 text-sm",children:[l.jsx(Ya,{size:14}),l.jsx("span",{children:"SVG"})]}),l.jsx("button",{onClick:J,disabled:!n||p,className:"flex items-center space-x-1 px-3 py-1 bg-purple-600 text-white rounded hover:bg-purple-700 text-sm font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:p?l.jsxs(l.Fragment,{children:[l.jsx(Ea,{className:"animate-spin",size:14}),l.jsx("span",{children:"Saving..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(io,{size:14}),l.jsx("span",{children:"Save"})]})}),K&&l.jsx("span",{className:"text-xs text-yellow-600 font-medium",children:"â— Unsaved changes"})]})]}),l.jsxs("div",{ref:Y,className:"flex-1 bg-white border border-gray-300",style:{minHeight:"500px",position:"relative",overflow:"auto"},children:[!re&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-50 z-10",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Ea,{className:"animate-spin mx-auto mb-4 text-purple-600",size:32}),l.jsx("p",{className:"text-gray-600",children:"Loading draw.io editor..."}),l.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"The editor will appear here shortly"})]})}),!n&&!w&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-50 z-10",children:l.jsxs("div",{className:"text-center",children:[l.jsx(GA,{size:48,className:"mx-auto mb-4 text-gray-400"}),l.jsx("p",{className:"text-gray-600 font-semibold",children:"No diagram selected"}),l.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Create a new diagram or select an existing one"})]})})]})]})]}),A&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Create New Diagram"}),l.jsx("button",{onClick:()=>d(!1),className:"text-gray-500 hover:text-gray-700",children:l.jsx(qr,{size:20})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Diagram Name"}),l.jsx("input",{type:"text",value:w,onChange:H=>b(H.target.value),placeholder:`New ${s} Diagram`,className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Diagram Type"}),l.jsx("select",{value:s,onChange:H=>a(H.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:G.map(H=>l.jsx("option",{value:H.value,children:H.label},H.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description (Optional)"}),l.jsx("textarea",{value:I,onChange:H=>F(H.target.value),placeholder:"Brief description of the diagram",className:"w-full px-4 py-2 border border-gray-300 rounded-lg",rows:3})]}),l.jsx("button",{onClick:M,className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-2 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors font-semibold",children:"Create Diagram"})]})]})}),h&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Import Diagram"}),l.jsx("button",{onClick:()=>f(!1),className:"text-gray-500 hover:text-gray-700",children:l.jsx(qr,{size:20})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Supported formats: Visio (.vsdx), draw.io (.drawio), Lucidchart (.json), PlantUML (.puml), BPMN XML (.bpmn)"}),l.jsx("input",{type:"file",accept:".vsdx,.drawio,.xml,.json,.puml,.bpmn",onChange:H=>{var E;const S=(E=H.target.files)==null?void 0:E[0];S&&me(S)},className:"w-full"})]})]})}),u&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-lg",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"AI-Assisted Diagram Creation"}),l.jsx("button",{onClick:()=>g(!1),className:"text-gray-500 hover:text-gray-700",children:l.jsx(qr,{size:20})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Describe the architecture diagram you want to generate"}),l.jsx("textarea",{value:k,onChange:H=>$(H.target.value),placeholder:"e.g., Generate architecture from this text: Payment processing system with API gateway, database, and external payment provider integration",className:"w-full px-4 py-2 border border-gray-300 rounded-lg",rows:5}),l.jsx("button",{onClick:Z,disabled:q||!k.trim(),className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-2 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors font-semibold disabled:opacity-50",children:q?l.jsxs(l.Fragment,{children:[l.jsx(Ea,{className:"animate-spin inline mr-2",size:16}),"Generating..."]}):l.jsxs(l.Fragment,{children:[l.jsx(as,{size:16,className:"inline mr-2"}),"Generate Diagram"]})})]})]})})]}):l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-purple-100 to-blue-100 rounded-full mb-4",children:l.jsx(GA,{size:40,className:"text-purple-600"})}),l.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Architecture Modeling Studio"}),l.jsx("p",{className:"text-gray-600",children:"Create and manage architecture diagrams with drag-and-drop"})]}),l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[l.jsxs("h4",{className:"font-semibold text-blue-900 mb-2 flex items-center",children:[l.jsx(GA,{size:20,className:"mr-2"}),"Get Started"]}),l.jsx("p",{className:"text-blue-800 mb-4",children:"To use the Architecture Modeling Studio, you need to select or create a project first."}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:te,className:"w-full flex items-center justify-center space-x-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-3 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors font-semibold",children:[l.jsx(Sn,{size:20}),l.jsx("span",{children:"Create Quick Project"})]}),l.jsx("div",{className:"text-center",children:l.jsx("p",{className:"text-sm text-blue-700",children:"or"})}),l.jsxs("div",{className:"bg-white border border-blue-200 rounded-lg p-4",children:[l.jsx("p",{className:"text-sm text-blue-800 font-medium mb-2",children:"Select an existing project:"}),l.jsxs("ol",{className:"text-sm text-blue-700 space-y-1 list-decimal list-inside",children:[l.jsx("li",{children:"Look at the sidebar on the left"}),l.jsx("li",{children:"Click on an existing project"}),l.jsx("li",{children:'Or click "New Project" to create one'})]})]})]})]}),l.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[l.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"What you can do:"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx("div",{className:"mt-1 w-2 h-2 bg-purple-600 rounded-full"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-800",children:"Canvas-based Modeling"}),l.jsx("p",{className:"text-gray-600",children:"Powerful diagramming with draw.io editor"})]})]}),l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx("div",{className:"mt-1 w-2 h-2 bg-blue-600 rounded-full"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-800",children:"Multiple Diagram Types"}),l.jsx("p",{className:"text-gray-600",children:"BPMN, UML, ArchiMate, C4, Data Flow, Integration"})]})]}),l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx("div",{className:"mt-1 w-2 h-2 bg-green-600 rounded-full"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-800",children:"Stencil Libraries"}),l.jsx("p",{className:"text-gray-600",children:"Business, Application, Data, Technology layers"})]})]}),l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx("div",{className:"mt-1 w-2 h-2 bg-orange-600 rounded-full"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-gray-800",children:"AI-Assisted Creation"}),l.jsx("p",{className:"text-gray-600",children:"Generate diagrams from text descriptions"})]})]})]})]})]})]})},One=({artifact:e,onClose:t,isSidePanel:r=!1})=>{const n=Se.useRef(null),i=Se.useRef(null),[s,a]=Se.useState(!0),[o,c]=Se.useState(null);Se.useEffect(()=>{if(!n.current||!e)return;let f=null,u=null;return(async()=>{var m;try{a(!0),c(null);const x=e.fileContent.match(/\[PDF_BASE64_START\]([\s\S]+?)\[PDF_BASE64_END\]/);if(!x||!x[1]){c("This file was uploaded before the preview feature was added. Please re-upload to enable preview."),a(!1);return}const p=x[1].trim().replace(/\s/g,""),y=atob(p),w=new Uint8Array(y.length);for(let $=0;$<y.length;$++)w[$]=y.charCodeAt($);const b=e.fileName.toLowerCase();let I=e.fileType||"application/pdf";b.endsWith(".doc")||b.endsWith(".docx")?I="application/vnd.openxmlformats-officedocument.wordprocessingml.document":b.endsWith(".xls")||b.endsWith(".xlsx")?I="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":(b.endsWith(".ppt")||b.endsWith(".pptx"))&&(I="application/vnd.openxmlformats-officedocument.presentationml.presentation");const F=new Blob([w],{type:I});if(f=URL.createObjectURL(F),u=setTimeout(()=>{console.error("PDFTron WebViewer initialization timeout"),c("Preview is taking too long to load. The file may be too large or corrupted. Please try downloading the file."),a(!1)},3e4),n.current){const $=n.current.getBoundingClientRect();($.width===0||$.height===0)&&(console.warn("Viewer container has no dimensions, waiting..."),await new Promise(q=>setTimeout(q,100)))}console.log("Initializing PDFTron WebViewer with document:",e.fileName),console.log("Blob URL:",f),console.log("File size:",e.fileSize,"bytes"),console.log("Viewer container dimensions:",(m=n.current)==null?void 0:m.getBoundingClientRect());const R=await Mf(()=>import("./webviewer.min-edb1ad94.js").then($=>$.w),[],import.meta.url),Q=R.default||R;if(!n.current)throw new Error("Viewer container not available");const k=await Q({path:"/lib",initialDoc:f,licenseKey:"",disabledElements:["toolsHeader","ribbonsDropdown","toolsOverlay","viewControlsOverlay"],enableAnnotations:!1,enableMeasurement:!1,fullAPI:!0,streaming:!0},n.current).catch($=>{throw console.error("WebViewer initialization error:",$),$});u&&(clearTimeout(u),u=null),console.log("PDFTron WebViewer initialized successfully"),i.current=k,a(!1)}catch(x){console.error("Error initializing PDFTron WebViewer:",x),u&&clearTimeout(u),c(`Error loading file preview: ${x instanceof Error?x.message:"Unknown error"}. Please download the file to view it.`),a(!1)}})(),()=>{if(u&&clearTimeout(u),f&&URL.revokeObjectURL(f),i.current){try{i.current.UI.dispose()}catch(m){console.warn("Error disposing WebViewer:",m)}i.current=null}}},[e==null?void 0:e.id,e==null?void 0:e.fileName]);const A=()=>{const f=e.fileContent.match(/\[PDF_BASE64_START\]([\s\S]+?)\[PDF_BASE64_END\]/);if(f&&f[1]){const u=atob(f[1]),g=new Uint8Array(u.length);for(let y=0;y<u.length;y++)g[y]=u.charCodeAt(y);const m=new Blob([g],{type:e.fileType}),x=URL.createObjectURL(m),p=document.createElement("a");p.href=x,p.download=e.fileName,p.click(),URL.revokeObjectURL(x)}else{const u=new Blob([e.fileContent],{type:e.fileType}),g=URL.createObjectURL(u),m=document.createElement("a");m.href=g,m.download=e.fileName,m.click(),URL.revokeObjectURL(g)}},d=f=>({BRD:"Business Requirements Document",FLOW:"Process Flow",SEQUENCE:"Sequence Diagram",ARCHITECTURE:"Architecture Diagram",TECHNICAL_SPEC:"Technical Specification",OTHER:"Other Document"})[f],h=f=>f<1024?f+" B":f<1024*1024?(f/1024).toFixed(2)+" KB":(f/(1024*1024)).toFixed(2)+" MB";return r?l.jsxs("div",{className:"d-flex flex-column h-100 bg-light",children:[l.jsx("div",{className:"bg-white border-bottom border-light shadow-md rounded-top",children:l.jsxs("div",{className:"d-flex align-items-center justify-content-between p-6 mx-4 mx-lg-8",children:[l.jsxs("div",{className:"d-flex align-items-center gap-2 flex-grow-1 min-w-0",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"d-flex align-items-center justify-content-center bg-danger rounded",style:{width:"32px",height:"32px"},children:l.jsx(pn,{size:14,className:"text-white"})})}),l.jsxs("div",{className:"flex-grow-1 min-w-0",children:[l.jsx("h6",{className:"mb-0 text-truncate fw-semibold text-dark",style:{fontSize:"13px",lineHeight:"1.2"},children:e.fileName}),l.jsxs("div",{className:"d-flex align-items-center gap-1 mt-1",children:[l.jsx("small",{className:"text-muted",style:{fontSize:"11px"},children:d(e.artifactType)}),l.jsx("span",{className:"text-muted",children:"â€¢"}),l.jsx("small",{className:"text-muted",style:{fontSize:"11px"},children:h(e.fileSize)})]})]})]}),l.jsxs("div",{className:"d-flex align-items-center gap-1 flex-shrink-0",children:[l.jsxs("button",{onClick:A,className:"btn btn-sm btn-link text-decoration-none p-1 d-flex align-items-center gap-1",title:"Download",style:{fontSize:"12px"},children:[l.jsx(Ya,{size:14}),l.jsx("span",{className:"d-none d-sm-inline",children:"Download"})]}),l.jsx("button",{onClick:t,className:"btn btn-sm btn-link text-decoration-none p-1",title:"Close",children:l.jsx(qr,{size:14})})]})]})}),l.jsx("div",{className:"flex-grow-1 overflow-hidden position-relative bg-white",children:s?l.jsx("div",{className:"d-flex align-items-center justify-content-center h-100 position-absolute top-0 start-0 end-0 bottom-0 bg-light p-6 mx-4 mx-lg-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Ea,{className:"animate-spin text-danger mx-auto",size:24}),l.jsx("p",{className:"text-muted small mt-2 mb-0",children:"Loading preview..."})]})}):o?l.jsx("div",{className:"d-flex align-items-center justify-content-center h-100 p-6 mx-4 mx-lg-8 bg-light",children:l.jsxs("div",{className:"text-center",style:{maxWidth:"300px"},children:[l.jsx("div",{className:"d-inline-flex p-2 bg-light rounded-circle mb-3",children:l.jsx(pn,{size:24,className:"text-secondary"})}),l.jsx("p",{className:"text-dark small mb-3 lh-sm",children:o}),l.jsxs("button",{onClick:A,className:"btn btn-danger btn-sm d-inline-flex align-items-center gap-1",children:[l.jsx(Ya,{size:14}),l.jsx("span",{children:"Download File"})]})]})}):l.jsx("div",{ref:n,className:"h-100 w-100",style:{padding:0,margin:0}})})]}):l.jsx("div",{className:"position-fixed top-0 start-0 end-0 bottom-0 bg-dark bg-opacity-50 d-flex align-items-center justify-content-center",style:{zIndex:1050},onClick:t,children:l.jsxs("div",{className:"bg-white shadow-lg rounded-lg w-100",style:{maxWidth:"1400px",maxHeight:"90vh",margin:"1rem"},onClick:f=>f.stopPropagation(),children:[l.jsx("div",{className:"bg-white border-bottom border-light rounded-top",children:l.jsxs("div",{className:"d-flex align-items-center justify-content-between p-6 mx-4 mx-lg-8",children:[l.jsxs("div",{className:"d-flex align-items-center gap-3 flex-grow-1 min-w-0",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"d-flex align-items-center justify-content-center bg-danger rounded",style:{width:"40px",height:"40px"},children:l.jsx(pn,{size:18,className:"text-white"})})}),l.jsxs("div",{className:"flex-grow-1 min-w-0",children:[l.jsx("h5",{className:"mb-0 text-truncate fw-semibold text-dark",children:e.fileName}),l.jsxs("div",{className:"d-flex align-items-center gap-2 mt-1",children:[l.jsx("small",{className:"text-muted",children:d(e.artifactType)}),l.jsx("span",{className:"text-muted",children:"â€¢"}),l.jsx("small",{className:"text-muted",children:h(e.fileSize)})]})]})]}),l.jsxs("div",{className:"d-flex align-items-center gap-1 flex-shrink-0",children:[l.jsxs("button",{onClick:A,className:"btn btn-sm btn-link text-decoration-none d-flex align-items-center gap-2",title:"Download",children:[l.jsx(Ya,{size:16}),l.jsx("span",{children:"Download"})]}),l.jsx("button",{onClick:t,className:"btn btn-sm btn-link text-decoration-none",title:"Close",children:l.jsx(qr,{size:16})})]})]})}),l.jsx("div",{className:"flex-grow-1 overflow-hidden position-relative bg-light",style:{height:"calc(90vh - 70px)"},children:s?l.jsx("div",{className:"d-flex align-items-center justify-content-center h-100 position-absolute top-0 start-0 end-0 bottom-0 bg-light p-6 mx-4 mx-lg-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Ea,{className:"animate-spin text-danger mx-auto",size:28}),l.jsx("p",{className:"text-muted small mt-3 mb-0",children:"Loading preview..."})]})}):o?l.jsx("div",{className:"d-flex align-items-center justify-content-center h-100 p-6 mx-4 mx-lg-8 bg-light",children:l.jsxs("div",{className:"text-center",style:{maxWidth:"400px"},children:[l.jsx("div",{className:"d-inline-flex p-3 bg-light rounded-circle mb-3",children:l.jsx(pn,{size:32,className:"text-secondary"})}),l.jsx("p",{className:"text-dark small mb-4 lh-sm",children:o}),l.jsxs("button",{onClick:A,className:"btn btn-danger btn-sm d-inline-flex align-items-center gap-2",children:[l.jsx(Ya,{size:16}),l.jsx("span",{children:"Download File"})]})]})}):l.jsx("div",{ref:n,className:"h-100 w-100 bg-white",style:{padding:0,margin:0}})})]})})},Pne=()=>{const[e,t]=Se.useState(!1),[r,n]=Se.useState(!1),[i,s]=Se.useState(!1),[a,o]=Se.useState(null),[c,A]=Se.useState(null),d=async()=>{try{o(null),A(null),await hp(),A("Database exported successfully! The file can be shared across browsers.")}catch(f){o(f.message||"Failed to export database")}},h=async f=>{var g;const u=(g=f.target.files)==null?void 0:g[0];if(u)try{t(!0),o(null),A(null),await x6(u),A("Database imported successfully! Page will reload...")}catch(m){o(m.message||"Failed to import database"),t(!1)}finally{f.target.value=""}};return l.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[l.jsx(no,{className:"text-red-700",size:28}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Database Management"})]}),l.jsx("p",{className:"text-gray-600",children:"Export or import your database file to share it across different browsers. The database file contains all your projects, artifacts, and generated content."})]}),a&&l.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start space-x-3",children:[l.jsx(E6,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),l.jsx("p",{className:"text-sm text-red-700",children:a})]}),c&&l.jsx("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:l.jsx("p",{className:"text-sm text-green-700",children:c})}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-6 mb-6",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Actions"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("button",{onClick:async()=>{try{s(!0),o(null),A(null),await gL(),A("Migration completed successfully! All browser data has been migrated to the file database."),setTimeout(()=>{window.location.reload()},2e3)}catch(f){o(f.message||"Failed to migrate data from IndexedDB")}finally{s(!1)}},disabled:i,className:"flex items-center justify-center space-x-2 bg-orange-600 text-white px-6 py-3 rounded-lg hover:bg-orange-700 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(Zx,{size:20,className:i?"animate-spin":""}),l.jsx("span",{children:i?"Migrating...":"Migrate Browser Data"})]}),"showOpenFilePicker"in window?l.jsxs("button",{onClick:async()=>{try{n(!0),o(null),A(null),await g6()&&(A("Database file selected! Changes will be saved automatically to this file. You can now use this same file in other browsers by selecting it there too."),setTimeout(()=>{window.location.reload()},2e3))}catch(f){f.name!=="AbortError"&&o(f.message||"Failed to select database file")}finally{n(!1)}},disabled:r,className:"flex items-center justify-center space-x-2 bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(mp,{size:20}),l.jsx("span",{children:r?"Selecting...":"Select Database File"})]}):l.jsxs("div",{className:"flex items-center justify-center space-x-2 bg-gray-300 text-gray-600 px-6 py-3 rounded-lg cursor-not-allowed",children:[l.jsx(mp,{size:20}),l.jsx("span",{children:"Select Database File (Not Available)"})]}),l.jsxs("button",{onClick:d,className:"flex items-center justify-center space-x-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:[l.jsx(Ya,{size:20}),l.jsx("span",{children:"Export Database"})]}),l.jsxs("label",{className:"flex items-center justify-center space-x-2 bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors font-semibold cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(el,{size:20}),l.jsx("span",{children:e?"Importing...":"Import Database"}),l.jsx("input",{type:"file",accept:".db,.sqlite,.sqlite3",onChange:h,disabled:e,className:"hidden"})]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"bg-white rounded-lg shadow-md border border-orange-200 p-6",children:l.jsxs("div",{className:"flex items-start space-x-3 mb-3",children:[l.jsx(UO,{className:"text-orange-600 flex-shrink-0 mt-0.5",size:20}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-base font-semibold text-gray-800 mb-2",children:"ðŸ”” First Time Setup"}),l.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:'If you have existing data in your browser, click "Migrate Browser Data" to transfer all your projects, artifacts, and generated content from IndexedDB to the SQLite file database.'})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow-md border border-blue-200 p-6",children:l.jsxs("div",{className:"flex items-start space-x-3 mb-3",children:[l.jsx(QO,{className:"text-blue-600 flex-shrink-0 mt-0.5",size:20}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-base font-semibold text-gray-800 mb-3",children:"How to use across browsers:"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Method 1 (Recommended - Chrome/Edge):"}),l.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:'Use "Select Database File" to choose a shared database file location. The app will automatically save to this file, making it accessible from any browser.'})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Method 2 (All browsers):"}),l.jsxs("ol",{className:"text-sm text-gray-700 leading-relaxed list-decimal list-inside space-y-1",children:[l.jsx("li",{children:"Export the database from one browser"}),l.jsx("li",{children:"Save the file to a shared location (e.g., cloud storage, USB drive, network drive)"}),l.jsx("li",{children:"Import the file in another browser"}),l.jsx("li",{children:"All your projects and data will be available!"})]})]})]})]})]})})]})]})},Qne=({project:e})=>{const[t,r]=Se.useState([]),[n,i]=Se.useState(null),[s,a]=Se.useState(!1),[o,c]=Se.useState(!1),[A,d]=Se.useState({}),h=Se.useRef(null),f=Se.useMemo(()=>new so,[]),u=Se.useCallback(async()=>{if(!e){r([]);return}const R=(await f.getArtifactsByProject(e.id)).filter(Q=>Q.artifactType==="ARCHITECTURE");r(R)},[e,f]);Se.useEffect(()=>{u()},[u]);const g=async F=>{const R=F.target.files;if(!(!R||R.length===0||!e)){c(!0);try{for(const Q of Array.from(R)){let k;try{k=await Q.text()}catch{const q=await Q.arrayBuffer();k=btoa(String.fromCharCode(...new Uint8Array(q)))}await f.addArtifact({projectId:e.id,fileName:Q.name,fileType:Q.type||"application/octet-stream",fileSize:Q.size,fileContent:k,artifactType:"ARCHITECTURE"})}await u(),a(!1)}catch(Q){console.error("Error uploading file:",Q),alert("Error uploading file. Please try again.")}finally{c(!1),h.current&&(h.current.value="")}}},m=F=>{let R;try{const $=atob(F.fileContent),q=new Uint8Array($.length);for(let T=0;T<$.length;T++)q[T]=$.charCodeAt(T);R=new Blob([q],{type:F.fileType||"application/octet-stream"})}catch{R=new Blob([F.fileContent],{type:F.fileType||"text/plain"})}const Q=URL.createObjectURL(R),k=document.createElement("a");k.href=Q,k.download=F.fileName,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(Q)},x=async F=>{if(confirm(`Are you sure you want to delete "${F.fileName}"?`))try{await f.deleteArtifact(F.id),await u(),(n==null?void 0:n.id)===F.id&&i(null)}catch(R){console.error("Error deleting diagram:",R),alert("Error deleting diagram. Please try again.")}},p=F=>{if(!(F.fileName.endsWith(".drawio")||F.fileName.endsWith(".xml")||F.fileType==="application/xml")){alert(`This file (${F.fileName}) is not a Draw.io file. Please download it and open with the appropriate application.`),m(F);return}let Q;try{const $=atob(F.fileContent),q=new Uint8Array($.length);for(let T=0;T<$.length;T++)q[T]=$.charCodeAt(T);Q=new Blob([q],{type:"application/xml"})}catch{Q=new Blob([F.fileContent],{type:"application/xml"})}const k=URL.createObjectURL(Q);window.open("https://app.diagrams.net/","_blank"),setTimeout(()=>{alert(`To edit this diagram:

1. The Draw.io app should open in a new tab
2. Click "File" â†’ "Open from..." â†’ "Device"
3. Download this file first, then open it in Draw.io

Or download the file and open it directly with Draw.io desktop app.`),m(F)},500),URL.revokeObjectURL(k)},y=F=>F<1024?F+" B":F<1024*1024?(F/1024).toFixed(2)+" KB":(F/(1024*1024)).toFixed(2)+" MB",w={};t.forEach(F=>{const R=F.artifactType;w[R]||(w[R]=[]),w[R].push(F)});const b=F=>{d(R=>({...R,[F]:!R[F]}))},I=F=>({BRD:"Business Requirements",FLOW:"Process Flow",SEQUENCE:"Sequence Diagram",ARCHITECTURE:"Architecture Diagrams",TECHNICAL_SPEC:"Technical Specification",OTHER:"Other Documents"})[F]||F;return e?l.jsxs("div",{className:"flex h-[calc(100vh-180px)] gap-0",children:[l.jsxs("div",{className:"w-80 bg-white rounded-lg shadow-md flex flex-col border-r border-gray-200",children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h2",{className:"text-lg font-bold text-gray-800 flex items-center space-x-2",children:[l.jsx(gd,{size:20}),l.jsx("span",{children:"Technology Artifacts"})]}),l.jsx("button",{onClick:()=>a(!0),className:"p-2 bg-red-700 text-white rounded-lg hover:bg-red-800 transition-colors",title:"Upload File",children:l.jsx(Sn,{size:18})})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto",children:t.length===0?l.jsxs("div",{className:"p-8 text-center",children:[l.jsx(gd,{size:32,className:"mx-auto text-gray-300 mb-2"}),l.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"No technology artifacts yet"}),l.jsxs("button",{onClick:()=>a(!0),className:"inline-flex items-center space-x-2 bg-red-700 text-white px-4 py-2 rounded-lg hover:bg-red-800 transition-colors text-sm font-semibold",children:[l.jsx(el,{size:16}),l.jsx("span",{children:"Upload First File"})]})]}):l.jsx("div",{className:"p-2",children:Object.entries(w).map(([F,R])=>l.jsxs("div",{className:"mb-2",children:[l.jsx("button",{onClick:()=>b(F),className:"w-full flex items-center justify-between p-2 hover:bg-gray-50 rounded-lg transition-colors",children:l.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[l.jsx(il,{size:16,className:`transition-transform text-gray-500 flex-shrink-0 ${A[F]?"rotate-90":""}`}),l.jsx("span",{className:"text-sm font-medium text-gray-700 truncate",children:I(F)}),l.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-1.5 py-0.5 rounded-full flex-shrink-0",children:R.length})]})}),A[F]&&l.jsx("div",{className:"ml-4 mt-1 space-y-1",children:R.map(Q=>l.jsxs("button",{onClick:()=>i(Q),className:`w-full flex items-center space-x-2 p-2 rounded-lg text-sm transition-colors text-left ${(n==null?void 0:n.id)===Q.id?"bg-red-100 text-red-700 font-medium":"hover:bg-gray-50 text-gray-600"}`,title:Q.fileName,children:[l.jsx(pn,{size:14,className:"flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"truncate",children:Q.fileName}),l.jsx("p",{className:"text-xs text-gray-500 truncate",children:y(Q.fileSize)})]})]},Q.id))})]},F))})})]}),l.jsx("div",{className:"flex-1 bg-white rounded-lg shadow-md overflow-hidden flex flex-col border-l border-gray-200",children:n?l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsx("div",{className:"p-4 border-b border-gray-200 bg-gradient-to-r from-red-700 to-red-800 text-white",children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"flex items-center justify-between mb-3",children:l.jsx("h3",{className:"text-xl font-bold",children:n.fileName})}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("span",{className:"inline-flex items-center text-xs bg-white text-red-700 px-2.5 py-1 rounded-md font-medium",children:I(n.artifactType)}),l.jsx("span",{className:"inline-flex items-center text-xs text-white bg-red-600 bg-opacity-40 px-2.5 py-1 rounded-md",children:y(n.fileSize)}),l.jsxs("span",{className:"inline-flex items-center text-xs text-white bg-red-600 bg-opacity-40 px-2.5 py-1 rounded-md",children:["Uploaded: ",new Date(n.uploadedAt).toLocaleDateString()]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[l.jsxs("button",{onClick:()=>p(n),className:"flex items-center gap-2 bg-white text-red-700 px-4 py-2 rounded-lg hover:bg-red-50 transition-colors font-semibold whitespace-nowrap",title:"Open in Draw.io Editor",children:[l.jsx(XE,{size:16,className:"text-red-700"}),l.jsx("span",{children:"Open in Draw.io"})]}),l.jsxs("button",{onClick:()=>m(n),className:"flex items-center gap-2 bg-white text-red-700 px-4 py-2 rounded-lg hover:bg-red-50 transition-colors font-semibold whitespace-nowrap",title:"Download File",children:[l.jsx(Ya,{size:16,className:"text-red-700"}),l.jsx("span",{children:"Download"})]}),l.jsx("button",{onClick:()=>x(n),className:"p-2 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg transition-colors text-white",title:"Delete",children:l.jsx(Il,{size:18,className:"text-white"})}),l.jsx("button",{onClick:()=>i(null),className:"p-2 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg transition-colors text-white",title:"Close",children:l.jsx(qr,{size:18,className:"text-white"})})]})]})}),l.jsx("div",{className:"flex-1 overflow-auto p-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg p-5 border border-gray-200 shadow-sm",children:[l.jsxs("h4",{className:"text-sm font-bold text-gray-800 mb-4 flex items-center gap-2",children:[l.jsx(pn,{size:16,className:"text-gray-600"}),l.jsx("span",{children:"File Information"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[l.jsx("p",{className:"text-gray-500 font-medium mb-1.5 text-xs uppercase tracking-wide",children:"Name"}),l.jsx("p",{className:"text-gray-900 font-semibold truncate",children:n.fileName})]}),l.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[l.jsx("p",{className:"text-gray-500 font-medium mb-1.5 text-xs uppercase tracking-wide",children:"Type"}),l.jsx("p",{className:"text-gray-900",children:n.fileType||"application/xml"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[l.jsx("p",{className:"text-gray-500 font-medium mb-1.5 text-xs uppercase tracking-wide",children:"Size"}),l.jsx("p",{className:"text-gray-900 font-semibold",children:y(n.fileSize)})]}),l.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[l.jsx("p",{className:"text-gray-500 font-medium mb-1.5 text-xs uppercase tracking-wide",children:"Uploaded"}),l.jsx("p",{className:"text-gray-900",children:new Date(n.uploadedAt).toLocaleString()})]})]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 rounded-lg p-5 border border-blue-200 shadow-sm",children:[l.jsxs("h4",{className:"text-sm font-bold text-gray-800 mb-3 flex items-center gap-2",children:[l.jsx(XE,{size:16,className:"text-blue-600"}),l.jsx("span",{children:"Quick Actions"})]}),l.jsxs("div",{className:"space-y-3 text-sm text-gray-700",children:[l.jsx("p",{className:"font-semibold text-gray-800 mb-2",children:"To edit this file:"}),l.jsxs("ol",{className:"list-decimal list-inside space-y-2 ml-2",children:[l.jsxs("li",{children:["Click ",l.jsx("strong",{className:"text-blue-700",children:'"Download"'})," to save the file to your computer"]}),l.jsxs("li",{children:["Open the file with Draw.io desktop app or visit ",l.jsx("a",{href:"https://app.diagrams.net",target:"_blank",rel:"noopener noreferrer",className:"text-blue-700 hover:text-blue-800 underline font-semibold",children:"app.diagrams.net"})]}),l.jsx("li",{children:"Make your edits and save the updated file"}),l.jsx("li",{children:"Upload the updated file here to replace the current version"})]}),l.jsxs("div",{className:"mt-4 p-3 bg-gradient-to-r from-blue-100 to-indigo-100 rounded-lg border border-blue-200 text-xs text-blue-900 font-medium",children:[l.jsx("strong",{children:"ðŸ’¡ Tip:"})," This is a file management system. To edit diagrams, use the Draw.io application separately."]})]})]}),l.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg p-5 border border-gray-200 shadow-sm",children:[l.jsxs("h4",{className:"text-sm font-bold text-gray-800 mb-3 flex items-center gap-2",children:[l.jsx(pn,{size:16,className:"text-gray-600"}),l.jsx("span",{children:"File Content Preview"})]}),l.jsx("div",{className:"bg-gradient-to-br from-gray-900 to-black text-green-400 p-5 rounded-lg overflow-auto font-mono text-xs max-h-96 border-2 border-gray-700 shadow-inner",children:l.jsxs("pre",{className:"whitespace-pre-wrap leading-relaxed",children:[n.fileContent.substring(0,2e3),n.fileContent.length>2e3?`

... (truncated)`:""]})}),n.fileContent.length>2e3&&l.jsx("div",{className:"mt-3 p-2 bg-blue-50 border border-blue-200 rounded text-xs text-blue-700 italic",children:"Showing first 2000 characters. Full content available when downloaded."})]})]})})]}):l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center",children:[l.jsx(gd,{size:48,className:"mx-auto text-gray-300 mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Select a file to view details"}),l.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Choose a technology artifact from the list on the left"})]})})}),s&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[l.jsxs("div",{className:"bg-red-700 text-white p-4 flex items-center justify-between rounded-t-lg",children:[l.jsx("h3",{className:"text-xl font-bold",children:"Upload Technology Artifact"}),l.jsx("button",{onClick:()=>{a(!1),h.current&&(h.current.value="")},className:"text-white hover:text-red-200 transition-colors",children:l.jsx(qr,{size:24})})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Technology Artifact Files (Any file type)"}),l.jsx("input",{ref:h,type:"file",multiple:!0,onChange:g,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",disabled:o}),l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"You can upload multiple files of any type at once. Files will be saved as Technology Artifacts."})]}),o&&l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:l.jsx("p",{className:"text-sm text-blue-700",children:"Uploading files... Please wait."})}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"How to use:"}),l.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-xs text-gray-600",children:[l.jsx("li",{children:"Create or edit your diagram in Draw.io"}),l.jsx("li",{children:"Save the file as .drawio or .xml"}),l.jsx("li",{children:"Upload it here for storage and version control"}),l.jsx("li",{children:"Download it later to edit again"})]})]})]}),l.jsx("div",{className:"border-t border-gray-200 p-4 flex justify-end",children:l.jsx("button",{onClick:()=>{a(!1),h.current&&(h.current.value="")},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-semibold text-gray-900 bg-white",children:"Close"})})]})})]}):l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[l.jsx(gd,{size:48,className:"mx-auto text-gray-300 mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Please select a project to manage Technology Artifacts"})]})},Zk=({projectName:e,projectDescription:t,coverPageSettings:r={},coverPageContent:n,onSave:i,isEditable:s=!0,onImageUpload:a})=>{const[o,c]=Se.useState(!1),[A,d]=Se.useState(""),h=()=>`
      <div style="background-color: #000000; min-height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 60px 40px; color: #ffffff;">
        <div style="text-align: center; max-width: 800px; width: 100%;">
          <h1 style="color: #8B1A1A; font-size: 48px; font-weight: bold; margin-bottom: 40px; font-family: Arial, sans-serif;">
            Solution Architecture Design Document
          </h1>
          <div style="text-align: left; margin-top: 60px;">
            <p style="color: #666666; font-size: 18px; font-weight: 600; margin: 0; font-family: Arial, sans-serif;">
              CONFIDENTIALITY DISCLAIMER
            </p>
          </div>
        </div>
      </div>
    `,f=async()=>{try{await i(r,A),c(!1)}catch(x){console.error("Error saving cover page:",x),alert("Error saving cover page. Please try again.")}},u=()=>{const x=h();d(n||x),c(!1)},g=()=>{const x=h();d(n||x),c(!0)};if(o)return l.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-6 mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Edit Cover Page"}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("button",{onClick:f,className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors font-semibold",children:[l.jsx(io,{size:16}),l.jsx("span",{children:"Save"})]}),l.jsxs("button",{onClick:u,className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-semibold",children:[l.jsx(qr,{size:16}),l.jsx("span",{children:"Cancel"})]})]})]}),l.jsx("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:l.jsx(hu,{value:A,onChange:d,height:500,placeholder:"Enter your cover page HTML content here. Use the source code button to edit HTML directly."})})]});const m=n||h();return l.jsxs("div",{className:"relative group",children:[s&&l.jsxs("button",{onClick:g,className:"absolute top-4 right-4 z-20 flex items-center space-x-2 bg-white text-red-700 px-4 py-2 rounded-lg shadow-lg hover:bg-red-50 transition-colors font-semibold",title:"Edit Cover Page",children:[l.jsx(n0,{size:16}),l.jsx("span",{children:"Edit"})]}),l.jsx("div",{className:"cover-page min-h-[600px] relative bg-white rounded-lg overflow-hidden border border-gray-200",style:{pageBreakAfter:"always"},children:l.jsx("div",{className:"ck-content w-full",dangerouslySetInnerHTML:{__html:m},style:{backgroundColor:"transparent"}})})]})},Mne=({project:e,asIsDiagram:t,toBeDiagram:r,scenarioDiagrams:n=[]})=>{const[i,s]=Se.useState("AS_IS_TO_BE"),[a,o]=Se.useState(null),[c,A]=Se.useState(!1),h=(()=>{var k,$;if(!t||!r)return{addedElements:0,removedElements:0,modifiedElements:0,costImpact:0,complexityImpact:"LOW",riskImpact:"LOW",performanceImpact:0};const g=((k=t.canvasData)==null?void 0:k.nodes)||[],m=(($=r.canvasData)==null?void 0:$.nodes)||[],x=new Set(g.map(q=>q.id)),p=new Set(m.map(q=>q.id)),y=m.filter(q=>!x.has(q.id)).length,w=g.filter(q=>!p.has(q.id)).length,b=m.filter(q=>{if(!x.has(q.id))return!1;const T=g.find(K=>K.id===q.id);return JSON.stringify(T)!==JSON.stringify(q)}).length,I=(y+b)*1e4+w*5e3,F=y+b>10?"HIGH":y+b>5?"MEDIUM":"LOW",R=w>5?"HIGH":w>2?"MEDIUM":"LOW",Q=(y-w)/Math.max(g.length,1)*100;return{addedElements:y,removedElements:w,modifiedElements:b,costImpact:I,complexityImpact:F,riskImpact:R,performanceImpact:Q}})(),u=(()=>{const g=["Cost","Complexity","Risk","Performance","Timeline"],m=["As-Is","To-Be",...n.map(p=>p.name)],x=[];return g.forEach((p,y)=>{m.forEach((w,b)=>{let I=0;p==="Cost"?I=b===0?50:b===1?80:70:p==="Complexity"?I=b===0?60:b===1?75:70:p==="Risk"?I=b===0?40:b===1?55:50:p==="Performance"?I=b===0?70:b===1?90:85:p==="Timeline"&&(I=b===0?50:b===1?30:40),x.push({x:p,y:w,value:I,label:`${I}%`})})}),{dimensions:g,data:x}})();return e?l.jsxs("div",{className:"h-full flex flex-col bg-white rounded-lg shadow-md overflow-hidden",children:[l.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white p-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx($0,{size:24}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold",children:"Multi-View Architecture Comparison"}),l.jsx("p",{className:"text-sm text-purple-100",children:"As-Is / To-Be / Scenario Analysis"})]})]}),l.jsx("div",{className:"flex items-center space-x-2",children:l.jsxs("button",{onClick:()=>A(!c),className:"flex items-center space-x-2 bg-white text-purple-700 px-4 py-2 rounded-lg hover:bg-purple-50 transition-colors",children:[l.jsx(fp,{size:16}),l.jsxs("span",{children:[c?"Hide":"Show"," Heatmap"]})]})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[l.jsxs("div",{className:"mb-6 flex space-x-2",children:[l.jsx("button",{onClick:()=>s("AS_IS_TO_BE"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${i==="AS_IS_TO_BE"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"As-Is vs To-Be"}),n.length>0&&l.jsx("button",{onClick:()=>s("SCENARIO"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${i==="SCENARIO"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Scenario Comparison"})]}),i==="AS_IS_TO_BE"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-green-800",children:"Added Elements"}),l.jsx(Op,{size:20,className:"text-green-600"})]}),l.jsx("div",{className:"text-3xl font-bold text-green-700",children:h.addedElements})]}),l.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 border border-red-200 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-red-800",children:"Removed Elements"}),l.jsx(GO,{size:20,className:"text-red-600"})]}),l.jsx("div",{className:"text-3xl font-bold text-red-700",children:h.removedElements})]}),l.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 border border-yellow-200 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Modified Elements"}),l.jsx(Ja,{size:20,className:"text-yellow-600"})]}),l.jsx("div",{className:"text-3xl font-bold text-yellow-700",children:h.modifiedElements})]})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Impact Analysis"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Cost Impact"}),l.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["$",h.costImpact.toLocaleString()]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:`${Math.min(h.costImpact/1e5*100,100)}%`}})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Complexity Impact"}),l.jsx("span",{className:`text-lg font-bold ${h.complexityImpact==="HIGH"?"text-red-600":h.complexityImpact==="MEDIUM"?"text-yellow-600":"text-green-600"}`,children:h.complexityImpact})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full ${h.complexityImpact==="HIGH"?"bg-red-600":h.complexityImpact==="MEDIUM"?"bg-yellow-600":"bg-green-600"}`,style:{width:h.complexityImpact==="HIGH"?"100%":h.complexityImpact==="MEDIUM"?"66%":"33%"}})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Risk Impact"}),l.jsx("span",{className:`text-lg font-bold ${h.riskImpact==="CRITICAL"?"text-red-700":h.riskImpact==="HIGH"?"text-red-600":h.riskImpact==="MEDIUM"?"text-yellow-600":"text-green-600"}`,children:h.riskImpact})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full ${h.riskImpact==="CRITICAL"?"bg-red-700":h.riskImpact==="HIGH"?"bg-red-600":h.riskImpact==="MEDIUM"?"bg-yellow-600":"bg-green-600"}`,style:{width:h.riskImpact==="CRITICAL"?"100%":h.riskImpact==="HIGH"?"75%":h.riskImpact==="MEDIUM"?"50%":"25%"}})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Performance Impact"}),l.jsxs("span",{className:`text-lg font-bold ${h.performanceImpact>0?"text-green-600":"text-red-600"}`,children:[h.performanceImpact>0?"+":"",h.performanceImpact.toFixed(1),"%"]})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full ${h.performanceImpact>0?"bg-green-600":"bg-red-600"}`,style:{width:`${Math.min(Math.abs(h.performanceImpact),100)}%`}})})]})]})]})]}),i==="SCENARIO"&&n.length>0&&l.jsx("div",{className:"space-y-4",children:n.map(g=>{var m,x;return l.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200 hover:border-purple-500 transition-colors cursor-pointer",onClick:()=>o(a===g.id?null:g.id),children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-800",children:g.name}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:g.description})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-sm text-gray-500",children:"Elements"}),l.jsx("div",{className:"text-lg font-bold text-gray-800",children:((x=(m=g.canvasData)==null?void 0:m.nodes)==null?void 0:x.length)||0})]})]})},g.id)})}),c&&l.jsxs("div",{className:"mt-6 bg-gray-50 rounded-lg p-6 border border-gray-200",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Impact Heatmap"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"text-left p-2 font-semibold text-gray-700",children:"Dimension"}),u.data.filter((g,m,x)=>x.findIndex(p=>p.y===g.y)===m).map(g=>l.jsx("th",{className:"text-center p-2 font-semibold text-gray-700 min-w-[100px]",children:g.y},g.y))]})}),l.jsx("tbody",{children:u.dimensions.map(g=>l.jsxs("tr",{children:[l.jsx("td",{className:"p-2 font-medium text-gray-700",children:g}),u.data.filter(m=>m.x===g).map(m=>{const x=m.value/100,p=x>.7?"bg-red-500":x>.5?"bg-yellow-500":"bg-green-500";return l.jsx("td",{className:"p-2 text-center",children:l.jsx("div",{className:`${p} text-white rounded px-2 py-1 inline-block font-semibold`,style:{opacity:.7+x*.3},children:m.label})},`${m.x}-${m.y}`)})]},g))})]})})]})]})]}):l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[l.jsx($0,{size:48,className:"mx-auto text-gray-300 mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Please select a project to view architecture comparisons"})]})},Hne=({selectedProject:e})=>{var I;const[t,r]=Se.useState("modeling"),[n,i]=Se.useState(null),[s,a]=Se.useState("AS_IS"),[o,c]=Se.useState([]),[A,d]=Se.useState([]);Se.useState([]);const[h,f]=Se.useState(!1),[u,g]=Se.useState(""),[m,x]=Se.useState(null),p=[{id:"BUSINESS",name:"Business Architecture",icon:l.jsx(Uf,{size:20}),color:"from-purple-500 to-purple-700"},{id:"APPLICATION",name:"Application Architecture",icon:l.jsx(Ja,{size:20}),color:"from-blue-500 to-blue-700"},{id:"DATA",name:"Data Architecture",icon:l.jsx(no,{size:20}),color:"from-green-500 to-green-700"},{id:"TECHNOLOGY",name:"Technology Architecture",icon:l.jsx(kd,{size:20}),color:"from-orange-500 to-orange-700"},{id:"SOLUTION",name:"Solution Architecture",icon:l.jsx(r0,{size:20}),color:"from-pink-500 to-pink-700"}],y=Se.useCallback((F,R)=>{const Q={id:`elem-${Date.now()}`,layer:F,name:`New ${R}`,description:"",type:R,metadata:{risk:"MEDIUM",lifecycleStage:"PLANNED"},relationships:[],createdAt:new Date,updatedAt:new Date,version:"1.0",tags:[],state:s};c([...o,Q]),f(!1)},[o,s]),w=Se.useCallback(async()=>{if(!u.trim())return;const F=u.toLowerCase(),R=o.filter(k=>{var $;return!!(F.includes("system")&&k.layer==="APPLICATION"||F.includes("integration")&&k.type.includes("integration")||F.includes("data")&&k.layer==="DATA"||k.name.toLowerCase().includes(F)||($=k.description)!=null&&$.toLowerCase().includes(F))}),Q={elements:R,relationships:[],summary:{totalElements:R.length,byLayer:{BUSINESS:R.filter(k=>k.layer==="BUSINESS").length,APPLICATION:R.filter(k=>k.layer==="APPLICATION").length,DATA:R.filter(k=>k.layer==="DATA").length,TECHNOLOGY:R.filter(k=>k.layer==="TECHNOLOGY").length,SOLUTION:R.filter(k=>k.layer==="SOLUTION").length},byState:{AS_IS:R.filter(k=>k.state==="AS_IS").length,TO_BE:R.filter(k=>k.state==="TO_BE").length,SCENARIO:R.filter(k=>k.state==="SCENARIO").length},byLifecycle:{PLANNED:R.filter(k=>k.metadata.lifecycleStage==="PLANNED").length,IN_DEVELOPMENT:R.filter(k=>k.metadata.lifecycleStage==="IN_DEVELOPMENT").length,PRODUCTION:R.filter(k=>k.metadata.lifecycleStage==="PRODUCTION").length,DEPRECATED:R.filter(k=>k.metadata.lifecycleStage==="DEPRECATED").length,DECOMMISSIONED:R.filter(k=>k.metadata.lifecycleStage==="DECOMMISSIONED").length},dependencies:{directDependencies:{},transitiveDependencies:{},criticalPaths:[],circularDependencies:[]},gaps:[]}};x(Q)},[u,o]),b=Se.useMemo(()=>o.filter(F=>!(n&&F.layer!==n||F.state!==s)),[o,n,s]);return l.jsxs("div",{className:"h-full flex flex-col glass-dark rounded-lg border border-white/10 overflow-hidden",children:[l.jsx("div",{className:"p-4 border-b border-white/10 bg-gradient-to-r from-purple-600/30 via-blue-600/30 to-purple-600/30",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-blue-500 p-2 rounded-lg",children:l.jsx(GA,{size:24,className:"text-white"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:"Enterprise Architecture"}),l.jsx("p",{className:"text-sm text-purple-200/80",children:"Modeling & Road-mapping Engine"})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("button",{onClick:()=>f(!0),className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white rounded-lg transition-all shadow-lg",children:[l.jsx(Sn,{size:16}),l.jsx("span",{children:"Create Element"})]}),l.jsx("button",{className:"p-2 glass hover:bg-white/10 rounded-lg border border-white/20 transition-all",children:l.jsx(X0,{size:18,className:"text-purple-200"})})]})]})}),l.jsx("div",{className:"flex border-b border-white/10 bg-white/5 overflow-x-auto",children:[{id:"multi-view",label:"Multi-View",icon:l.jsx($0,{size:16})},{id:"modeling",label:"Modeling",icon:l.jsx(Uf,{size:16})},{id:"diagrams",label:"Diagrams",icon:l.jsx(yd,{size:16})},{id:"roadmaps",label:"Roadmaps",icon:l.jsx(Xd,{size:16})},{id:"analytics",label:"Analytics",icon:l.jsx(fp,{size:16})},{id:"query",label:"AI Query",icon:l.jsx(Jd,{size:16})}].map(F=>l.jsxs("button",{onClick:()=>r(F.id),className:`flex items-center space-x-2 px-6 py-3 border-b-2 transition-all ${t===F.id?"border-purple-500 text-white bg-purple-500/10":"border-transparent text-purple-200/70 hover:text-purple-200 hover:bg-white/5"}`,children:[F.icon,l.jsx("span",{className:"font-medium",children:F.label})]},F.id))}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[t==="multi-view"&&l.jsx("div",{className:"h-full",children:l.jsx(Mne,{project:e,asIsDiagram:A.find(F=>F.name.includes("As-Is")),toBeDiagram:A.find(F=>F.name.includes("To-Be")),scenarioDiagrams:A.filter(F=>F.name.includes("Scenario"))})}),t==="modeling"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center space-x-4 glass p-4 rounded-lg border border-white/10",children:[l.jsx("span",{className:"text-purple-200 font-medium",children:"Architecture State:"}),["AS_IS","TO_BE","SCENARIO"].map(F=>l.jsx("button",{onClick:()=>a(F),className:`px-4 py-2 rounded-lg transition-all ${s===F?"bg-gradient-to-r from-purple-600 to-blue-600 text-white shadow-lg":"glass text-purple-200 hover:bg-white/10 border border-white/20"}`,children:F.replace("_"," ")},F))]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:p.map(F=>l.jsxs("button",{onClick:()=>i(n===F.id?null:F.id),className:`glass p-4 rounded-lg border transition-all ${n===F.id?`bg-gradient-to-br ${F.color} border-purple-400/50 text-white shadow-lg`:"border-white/20 text-purple-200 hover:bg-white/5 hover:border-purple-500/30"}`,children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[F.icon,l.jsx("span",{className:"font-semibold",children:F.name})]}),l.jsxs("p",{className:"text-xs opacity-80",children:[b.filter(R=>R.layer===F.id).length," elements"]})]},F.id))}),l.jsxs("div",{className:"glass rounded-lg border border-white/10 p-4",children:[l.jsxs("h3",{className:"text-lg font-semibold text-white mb-4",children:["Architecture Elements",n&&` - ${(I=p.find(F=>F.id===n))==null?void 0:I.name}`]}),b.length===0?l.jsxs("div",{className:"text-center py-12 text-purple-200/60",children:[l.jsx(Uf,{size:48,className:"mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"No elements found. Create your first architecture element."})]}):l.jsx("div",{className:"space-y-2",children:b.map(F=>l.jsx("div",{className:"glass p-4 rounded-lg border border-white/10 hover:border-purple-500/30 transition-all",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-white",children:F.name}),l.jsx("p",{className:"text-sm text-purple-200/70 mt-1",children:F.description||"No description"}),l.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[l.jsx("span",{className:"text-xs px-2 py-1 glass rounded border border-purple-500/30 text-purple-200",children:F.layer}),l.jsx("span",{className:"text-xs px-2 py-1 glass rounded border border-blue-500/30 text-blue-200",children:F.type}),F.metadata.risk&&l.jsxs("span",{className:`text-xs px-2 py-1 rounded ${F.metadata.risk==="CRITICAL"?"bg-red-500/20 text-red-200 border border-red-500/30":F.metadata.risk==="HIGH"?"bg-orange-500/20 text-orange-200 border border-orange-500/30":F.metadata.risk==="MEDIUM"?"bg-yellow-500/20 text-yellow-200 border border-yellow-500/30":"bg-green-500/20 text-green-200 border border-green-500/30"}`,children:[F.metadata.risk," Risk"]})]})]}),l.jsx("div",{className:"flex items-center space-x-2",children:l.jsx("button",{className:"p-2 glass hover:bg-white/10 rounded-lg border border-white/20 transition-all",children:l.jsx(X0,{size:16,className:"text-purple-200"})})})]})},F.id))})]})]}),t==="diagrams"&&l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"glass p-6 rounded-lg border border-white/10 text-center",children:[l.jsx(yd,{size:64,className:"mx-auto mb-4 text-purple-400/50"}),l.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Diagramming Interface"}),l.jsx("p",{className:"text-purple-200/70 mb-6",children:"Create visual diagrams with drag-and-drop canvas and stencil UI"}),l.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[l.jsxs("button",{className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white rounded-lg transition-all shadow-lg",children:[l.jsx(Sn,{size:16,className:"inline mr-2"}),"Create Diagram"]}),l.jsxs("button",{className:"px-6 py-3 glass border border-white/20 hover:bg-white/10 text-purple-200 rounded-lg transition-all",children:[l.jsx(el,{size:16,className:"inline mr-2"}),"Import (Visio, JSON)"]})]}),l.jsx("div",{className:"mt-8 grid grid-cols-3 gap-4",children:["BPMN","UML","ArchiMate"].map(F=>l.jsxs("div",{className:"glass p-4 rounded-lg border border-white/10",children:[l.jsxs("h4",{className:"font-semibold text-white mb-2",children:[F," Template"]}),l.jsxs("p",{className:"text-xs text-purple-200/60",children:["Create from ",F," template"]})]},F))})]})}),t==="roadmaps"&&l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"glass p-6 rounded-lg border border-white/10",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-white",children:"Transformation Roadmaps"}),l.jsxs("button",{className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white rounded-lg transition-all",children:[l.jsx(Sn,{size:16,className:"inline mr-2"}),"New Roadmap"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[l.jsxs("div",{className:"glass p-4 rounded-lg border border-purple-500/30",children:[l.jsx("h4",{className:"font-semibold text-white mb-2",children:"As-Is Architecture"}),l.jsx("p",{className:"text-sm text-purple-200/70",children:"Current state architecture model"})]}),l.jsxs("div",{className:"glass p-4 rounded-lg border border-blue-500/30",children:[l.jsx("h4",{className:"font-semibold text-white mb-2",children:"To-Be Architecture"}),l.jsx("p",{className:"text-sm text-purple-200/70",children:"Target state architecture model"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"glass p-4 rounded-lg border border-white/10",children:[l.jsx("h4",{className:"font-semibold text-white mb-3",children:"Scenarios"}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:["Cloud Migration","Replatform","Modernization"].map(F=>l.jsxs("button",{className:"text-left p-3 glass rounded-lg border border-white/10 hover:border-purple-500/30 transition-all",children:[l.jsx("h5",{className:"font-medium text-white",children:F}),l.jsx("p",{className:"text-xs text-purple-200/60 mt-1",children:"Create transformation scenario"})]},F))})]}),l.jsxs("div",{className:"glass p-4 rounded-lg border border-white/10",children:[l.jsx("h4",{className:"font-semibold text-white mb-3",children:"Visualizations"}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("button",{className:"px-4 py-2 glass border border-white/20 hover:bg-white/10 text-purple-200 rounded-lg transition-all",children:[l.jsx(Op,{size:16,className:"inline mr-2"}),"Gantt Chart"]}),l.jsxs("button",{className:"px-4 py-2 glass border border-white/20 hover:bg-white/10 text-purple-200 rounded-lg transition-all",children:[l.jsx(fp,{size:16,className:"inline mr-2"}),"Heatmap"]}),l.jsxs("button",{className:"px-4 py-2 glass border border-white/20 hover:bg-white/10 text-purple-200 rounded-lg transition-all",children:[l.jsx(pn,{size:16,className:"inline mr-2"}),"Timeline"]})]})]})]})]})}),t==="analytics"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"glass p-4 rounded-lg border border-white/10",children:[l.jsx("h4",{className:"text-sm font-semibold text-purple-200/70 mb-2",children:"Total Elements"}),l.jsx("p",{className:"text-3xl font-bold text-white",children:o.length})]}),l.jsxs("div",{className:"glass p-4 rounded-lg border border-white/10",children:[l.jsx("h4",{className:"text-sm font-semibold text-purple-200/70 mb-2",children:"Dependencies"}),l.jsx("p",{className:"text-3xl font-bold text-white",children:"0"})]}),l.jsxs("div",{className:"glass p-4 rounded-lg border border-white/10",children:[l.jsx("h4",{className:"text-sm font-semibold text-purple-200/70 mb-2",children:"Gaps Identified"}),l.jsx("p",{className:"text-3xl font-bold text-white",children:"0"})]})]}),l.jsxs("div",{className:"glass p-6 rounded-lg border border-white/10",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Impact Analysis"}),l.jsx("p",{className:"text-purple-200/70",children:"Automatically highlight dependencies and gaps between As-Is and To-Be architectures. Calculate transformation impact and generate summary reports."})]})]}),t==="query"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"glass p-6 rounded-lg border border-white/10",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"AI-Powered Query"}),l.jsxs("div",{className:"flex space-x-2 mb-4",children:[l.jsx("input",{type:"text",value:u,onChange:F=>g(F.target.value),onKeyPress:F=>F.key==="Enter"&&w(),placeholder:"e.g., Show me all systems supporting loan origination",className:"flex-1 px-4 py-3 glass border border-white/20 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500/50 text-white placeholder-purple-300/50 transition-all outline-none"}),l.jsxs("button",{onClick:w,className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white rounded-lg transition-all",children:[l.jsx(Jd,{size:16,className:"inline mr-2"}),"Query"]})]}),l.jsx("div",{className:"text-sm text-purple-200/60",children:'Examples: "Show me all systems supporting loan origination", "Generate the To-Be application roadmap for cloud migration", "Visualize Finacle integration in the current As-Is landscape"'})]}),m&&l.jsxs("div",{className:"glass p-6 rounded-lg border border-white/10",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Query Results"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold text-purple-200/70 mb-2",children:"Total Elements Found"}),l.jsx("p",{className:"text-2xl font-bold text-white",children:m.summary.totalElements})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold text-purple-200/70 mb-2",children:"By Layer"}),l.jsx("div",{className:"space-y-1",children:Object.entries(m.summary.byLayer).map(([F,R])=>l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsxs("span",{className:"text-purple-200/70",children:[F,":"]}),l.jsx("span",{className:"text-white font-semibold",children:R})]},F))})]})]}),m.elements.length>0&&l.jsxs("div",{className:"mt-4",children:[l.jsx("h4",{className:"text-sm font-semibold text-purple-200/70 mb-2",children:"Elements"}),l.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:m.elements.map(F=>l.jsxs("div",{className:"glass p-3 rounded-lg border border-white/10",children:[l.jsx("h5",{className:"font-semibold text-white",children:F.name}),l.jsxs("p",{className:"text-xs text-purple-200/60 mt-1",children:[F.layer," â€¢ ",F.type]})]},F.id))})]})]})]})]})]}),h&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"glass-dark rounded-2xl border border-white/10 shadow-2xl p-6 w-full max-w-md",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-xl font-bold text-white",children:"Create Architecture Element"}),l.jsx("button",{onClick:()=>f(!1),className:"p-2 glass hover:bg-white/10 rounded-lg border border-white/20",children:l.jsx(qr,{size:18,className:"text-purple-200"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-purple-200 mb-2",children:"Layer"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:p.map(F=>l.jsx("button",{onClick:()=>i(F.id),className:`p-3 rounded-lg border transition-all ${n===F.id?`bg-gradient-to-br ${F.color} border-purple-400/50 text-white`:"glass border-white/20 text-purple-200 hover:bg-white/5"}`,children:F.name},F.id))})]}),n&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-purple-200 mb-2",children:"Element Type"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n==="BUSINESS"&&["Capability","Value Stream","Process","Org Unit"].map(F=>l.jsx("button",{onClick:()=>y(n,F),className:"p-3 glass border border-white/20 hover:bg-white/10 text-purple-200 rounded-lg transition-all",children:F},F)),n==="APPLICATION"&&["System","Integration","API","Microservice"].map(F=>l.jsx("button",{onClick:()=>y(n,F),className:"p-3 glass border border-white/20 hover:bg-white/10 text-purple-200 rounded-lg transition-all",children:F},F)),n==="DATA"&&["Data Entity","Data Store","Data Flow","Data Lineage"].map(F=>l.jsx("button",{onClick:()=>y(n,F),className:"p-3 glass border border-white/20 hover:bg-white/10 text-purple-200 rounded-lg transition-all",children:F},F)),n==="TECHNOLOGY"&&["Server","Cloud Platform","Network","Tool"].map(F=>l.jsx("button",{onClick:()=>y(n,F),className:"p-3 glass border border-white/20 hover:bg-white/10 text-purple-200 rounded-lg transition-all",children:F},F)),n==="SOLUTION"&&["Solution","End-to-End Flow","Integration Pattern"].map(F=>l.jsx("button",{onClick:()=>y(n,F),className:"p-3 glass border border-white/20 hover:bg-white/10 text-purple-200 rounded-lg transition-all",children:F},F))]})]})]})]})})]})};function zg(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var oD={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(r){e.exports=r()})(function(){return function r(n,i,s){function a(A,d){if(!i[A]){if(!n[A]){var h=typeof zg=="function"&&zg;if(!d&&h)return h(A,!0);if(o)return o(A,!0);var f=new Error("Cannot find module '"+A+"'");throw f.code="MODULE_NOT_FOUND",f}var u=i[A]={exports:{}};n[A][0].call(u.exports,function(g){var m=n[A][1][g];return a(m||g)},u,u.exports,r,n,i,s)}return i[A].exports}for(var o=typeof zg=="function"&&zg,c=0;c<s.length;c++)a(s[c]);return a}({1:[function(r,n,i){var s=r("./utils"),a=r("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(c){for(var A,d,h,f,u,g,m,x=[],p=0,y=c.length,w=y,b=s.getTypeOf(c)!=="string";p<c.length;)w=y-p,h=b?(A=c[p++],d=p<y?c[p++]:0,p<y?c[p++]:0):(A=c.charCodeAt(p++),d=p<y?c.charCodeAt(p++):0,p<y?c.charCodeAt(p++):0),f=A>>2,u=(3&A)<<4|d>>4,g=1<w?(15&d)<<2|h>>6:64,m=2<w?63&h:64,x.push(o.charAt(f)+o.charAt(u)+o.charAt(g)+o.charAt(m));return x.join("")},i.decode=function(c){var A,d,h,f,u,g,m=0,x=0,p="data:";if(c.substr(0,p.length)===p)throw new Error("Invalid base64 input, it looks like a data url.");var y,w=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===o.charAt(64)&&w--,c.charAt(c.length-2)===o.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=a.uint8array?new Uint8Array(0|w):new Array(0|w);m<c.length;)A=o.indexOf(c.charAt(m++))<<2|(f=o.indexOf(c.charAt(m++)))>>4,d=(15&f)<<4|(u=o.indexOf(c.charAt(m++)))>>2,h=(3&u)<<6|(g=o.indexOf(c.charAt(m++))),y[x++]=A,u!==64&&(y[x++]=d),g!==64&&(y[x++]=h);return y}},{"./support":30,"./utils":32}],2:[function(r,n,i){var s=r("./external"),a=r("./stream/DataWorker"),o=r("./stream/Crc32Probe"),c=r("./stream/DataLengthProbe");function A(d,h,f,u,g){this.compressedSize=d,this.uncompressedSize=h,this.crc32=f,this.compression=u,this.compressedContent=g}A.prototype={getContentWorker:function(){var d=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),h=this;return d.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},A.createWorkerFrom=function(d,h,f){return d.pipe(new o).pipe(new c("uncompressedSize")).pipe(h.compressWorker(f)).pipe(new c("compressedSize")).withStreamInfo("compression",h)},n.exports=A},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var s=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var s=r("./utils"),a=function(){for(var o,c=[],A=0;A<256;A++){o=A;for(var d=0;d<8;d++)o=1&o?3988292384^o>>>1:o>>>1;c[A]=o}return c}();n.exports=function(o,c){return o!==void 0&&o.length?s.getTypeOf(o)!=="string"?function(A,d,h,f){var u=a,g=f+h;A^=-1;for(var m=f;m<g;m++)A=A>>>8^u[255&(A^d[m])];return-1^A}(0|c,o,o.length,0):function(A,d,h,f){var u=a,g=f+h;A^=-1;for(var m=f;m<g;m++)A=A>>>8^u[255&(A^d.charCodeAt(m))];return-1^A}(0|c,o,o.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var s=null;s=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:s}},{lie:37}],7:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=r("pako"),o=r("./utils"),c=r("./stream/GenericWorker"),A=s?"uint8array":"array";function d(h,f){c.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=f,this.meta={}}i.magic="\b\0",o.inherits(d,c),d.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(A,h.data),!1)},d.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(f){h.push({data:f,meta:h.meta})}},i.compressWorker=function(h){return new d("Deflate",h)},i.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function s(u,g){var m,x="";for(m=0;m<g;m++)x+=String.fromCharCode(255&u),u>>>=8;return x}function a(u,g,m,x,p,y){var w,b,I=u.file,F=u.compression,R=y!==A.utf8encode,Q=o.transformTo("string",y(I.name)),k=o.transformTo("string",A.utf8encode(I.name)),$=I.comment,q=o.transformTo("string",y($)),T=o.transformTo("string",A.utf8encode($)),K=k.length!==I.name.length,v=T.length!==$.length,re="",ge="",Y="",fe=I.dir,le=I.date,ne={crc32:0,compressedSize:0,uncompressedSize:0};g&&!m||(ne.crc32=u.crc32,ne.compressedSize=u.compressedSize,ne.uncompressedSize=u.uncompressedSize);var ae=0;g&&(ae|=8),R||!K&&!v||(ae|=2048);var _=0,O=0;fe&&(_|=16),p==="UNIX"?(O=798,_|=function(oe,Ae){var U=oe;return oe||(U=Ae?16893:33204),(65535&U)<<16}(I.unixPermissions,fe)):(O=20,_|=function(oe){return 63&(oe||0)}(I.dosPermissions)),w=le.getUTCHours(),w<<=6,w|=le.getUTCMinutes(),w<<=5,w|=le.getUTCSeconds()/2,b=le.getUTCFullYear()-1980,b<<=4,b|=le.getUTCMonth()+1,b<<=5,b|=le.getUTCDate(),K&&(ge=s(1,1)+s(d(Q),4)+k,re+="up"+s(ge.length,2)+ge),v&&(Y=s(1,1)+s(d(q),4)+T,re+="uc"+s(Y.length,2)+Y);var G="";return G+=`
\0`,G+=s(ae,2),G+=F.magic,G+=s(w,2),G+=s(b,2),G+=s(ne.crc32,4),G+=s(ne.compressedSize,4),G+=s(ne.uncompressedSize,4),G+=s(Q.length,2),G+=s(re.length,2),{fileRecord:h.LOCAL_FILE_HEADER+G+Q+re,dirRecord:h.CENTRAL_FILE_HEADER+s(O,2)+G+s(q.length,2)+"\0\0\0\0"+s(_,4)+s(x,4)+Q+re+q}}var o=r("../utils"),c=r("../stream/GenericWorker"),A=r("../utf8"),d=r("../crc32"),h=r("../signature");function f(u,g,m,x){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=m,this.encodeFileName=x,this.streamFiles=u,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(f,c),f.prototype.push=function(u){var g=u.meta.percent||0,m=this.entriesCount,x=this._sources.length;this.accumulate?this.contentBuffer.push(u):(this.bytesWritten+=u.data.length,c.prototype.push.call(this,{data:u.data,meta:{currentFile:this.currentFile,percent:m?(g+100*(m-x-1))/m:100}}))},f.prototype.openedSource=function(u){this.currentSourceOffset=this.bytesWritten,this.currentFile=u.file.name;var g=this.streamFiles&&!u.file.dir;if(g){var m=a(u,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(u){this.accumulate=!1;var g=this.streamFiles&&!u.file.dir,m=a(u,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),g)this.push({data:function(x){return h.DATA_DESCRIPTOR+s(x.crc32,4)+s(x.compressedSize,4)+s(x.uncompressedSize,4)}(u),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var u=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var m=this.bytesWritten-u,x=function(p,y,w,b,I){var F=o.transformTo("string",I(b));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(p,2)+s(p,2)+s(y,4)+s(w,4)+s(F.length,2)+F}(this.dirRecords.length,m,u,this.zipComment,this.encodeFileName);this.push({data:x,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(u){this._sources.push(u);var g=this;return u.on("data",function(m){g.processChunk(m)}),u.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),u.on("error",function(m){g.error(m)}),this},f.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(u){var g=this._sources;if(!c.prototype.error.call(this,u))return!1;for(var m=0;m<g.length;m++)try{g[m].error(u)}catch{}return!0},f.prototype.lock=function(){c.prototype.lock.call(this);for(var u=this._sources,g=0;g<u.length;g++)u[g].lock()},n.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var s=r("../compressions"),a=r("./ZipFileWorker");i.generateWorker=function(o,c,A){var d=new a(c.streamFiles,A,c.platform,c.encodeFileName),h=0;try{o.forEach(function(f,u){h++;var g=function(y,w){var b=y||w,I=s[b];if(!I)throw new Error(b+" is not a valid compression method !");return I}(u.options.compression,c.compression),m=u.options.compressionOptions||c.compressionOptions||{},x=u.dir,p=u.date;u._compressWorker(g,m).withStreamInfo("file",{name:f,dir:x,date:p,comment:u.comment||"",unixPermissions:u.unixPermissions,dosPermissions:u.dosPermissions}).pipe(d)}),d.entriesCount=h}catch(f){d.error(f)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(s.prototype=r("./object")).loadAsync=r("./load"),s.support=r("./support"),s.defaults=r("./defaults"),s.version="3.10.1",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=r("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var s=r("./utils"),a=r("./external"),o=r("./utf8"),c=r("./zipEntries"),A=r("./stream/Crc32Probe"),d=r("./nodejsUtils");function h(f){return new a.Promise(function(u,g){var m=f.decompressed.getContentWorker().pipe(new A);m.on("error",function(x){g(x)}).on("end",function(){m.streamInfo.crc32!==f.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):u()}).resume()})}n.exports=function(f,u){var g=this;return u=s.extend(u||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),d.isNode&&d.isStream(f)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",f,!0,u.optimizedBinaryString,u.base64).then(function(m){var x=new c(u);return x.load(m),x}).then(function(m){var x=[a.Promise.resolve(m)],p=m.files;if(u.checkCRC32)for(var y=0;y<p.length;y++)x.push(h(p[y]));return a.Promise.all(x)}).then(function(m){for(var x=m.shift(),p=x.files,y=0;y<p.length;y++){var w=p[y],b=w.fileNameStr,I=s.resolve(w.fileNameStr);g.file(I,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:u.createFolders}),w.dir||(g.file(I).unsafeOriginalName=b)}return x.zipComment.length&&(g.comment=x.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var s=r("../utils"),a=r("../stream/GenericWorker");function o(c,A){a.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(A)}s.inherits(o,a),o.prototype._bindStream=function(c){var A=this;(this._stream=c).pause(),c.on("data",function(d){A.push({data:d,meta:{percent:0}})}).on("error",function(d){A.isPaused?this.generatedError=d:A.error(d)}).on("end",function(){A.isPaused?A._upstreamEnded=!0:A.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var s=r("readable-stream").Readable;function a(o,c,A){s.call(this,c),this._helper=o;var d=this;o.on("data",function(h,f){d.push(h)||d._helper.pause(),A&&A(f)}).on("error",function(h){d.emit("error",h)}).on("end",function(){d.push(null)})}r("../utils").inherits(a,s),a.prototype._read=function(){this._helper.resume()},n.exports=a},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(r,n,i){function s(I,F,R){var Q,k=o.getTypeOf(F),$=o.extend(R||{},d);$.date=$.date||new Date,$.compression!==null&&($.compression=$.compression.toUpperCase()),typeof $.unixPermissions=="string"&&($.unixPermissions=parseInt($.unixPermissions,8)),$.unixPermissions&&16384&$.unixPermissions&&($.dir=!0),$.dosPermissions&&16&$.dosPermissions&&($.dir=!0),$.dir&&(I=p(I)),$.createFolders&&(Q=x(I))&&y.call(this,Q,!0);var q=k==="string"&&$.binary===!1&&$.base64===!1;R&&R.binary!==void 0||($.binary=!q),(F instanceof h&&F.uncompressedSize===0||$.dir||!F||F.length===0)&&($.base64=!1,$.binary=!0,F="",$.compression="STORE",k="string");var T=null;T=F instanceof h||F instanceof c?F:g.isNode&&g.isStream(F)?new m(I,F):o.prepareContent(I,F,$.binary,$.optimizedBinaryString,$.base64);var K=new f(I,T,$);this.files[I]=K}var a=r("./utf8"),o=r("./utils"),c=r("./stream/GenericWorker"),A=r("./stream/StreamHelper"),d=r("./defaults"),h=r("./compressedObject"),f=r("./zipObject"),u=r("./generate"),g=r("./nodejsUtils"),m=r("./nodejs/NodejsStreamInputAdapter"),x=function(I){I.slice(-1)==="/"&&(I=I.substring(0,I.length-1));var F=I.lastIndexOf("/");return 0<F?I.substring(0,F):""},p=function(I){return I.slice(-1)!=="/"&&(I+="/"),I},y=function(I,F){return F=F!==void 0?F:d.createFolders,I=p(I),this.files[I]||s.call(this,I,null,{dir:!0,createFolders:F}),this.files[I]};function w(I){return Object.prototype.toString.call(I)==="[object RegExp]"}var b={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(I){var F,R,Q;for(F in this.files)Q=this.files[F],(R=F.slice(this.root.length,F.length))&&F.slice(0,this.root.length)===this.root&&I(R,Q)},filter:function(I){var F=[];return this.forEach(function(R,Q){I(R,Q)&&F.push(Q)}),F},file:function(I,F,R){if(arguments.length!==1)return I=this.root+I,s.call(this,I,F,R),this;if(w(I)){var Q=I;return this.filter(function($,q){return!q.dir&&Q.test($)})}var k=this.files[this.root+I];return k&&!k.dir?k:null},folder:function(I){if(!I)return this;if(w(I))return this.filter(function(k,$){return $.dir&&I.test(k)});var F=this.root+I,R=y.call(this,F),Q=this.clone();return Q.root=R.name,Q},remove:function(I){I=this.root+I;var F=this.files[I];if(F||(I.slice(-1)!=="/"&&(I+="/"),F=this.files[I]),F&&!F.dir)delete this.files[I];else for(var R=this.filter(function(k,$){return $.name.slice(0,I.length)===I}),Q=0;Q<R.length;Q++)delete this.files[R[Q].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(I){var F,R={};try{if((R=o.extend(I||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=R.type.toLowerCase(),R.compression=R.compression.toUpperCase(),R.type==="binarystring"&&(R.type="string"),!R.type)throw new Error("No output type specified.");o.checkSupport(R.type),R.platform!=="darwin"&&R.platform!=="freebsd"&&R.platform!=="linux"&&R.platform!=="sunos"||(R.platform="UNIX"),R.platform==="win32"&&(R.platform="DOS");var Q=R.comment||this.comment||"";F=u.generateWorker(this,R,Q)}catch(k){(F=new c("error")).error(k)}return new A(F,R.type||"string",R.mimeType)},generateAsync:function(I,F){return this.generateInternalStream(I).accumulate(F)},generateNodeStream:function(I,F){return(I=I||{}).type||(I.type="nodebuffer"),this.generateInternalStream(I).toNodejsStream(F)}};n.exports=b},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var s=r("./DataReader");function a(o){s.call(this,o);for(var c=0;c<this.data.length;c++)o[c]=255&o[c]}r("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var c=o.charCodeAt(0),A=o.charCodeAt(1),d=o.charCodeAt(2),h=o.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===c&&this.data[f+1]===A&&this.data[f+2]===d&&this.data[f+3]===h)return f-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var c=o.charCodeAt(0),A=o.charCodeAt(1),d=o.charCodeAt(2),h=o.charCodeAt(3),f=this.readData(4);return c===f[0]&&A===f[1]&&d===f[2]&&h===f[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=a},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var s=r("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var c,A=0;for(this.checkOffset(o),c=this.index+o-1;c>=this.index;c--)A=(A<<8)+this.byteAt(c);return this.index+=o,A},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},n.exports=a},{"../utils":32}],19:[function(r,n,i){var s=r("./Uint8ArrayReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var s=r("./DataReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=a},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var s=r("./ArrayReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},n.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var s=r("../utils"),a=r("../support"),o=r("./ArrayReader"),c=r("./StringReader"),A=r("./NodeBufferReader"),d=r("./Uint8ArrayReader");n.exports=function(h){var f=s.getTypeOf(h);return s.checkSupport(f),f!=="string"||a.uint8array?f==="nodebuffer"?new A(h):a.uint8array?new d(s.transformTo("uint8array",h)):new o(s.transformTo("array",h)):new c(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var s=r("./GenericWorker"),a=r("../utils");function o(c){s.call(this,"ConvertWorker to "+c),this.destType=c}a.inherits(o,s),o.prototype.processChunk=function(c){this.push({data:a.transformTo(this.destType,c.data),meta:c.meta})},n.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var s=r("./GenericWorker"),a=r("../crc32");function o(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(o,s),o.prototype.processChunk=function(c){this.streamInfo.crc32=a(c.data,this.streamInfo.crc32||0),this.push(c)},n.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var s=r("../utils"),a=r("./GenericWorker");function o(c){a.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}s.inherits(o,a),o.prototype.processChunk=function(c){if(c){var A=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=A+c.data.length}a.prototype.processChunk.call(this,c)},n.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var s=r("../utils"),a=r("./GenericWorker");function o(c){a.call(this,"DataWorker");var A=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(d){A.dataIsReady=!0,A.data=d,A.max=d&&d.length||0,A.type=s.getTypeOf(d),A.isPaused||A._tickAndRepeat()},function(d){A.error(d)})}s.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,A=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,A);break;case"uint8array":c=this.data.subarray(this.index,A);break;case"array":case"nodebuffer":c=this.data.slice(this.index,A)}return this.index=A,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var c=0;c<this._listeners[a].length;c++)this._listeners[a][c].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(c){o.processChunk(c)}),a.on("end",function(){o.end()}),a.on("error",function(c){o.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},n.exports=s},{}],29:[function(r,n,i){var s=r("../utils"),a=r("./ConvertWorker"),o=r("./GenericWorker"),c=r("../base64"),A=r("../support"),d=r("../external"),h=null;if(A.nodestream)try{h=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(g,m){return new d.Promise(function(x,p){var y=[],w=g._internalType,b=g._outputType,I=g._mimeType;g.on("data",function(F,R){y.push(F),m&&m(R)}).on("error",function(F){y=[],p(F)}).on("end",function(){try{var F=function(R,Q,k){switch(R){case"blob":return s.newBlob(s.transformTo("arraybuffer",Q),k);case"base64":return c.encode(Q);default:return s.transformTo(R,Q)}}(b,function(R,Q){var k,$=0,q=null,T=0;for(k=0;k<Q.length;k++)T+=Q[k].length;switch(R){case"string":return Q.join("");case"array":return Array.prototype.concat.apply([],Q);case"uint8array":for(q=new Uint8Array(T),k=0;k<Q.length;k++)q.set(Q[k],$),$+=Q[k].length;return q;case"nodebuffer":return Buffer.concat(Q);default:throw new Error("concat : unsupported type '"+R+"'")}}(w,y),I);x(F)}catch(R){p(R)}y=[]}).resume()})}function u(g,m,x){var p=m;switch(m){case"blob":case"arraybuffer":p="uint8array";break;case"base64":p="string"}try{this._internalType=p,this._outputType=m,this._mimeType=x,s.checkSupport(p),this._worker=g.pipe(new a(p)),g.lock()}catch(y){this._worker=new o("error"),this._worker.error(y)}}u.prototype={accumulate:function(g){return f(this,g)},on:function(g,m){var x=this;return g==="data"?this._worker.on(g,function(p){m.call(x,p.data,p.meta)}):this._worker.on(g,function(){s.delay(m,arguments,x)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},g)}},n.exports=u},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(s),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var s=r("./utils"),a=r("./support"),o=r("./nodejsUtils"),c=r("./stream/GenericWorker"),A=new Array(256),d=0;d<256;d++)A[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;A[254]=A[254]=1;function h(){c.call(this,"utf-8 decode"),this.leftOver=null}function f(){c.call(this,"utf-8 encode")}i.utf8encode=function(u){return a.nodebuffer?o.newBufferFrom(u,"utf-8"):function(g){var m,x,p,y,w,b=g.length,I=0;for(y=0;y<b;y++)(64512&(x=g.charCodeAt(y)))==55296&&y+1<b&&(64512&(p=g.charCodeAt(y+1)))==56320&&(x=65536+(x-55296<<10)+(p-56320),y++),I+=x<128?1:x<2048?2:x<65536?3:4;for(m=a.uint8array?new Uint8Array(I):new Array(I),y=w=0;w<I;y++)(64512&(x=g.charCodeAt(y)))==55296&&y+1<b&&(64512&(p=g.charCodeAt(y+1)))==56320&&(x=65536+(x-55296<<10)+(p-56320),y++),x<128?m[w++]=x:(x<2048?m[w++]=192|x>>>6:(x<65536?m[w++]=224|x>>>12:(m[w++]=240|x>>>18,m[w++]=128|x>>>12&63),m[w++]=128|x>>>6&63),m[w++]=128|63&x);return m}(u)},i.utf8decode=function(u){return a.nodebuffer?s.transformTo("nodebuffer",u).toString("utf-8"):function(g){var m,x,p,y,w=g.length,b=new Array(2*w);for(m=x=0;m<w;)if((p=g[m++])<128)b[x++]=p;else if(4<(y=A[p]))b[x++]=65533,m+=y-1;else{for(p&=y===2?31:y===3?15:7;1<y&&m<w;)p=p<<6|63&g[m++],y--;1<y?b[x++]=65533:p<65536?b[x++]=p:(p-=65536,b[x++]=55296|p>>10&1023,b[x++]=56320|1023&p)}return b.length!==x&&(b.subarray?b=b.subarray(0,x):b.length=x),s.applyFromCharCode(b)}(u=s.transformTo(a.uint8array?"uint8array":"array",u))},s.inherits(h,c),h.prototype.processChunk=function(u){var g=s.transformTo(a.uint8array?"uint8array":"array",u.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var m=g;(g=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),g.set(m,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var x=function(y,w){var b;for((w=w||y.length)>y.length&&(w=y.length),b=w-1;0<=b&&(192&y[b])==128;)b--;return b<0||b===0?w:b+A[y[b]]>w?b:w}(g),p=g;x!==g.length&&(a.uint8array?(p=g.subarray(0,x),this.leftOver=g.subarray(x,g.length)):(p=g.slice(0,x),this.leftOver=g.slice(x,g.length))),this.push({data:i.utf8decode(p),meta:u.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=h,s.inherits(f,c),f.prototype.processChunk=function(u){this.push({data:i.utf8encode(u.data),meta:u.meta})},i.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var s=r("./support"),a=r("./base64"),o=r("./nodejsUtils"),c=r("./external");function A(m){return m}function d(m,x){for(var p=0;p<m.length;++p)x[p]=255&m.charCodeAt(p);return x}r("setimmediate"),i.newBlob=function(m,x){i.checkSupport("blob");try{return new Blob([m],{type:x})}catch{try{var p=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return p.append(m),p.getBlob(x)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(m,x,p){var y=[],w=0,b=m.length;if(b<=p)return String.fromCharCode.apply(null,m);for(;w<b;)x==="array"||x==="nodebuffer"?y.push(String.fromCharCode.apply(null,m.slice(w,Math.min(w+p,b)))):y.push(String.fromCharCode.apply(null,m.subarray(w,Math.min(w+p,b)))),w+=p;return y.join("")},stringifyByChar:function(m){for(var x="",p=0;p<m.length;p++)x+=String.fromCharCode(m[p]);return x},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function f(m){var x=65536,p=i.getTypeOf(m),y=!0;if(p==="uint8array"?y=h.applyCanBeUsed.uint8array:p==="nodebuffer"&&(y=h.applyCanBeUsed.nodebuffer),y)for(;1<x;)try{return h.stringifyByChunk(m,p,x)}catch{x=Math.floor(x/2)}return h.stringifyByChar(m)}function u(m,x){for(var p=0;p<m.length;p++)x[p]=m[p];return x}i.applyFromCharCode=f;var g={};g.string={string:A,array:function(m){return d(m,new Array(m.length))},arraybuffer:function(m){return g.string.uint8array(m).buffer},uint8array:function(m){return d(m,new Uint8Array(m.length))},nodebuffer:function(m){return d(m,o.allocBuffer(m.length))}},g.array={string:f,array:A,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return o.newBufferFrom(m)}},g.arraybuffer={string:function(m){return f(new Uint8Array(m))},array:function(m){return u(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:A,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return o.newBufferFrom(new Uint8Array(m))}},g.uint8array={string:f,array:function(m){return u(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:A,nodebuffer:function(m){return o.newBufferFrom(m)}},g.nodebuffer={string:f,array:function(m){return u(m,new Array(m.length))},arraybuffer:function(m){return g.nodebuffer.uint8array(m).buffer},uint8array:function(m){return u(m,new Uint8Array(m.length))},nodebuffer:A},i.transformTo=function(m,x){if(x=x||"",!m)return x;i.checkSupport(m);var p=i.getTypeOf(x);return g[p][m](x)},i.resolve=function(m){for(var x=m.split("/"),p=[],y=0;y<x.length;y++){var w=x[y];w==="."||w===""&&y!==0&&y!==x.length-1||(w===".."?p.pop():p.push(w))}return p.join("/")},i.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":s.nodebuffer&&o.isBuffer(m)?"nodebuffer":s.uint8array&&m instanceof Uint8Array?"uint8array":s.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(m){if(!s[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(m){var x,p,y="";for(p=0;p<(m||"").length;p++)y+="\\x"+((x=m.charCodeAt(p))<16?"0":"")+x.toString(16).toUpperCase();return y},i.delay=function(m,x,p){setImmediate(function(){m.apply(p||null,x||[])})},i.inherits=function(m,x){function p(){}p.prototype=x.prototype,m.prototype=new p},i.extend=function(){var m,x,p={};for(m=0;m<arguments.length;m++)for(x in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],x)&&p[x]===void 0&&(p[x]=arguments[m][x]);return p},i.prepareContent=function(m,x,p,y,w){return c.Promise.resolve(x).then(function(b){return s.blob&&(b instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(b))!==-1)&&typeof FileReader<"u"?new c.Promise(function(I,F){var R=new FileReader;R.onload=function(Q){I(Q.target.result)},R.onerror=function(Q){F(Q.target.error)},R.readAsArrayBuffer(b)}):b}).then(function(b){var I=i.getTypeOf(b);return I?(I==="arraybuffer"?b=i.transformTo("uint8array",b):I==="string"&&(w?b=a.decode(b):p&&y!==!0&&(b=function(F){return d(F,s.uint8array?new Uint8Array(F.length):new Array(F.length))}(b))),b):c.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var s=r("./reader/readerFor"),a=r("./utils"),o=r("./signature"),c=r("./zipEntry"),A=r("./support");function d(h){this.files=[],this.loadOptions=h}d.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(f)+", expected "+a.pretty(h)+")")}},isSignature:function(h,f){var u=this.reader.index;this.reader.setIndex(h);var g=this.reader.readString(4)===f;return this.reader.setIndex(u),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),f=A.uint8array?"uint8array":"array",u=a.transformTo(f,h);this.zipComment=this.loadOptions.decodeFileName(u)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,f,u,g=this.zip64EndOfCentralSize-44;0<g;)h=this.reader.readInt(2),f=this.reader.readInt(4),u=this.reader.readData(f),this.zip64ExtensibleData[h]={id:h,length:f,value:u}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,f;for(h=0;h<this.files.length;h++)f=this.files[h],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(h=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var f=h;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var u=this.centralDirOffset+this.centralDirSize;this.zip64&&(u+=20,u+=12+this.zip64EndOfCentralSize);var g=f-u;if(0<g)this.isSignature(f,o.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(h){this.reader=s(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var s=r("./reader/readerFor"),a=r("./utils"),o=r("./compressedObject"),c=r("./crc32"),A=r("./utf8"),d=r("./compressions"),h=r("./support");function f(u,g){this.options=u,this.loadOptions=g}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(u){var g,m;if(u.skip(22),this.fileNameLength=u.readInt(2),m=u.readInt(2),this.fileName=u.readData(this.fileNameLength),u.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=function(x){for(var p in d)if(Object.prototype.hasOwnProperty.call(d,p)&&d[p].magic===x)return d[p];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,g,u.readData(this.compressedSize))},readCentralPart:function(u){this.versionMadeBy=u.readInt(2),u.skip(2),this.bitFlag=u.readInt(2),this.compressionMethod=u.readString(2),this.date=u.readDate(),this.crc32=u.readInt(4),this.compressedSize=u.readInt(4),this.uncompressedSize=u.readInt(4);var g=u.readInt(2);if(this.extraFieldsLength=u.readInt(2),this.fileCommentLength=u.readInt(2),this.diskNumberStart=u.readInt(2),this.internalFileAttributes=u.readInt(2),this.externalFileAttributes=u.readInt(4),this.localHeaderOffset=u.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");u.skip(g),this.readExtraFields(u),this.parseZIP64ExtraField(u),this.fileComment=u.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var u=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),u==0&&(this.dosPermissions=63&this.externalFileAttributes),u==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var u=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=u.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=u.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=u.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=u.readInt(4))}},readExtraFields:function(u){var g,m,x,p=u.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});u.index+4<p;)g=u.readInt(2),m=u.readInt(2),x=u.readData(m),this.extraFields[g]={id:g,length:m,value:x};u.setIndex(p)},handleUTF8:function(){var u=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=A.utf8decode(this.fileName),this.fileCommentStr=A.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var m=a.transformTo(u,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var p=a.transformTo(u,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(p)}}},findExtraFieldUnicodePath:function(){var u=this.extraFields[28789];if(u){var g=s(u.value);return g.readInt(1)!==1||c(this.fileName)!==g.readInt(4)?null:A.utf8decode(g.readData(u.length-5))}return null},findExtraFieldUnicodeComment:function(){var u=this.extraFields[25461];if(u){var g=s(u.value);return g.readInt(1)!==1||c(this.fileComment)!==g.readInt(4)?null:A.utf8decode(g.readData(u.length-5))}return null}},n.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function s(g,m,x){this.name=g,this.dir=x.dir,this.date=x.date,this.comment=x.comment,this.unixPermissions=x.unixPermissions,this.dosPermissions=x.dosPermissions,this._data=m,this._dataBinary=x.binary,this.options={compression:x.compression,compressionOptions:x.compressionOptions}}var a=r("./stream/StreamHelper"),o=r("./stream/DataWorker"),c=r("./utf8"),A=r("./compressedObject"),d=r("./stream/GenericWorker");s.prototype={internalStream:function(g){var m=null,x="string";try{if(!g)throw new Error("No output type specified.");var p=(x=g.toLowerCase())==="string"||x==="text";x!=="binarystring"&&x!=="text"||(x="string"),m=this._decompressWorker();var y=!this._dataBinary;y&&!p&&(m=m.pipe(new c.Utf8EncodeWorker)),!y&&p&&(m=m.pipe(new c.Utf8DecodeWorker))}catch(w){(m=new d("error")).error(w)}return new a(m,x,"")},async:function(g,m){return this.internalStream(g).accumulate(m)},nodeStream:function(g,m){return this.internalStream(g||"nodebuffer").toNodejsStream(m)},_compressWorker:function(g,m){if(this._data instanceof A&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var x=this._decompressWorker();return this._dataBinary||(x=x.pipe(new c.Utf8EncodeWorker)),A.createWorkerFrom(x,g,m)},_decompressWorker:function(){return this._data instanceof A?this._data.getContentWorker():this._data instanceof d?this._data:new o(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<h.length;u++)s.prototype[h[u]]=f;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(s){var a,o,c=s.MutationObserver||s.WebKitMutationObserver;if(c){var A=0,d=new c(g),h=s.document.createTextNode("");d.observe(h,{characterData:!0}),a=function(){h.data=A=++A%2}}else if(s.setImmediate||s.MessageChannel===void 0)a="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var m=s.document.createElement("script");m.onreadystatechange=function(){g(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},s.document.documentElement.appendChild(m)}:function(){setTimeout(g,0)};else{var f=new s.MessageChannel;f.port1.onmessage=g,a=function(){f.port2.postMessage(0)}}var u=[];function g(){var m,x;o=!0;for(var p=u.length;p;){for(x=u,u=[],m=-1;++m<p;)x[m]();p=u.length}o=!1}n.exports=function(m){u.push(m)!==1||o||a()}}).call(this,typeof la<"u"?la:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var s=r("immediate");function a(){}var o={},c=["REJECTED"],A=["FULFILLED"],d=["PENDING"];function h(p){if(typeof p!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,p!==a&&m(this,p)}function f(p,y,w){this.promise=p,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function u(p,y,w){s(function(){var b;try{b=y(w)}catch(I){return o.reject(p,I)}b===p?o.reject(p,new TypeError("Cannot resolve promise with itself")):o.resolve(p,b)})}function g(p){var y=p&&p.then;if(p&&(typeof p=="object"||typeof p=="function")&&typeof y=="function")return function(){y.apply(p,arguments)}}function m(p,y){var w=!1;function b(R){w||(w=!0,o.reject(p,R))}function I(R){w||(w=!0,o.resolve(p,R))}var F=x(function(){y(I,b)});F.status==="error"&&b(F.value)}function x(p,y){var w={};try{w.value=p(y),w.status="success"}catch(b){w.status="error",w.value=b}return w}(n.exports=h).prototype.finally=function(p){if(typeof p!="function")return this;var y=this.constructor;return this.then(function(w){return y.resolve(p()).then(function(){return w})},function(w){return y.resolve(p()).then(function(){throw w})})},h.prototype.catch=function(p){return this.then(null,p)},h.prototype.then=function(p,y){if(typeof p!="function"&&this.state===A||typeof y!="function"&&this.state===c)return this;var w=new this.constructor(a);return this.state!==d?u(w,this.state===A?p:y,this.outcome):this.queue.push(new f(w,p,y)),w},f.prototype.callFulfilled=function(p){o.resolve(this.promise,p)},f.prototype.otherCallFulfilled=function(p){u(this.promise,this.onFulfilled,p)},f.prototype.callRejected=function(p){o.reject(this.promise,p)},f.prototype.otherCallRejected=function(p){u(this.promise,this.onRejected,p)},o.resolve=function(p,y){var w=x(g,y);if(w.status==="error")return o.reject(p,w.value);var b=w.value;if(b)m(p,b);else{p.state=A,p.outcome=y;for(var I=-1,F=p.queue.length;++I<F;)p.queue[I].callFulfilled(y)}return p},o.reject=function(p,y){p.state=c,p.outcome=y;for(var w=-1,b=p.queue.length;++w<b;)p.queue[w].callRejected(y);return p},h.resolve=function(p){return p instanceof this?p:o.resolve(new this(a),p)},h.reject=function(p){var y=new this(a);return o.reject(y,p)},h.all=function(p){var y=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=p.length,b=!1;if(!w)return this.resolve([]);for(var I=new Array(w),F=0,R=-1,Q=new this(a);++R<w;)k(p[R],R);return Q;function k($,q){y.resolve($).then(function(T){I[q]=T,++F!==w||b||(b=!0,o.resolve(Q,I))},function(T){b||(b=!0,o.reject(Q,T))})}},h.race=function(p){var y=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=p.length,b=!1;if(!w)return this.resolve([]);for(var I=-1,F=new this(a);++I<w;)R=p[I],y.resolve(R).then(function(Q){b||(b=!0,o.resolve(F,Q))},function(Q){b||(b=!0,o.reject(F,Q))});var R;return F}},{immediate:36}],38:[function(r,n,i){var s={};(0,r("./lib/utils/common").assign)(s,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var s=r("./zlib/deflate"),a=r("./utils/common"),o=r("./utils/strings"),c=r("./zlib/messages"),A=r("./zlib/zstream"),d=Object.prototype.toString,h=0,f=-1,u=0,g=8;function m(p){if(!(this instanceof m))return new m(p);this.options=a.assign({level:f,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:u,to:""},p||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new A,this.strm.avail_out=0;var w=s.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(w!==h)throw new Error(c[w]);if(y.header&&s.deflateSetHeader(this.strm,y.header),y.dictionary){var b;if(b=typeof y.dictionary=="string"?o.string2buf(y.dictionary):d.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(w=s.deflateSetDictionary(this.strm,b))!==h)throw new Error(c[w]);this._dict_set=!0}}function x(p,y){var w=new m(y);if(w.push(p,!0),w.err)throw w.msg||c[w.err];return w.result}m.prototype.push=function(p,y){var w,b,I=this.strm,F=this.options.chunkSize;if(this.ended)return!1;b=y===~~y?y:y===!0?4:0,typeof p=="string"?I.input=o.string2buf(p):d.call(p)==="[object ArrayBuffer]"?I.input=new Uint8Array(p):I.input=p,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new a.Buf8(F),I.next_out=0,I.avail_out=F),(w=s.deflate(I,b))!==1&&w!==h)return this.onEnd(w),!(this.ended=!0);I.avail_out!==0&&(I.avail_in!==0||b!==4&&b!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(I.output,I.next_out))):this.onData(a.shrinkBuf(I.output,I.next_out)))}while((0<I.avail_in||I.avail_out===0)&&w!==1);return b===4?(w=s.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===h):b!==2||(this.onEnd(h),!(I.avail_out=0))},m.prototype.onData=function(p){this.chunks.push(p)},m.prototype.onEnd=function(p){p===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},i.Deflate=m,i.deflate=x,i.deflateRaw=function(p,y){return(y=y||{}).raw=!0,x(p,y)},i.gzip=function(p,y){return(y=y||{}).gzip=!0,x(p,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var s=r("./zlib/inflate"),a=r("./utils/common"),o=r("./utils/strings"),c=r("./zlib/constants"),A=r("./zlib/messages"),d=r("./zlib/zstream"),h=r("./zlib/gzheader"),f=Object.prototype.toString;function u(m){if(!(this instanceof u))return new u(m);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},m||{});var x=this.options;x.raw&&0<=x.windowBits&&x.windowBits<16&&(x.windowBits=-x.windowBits,x.windowBits===0&&(x.windowBits=-15)),!(0<=x.windowBits&&x.windowBits<16)||m&&m.windowBits||(x.windowBits+=32),15<x.windowBits&&x.windowBits<48&&!(15&x.windowBits)&&(x.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var p=s.inflateInit2(this.strm,x.windowBits);if(p!==c.Z_OK)throw new Error(A[p]);this.header=new h,s.inflateGetHeader(this.strm,this.header)}function g(m,x){var p=new u(x);if(p.push(m,!0),p.err)throw p.msg||A[p.err];return p.result}u.prototype.push=function(m,x){var p,y,w,b,I,F,R=this.strm,Q=this.options.chunkSize,k=this.options.dictionary,$=!1;if(this.ended)return!1;y=x===~~x?x:x===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof m=="string"?R.input=o.binstring2buf(m):f.call(m)==="[object ArrayBuffer]"?R.input=new Uint8Array(m):R.input=m,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new a.Buf8(Q),R.next_out=0,R.avail_out=Q),(p=s.inflate(R,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&k&&(F=typeof k=="string"?o.string2buf(k):f.call(k)==="[object ArrayBuffer]"?new Uint8Array(k):k,p=s.inflateSetDictionary(this.strm,F)),p===c.Z_BUF_ERROR&&$===!0&&(p=c.Z_OK,$=!1),p!==c.Z_STREAM_END&&p!==c.Z_OK)return this.onEnd(p),!(this.ended=!0);R.next_out&&(R.avail_out!==0&&p!==c.Z_STREAM_END&&(R.avail_in!==0||y!==c.Z_FINISH&&y!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=o.utf8border(R.output,R.next_out),b=R.next_out-w,I=o.buf2string(R.output,w),R.next_out=b,R.avail_out=Q-b,b&&a.arraySet(R.output,R.output,w,b,0),this.onData(I)):this.onData(a.shrinkBuf(R.output,R.next_out)))),R.avail_in===0&&R.avail_out===0&&($=!0)}while((0<R.avail_in||R.avail_out===0)&&p!==c.Z_STREAM_END);return p===c.Z_STREAM_END&&(y=c.Z_FINISH),y===c.Z_FINISH?(p=s.inflateEnd(this.strm),this.onEnd(p),this.ended=!0,p===c.Z_OK):y!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(R.avail_out=0))},u.prototype.onData=function(m){this.chunks.push(m)},u.prototype.onEnd=function(m){m===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},i.Inflate=u,i.inflate=g,i.inflateRaw=function(m,x){return(x=x||{}).raw=!0,g(m,x)},i.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(c){for(var A=Array.prototype.slice.call(arguments,1);A.length;){var d=A.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])}}return c},i.shrinkBuf=function(c,A){return c.length===A?c:c.subarray?c.subarray(0,A):(c.length=A,c)};var a={arraySet:function(c,A,d,h,f){if(A.subarray&&c.subarray)c.set(A.subarray(d,d+h),f);else for(var u=0;u<h;u++)c[f+u]=A[d+u]},flattenChunks:function(c){var A,d,h,f,u,g;for(A=h=0,d=c.length;A<d;A++)h+=c[A].length;for(g=new Uint8Array(h),A=f=0,d=c.length;A<d;A++)u=c[A],g.set(u,f),f+=u.length;return g}},o={arraySet:function(c,A,d,h,f){for(var u=0;u<h;u++)c[f+u]=A[d+u]},flattenChunks:function(c){return[].concat.apply([],c)}};i.setTyped=function(c){c?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(s)},{}],42:[function(r,n,i){var s=r("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var c=new s.Buf8(256),A=0;A<256;A++)c[A]=252<=A?6:248<=A?5:240<=A?4:224<=A?3:192<=A?2:1;function d(h,f){if(f<65537&&(h.subarray&&o||!h.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(h,f));for(var u="",g=0;g<f;g++)u+=String.fromCharCode(h[g]);return u}c[254]=c[254]=1,i.string2buf=function(h){var f,u,g,m,x,p=h.length,y=0;for(m=0;m<p;m++)(64512&(u=h.charCodeAt(m)))==55296&&m+1<p&&(64512&(g=h.charCodeAt(m+1)))==56320&&(u=65536+(u-55296<<10)+(g-56320),m++),y+=u<128?1:u<2048?2:u<65536?3:4;for(f=new s.Buf8(y),m=x=0;x<y;m++)(64512&(u=h.charCodeAt(m)))==55296&&m+1<p&&(64512&(g=h.charCodeAt(m+1)))==56320&&(u=65536+(u-55296<<10)+(g-56320),m++),u<128?f[x++]=u:(u<2048?f[x++]=192|u>>>6:(u<65536?f[x++]=224|u>>>12:(f[x++]=240|u>>>18,f[x++]=128|u>>>12&63),f[x++]=128|u>>>6&63),f[x++]=128|63&u);return f},i.buf2binstring=function(h){return d(h,h.length)},i.binstring2buf=function(h){for(var f=new s.Buf8(h.length),u=0,g=f.length;u<g;u++)f[u]=h.charCodeAt(u);return f},i.buf2string=function(h,f){var u,g,m,x,p=f||h.length,y=new Array(2*p);for(u=g=0;u<p;)if((m=h[u++])<128)y[g++]=m;else if(4<(x=c[m]))y[g++]=65533,u+=x-1;else{for(m&=x===2?31:x===3?15:7;1<x&&u<p;)m=m<<6|63&h[u++],x--;1<x?y[g++]=65533:m<65536?y[g++]=m:(m-=65536,y[g++]=55296|m>>10&1023,y[g++]=56320|1023&m)}return d(y,g)},i.utf8border=function(h,f){var u;for((f=f||h.length)>h.length&&(f=h.length),u=f-1;0<=u&&(192&h[u])==128;)u--;return u<0||u===0?f:u+c[h[u]]>f?u:f}},{"./common":41}],43:[function(r,n,i){n.exports=function(s,a,o,c){for(var A=65535&s|0,d=s>>>16&65535|0,h=0;o!==0;){for(o-=h=2e3<o?2e3:o;d=d+(A=A+a[c++]|0)|0,--h;);A%=65521,d%=65521}return A|d<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var s=function(){for(var a,o=[],c=0;c<256;c++){a=c;for(var A=0;A<8;A++)a=1&a?3988292384^a>>>1:a>>>1;o[c]=a}return o}();n.exports=function(a,o,c,A){var d=s,h=A+c;a^=-1;for(var f=A;f<h;f++)a=a>>>8^d[255&(a^o[f])];return-1^a}},{}],46:[function(r,n,i){var s,a=r("../utils/common"),o=r("./trees"),c=r("./adler32"),A=r("./crc32"),d=r("./messages"),h=0,f=4,u=0,g=-2,m=-1,x=4,p=2,y=8,w=9,b=286,I=30,F=19,R=2*b+1,Q=15,k=3,$=258,q=$+k+1,T=42,K=113,v=1,re=2,ge=3,Y=4;function fe(B,te){return B.msg=d[te],te}function le(B){return(B<<1)-(4<B?9:0)}function ne(B){for(var te=B.length;0<=--te;)B[te]=0}function ae(B){var te=B.state,H=te.pending;H>B.avail_out&&(H=B.avail_out),H!==0&&(a.arraySet(B.output,te.pending_buf,te.pending_out,H,B.next_out),B.next_out+=H,te.pending_out+=H,B.total_out+=H,B.avail_out-=H,te.pending-=H,te.pending===0&&(te.pending_out=0))}function _(B,te){o._tr_flush_block(B,0<=B.block_start?B.block_start:-1,B.strstart-B.block_start,te),B.block_start=B.strstart,ae(B.strm)}function O(B,te){B.pending_buf[B.pending++]=te}function G(B,te){B.pending_buf[B.pending++]=te>>>8&255,B.pending_buf[B.pending++]=255&te}function oe(B,te){var H,S,E=B.max_chain_length,P=B.strstart,de=B.prev_length,ye=B.nice_match,ue=B.strstart>B.w_size-q?B.strstart-(B.w_size-q):0,ke=B.window,Oe=B.w_mask,Ue=B.prev,_e=B.strstart+$,Me=ke[P+de-1],Ze=ke[P+de];B.prev_length>=B.good_match&&(E>>=2),ye>B.lookahead&&(ye=B.lookahead);do if(ke[(H=te)+de]===Ze&&ke[H+de-1]===Me&&ke[H]===ke[P]&&ke[++H]===ke[P+1]){P+=2,H++;do;while(ke[++P]===ke[++H]&&ke[++P]===ke[++H]&&ke[++P]===ke[++H]&&ke[++P]===ke[++H]&&ke[++P]===ke[++H]&&ke[++P]===ke[++H]&&ke[++P]===ke[++H]&&ke[++P]===ke[++H]&&P<_e);if(S=$-(_e-P),P=_e-$,de<S){if(B.match_start=te,ye<=(de=S))break;Me=ke[P+de-1],Ze=ke[P+de]}}while((te=Ue[te&Oe])>ue&&--E!=0);return de<=B.lookahead?de:B.lookahead}function Ae(B){var te,H,S,E,P,de,ye,ue,ke,Oe,Ue=B.w_size;do{if(E=B.window_size-B.lookahead-B.strstart,B.strstart>=Ue+(Ue-q)){for(a.arraySet(B.window,B.window,Ue,Ue,0),B.match_start-=Ue,B.strstart-=Ue,B.block_start-=Ue,te=H=B.hash_size;S=B.head[--te],B.head[te]=Ue<=S?S-Ue:0,--H;);for(te=H=Ue;S=B.prev[--te],B.prev[te]=Ue<=S?S-Ue:0,--H;);E+=Ue}if(B.strm.avail_in===0)break;if(de=B.strm,ye=B.window,ue=B.strstart+B.lookahead,ke=E,Oe=void 0,Oe=de.avail_in,ke<Oe&&(Oe=ke),H=Oe===0?0:(de.avail_in-=Oe,a.arraySet(ye,de.input,de.next_in,Oe,ue),de.state.wrap===1?de.adler=c(de.adler,ye,Oe,ue):de.state.wrap===2&&(de.adler=A(de.adler,ye,Oe,ue)),de.next_in+=Oe,de.total_in+=Oe,Oe),B.lookahead+=H,B.lookahead+B.insert>=k)for(P=B.strstart-B.insert,B.ins_h=B.window[P],B.ins_h=(B.ins_h<<B.hash_shift^B.window[P+1])&B.hash_mask;B.insert&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[P+k-1])&B.hash_mask,B.prev[P&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=P,P++,B.insert--,!(B.lookahead+B.insert<k)););}while(B.lookahead<q&&B.strm.avail_in!==0)}function U(B,te){for(var H,S;;){if(B.lookahead<q){if(Ae(B),B.lookahead<q&&te===h)return v;if(B.lookahead===0)break}if(H=0,B.lookahead>=k&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+k-1])&B.hash_mask,H=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),H!==0&&B.strstart-H<=B.w_size-q&&(B.match_length=oe(B,H)),B.match_length>=k)if(S=o._tr_tally(B,B.strstart-B.match_start,B.match_length-k),B.lookahead-=B.match_length,B.match_length<=B.max_lazy_match&&B.lookahead>=k){for(B.match_length--;B.strstart++,B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+k-1])&B.hash_mask,H=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart,--B.match_length!=0;);B.strstart++}else B.strstart+=B.match_length,B.match_length=0,B.ins_h=B.window[B.strstart],B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+1])&B.hash_mask;else S=o._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++;if(S&&(_(B,!1),B.strm.avail_out===0))return v}return B.insert=B.strstart<k-1?B.strstart:k-1,te===f?(_(B,!0),B.strm.avail_out===0?ge:Y):B.last_lit&&(_(B,!1),B.strm.avail_out===0)?v:re}function M(B,te){for(var H,S,E;;){if(B.lookahead<q){if(Ae(B),B.lookahead<q&&te===h)return v;if(B.lookahead===0)break}if(H=0,B.lookahead>=k&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+k-1])&B.hash_mask,H=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),B.prev_length=B.match_length,B.prev_match=B.match_start,B.match_length=k-1,H!==0&&B.prev_length<B.max_lazy_match&&B.strstart-H<=B.w_size-q&&(B.match_length=oe(B,H),B.match_length<=5&&(B.strategy===1||B.match_length===k&&4096<B.strstart-B.match_start)&&(B.match_length=k-1)),B.prev_length>=k&&B.match_length<=B.prev_length){for(E=B.strstart+B.lookahead-k,S=o._tr_tally(B,B.strstart-1-B.prev_match,B.prev_length-k),B.lookahead-=B.prev_length-1,B.prev_length-=2;++B.strstart<=E&&(B.ins_h=(B.ins_h<<B.hash_shift^B.window[B.strstart+k-1])&B.hash_mask,H=B.prev[B.strstart&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=B.strstart),--B.prev_length!=0;);if(B.match_available=0,B.match_length=k-1,B.strstart++,S&&(_(B,!1),B.strm.avail_out===0))return v}else if(B.match_available){if((S=o._tr_tally(B,0,B.window[B.strstart-1]))&&_(B,!1),B.strstart++,B.lookahead--,B.strm.avail_out===0)return v}else B.match_available=1,B.strstart++,B.lookahead--}return B.match_available&&(S=o._tr_tally(B,0,B.window[B.strstart-1]),B.match_available=0),B.insert=B.strstart<k-1?B.strstart:k-1,te===f?(_(B,!0),B.strm.avail_out===0?ge:Y):B.last_lit&&(_(B,!1),B.strm.avail_out===0)?v:re}function J(B,te,H,S,E){this.good_length=B,this.max_lazy=te,this.nice_length=H,this.max_chain=S,this.func=E}function ce(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*R),this.dyn_dtree=new a.Buf16(2*(2*I+1)),this.bl_tree=new a.Buf16(2*(2*F+1)),ne(this.dyn_ltree),ne(this.dyn_dtree),ne(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(Q+1),this.heap=new a.Buf16(2*b+1),ne(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*b+1),ne(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ee(B){var te;return B&&B.state?(B.total_in=B.total_out=0,B.data_type=p,(te=B.state).pending=0,te.pending_out=0,te.wrap<0&&(te.wrap=-te.wrap),te.status=te.wrap?T:K,B.adler=te.wrap===2?0:1,te.last_flush=h,o._tr_init(te),u):fe(B,g)}function Z(B){var te=ee(B);return te===u&&function(H){H.window_size=2*H.w_size,ne(H.head),H.max_lazy_match=s[H.level].max_lazy,H.good_match=s[H.level].good_length,H.nice_match=s[H.level].nice_length,H.max_chain_length=s[H.level].max_chain,H.strstart=0,H.block_start=0,H.lookahead=0,H.insert=0,H.match_length=H.prev_length=k-1,H.match_available=0,H.ins_h=0}(B.state),te}function me(B,te,H,S,E,P){if(!B)return g;var de=1;if(te===m&&(te=6),S<0?(de=0,S=-S):15<S&&(de=2,S-=16),E<1||w<E||H!==y||S<8||15<S||te<0||9<te||P<0||x<P)return fe(B,g);S===8&&(S=9);var ye=new ce;return(B.state=ye).strm=B,ye.wrap=de,ye.gzhead=null,ye.w_bits=S,ye.w_size=1<<ye.w_bits,ye.w_mask=ye.w_size-1,ye.hash_bits=E+7,ye.hash_size=1<<ye.hash_bits,ye.hash_mask=ye.hash_size-1,ye.hash_shift=~~((ye.hash_bits+k-1)/k),ye.window=new a.Buf8(2*ye.w_size),ye.head=new a.Buf16(ye.hash_size),ye.prev=new a.Buf16(ye.w_size),ye.lit_bufsize=1<<E+6,ye.pending_buf_size=4*ye.lit_bufsize,ye.pending_buf=new a.Buf8(ye.pending_buf_size),ye.d_buf=1*ye.lit_bufsize,ye.l_buf=3*ye.lit_bufsize,ye.level=te,ye.strategy=P,ye.method=H,Z(B)}s=[new J(0,0,0,0,function(B,te){var H=65535;for(H>B.pending_buf_size-5&&(H=B.pending_buf_size-5);;){if(B.lookahead<=1){if(Ae(B),B.lookahead===0&&te===h)return v;if(B.lookahead===0)break}B.strstart+=B.lookahead,B.lookahead=0;var S=B.block_start+H;if((B.strstart===0||B.strstart>=S)&&(B.lookahead=B.strstart-S,B.strstart=S,_(B,!1),B.strm.avail_out===0)||B.strstart-B.block_start>=B.w_size-q&&(_(B,!1),B.strm.avail_out===0))return v}return B.insert=0,te===f?(_(B,!0),B.strm.avail_out===0?ge:Y):(B.strstart>B.block_start&&(_(B,!1),B.strm.avail_out),v)}),new J(4,4,8,4,U),new J(4,5,16,8,U),new J(4,6,32,32,U),new J(4,4,16,16,M),new J(8,16,32,32,M),new J(8,16,128,128,M),new J(8,32,128,256,M),new J(32,128,258,1024,M),new J(32,258,258,4096,M)],i.deflateInit=function(B,te){return me(B,te,y,15,8,0)},i.deflateInit2=me,i.deflateReset=Z,i.deflateResetKeep=ee,i.deflateSetHeader=function(B,te){return B&&B.state?B.state.wrap!==2?g:(B.state.gzhead=te,u):g},i.deflate=function(B,te){var H,S,E,P;if(!B||!B.state||5<te||te<0)return B?fe(B,g):g;if(S=B.state,!B.output||!B.input&&B.avail_in!==0||S.status===666&&te!==f)return fe(B,B.avail_out===0?-5:g);if(S.strm=B,H=S.last_flush,S.last_flush=te,S.status===T)if(S.wrap===2)B.adler=0,O(S,31),O(S,139),O(S,8),S.gzhead?(O(S,(S.gzhead.text?1:0)+(S.gzhead.hcrc?2:0)+(S.gzhead.extra?4:0)+(S.gzhead.name?8:0)+(S.gzhead.comment?16:0)),O(S,255&S.gzhead.time),O(S,S.gzhead.time>>8&255),O(S,S.gzhead.time>>16&255),O(S,S.gzhead.time>>24&255),O(S,S.level===9?2:2<=S.strategy||S.level<2?4:0),O(S,255&S.gzhead.os),S.gzhead.extra&&S.gzhead.extra.length&&(O(S,255&S.gzhead.extra.length),O(S,S.gzhead.extra.length>>8&255)),S.gzhead.hcrc&&(B.adler=A(B.adler,S.pending_buf,S.pending,0)),S.gzindex=0,S.status=69):(O(S,0),O(S,0),O(S,0),O(S,0),O(S,0),O(S,S.level===9?2:2<=S.strategy||S.level<2?4:0),O(S,3),S.status=K);else{var de=y+(S.w_bits-8<<4)<<8;de|=(2<=S.strategy||S.level<2?0:S.level<6?1:S.level===6?2:3)<<6,S.strstart!==0&&(de|=32),de+=31-de%31,S.status=K,G(S,de),S.strstart!==0&&(G(S,B.adler>>>16),G(S,65535&B.adler)),B.adler=1}if(S.status===69)if(S.gzhead.extra){for(E=S.pending;S.gzindex<(65535&S.gzhead.extra.length)&&(S.pending!==S.pending_buf_size||(S.gzhead.hcrc&&S.pending>E&&(B.adler=A(B.adler,S.pending_buf,S.pending-E,E)),ae(B),E=S.pending,S.pending!==S.pending_buf_size));)O(S,255&S.gzhead.extra[S.gzindex]),S.gzindex++;S.gzhead.hcrc&&S.pending>E&&(B.adler=A(B.adler,S.pending_buf,S.pending-E,E)),S.gzindex===S.gzhead.extra.length&&(S.gzindex=0,S.status=73)}else S.status=73;if(S.status===73)if(S.gzhead.name){E=S.pending;do{if(S.pending===S.pending_buf_size&&(S.gzhead.hcrc&&S.pending>E&&(B.adler=A(B.adler,S.pending_buf,S.pending-E,E)),ae(B),E=S.pending,S.pending===S.pending_buf_size)){P=1;break}P=S.gzindex<S.gzhead.name.length?255&S.gzhead.name.charCodeAt(S.gzindex++):0,O(S,P)}while(P!==0);S.gzhead.hcrc&&S.pending>E&&(B.adler=A(B.adler,S.pending_buf,S.pending-E,E)),P===0&&(S.gzindex=0,S.status=91)}else S.status=91;if(S.status===91)if(S.gzhead.comment){E=S.pending;do{if(S.pending===S.pending_buf_size&&(S.gzhead.hcrc&&S.pending>E&&(B.adler=A(B.adler,S.pending_buf,S.pending-E,E)),ae(B),E=S.pending,S.pending===S.pending_buf_size)){P=1;break}P=S.gzindex<S.gzhead.comment.length?255&S.gzhead.comment.charCodeAt(S.gzindex++):0,O(S,P)}while(P!==0);S.gzhead.hcrc&&S.pending>E&&(B.adler=A(B.adler,S.pending_buf,S.pending-E,E)),P===0&&(S.status=103)}else S.status=103;if(S.status===103&&(S.gzhead.hcrc?(S.pending+2>S.pending_buf_size&&ae(B),S.pending+2<=S.pending_buf_size&&(O(S,255&B.adler),O(S,B.adler>>8&255),B.adler=0,S.status=K)):S.status=K),S.pending!==0){if(ae(B),B.avail_out===0)return S.last_flush=-1,u}else if(B.avail_in===0&&le(te)<=le(H)&&te!==f)return fe(B,-5);if(S.status===666&&B.avail_in!==0)return fe(B,-5);if(B.avail_in!==0||S.lookahead!==0||te!==h&&S.status!==666){var ye=S.strategy===2?function(ue,ke){for(var Oe;;){if(ue.lookahead===0&&(Ae(ue),ue.lookahead===0)){if(ke===h)return v;break}if(ue.match_length=0,Oe=o._tr_tally(ue,0,ue.window[ue.strstart]),ue.lookahead--,ue.strstart++,Oe&&(_(ue,!1),ue.strm.avail_out===0))return v}return ue.insert=0,ke===f?(_(ue,!0),ue.strm.avail_out===0?ge:Y):ue.last_lit&&(_(ue,!1),ue.strm.avail_out===0)?v:re}(S,te):S.strategy===3?function(ue,ke){for(var Oe,Ue,_e,Me,Ze=ue.window;;){if(ue.lookahead<=$){if(Ae(ue),ue.lookahead<=$&&ke===h)return v;if(ue.lookahead===0)break}if(ue.match_length=0,ue.lookahead>=k&&0<ue.strstart&&(Ue=Ze[_e=ue.strstart-1])===Ze[++_e]&&Ue===Ze[++_e]&&Ue===Ze[++_e]){Me=ue.strstart+$;do;while(Ue===Ze[++_e]&&Ue===Ze[++_e]&&Ue===Ze[++_e]&&Ue===Ze[++_e]&&Ue===Ze[++_e]&&Ue===Ze[++_e]&&Ue===Ze[++_e]&&Ue===Ze[++_e]&&_e<Me);ue.match_length=$-(Me-_e),ue.match_length>ue.lookahead&&(ue.match_length=ue.lookahead)}if(ue.match_length>=k?(Oe=o._tr_tally(ue,1,ue.match_length-k),ue.lookahead-=ue.match_length,ue.strstart+=ue.match_length,ue.match_length=0):(Oe=o._tr_tally(ue,0,ue.window[ue.strstart]),ue.lookahead--,ue.strstart++),Oe&&(_(ue,!1),ue.strm.avail_out===0))return v}return ue.insert=0,ke===f?(_(ue,!0),ue.strm.avail_out===0?ge:Y):ue.last_lit&&(_(ue,!1),ue.strm.avail_out===0)?v:re}(S,te):s[S.level].func(S,te);if(ye!==ge&&ye!==Y||(S.status=666),ye===v||ye===ge)return B.avail_out===0&&(S.last_flush=-1),u;if(ye===re&&(te===1?o._tr_align(S):te!==5&&(o._tr_stored_block(S,0,0,!1),te===3&&(ne(S.head),S.lookahead===0&&(S.strstart=0,S.block_start=0,S.insert=0))),ae(B),B.avail_out===0))return S.last_flush=-1,u}return te!==f?u:S.wrap<=0?1:(S.wrap===2?(O(S,255&B.adler),O(S,B.adler>>8&255),O(S,B.adler>>16&255),O(S,B.adler>>24&255),O(S,255&B.total_in),O(S,B.total_in>>8&255),O(S,B.total_in>>16&255),O(S,B.total_in>>24&255)):(G(S,B.adler>>>16),G(S,65535&B.adler)),ae(B),0<S.wrap&&(S.wrap=-S.wrap),S.pending!==0?u:1)},i.deflateEnd=function(B){var te;return B&&B.state?(te=B.state.status)!==T&&te!==69&&te!==73&&te!==91&&te!==103&&te!==K&&te!==666?fe(B,g):(B.state=null,te===K?fe(B,-3):u):g},i.deflateSetDictionary=function(B,te){var H,S,E,P,de,ye,ue,ke,Oe=te.length;if(!B||!B.state||(P=(H=B.state).wrap)===2||P===1&&H.status!==T||H.lookahead)return g;for(P===1&&(B.adler=c(B.adler,te,Oe,0)),H.wrap=0,Oe>=H.w_size&&(P===0&&(ne(H.head),H.strstart=0,H.block_start=0,H.insert=0),ke=new a.Buf8(H.w_size),a.arraySet(ke,te,Oe-H.w_size,H.w_size,0),te=ke,Oe=H.w_size),de=B.avail_in,ye=B.next_in,ue=B.input,B.avail_in=Oe,B.next_in=0,B.input=te,Ae(H);H.lookahead>=k;){for(S=H.strstart,E=H.lookahead-(k-1);H.ins_h=(H.ins_h<<H.hash_shift^H.window[S+k-1])&H.hash_mask,H.prev[S&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=S,S++,--E;);H.strstart=S,H.lookahead=k-1,Ae(H)}return H.strstart+=H.lookahead,H.block_start=H.strstart,H.insert=H.lookahead,H.lookahead=0,H.match_length=H.prev_length=k-1,H.match_available=0,B.next_in=ye,B.input=ue,B.avail_in=de,H.wrap=P,u},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(s,a){var o,c,A,d,h,f,u,g,m,x,p,y,w,b,I,F,R,Q,k,$,q,T,K,v,re;o=s.state,c=s.next_in,v=s.input,A=c+(s.avail_in-5),d=s.next_out,re=s.output,h=d-(a-s.avail_out),f=d+(s.avail_out-257),u=o.dmax,g=o.wsize,m=o.whave,x=o.wnext,p=o.window,y=o.hold,w=o.bits,b=o.lencode,I=o.distcode,F=(1<<o.lenbits)-1,R=(1<<o.distbits)-1;e:do{w<15&&(y+=v[c++]<<w,w+=8,y+=v[c++]<<w,w+=8),Q=b[y&F];t:for(;;){if(y>>>=k=Q>>>24,w-=k,(k=Q>>>16&255)===0)re[d++]=65535&Q;else{if(!(16&k)){if(!(64&k)){Q=b[(65535&Q)+(y&(1<<k)-1)];continue t}if(32&k){o.mode=12;break e}s.msg="invalid literal/length code",o.mode=30;break e}$=65535&Q,(k&=15)&&(w<k&&(y+=v[c++]<<w,w+=8),$+=y&(1<<k)-1,y>>>=k,w-=k),w<15&&(y+=v[c++]<<w,w+=8,y+=v[c++]<<w,w+=8),Q=I[y&R];r:for(;;){if(y>>>=k=Q>>>24,w-=k,!(16&(k=Q>>>16&255))){if(!(64&k)){Q=I[(65535&Q)+(y&(1<<k)-1)];continue r}s.msg="invalid distance code",o.mode=30;break e}if(q=65535&Q,w<(k&=15)&&(y+=v[c++]<<w,(w+=8)<k&&(y+=v[c++]<<w,w+=8)),u<(q+=y&(1<<k)-1)){s.msg="invalid distance too far back",o.mode=30;break e}if(y>>>=k,w-=k,(k=d-h)<q){if(m<(k=q-k)&&o.sane){s.msg="invalid distance too far back",o.mode=30;break e}if(K=p,(T=0)===x){if(T+=g-k,k<$){for($-=k;re[d++]=p[T++],--k;);T=d-q,K=re}}else if(x<k){if(T+=g+x-k,(k-=x)<$){for($-=k;re[d++]=p[T++],--k;);if(T=0,x<$){for($-=k=x;re[d++]=p[T++],--k;);T=d-q,K=re}}}else if(T+=x-k,k<$){for($-=k;re[d++]=p[T++],--k;);T=d-q,K=re}for(;2<$;)re[d++]=K[T++],re[d++]=K[T++],re[d++]=K[T++],$-=3;$&&(re[d++]=K[T++],1<$&&(re[d++]=K[T++]))}else{for(T=d-q;re[d++]=re[T++],re[d++]=re[T++],re[d++]=re[T++],2<($-=3););$&&(re[d++]=re[T++],1<$&&(re[d++]=re[T++]))}break}}break}}while(c<A&&d<f);c-=$=w>>3,y&=(1<<(w-=$<<3))-1,s.next_in=c,s.next_out=d,s.avail_in=c<A?A-c+5:5-(c-A),s.avail_out=d<f?f-d+257:257-(d-f),o.hold=y,o.bits=w}},{}],49:[function(r,n,i){var s=r("../utils/common"),a=r("./adler32"),o=r("./crc32"),c=r("./inffast"),A=r("./inftrees"),d=1,h=2,f=0,u=-2,g=1,m=852,x=592;function p(T){return(T>>>24&255)+(T>>>8&65280)+((65280&T)<<8)+((255&T)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(T){var K;return T&&T.state?(K=T.state,T.total_in=T.total_out=K.total=0,T.msg="",K.wrap&&(T.adler=1&K.wrap),K.mode=g,K.last=0,K.havedict=0,K.dmax=32768,K.head=null,K.hold=0,K.bits=0,K.lencode=K.lendyn=new s.Buf32(m),K.distcode=K.distdyn=new s.Buf32(x),K.sane=1,K.back=-1,f):u}function b(T){var K;return T&&T.state?((K=T.state).wsize=0,K.whave=0,K.wnext=0,w(T)):u}function I(T,K){var v,re;return T&&T.state?(re=T.state,K<0?(v=0,K=-K):(v=1+(K>>4),K<48&&(K&=15)),K&&(K<8||15<K)?u:(re.window!==null&&re.wbits!==K&&(re.window=null),re.wrap=v,re.wbits=K,b(T))):u}function F(T,K){var v,re;return T?(re=new y,(T.state=re).window=null,(v=I(T,K))!==f&&(T.state=null),v):u}var R,Q,k=!0;function $(T){if(k){var K;for(R=new s.Buf32(512),Q=new s.Buf32(32),K=0;K<144;)T.lens[K++]=8;for(;K<256;)T.lens[K++]=9;for(;K<280;)T.lens[K++]=7;for(;K<288;)T.lens[K++]=8;for(A(d,T.lens,0,288,R,0,T.work,{bits:9}),K=0;K<32;)T.lens[K++]=5;A(h,T.lens,0,32,Q,0,T.work,{bits:5}),k=!1}T.lencode=R,T.lenbits=9,T.distcode=Q,T.distbits=5}function q(T,K,v,re){var ge,Y=T.state;return Y.window===null&&(Y.wsize=1<<Y.wbits,Y.wnext=0,Y.whave=0,Y.window=new s.Buf8(Y.wsize)),re>=Y.wsize?(s.arraySet(Y.window,K,v-Y.wsize,Y.wsize,0),Y.wnext=0,Y.whave=Y.wsize):(re<(ge=Y.wsize-Y.wnext)&&(ge=re),s.arraySet(Y.window,K,v-re,ge,Y.wnext),(re-=ge)?(s.arraySet(Y.window,K,v-re,re,0),Y.wnext=re,Y.whave=Y.wsize):(Y.wnext+=ge,Y.wnext===Y.wsize&&(Y.wnext=0),Y.whave<Y.wsize&&(Y.whave+=ge))),0}i.inflateReset=b,i.inflateReset2=I,i.inflateResetKeep=w,i.inflateInit=function(T){return F(T,15)},i.inflateInit2=F,i.inflate=function(T,K){var v,re,ge,Y,fe,le,ne,ae,_,O,G,oe,Ae,U,M,J,ce,ee,Z,me,B,te,H,S,E=0,P=new s.Buf8(4),de=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!T||!T.state||!T.output||!T.input&&T.avail_in!==0)return u;(v=T.state).mode===12&&(v.mode=13),fe=T.next_out,ge=T.output,ne=T.avail_out,Y=T.next_in,re=T.input,le=T.avail_in,ae=v.hold,_=v.bits,O=le,G=ne,te=f;e:for(;;)switch(v.mode){case g:if(v.wrap===0){v.mode=13;break}for(;_<16;){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}if(2&v.wrap&&ae===35615){P[v.check=0]=255&ae,P[1]=ae>>>8&255,v.check=o(v.check,P,2,0),_=ae=0,v.mode=2;break}if(v.flags=0,v.head&&(v.head.done=!1),!(1&v.wrap)||(((255&ae)<<8)+(ae>>8))%31){T.msg="incorrect header check",v.mode=30;break}if((15&ae)!=8){T.msg="unknown compression method",v.mode=30;break}if(_-=4,B=8+(15&(ae>>>=4)),v.wbits===0)v.wbits=B;else if(B>v.wbits){T.msg="invalid window size",v.mode=30;break}v.dmax=1<<B,T.adler=v.check=1,v.mode=512&ae?10:12,_=ae=0;break;case 2:for(;_<16;){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}if(v.flags=ae,(255&v.flags)!=8){T.msg="unknown compression method",v.mode=30;break}if(57344&v.flags){T.msg="unknown header flags set",v.mode=30;break}v.head&&(v.head.text=ae>>8&1),512&v.flags&&(P[0]=255&ae,P[1]=ae>>>8&255,v.check=o(v.check,P,2,0)),_=ae=0,v.mode=3;case 3:for(;_<32;){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}v.head&&(v.head.time=ae),512&v.flags&&(P[0]=255&ae,P[1]=ae>>>8&255,P[2]=ae>>>16&255,P[3]=ae>>>24&255,v.check=o(v.check,P,4,0)),_=ae=0,v.mode=4;case 4:for(;_<16;){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}v.head&&(v.head.xflags=255&ae,v.head.os=ae>>8),512&v.flags&&(P[0]=255&ae,P[1]=ae>>>8&255,v.check=o(v.check,P,2,0)),_=ae=0,v.mode=5;case 5:if(1024&v.flags){for(;_<16;){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}v.length=ae,v.head&&(v.head.extra_len=ae),512&v.flags&&(P[0]=255&ae,P[1]=ae>>>8&255,v.check=o(v.check,P,2,0)),_=ae=0}else v.head&&(v.head.extra=null);v.mode=6;case 6:if(1024&v.flags&&(le<(oe=v.length)&&(oe=le),oe&&(v.head&&(B=v.head.extra_len-v.length,v.head.extra||(v.head.extra=new Array(v.head.extra_len)),s.arraySet(v.head.extra,re,Y,oe,B)),512&v.flags&&(v.check=o(v.check,re,oe,Y)),le-=oe,Y+=oe,v.length-=oe),v.length))break e;v.length=0,v.mode=7;case 7:if(2048&v.flags){if(le===0)break e;for(oe=0;B=re[Y+oe++],v.head&&B&&v.length<65536&&(v.head.name+=String.fromCharCode(B)),B&&oe<le;);if(512&v.flags&&(v.check=o(v.check,re,oe,Y)),le-=oe,Y+=oe,B)break e}else v.head&&(v.head.name=null);v.length=0,v.mode=8;case 8:if(4096&v.flags){if(le===0)break e;for(oe=0;B=re[Y+oe++],v.head&&B&&v.length<65536&&(v.head.comment+=String.fromCharCode(B)),B&&oe<le;);if(512&v.flags&&(v.check=o(v.check,re,oe,Y)),le-=oe,Y+=oe,B)break e}else v.head&&(v.head.comment=null);v.mode=9;case 9:if(512&v.flags){for(;_<16;){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}if(ae!==(65535&v.check)){T.msg="header crc mismatch",v.mode=30;break}_=ae=0}v.head&&(v.head.hcrc=v.flags>>9&1,v.head.done=!0),T.adler=v.check=0,v.mode=12;break;case 10:for(;_<32;){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}T.adler=v.check=p(ae),_=ae=0,v.mode=11;case 11:if(v.havedict===0)return T.next_out=fe,T.avail_out=ne,T.next_in=Y,T.avail_in=le,v.hold=ae,v.bits=_,2;T.adler=v.check=1,v.mode=12;case 12:if(K===5||K===6)break e;case 13:if(v.last){ae>>>=7&_,_-=7&_,v.mode=27;break}for(;_<3;){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}switch(v.last=1&ae,_-=1,3&(ae>>>=1)){case 0:v.mode=14;break;case 1:if($(v),v.mode=20,K!==6)break;ae>>>=2,_-=2;break e;case 2:v.mode=17;break;case 3:T.msg="invalid block type",v.mode=30}ae>>>=2,_-=2;break;case 14:for(ae>>>=7&_,_-=7&_;_<32;){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}if((65535&ae)!=(ae>>>16^65535)){T.msg="invalid stored block lengths",v.mode=30;break}if(v.length=65535&ae,_=ae=0,v.mode=15,K===6)break e;case 15:v.mode=16;case 16:if(oe=v.length){if(le<oe&&(oe=le),ne<oe&&(oe=ne),oe===0)break e;s.arraySet(ge,re,Y,oe,fe),le-=oe,Y+=oe,ne-=oe,fe+=oe,v.length-=oe;break}v.mode=12;break;case 17:for(;_<14;){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}if(v.nlen=257+(31&ae),ae>>>=5,_-=5,v.ndist=1+(31&ae),ae>>>=5,_-=5,v.ncode=4+(15&ae),ae>>>=4,_-=4,286<v.nlen||30<v.ndist){T.msg="too many length or distance symbols",v.mode=30;break}v.have=0,v.mode=18;case 18:for(;v.have<v.ncode;){for(;_<3;){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}v.lens[de[v.have++]]=7&ae,ae>>>=3,_-=3}for(;v.have<19;)v.lens[de[v.have++]]=0;if(v.lencode=v.lendyn,v.lenbits=7,H={bits:v.lenbits},te=A(0,v.lens,0,19,v.lencode,0,v.work,H),v.lenbits=H.bits,te){T.msg="invalid code lengths set",v.mode=30;break}v.have=0,v.mode=19;case 19:for(;v.have<v.nlen+v.ndist;){for(;J=(E=v.lencode[ae&(1<<v.lenbits)-1])>>>16&255,ce=65535&E,!((M=E>>>24)<=_);){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}if(ce<16)ae>>>=M,_-=M,v.lens[v.have++]=ce;else{if(ce===16){for(S=M+2;_<S;){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}if(ae>>>=M,_-=M,v.have===0){T.msg="invalid bit length repeat",v.mode=30;break}B=v.lens[v.have-1],oe=3+(3&ae),ae>>>=2,_-=2}else if(ce===17){for(S=M+3;_<S;){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}_-=M,B=0,oe=3+(7&(ae>>>=M)),ae>>>=3,_-=3}else{for(S=M+7;_<S;){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}_-=M,B=0,oe=11+(127&(ae>>>=M)),ae>>>=7,_-=7}if(v.have+oe>v.nlen+v.ndist){T.msg="invalid bit length repeat",v.mode=30;break}for(;oe--;)v.lens[v.have++]=B}}if(v.mode===30)break;if(v.lens[256]===0){T.msg="invalid code -- missing end-of-block",v.mode=30;break}if(v.lenbits=9,H={bits:v.lenbits},te=A(d,v.lens,0,v.nlen,v.lencode,0,v.work,H),v.lenbits=H.bits,te){T.msg="invalid literal/lengths set",v.mode=30;break}if(v.distbits=6,v.distcode=v.distdyn,H={bits:v.distbits},te=A(h,v.lens,v.nlen,v.ndist,v.distcode,0,v.work,H),v.distbits=H.bits,te){T.msg="invalid distances set",v.mode=30;break}if(v.mode=20,K===6)break e;case 20:v.mode=21;case 21:if(6<=le&&258<=ne){T.next_out=fe,T.avail_out=ne,T.next_in=Y,T.avail_in=le,v.hold=ae,v.bits=_,c(T,G),fe=T.next_out,ge=T.output,ne=T.avail_out,Y=T.next_in,re=T.input,le=T.avail_in,ae=v.hold,_=v.bits,v.mode===12&&(v.back=-1);break}for(v.back=0;J=(E=v.lencode[ae&(1<<v.lenbits)-1])>>>16&255,ce=65535&E,!((M=E>>>24)<=_);){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}if(J&&!(240&J)){for(ee=M,Z=J,me=ce;J=(E=v.lencode[me+((ae&(1<<ee+Z)-1)>>ee)])>>>16&255,ce=65535&E,!(ee+(M=E>>>24)<=_);){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}ae>>>=ee,_-=ee,v.back+=ee}if(ae>>>=M,_-=M,v.back+=M,v.length=ce,J===0){v.mode=26;break}if(32&J){v.back=-1,v.mode=12;break}if(64&J){T.msg="invalid literal/length code",v.mode=30;break}v.extra=15&J,v.mode=22;case 22:if(v.extra){for(S=v.extra;_<S;){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}v.length+=ae&(1<<v.extra)-1,ae>>>=v.extra,_-=v.extra,v.back+=v.extra}v.was=v.length,v.mode=23;case 23:for(;J=(E=v.distcode[ae&(1<<v.distbits)-1])>>>16&255,ce=65535&E,!((M=E>>>24)<=_);){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}if(!(240&J)){for(ee=M,Z=J,me=ce;J=(E=v.distcode[me+((ae&(1<<ee+Z)-1)>>ee)])>>>16&255,ce=65535&E,!(ee+(M=E>>>24)<=_);){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}ae>>>=ee,_-=ee,v.back+=ee}if(ae>>>=M,_-=M,v.back+=M,64&J){T.msg="invalid distance code",v.mode=30;break}v.offset=ce,v.extra=15&J,v.mode=24;case 24:if(v.extra){for(S=v.extra;_<S;){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}v.offset+=ae&(1<<v.extra)-1,ae>>>=v.extra,_-=v.extra,v.back+=v.extra}if(v.offset>v.dmax){T.msg="invalid distance too far back",v.mode=30;break}v.mode=25;case 25:if(ne===0)break e;if(oe=G-ne,v.offset>oe){if((oe=v.offset-oe)>v.whave&&v.sane){T.msg="invalid distance too far back",v.mode=30;break}Ae=oe>v.wnext?(oe-=v.wnext,v.wsize-oe):v.wnext-oe,oe>v.length&&(oe=v.length),U=v.window}else U=ge,Ae=fe-v.offset,oe=v.length;for(ne<oe&&(oe=ne),ne-=oe,v.length-=oe;ge[fe++]=U[Ae++],--oe;);v.length===0&&(v.mode=21);break;case 26:if(ne===0)break e;ge[fe++]=v.length,ne--,v.mode=21;break;case 27:if(v.wrap){for(;_<32;){if(le===0)break e;le--,ae|=re[Y++]<<_,_+=8}if(G-=ne,T.total_out+=G,v.total+=G,G&&(T.adler=v.check=v.flags?o(v.check,ge,G,fe-G):a(v.check,ge,G,fe-G)),G=ne,(v.flags?ae:p(ae))!==v.check){T.msg="incorrect data check",v.mode=30;break}_=ae=0}v.mode=28;case 28:if(v.wrap&&v.flags){for(;_<32;){if(le===0)break e;le--,ae+=re[Y++]<<_,_+=8}if(ae!==(4294967295&v.total)){T.msg="incorrect length check",v.mode=30;break}_=ae=0}v.mode=29;case 29:te=1;break e;case 30:te=-3;break e;case 31:return-4;case 32:default:return u}return T.next_out=fe,T.avail_out=ne,T.next_in=Y,T.avail_in=le,v.hold=ae,v.bits=_,(v.wsize||G!==T.avail_out&&v.mode<30&&(v.mode<27||K!==4))&&q(T,T.output,T.next_out,G-T.avail_out)?(v.mode=31,-4):(O-=T.avail_in,G-=T.avail_out,T.total_in+=O,T.total_out+=G,v.total+=G,v.wrap&&G&&(T.adler=v.check=v.flags?o(v.check,ge,G,T.next_out-G):a(v.check,ge,G,T.next_out-G)),T.data_type=v.bits+(v.last?64:0)+(v.mode===12?128:0)+(v.mode===20||v.mode===15?256:0),(O==0&&G===0||K===4)&&te===f&&(te=-5),te)},i.inflateEnd=function(T){if(!T||!T.state)return u;var K=T.state;return K.window&&(K.window=null),T.state=null,f},i.inflateGetHeader=function(T,K){var v;return T&&T.state&&2&(v=T.state).wrap?((v.head=K).done=!1,f):u},i.inflateSetDictionary=function(T,K){var v,re=K.length;return T&&T.state?(v=T.state).wrap!==0&&v.mode!==11?u:v.mode===11&&a(1,K,re,0)!==v.check?-3:q(T,K,re,re)?(v.mode=31,-4):(v.havedict=1,f):u},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var s=r("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],A=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(d,h,f,u,g,m,x,p){var y,w,b,I,F,R,Q,k,$,q=p.bits,T=0,K=0,v=0,re=0,ge=0,Y=0,fe=0,le=0,ne=0,ae=0,_=null,O=0,G=new s.Buf16(16),oe=new s.Buf16(16),Ae=null,U=0;for(T=0;T<=15;T++)G[T]=0;for(K=0;K<u;K++)G[h[f+K]]++;for(ge=q,re=15;1<=re&&G[re]===0;re--);if(re<ge&&(ge=re),re===0)return g[m++]=20971520,g[m++]=20971520,p.bits=1,0;for(v=1;v<re&&G[v]===0;v++);for(ge<v&&(ge=v),T=le=1;T<=15;T++)if(le<<=1,(le-=G[T])<0)return-1;if(0<le&&(d===0||re!==1))return-1;for(oe[1]=0,T=1;T<15;T++)oe[T+1]=oe[T]+G[T];for(K=0;K<u;K++)h[f+K]!==0&&(x[oe[h[f+K]]++]=K);if(R=d===0?(_=Ae=x,19):d===1?(_=a,O-=257,Ae=o,U-=257,256):(_=c,Ae=A,-1),T=v,F=m,fe=K=ae=0,b=-1,I=(ne=1<<(Y=ge))-1,d===1&&852<ne||d===2&&592<ne)return 1;for(;;){for(Q=T-fe,$=x[K]<R?(k=0,x[K]):x[K]>R?(k=Ae[U+x[K]],_[O+x[K]]):(k=96,0),y=1<<T-fe,v=w=1<<Y;g[F+(ae>>fe)+(w-=y)]=Q<<24|k<<16|$|0,w!==0;);for(y=1<<T-1;ae&y;)y>>=1;if(y!==0?(ae&=y-1,ae+=y):ae=0,K++,--G[T]==0){if(T===re)break;T=h[f+x[K]]}if(ge<T&&(ae&I)!==b){for(fe===0&&(fe=ge),F+=v,le=1<<(Y=T-fe);Y+fe<re&&!((le-=G[Y+fe])<=0);)Y++,le<<=1;if(ne+=1<<Y,d===1&&852<ne||d===2&&592<ne)return 1;g[b=ae&I]=ge<<24|Y<<16|F-m|0}}return ae!==0&&(g[F+ae]=T-fe<<24|64<<16|0),p.bits=ge,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var s=r("../utils/common"),a=0,o=1;function c(E){for(var P=E.length;0<=--P;)E[P]=0}var A=0,d=29,h=256,f=h+1+d,u=30,g=19,m=2*f+1,x=15,p=16,y=7,w=256,b=16,I=17,F=18,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=new Array(2*(f+2));c(q);var T=new Array(2*u);c(T);var K=new Array(512);c(K);var v=new Array(256);c(v);var re=new Array(d);c(re);var ge,Y,fe,le=new Array(u);function ne(E,P,de,ye,ue){this.static_tree=E,this.extra_bits=P,this.extra_base=de,this.elems=ye,this.max_length=ue,this.has_stree=E&&E.length}function ae(E,P){this.dyn_tree=E,this.max_code=0,this.stat_desc=P}function _(E){return E<256?K[E]:K[256+(E>>>7)]}function O(E,P){E.pending_buf[E.pending++]=255&P,E.pending_buf[E.pending++]=P>>>8&255}function G(E,P,de){E.bi_valid>p-de?(E.bi_buf|=P<<E.bi_valid&65535,O(E,E.bi_buf),E.bi_buf=P>>p-E.bi_valid,E.bi_valid+=de-p):(E.bi_buf|=P<<E.bi_valid&65535,E.bi_valid+=de)}function oe(E,P,de){G(E,de[2*P],de[2*P+1])}function Ae(E,P){for(var de=0;de|=1&E,E>>>=1,de<<=1,0<--P;);return de>>>1}function U(E,P,de){var ye,ue,ke=new Array(x+1),Oe=0;for(ye=1;ye<=x;ye++)ke[ye]=Oe=Oe+de[ye-1]<<1;for(ue=0;ue<=P;ue++){var Ue=E[2*ue+1];Ue!==0&&(E[2*ue]=Ae(ke[Ue]++,Ue))}}function M(E){var P;for(P=0;P<f;P++)E.dyn_ltree[2*P]=0;for(P=0;P<u;P++)E.dyn_dtree[2*P]=0;for(P=0;P<g;P++)E.bl_tree[2*P]=0;E.dyn_ltree[2*w]=1,E.opt_len=E.static_len=0,E.last_lit=E.matches=0}function J(E){8<E.bi_valid?O(E,E.bi_buf):0<E.bi_valid&&(E.pending_buf[E.pending++]=E.bi_buf),E.bi_buf=0,E.bi_valid=0}function ce(E,P,de,ye){var ue=2*P,ke=2*de;return E[ue]<E[ke]||E[ue]===E[ke]&&ye[P]<=ye[de]}function ee(E,P,de){for(var ye=E.heap[de],ue=de<<1;ue<=E.heap_len&&(ue<E.heap_len&&ce(P,E.heap[ue+1],E.heap[ue],E.depth)&&ue++,!ce(P,ye,E.heap[ue],E.depth));)E.heap[de]=E.heap[ue],de=ue,ue<<=1;E.heap[de]=ye}function Z(E,P,de){var ye,ue,ke,Oe,Ue=0;if(E.last_lit!==0)for(;ye=E.pending_buf[E.d_buf+2*Ue]<<8|E.pending_buf[E.d_buf+2*Ue+1],ue=E.pending_buf[E.l_buf+Ue],Ue++,ye===0?oe(E,ue,P):(oe(E,(ke=v[ue])+h+1,P),(Oe=R[ke])!==0&&G(E,ue-=re[ke],Oe),oe(E,ke=_(--ye),de),(Oe=Q[ke])!==0&&G(E,ye-=le[ke],Oe)),Ue<E.last_lit;);oe(E,w,P)}function me(E,P){var de,ye,ue,ke=P.dyn_tree,Oe=P.stat_desc.static_tree,Ue=P.stat_desc.has_stree,_e=P.stat_desc.elems,Me=-1;for(E.heap_len=0,E.heap_max=m,de=0;de<_e;de++)ke[2*de]!==0?(E.heap[++E.heap_len]=Me=de,E.depth[de]=0):ke[2*de+1]=0;for(;E.heap_len<2;)ke[2*(ue=E.heap[++E.heap_len]=Me<2?++Me:0)]=1,E.depth[ue]=0,E.opt_len--,Ue&&(E.static_len-=Oe[2*ue+1]);for(P.max_code=Me,de=E.heap_len>>1;1<=de;de--)ee(E,ke,de);for(ue=_e;de=E.heap[1],E.heap[1]=E.heap[E.heap_len--],ee(E,ke,1),ye=E.heap[1],E.heap[--E.heap_max]=de,E.heap[--E.heap_max]=ye,ke[2*ue]=ke[2*de]+ke[2*ye],E.depth[ue]=(E.depth[de]>=E.depth[ye]?E.depth[de]:E.depth[ye])+1,ke[2*de+1]=ke[2*ye+1]=ue,E.heap[1]=ue++,ee(E,ke,1),2<=E.heap_len;);E.heap[--E.heap_max]=E.heap[1],function(Ze,ut){var kt,It,ur,Ft,yt,Yt,mt=ut.dyn_tree,$t=ut.max_code,tr=ut.stat_desc.static_tree,fr=ut.stat_desc.has_stree,Ct=ut.stat_desc.extra_bits,$e=ut.stat_desc.extra_base,ct=ut.stat_desc.max_length,st=0;for(Ft=0;Ft<=x;Ft++)Ze.bl_count[Ft]=0;for(mt[2*Ze.heap[Ze.heap_max]+1]=0,kt=Ze.heap_max+1;kt<m;kt++)ct<(Ft=mt[2*mt[2*(It=Ze.heap[kt])+1]+1]+1)&&(Ft=ct,st++),mt[2*It+1]=Ft,$t<It||(Ze.bl_count[Ft]++,yt=0,$e<=It&&(yt=Ct[It-$e]),Yt=mt[2*It],Ze.opt_len+=Yt*(Ft+yt),fr&&(Ze.static_len+=Yt*(tr[2*It+1]+yt)));if(st!==0){do{for(Ft=ct-1;Ze.bl_count[Ft]===0;)Ft--;Ze.bl_count[Ft]--,Ze.bl_count[Ft+1]+=2,Ze.bl_count[ct]--,st-=2}while(0<st);for(Ft=ct;Ft!==0;Ft--)for(It=Ze.bl_count[Ft];It!==0;)$t<(ur=Ze.heap[--kt])||(mt[2*ur+1]!==Ft&&(Ze.opt_len+=(Ft-mt[2*ur+1])*mt[2*ur],mt[2*ur+1]=Ft),It--)}}(E,P),U(ke,Me,E.bl_count)}function B(E,P,de){var ye,ue,ke=-1,Oe=P[1],Ue=0,_e=7,Me=4;for(Oe===0&&(_e=138,Me=3),P[2*(de+1)+1]=65535,ye=0;ye<=de;ye++)ue=Oe,Oe=P[2*(ye+1)+1],++Ue<_e&&ue===Oe||(Ue<Me?E.bl_tree[2*ue]+=Ue:ue!==0?(ue!==ke&&E.bl_tree[2*ue]++,E.bl_tree[2*b]++):Ue<=10?E.bl_tree[2*I]++:E.bl_tree[2*F]++,ke=ue,Me=(Ue=0)===Oe?(_e=138,3):ue===Oe?(_e=6,3):(_e=7,4))}function te(E,P,de){var ye,ue,ke=-1,Oe=P[1],Ue=0,_e=7,Me=4;for(Oe===0&&(_e=138,Me=3),ye=0;ye<=de;ye++)if(ue=Oe,Oe=P[2*(ye+1)+1],!(++Ue<_e&&ue===Oe)){if(Ue<Me)for(;oe(E,ue,E.bl_tree),--Ue!=0;);else ue!==0?(ue!==ke&&(oe(E,ue,E.bl_tree),Ue--),oe(E,b,E.bl_tree),G(E,Ue-3,2)):Ue<=10?(oe(E,I,E.bl_tree),G(E,Ue-3,3)):(oe(E,F,E.bl_tree),G(E,Ue-11,7));ke=ue,Me=(Ue=0)===Oe?(_e=138,3):ue===Oe?(_e=6,3):(_e=7,4)}}c(le);var H=!1;function S(E,P,de,ye){G(E,(A<<1)+(ye?1:0),3),function(ue,ke,Oe,Ue){J(ue),Ue&&(O(ue,Oe),O(ue,~Oe)),s.arraySet(ue.pending_buf,ue.window,ke,Oe,ue.pending),ue.pending+=Oe}(E,P,de,!0)}i._tr_init=function(E){H||(function(){var P,de,ye,ue,ke,Oe=new Array(x+1);for(ue=ye=0;ue<d-1;ue++)for(re[ue]=ye,P=0;P<1<<R[ue];P++)v[ye++]=ue;for(v[ye-1]=ue,ue=ke=0;ue<16;ue++)for(le[ue]=ke,P=0;P<1<<Q[ue];P++)K[ke++]=ue;for(ke>>=7;ue<u;ue++)for(le[ue]=ke<<7,P=0;P<1<<Q[ue]-7;P++)K[256+ke++]=ue;for(de=0;de<=x;de++)Oe[de]=0;for(P=0;P<=143;)q[2*P+1]=8,P++,Oe[8]++;for(;P<=255;)q[2*P+1]=9,P++,Oe[9]++;for(;P<=279;)q[2*P+1]=7,P++,Oe[7]++;for(;P<=287;)q[2*P+1]=8,P++,Oe[8]++;for(U(q,f+1,Oe),P=0;P<u;P++)T[2*P+1]=5,T[2*P]=Ae(P,5);ge=new ne(q,R,h+1,f,x),Y=new ne(T,Q,0,u,x),fe=new ne(new Array(0),k,0,g,y)}(),H=!0),E.l_desc=new ae(E.dyn_ltree,ge),E.d_desc=new ae(E.dyn_dtree,Y),E.bl_desc=new ae(E.bl_tree,fe),E.bi_buf=0,E.bi_valid=0,M(E)},i._tr_stored_block=S,i._tr_flush_block=function(E,P,de,ye){var ue,ke,Oe=0;0<E.level?(E.strm.data_type===2&&(E.strm.data_type=function(Ue){var _e,Me=4093624447;for(_e=0;_e<=31;_e++,Me>>>=1)if(1&Me&&Ue.dyn_ltree[2*_e]!==0)return a;if(Ue.dyn_ltree[18]!==0||Ue.dyn_ltree[20]!==0||Ue.dyn_ltree[26]!==0)return o;for(_e=32;_e<h;_e++)if(Ue.dyn_ltree[2*_e]!==0)return o;return a}(E)),me(E,E.l_desc),me(E,E.d_desc),Oe=function(Ue){var _e;for(B(Ue,Ue.dyn_ltree,Ue.l_desc.max_code),B(Ue,Ue.dyn_dtree,Ue.d_desc.max_code),me(Ue,Ue.bl_desc),_e=g-1;3<=_e&&Ue.bl_tree[2*$[_e]+1]===0;_e--);return Ue.opt_len+=3*(_e+1)+5+5+4,_e}(E),ue=E.opt_len+3+7>>>3,(ke=E.static_len+3+7>>>3)<=ue&&(ue=ke)):ue=ke=de+5,de+4<=ue&&P!==-1?S(E,P,de,ye):E.strategy===4||ke===ue?(G(E,2+(ye?1:0),3),Z(E,q,T)):(G(E,4+(ye?1:0),3),function(Ue,_e,Me,Ze){var ut;for(G(Ue,_e-257,5),G(Ue,Me-1,5),G(Ue,Ze-4,4),ut=0;ut<Ze;ut++)G(Ue,Ue.bl_tree[2*$[ut]+1],3);te(Ue,Ue.dyn_ltree,_e-1),te(Ue,Ue.dyn_dtree,Me-1)}(E,E.l_desc.max_code+1,E.d_desc.max_code+1,Oe+1),Z(E,E.dyn_ltree,E.dyn_dtree)),M(E),ye&&J(E)},i._tr_tally=function(E,P,de){return E.pending_buf[E.d_buf+2*E.last_lit]=P>>>8&255,E.pending_buf[E.d_buf+2*E.last_lit+1]=255&P,E.pending_buf[E.l_buf+E.last_lit]=255&de,E.last_lit++,P===0?E.dyn_ltree[2*de]++:(E.matches++,P--,E.dyn_ltree[2*(v[de]+h+1)]++,E.dyn_dtree[2*_(P)]++),E.last_lit===E.lit_bufsize-1},i._tr_align=function(E){G(E,2,3),oe(E,w,q),function(P){P.bi_valid===16?(O(P,P.bi_buf),P.bi_buf=0,P.bi_valid=0):8<=P.bi_valid&&(P.pending_buf[P.pending++]=255&P.bi_buf,P.bi_buf>>=8,P.bi_valid-=8)}(E)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(s){(function(a,o){if(!a.setImmediate){var c,A,d,h,f=1,u={},g=!1,m=a.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(a);x=x&&x.setTimeout?x:a,c={}.toString.call(a.process)==="[object process]"?function(b){process.nextTick(function(){y(b)})}:function(){if(a.postMessage&&!a.importScripts){var b=!0,I=a.onmessage;return a.onmessage=function(){b=!1},a.postMessage("","*"),a.onmessage=I,b}}()?(h="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",w,!1):a.attachEvent("onmessage",w),function(b){a.postMessage(h+b,"*")}):a.MessageChannel?((d=new MessageChannel).port1.onmessage=function(b){y(b.data)},function(b){d.port2.postMessage(b)}):m&&"onreadystatechange"in m.createElement("script")?(A=m.documentElement,function(b){var I=m.createElement("script");I.onreadystatechange=function(){y(b),I.onreadystatechange=null,A.removeChild(I),I=null},A.appendChild(I)}):function(b){setTimeout(y,0,b)},x.setImmediate=function(b){typeof b!="function"&&(b=new Function(""+b));for(var I=new Array(arguments.length-1),F=0;F<I.length;F++)I[F]=arguments[F+1];var R={callback:b,args:I};return u[f]=R,c(f),f++},x.clearImmediate=p}function p(b){delete u[b]}function y(b){if(g)setTimeout(y,0,b);else{var I=u[b];if(I){g=!0;try{(function(F){var R=F.callback,Q=F.args;switch(Q.length){case 0:R();break;case 1:R(Q[0]);break;case 2:R(Q[0],Q[1]);break;case 3:R(Q[0],Q[1],Q[2]);break;default:R.apply(o,Q)}})(I)}finally{p(b),g=!1}}}}function w(b){b.source===a&&typeof b.data=="string"&&b.data.indexOf(h)===0&&y(+b.data.slice(h.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof la<"u"?la:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(oD);var zne=oD.exports;const Kne=ch(zne),qne=({selectedProject:e,onProjectSelect:t,onArtifactsChange:r,hideProjectList:n=!1})=>{const[i,s]=Se.useState([]),[a,o]=Se.useState(!1),[c,A]=Se.useState(""),[d,h]=Se.useState(""),[f,u]=Se.useState([]),[g,m]=Se.useState(!1),[x,p]=Se.useState(!1),[y,w]=Se.useState(""),[b,I]=Se.useState(""),[F,R]=Se.useState("BRD"),Q=Se.useMemo(()=>new so,[]),k=Se.useMemo(()=>new aD,[]),$=async()=>{const le=await Q.getAllProjects();s(le)},q=Se.useCallback(async le=>{const ae=(await Q.getArtifactsByProject(le)).filter(_=>_.projectId===le);u(ae),r(ae)},[r]),T=Se.useCallback(async le=>{if(e){for(const ne of le){const ae=await k.uploadFile(ne);let _=ae.content;if(ne.type==="application/pdf"||ne.name.endsWith(".pdf"))try{const G=await ne.arrayBuffer();_=`[PDF_BASE64_START]${btoa(String.fromCharCode(...new Uint8Array(G)))}[PDF_BASE64_END]${ae.content}`}catch(G){console.warn("Could not convert PDF to base64, storing text only:",G)}let O=F;ne.type.startsWith("image/")&&(O="ARCHITECTURE"),await Q.addArtifact({projectId:e.id,fileName:ne.name,fileType:ne.type,fileSize:ne.size,fileContent:_,artifactType:O})}await q(e.id),m(!1)}},[e,F,q]);Se.useEffect(()=>{$(),e&&q(e.id)},[e,q]),Se.useEffect(()=>{const le=async ne=>{var oe,Ae,U;if(!e)return;const ae=ne.target;if(ae&&(ae.tagName==="INPUT"||ae.tagName==="TEXTAREA"||ae.isContentEditable))return;const _=(oe=ne.clipboardData)==null?void 0:oe.items;if(!_)return;const O=[];let G=!1;for(let M=0;M<_.length;M++){const J=_[M];if(J.kind==="file"){const ce=J.getAsFile();if(ce){const ee=ce.name||`pasted-file-${Date.now()}.${ce.type.split("/")[1]||"bin"}`,Z=(Ae=ee.split(".").pop())==null?void 0:Ae.toLowerCase();if(!Z||["pdf","doc","docx","txt","md","png","jpg","jpeg","gif","webp"].includes(Z)||ce.type.startsWith("image/")){const B=ce.name?ce:new File([ce],ee,{type:ce.type});O.push(B)}}}else J.kind==="string"&&J.type==="text/plain"&&(G=!0)}if(O.length===0&&ne.clipboardData){const J=Array.from(_).find(ce=>ce.type.startsWith("image/"));if(J&&J.kind==="file"){const ce=J.getAsFile();if(ce){const ee=new File([ce],`pasted-image-${Date.now()}.png`,{type:ce.type||"image/png"});O.push(ee)}}}if(O.length>0)ne.preventDefault(),console.log(`ðŸ“‹ Pasted ${O.length} file(s) from clipboard`),await T(O);else if(G&&ne.clipboardData){const M=ne.clipboardData.getData("text/plain");if(M&&M.trim().length>50){ne.preventDefault(),w(M);const J=(U=M.split(`
`)[0])==null?void 0:U.trim(),ce=J&&J.length<100?`${J.replace(/[^a-z0-9]/gi,"_").substring(0,50)}.txt`:`pasted-document-${Date.now()}.txt`;I(ce),p(!0),console.log(`ðŸ“‹ Pasted text content (${M.length} characters)`)}}};return window.addEventListener("paste",le),()=>{window.removeEventListener("paste",le)}},[e,T]);const K=async()=>{if(!c.trim())return;const le=await Q.createProject({name:c,description:d});s([...i,le]),A(""),h(""),o(!1),t(le)},v=async le=>{confirm("Are you sure you want to delete this project and all its data?")&&(await Q.deleteProject(le),s(i.filter(ne=>ne.id!==le)),(e==null?void 0:e.id)===le&&t(null))},re=async le=>{if(!e||!le.target.files)return;const ne=Array.from(le.target.files);await T(ne)},ge=async()=>{if(!e||!y.trim())return;const le=new File([y],b||`pasted-document-${Date.now()}.txt`,{type:"text/plain"});await T([le]),p(!1),w(""),I("")},Y=async le=>{await Q.deleteArtifact(le),e&&await q(e.id)},fe=async()=>{var le,ne;if(!e||f.length===0){alert("No artifacts to download");return}try{const ae=new Kne;for(const G of f){let oe;const Ae=G.fileContent.match(/\[PDF_BASE64_START\](.*?)\[PDF_BASE64_END\]/);if(Ae){const ee=Ae[1];try{const Z=atob(ee),me=new Uint8Array(Z.length);for(let B=0;B<Z.length;B++)me[B]=Z.charCodeAt(B);oe=me}catch{console.warn(`Failed to decode base64 for ${G.fileName}, using text content instead`),oe=G.fileContent.replace(/\[PDF_BASE64_START\].*?\[PDF_BASE64_END\]/,"").trim()||"Content unavailable"}}else if((le=G.fileType)!=null&&le.startsWith("image/")){const ee=G.fileContent.match(/^data:image\/[^;]+;base64,(.+)$/),Z=G.fileContent.match(/^[A-Za-z0-9+\/]+=*$/);if(ee){const me=ee[1];try{const B=atob(me),te=new Uint8Array(B.length);for(let H=0;H<B.length;H++)te[H]=B.charCodeAt(H);oe=te}catch{console.warn(`Failed to decode base64 image for ${G.fileName}`),oe=`[Image file: ${G.fileName}]
Note: Binary image data not available. Original file content was stored as text.`}}else if(Z&&G.fileContent.length>100)try{const me=atob(G.fileContent),B=new Uint8Array(me.length);for(let te=0;te<me.length;te++)B[te]=me.charCodeAt(te);oe=B}catch{oe=G.fileContent||""}else oe=G.fileContent||`[Image file: ${G.fileName}]
Note: Binary image data not available.`}else oe=G.fileContent||"";let U=G.fileName;if(!U.includes(".")){const Z={"application/pdf":".pdf","text/plain":".txt","text/markdown":".md","application/msword":".doc","application/vnd.openxmlformats-officedocument.wordprocessingml.document":".docx","image/png":".png","image/jpeg":".jpg","image/jpg":".jpg","image/gif":".gif","image/webp":".webp"}[G.fileType]||".txt";U=`${U}${Z}`}let M=U.replace(/[\/\\]/g,"_").replace(/\.\./g,"_"),J=1;const ce=M;for(;ae.files[M];){const ee=ce.replace(/\.[^/.]+$/,""),Z=((ne=ce.match(/\.[^/.]+$/))==null?void 0:ne.pop())||"";M=`${ee}_${J}${Z}`,J++}ae.file(M,oe)}const _=await ae.generateAsync({type:"blob"}),O=`${e.name.replace(/[^a-z0-9]/gi,"_")}_artifacts_${new Date().toISOString().split("T")[0]}.zip`;pL.saveAs(_,O)}catch(ae){console.error("Error creating zip file:",ae),alert("Failed to create zip file. Please try again.")}};return l.jsxs("div",{className:n?"w-full":"bg-white rounded-lg shadow-md p-6 mb-6",children:[!n&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[l.jsx(mp,{size:24}),"Projects"]}),l.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-2 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors",children:[l.jsx(Sn,{size:20}),"New Project"]})]}),l.jsx("div",{className:"space-y-2 mb-4",children:i.length===0?l.jsx("p",{className:"text-gray-500 text-center py-4",children:"No projects yet. Create one to get started!"}):i.map(le=>l.jsx("div",{className:`p-3 rounded-lg border-2 transition-all cursor-pointer ${(e==null?void 0:e.id)===le.id?"border-purple-700 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>t(le),children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold text-gray-800",children:le.name}),l.jsx("p",{className:"text-sm text-gray-600",children:le.description||"No description"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(le.createdAt).toLocaleDateString()})]}),l.jsx("button",{onClick:ne=>{ne.stopPropagation(),v(le.id)},className:"p-2 text-purple-600 hover:text-purple-800 hover:bg-purple-50 rounded",children:l.jsx(Il,{size:18})})]})},le.id))})]}),e&&l.jsxs("div",{className:n?"w-full":"border-t pt-4",children:[!n&&l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("h3",{className:"font-semibold text-gray-800 flex items-center gap-2",children:[l.jsx(pn,{size:18}),"Business Artifacts"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[f.length>0&&l.jsxs("button",{onClick:fe,className:"flex items-center gap-2 text-blue-700 px-3 py-1.5 rounded-lg hover:bg-blue-50 transition-colors text-sm font-medium",title:"Download all business artifacts as ZIP",children:[l.jsx(Ya,{size:16}),"Download All as ZIP"]}),l.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-2.5 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all shadow-md hover:shadow-lg font-semibold text-sm",children:[l.jsx(el,{size:18}),"Upload Business Artifact"]})]})]}),n&&l.jsxs("div",{className:"mb-3 flex gap-2",children:[f.length>0&&l.jsxs("button",{onClick:fe,className:"flex items-center justify-center gap-2 text-blue-700 px-4 py-2 rounded-lg hover:bg-blue-50 transition-colors text-sm font-medium border border-blue-200",title:"Download all artifacts as ZIP",children:[l.jsx(Ya,{size:16}),"Download All as ZIP"]}),l.jsxs("button",{onClick:()=>m(!0),className:`${f.length>0?"flex-1":"w-full"} flex items-center justify-center gap-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-3 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all shadow-md hover:shadow-lg font-semibold text-base`,children:[l.jsx(el,{size:20}),"Upload Business Artifact"]})]}),l.jsxs("div",{className:"mb-3 bg-blue-50 border border-blue-200 rounded-lg p-2 text-xs text-blue-700",children:["ðŸ’¡ ",l.jsx("strong",{children:"Tip:"})," You can paste files or text content directly (Ctrl+V / Cmd+V) when this project is selected. Supported: PDF, Word, images, and text documents."]}),f.length===0?l.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-purple-200 rounded-lg bg-gradient-to-br from-purple-50/50 to-blue-50/50",children:[l.jsx(el,{size:48,className:"mx-auto text-purple-400 mb-3"}),l.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"No business artifacts uploaded yet"}),l.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Upload BRDs, process flows, diagrams, and technical specs to get started"}),l.jsxs("button",{onClick:()=>m(!0),className:"inline-flex items-center gap-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-3 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all shadow-lg hover:shadow-xl font-semibold text-base",children:[l.jsx(el,{size:20}),"Upload Business Artifact"]})]}):l.jsx("div",{className:"space-y-2",children:f.map(le=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded border",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(pn,{size:16,className:"text-blue-600"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-800",children:le.fileName}),l.jsxs("p",{className:"text-xs text-gray-600",children:[le.artifactType," â€¢ ",(le.fileSize/1024).toFixed(2)," KB"]})]})]}),l.jsx("button",{onClick:()=>Y(le.id),className:"p-1.5 text-purple-600 hover:text-purple-800 hover:bg-purple-50 rounded",children:l.jsx(Il,{size:14})})]},le.id))})]}),a&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[l.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Create New Project"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Project Name *"}),l.jsx("input",{type:"text",value:c,onChange:le=>A(le.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"e.g., Kilimo Biashara Loan System",autoFocus:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{value:d,onChange:le=>h(le.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Brief description of the project",rows:3})]}),l.jsxs("div",{className:"flex gap-2 justify-end",children:[l.jsx("button",{onClick:()=>{o(!1),A(""),h("")},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),l.jsx("button",{onClick:K,className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700",children:"Create"})]})]})]})}),g&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 w-full max-w-lg mx-4 border border-gray-200",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-gray-200",children:[l.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-100 to-blue-100 rounded-lg",children:l.jsx(el,{size:24,className:"text-purple-600"})}),l.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"Upload Business Artifact"})]}),l.jsxs("div",{className:"space-y-5",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Business Artifact Type ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("select",{value:F,onChange:le=>R(le.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all font-medium",children:[l.jsx("option",{value:"BRD",children:"Business Requirements Document (BRD)"}),l.jsx("option",{value:"FLOW",children:"Process Flow"}),l.jsx("option",{value:"SEQUENCE",children:"Sequence Diagram"}),l.jsx("option",{value:"ARCHITECTURE",children:"Architecture Diagram"}),l.jsx("option",{value:"TECHNICAL_SPEC",children:"Technical Specification"}),l.jsx("option",{value:"OTHER",children:"Other"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Select Files ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("div",{className:"border-2 border-dashed border-purple-300 rounded-lg p-6 bg-gradient-to-br from-purple-50/50 to-blue-50/50 hover:border-purple-400 transition-colors",children:[l.jsx("input",{type:"file",multiple:!0,onChange:re,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all cursor-pointer",accept:F==="TECHNICAL_SPEC"?void 0:".pdf,.doc,.docx,.txt,.md,.png,.jpg,.jpeg"}),l.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:F==="TECHNICAL_SPEC"?"Any file type is supported for Technology Artifacts":"Supported formats: PDF, Word, Text, Images"})]})]}),l.jsxs("div",{className:"flex gap-3 justify-end pt-2",children:[l.jsx("button",{onClick:()=>m(!1),className:"px-5 py-2.5 border-2 border-gray-300 rounded-lg hover:bg-gray-50 font-medium transition-colors",children:"Cancel"}),l.jsx("button",{onClick:()=>m(!1),className:"px-5 py-2.5 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 font-semibold transition-all shadow-md hover:shadow-lg",children:"Done"})]})]})]})}),x&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] flex flex-col",children:[l.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Save Pasted Content as Document"}),l.jsxs("div",{className:"space-y-4 flex-1 overflow-hidden flex flex-col",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Document Name"}),l.jsx("input",{type:"text",value:b,onChange:le=>I(le.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"e.g., Mobile Loan Refer BRD.txt"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Business Artifact Type"}),l.jsxs("select",{value:F,onChange:le=>R(le.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[l.jsx("option",{value:"BRD",children:"Business Requirements Document (BRD)"}),l.jsx("option",{value:"FLOW",children:"Process Flow"}),l.jsx("option",{value:"SEQUENCE",children:"Sequence Diagram"}),l.jsx("option",{value:"ARCHITECTURE",children:"Architecture Diagram"}),l.jsx("option",{value:"TECHNICAL_SPEC",children:"Technical Specification"}),l.jsx("option",{value:"OTHER",children:"Other"})]})]}),l.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[l.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Content Preview (",y.length," characters)"]}),l.jsx("textarea",{value:y,onChange:le=>w(le.target.value),className:"w-full flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent font-mono text-xs resize-none",placeholder:"Pasted content will appear here...",readOnly:!0})]}),l.jsxs("div",{className:"flex gap-2 justify-end pt-2 border-t",children:[l.jsx("button",{onClick:()=>{p(!1),w(""),I("")},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),l.jsx("button",{onClick:ge,disabled:!y.trim()||!b.trim(),className:"px-4 py-2 bg-red-700 text-white rounded-lg hover:bg-red-800 disabled:opacity-50 disabled:cursor-not-allowed",children:"Save as Document"})]})]})]})})]})},Gne=({selectedProject:e})=>{const[t,r]=Se.useState([]),[n,i]=Se.useState([]),[s,a]=Se.useState(null),[o,c]=Se.useState(""),[A,d]=Se.useState("all"),[h,f]=Se.useState(!1),[u,g]=Se.useState(!1),[m,x]=Se.useState({name:"",description:"",objectType:"component",objectId:"",tags:[],isReusable:!0}),[p,y]=Se.useState("");Se.useEffect(()=>{w()},[e]),Se.useEffect(()=>{b()},[o,A,t]);const w=async()=>{try{r([])}catch(k){console.error("Error loading repositories:",k)}},b=()=>{let k=t;o&&(k=k.filter($=>{var q,T;return $.name.toLowerCase().includes(o.toLowerCase())||((q=$.description)==null?void 0:q.toLowerCase().includes(o.toLowerCase()))||((T=$.tags)==null?void 0:T.some(K=>K.toLowerCase().includes(o.toLowerCase())))})),A!=="all"&&(k=k.filter($=>$.objectType===A)),i(k)},I=async()=>{if(m.name.trim())try{const k={id:`repo-${Date.now()}`,name:m.name,description:m.description,metadata:{},objectType:m.objectType,objectId:m.objectId||`obj-${Date.now()}`,tags:m.tags,isReusable:m.isReusable,reuseCount:0,createdAt:new Date,updatedAt:new Date};r([...t,k]),f(!1),x({name:"",description:"",objectType:"component",objectId:"",tags:[],isReusable:!0})}catch(k){console.error("Error creating repository:",k),alert("Error creating repository. Please try again.")}},F=()=>{p.trim()&&!m.tags.includes(p.trim())&&(x({...m,tags:[...m.tags,p.trim()]}),y(""))},R=k=>{x({...m,tags:m.tags.filter($=>$!==k)})},Q=[{value:"all",label:"All Types"},{value:"diagram",label:"Diagrams"},{value:"component",label:"Components"},{value:"relationship",label:"Relationships"},{value:"pattern",label:"Patterns"},{value:"service",label:"Services"},{value:"api",label:"APIs"}];return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Jd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{type:"text",placeholder:"Search repositories by name, description, or tags...",value:o,onChange:k=>c(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),l.jsx("select",{value:A,onChange:k=>d(k.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:Q.map(k=>l.jsx("option",{value:k.value,children:k.label},k.value))}),l.jsxs("button",{onClick:()=>f(!0),className:"flex items-center space-x-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-2 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors font-semibold",children:[l.jsx(Sn,{size:18}),l.jsx("span",{children:"Add to Repository"})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(k=>l.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>a(k),children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"bg-purple-100 p-2 rounded-lg",children:l.jsx(no,{size:18,className:"text-purple-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-800",children:k.name}),l.jsx("p",{className:"text-xs text-gray-500",children:k.objectType})]})]}),k.isReusable&&l.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"Reusable"})]}),k.description&&l.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:k.description}),l.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(Xd,{size:14}),l.jsxs("span",{children:[k.reuseCount," uses"]})]}),k.tags&&k.tags.length>0&&l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(I6,{size:14}),l.jsxs("span",{children:[k.tags.length," tags"]})]})]})]},k.id))}),n.length===0&&l.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border border-gray-200",children:[l.jsx(no,{size:48,className:"mx-auto text-gray-300 mb-4"}),l.jsx("p",{className:"text-gray-600 mb-2",children:"No repositories found"}),l.jsx("p",{className:"text-sm text-gray-500",children:o?"Try adjusting your search criteria":"Start by adding diagrams, components, or patterns to the repository"})]}),h&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add to Architecture Repository"}),l.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(qr,{size:24})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Name *"}),l.jsx("input",{type:"text",value:m.name,onChange:k=>x({...m,name:k.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"e.g., Payment Service Component"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{value:m.description,onChange:k=>x({...m,description:k.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",rows:3,placeholder:"Describe this architecture object..."})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Object Type *"}),l.jsx("select",{value:m.objectType,onChange:k=>x({...m,objectType:k.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:Q.slice(1).map(k=>l.jsx("option",{value:k.value,children:k.label},k.value))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Object ID"}),l.jsx("input",{type:"text",value:m.objectId,onChange:k=>x({...m,objectId:k.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Auto-generated if empty"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Tags"}),l.jsxs("div",{className:"flex gap-2 mb-2",children:[l.jsx("input",{type:"text",value:p,onChange:k=>y(k.target.value),onKeyPress:k=>k.key==="Enter"&&F(),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Add a tag and press Enter"}),l.jsx("button",{onClick:F,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Add"})]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:m.tags.map(k=>l.jsxs("span",{className:"inline-flex items-center space-x-1 bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm",children:[l.jsx("span",{children:k}),l.jsx("button",{onClick:()=>R(k),className:"hover:text-purple-900",children:l.jsx(qr,{size:14})})]},k))})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:"isReusable",checked:m.isReusable,onChange:k=>x({...m,isReusable:k.target.checked}),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),l.jsx("label",{htmlFor:"isReusable",className:"text-sm text-gray-700",children:"Mark as reusable across projects"})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 font-semibold",children:"Cancel"}),l.jsx("button",{onClick:I,disabled:!m.name.trim(),className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed font-semibold",children:"Add to Repository"})]})]})]})}),s&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:s.name}),l.jsx("button",{onClick:()=>a(null),className:"text-gray-400 hover:text-gray-600",children:l.jsx(qr,{size:24})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Description"}),l.jsx("p",{className:"text-gray-600",children:s.description||"No description provided"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Object Type"}),l.jsx("p",{className:"text-gray-600",children:s.objectType})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Reuse Count"}),l.jsxs("p",{className:"text-gray-600",children:[s.reuseCount," projects"]})]})]}),s.tags&&s.tags.length>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Tags"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map(k=>l.jsx("span",{className:"bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm",children:k},k))})]}),s.relationships&&s.relationships.length>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Relationships"}),l.jsx("div",{className:"space-y-2",children:s.relationships.map((k,$)=>l.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:l.jsxs("p",{className:"text-sm text-gray-700",children:[l.jsx("span",{className:"font-semibold",children:k.type})," â†’ ",k.targetType," (",k.targetId,")"]})},$))})]}),l.jsx("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:l.jsx("button",{onClick:()=>{g(!0),a(null)},className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 font-semibold",children:"Reuse in Current Project"})})]})]})})]})},Wne=({selectedProject:e})=>{const[t,r]=Se.useState([]),[n,i]=Se.useState([]),[s,a]=Se.useState([]),[o,c]=Se.useState("standards"),[A,d]=Se.useState(!1),[h,f]=Se.useState(!1),[u,g]=Se.useState(!1),[m,x]=Se.useState(null),[p,y]=Se.useState({name:"",type:"PRINCIPLE",category:"",description:"",framework:"",content:""}),[w,b]=Se.useState("TOGAF"),[I,F]=Se.useState({name:"",type:"ARCHITECTURE_REVIEW",approvers:[],newApprover:""});Se.useEffect(()=>{R(),Q(),k()},[e]);const R=async()=>{try{r([])}catch(Y){console.error("Error loading standards:",Y)}},Q=async()=>{try{i([])}catch(Y){console.error("Error loading compliance checks:",Y)}},k=async()=>{try{a([])}catch(Y){console.error("Error loading workflows:",Y)}},$=async()=>{if(!p.name.trim()||!p.description.trim()){alert("Please provide a name and description");return}try{const Y={id:`standard-${Date.now()}`,name:p.name,type:p.type,category:p.category||void 0,description:p.description,content:p.content||{},framework:p.framework||void 0,isActive:!0,createdAt:new Date,updatedAt:new Date};r([...t,Y]),d(!1),y({name:"",type:"PRINCIPLE",category:"",description:"",framework:"",content:""}),alert(`Standard "${Y.name}" created successfully`)}catch(Y){console.error("Error creating standard:",Y),alert("Error creating standard. Please try again.")}},q=async()=>{if(!e){alert("Please select a project first");return}try{const Y={id:`check-${Date.now()}`,standardId:(m==null?void 0:m.id)||"",projectId:e.id,checkType:w,status:"PENDING",createdAt:new Date,updatedAt:new Date};setTimeout(()=>{Y.status="PASSED",Y.checkedAt=new Date,i([...n,Y]),f(!1),alert(`Compliance check completed: ${Y.status}`)},1e3)}catch(Y){console.error("Error running compliance check:",Y),alert("Error running compliance check. Please try again.")}},T=async()=>{if(!I.name.trim()||I.approvers.length===0){alert("Please provide a name and at least one approver");return}if(!e){alert("Please select a project first");return}try{const Y={id:`workflow-${Date.now()}`,name:I.name,type:I.type,projectId:e.id,status:"DRAFT",stages:[],approvers:I.approvers,createdAt:new Date,updatedAt:new Date};a([...s,Y]),g(!1),F({name:"",type:"ARCHITECTURE_REVIEW",approvers:[],newApprover:""}),alert(`Workflow "${Y.name}" created successfully`)}catch(Y){console.error("Error creating workflow:",Y),alert("Error creating workflow. Please try again.")}},K=()=>{I.newApprover.trim()&&!I.approvers.includes(I.newApprover.trim())&&F({...I,approvers:[...I.approvers,I.newApprover.trim()],newApprover:""})},v=Y=>{F({...I,approvers:I.approvers.filter(fe=>fe!==Y)})},re=Y=>{switch(Y){case"PASSED":case"APPROVED":return"bg-green-100 text-green-700";case"FAILED":case"REJECTED":return"bg-red-100 text-red-700";case"WARNING":return"bg-yellow-100 text-yellow-700";case"PENDING":case"IN_REVIEW":return"bg-blue-100 text-blue-700";default:return"bg-gray-100 text-gray-700"}},ge=[{id:"standards",label:"Standards",icon:l.jsx(e2,{size:18})},{id:"compliance",label:"Compliance Checks",icon:l.jsx(Zw,{size:18})},{id:"workflows",label:"ARB Workflows",icon:l.jsx(W0,{size:18})}];return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200",children:[l.jsx("div",{className:"flex border-b border-gray-200",children:ge.map(Y=>l.jsxs("button",{onClick:()=>c(Y.id),className:`flex-1 flex items-center justify-center space-x-2 px-4 py-3 font-semibold transition-colors ${o===Y.id?"bg-gradient-to-r from-purple-50 to-blue-50 text-purple-700 border-b-2 border-purple-700":"text-gray-600 hover:bg-gray-50"}`,children:[Y.icon,l.jsx("span",{children:Y.label})]},Y.id))}),l.jsxs("div",{className:"p-6",children:[o==="standards"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Architecture Standards"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Principles, reference models, and reusable patterns"})]}),l.jsxs("button",{onClick:()=>d(!0),className:"flex items-center space-x-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-2 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors font-semibold",children:[l.jsx(Sn,{size:18}),l.jsx("span",{children:"Add Standard"})]})]}),t.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(e2,{size:48,className:"mx-auto text-gray-300 mb-4"}),l.jsx("p",{className:"text-gray-600 mb-2",children:"No standards defined yet"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Create architecture principles, reference models, and patterns"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map(Y=>l.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>x(Y),children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-800",children:Y.name}),l.jsxs("p",{className:"text-xs text-gray-500",children:[Y.type," â€¢ ",Y.framework||"Custom"]})]}),Y.isActive&&l.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"Active"})]}),l.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:Y.description}),Y.category&&l.jsx("span",{className:"inline-block mt-2 text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full",children:Y.category})]},Y.id))})]}),o==="compliance"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Compliance Checks"}),l.jsx("p",{className:"text-sm text-gray-600",children:"TOGAF, SABSA, Zachman framework compliance"})]}),l.jsxs("button",{onClick:()=>{if(t.length===0){alert("Please create standards first");return}f(!0)},className:"flex items-center space-x-2 bg-gradient-to-r from-green-600 to-blue-600 text-white px-4 py-2 rounded-lg hover:from-green-700 hover:to-blue-700 transition-colors font-semibold",children:[l.jsx(Zw,{size:18}),l.jsx("span",{children:"Run Compliance Check"})]})]}),n.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Zw,{size:48,className:"mx-auto text-gray-300 mb-4"}),l.jsx("p",{className:"text-gray-600 mb-2",children:"No compliance checks run yet"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Run checks against TOGAF, SABSA, or Zachman frameworks"})]}):l.jsx("div",{className:"space-y-3",children:n.map(Y=>l.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.jsx("span",{className:"font-semibold text-gray-800",children:Y.checkType}),l.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${re(Y.status)}`,children:Y.status})]}),Y.findings&&Y.findings.length>0&&l.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[Y.findings.length," finding",Y.findings.length>1?"s":""]}),l.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500 mt-2",children:[Y.checkedAt&&l.jsxs("span",{children:["Checked: ",new Date(Y.checkedAt).toLocaleString()]}),Y.checkedBy&&l.jsxs("span",{children:["By: ",Y.checkedBy]})]})]})})},Y.id))})]}),o==="workflows"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Architecture Review Board Workflows"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Governance workflows for ARB approvals"})]}),l.jsxs("button",{onClick:()=>g(!0),className:"flex items-center space-x-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-2 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors font-semibold",children:[l.jsx(Sn,{size:18}),l.jsx("span",{children:"Create Workflow"})]})]}),s.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(W0,{size:48,className:"mx-auto text-gray-300 mb-4"}),l.jsx("p",{className:"text-gray-600 mb-2",children:"No workflows created yet"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Create governance workflows for architecture review board approvals"})]}):l.jsx("div",{className:"space-y-3",children:s.map(Y=>l.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:l.jsx("div",{className:"flex items-start justify-between",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.jsx("span",{className:"font-semibold text-gray-800",children:Y.name}),l.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${re(Y.status)}`,children:Y.status})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:Y.type.replace("_"," ")}),l.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[l.jsxs("span",{children:[Y.approvers.length," approver",Y.approvers.length>1?"s":""]}),Y.currentStage&&l.jsxs("span",{children:["Stage: ",Y.currentStage]}),l.jsxs("span",{children:["Created: ",new Date(Y.createdAt).toLocaleDateString()]})]})]})})},Y.id))})]})]})]}),A&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Create Architecture Standard"}),l.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(qr,{size:24})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Name *"}),l.jsx("input",{type:"text",value:p.name,onChange:Y=>y({...p,name:Y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"e.g., Security First Principle"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Type *"}),l.jsxs("select",{value:p.type,onChange:Y=>y({...p,type:Y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[l.jsx("option",{value:"PRINCIPLE",children:"Principle"}),l.jsx("option",{value:"REFERENCE_MODEL",children:"Reference Model"}),l.jsx("option",{value:"PATTERN",children:"Pattern"}),l.jsx("option",{value:"COMPLIANCE_RULE",children:"Compliance Rule"}),l.jsx("option",{value:"BEST_PRACTICE",children:"Best Practice"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Framework"}),l.jsxs("select",{value:p.framework,onChange:Y=>y({...p,framework:Y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[l.jsx("option",{value:"",children:"Select Framework"}),l.jsx("option",{value:"TOGAF",children:"TOGAF"}),l.jsx("option",{value:"SABSA",children:"SABSA"}),l.jsx("option",{value:"Zachman",children:"Zachman"}),l.jsx("option",{value:"Custom",children:"Custom"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Category"}),l.jsx("input",{type:"text",value:p.category,onChange:Y=>y({...p,category:Y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"e.g., Security, Performance, Integration"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description *"}),l.jsx("textarea",{value:p.description,onChange:Y=>y({...p,description:Y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",rows:4,placeholder:"Describe the standard..."})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 font-semibold",children:"Cancel"}),l.jsx("button",{onClick:$,disabled:!p.name.trim()||!p.description.trim(),className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed font-semibold",children:"Create Standard"})]})]})]})}),h&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 w-full max-w-md",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Run Compliance Check"}),l.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(qr,{size:24})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Standard"}),l.jsxs("select",{value:(m==null?void 0:m.id)||"",onChange:Y=>{const fe=t.find(le=>le.id===Y.target.value);x(fe||null)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[l.jsx("option",{value:"",children:"Select a standard"}),t.map(Y=>l.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Check Type *"}),l.jsxs("select",{value:w,onChange:Y=>b(Y.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[l.jsx("option",{value:"TOGAF",children:"TOGAF"}),l.jsx("option",{value:"SABSA",children:"SABSA"}),l.jsx("option",{value:"ZACHMAN",children:"Zachman"}),l.jsx("option",{value:"CUSTOM",children:"Custom"})]})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 font-semibold",children:"Cancel"}),l.jsx("button",{onClick:q,disabled:!m,className:"px-4 py-2 bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-lg hover:from-green-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed font-semibold",children:"Run Check"})]})]})]})}),u&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Create ARB Workflow"}),l.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(qr,{size:24})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Workflow Name *"}),l.jsx("input",{type:"text",value:I.name,onChange:Y=>F({...I,name:Y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"e.g., Architecture Review for Payment System"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Workflow Type *"}),l.jsxs("select",{value:I.type,onChange:Y=>F({...I,type:Y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[l.jsx("option",{value:"ARCHITECTURE_REVIEW",children:"Architecture Review"}),l.jsx("option",{value:"STANDARD_APPROVAL",children:"Standard Approval"}),l.jsx("option",{value:"COMPONENT_REUSE",children:"Component Reuse"}),l.jsx("option",{value:"PATTERN_APPROVAL",children:"Pattern Approval"}),l.jsx("option",{value:"COMPLIANCE_REVIEW",children:"Compliance Review"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Approvers *"}),l.jsxs("div",{className:"flex gap-2 mb-2",children:[l.jsx("input",{type:"email",value:I.newApprover,onChange:Y=>F({...I,newApprover:Y.target.value}),onKeyPress:Y=>Y.key==="Enter"&&K(),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter approver email and press Enter"}),l.jsx("button",{onClick:K,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Add"})]}),l.jsx("div",{className:"space-y-2",children:I.approvers.map(Y=>l.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded-lg",children:[l.jsx("span",{className:"text-sm text-gray-700",children:Y}),l.jsx("button",{onClick:()=>v(Y),className:"text-red-600 hover:text-red-800",children:l.jsx(qr,{size:16})})]},Y))})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 font-semibold",children:"Cancel"}),l.jsx("button",{onClick:T,disabled:!I.name.trim()||I.approvers.length===0,className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed font-semibold",children:"Create Workflow"})]})]})]})})]})},$ne=({selectedProject:e})=>{var F,R;const[t,r]=Se.useState([]),[n,i]=Se.useState([]),[s,a]=Se.useState(null),[o,c]=Se.useState(null),[A,d]=Se.useState(!1),[h,f]=Se.useState(!1),[u,g]=Se.useState({name:"",description:"",releaseVersion:""}),[m,x]=Se.useState({version:"",description:"",repositoryId:""});Se.useEffect(()=>{p(),y()},[e]);const p=async()=>{try{r([])}catch(Q){console.error("Error loading baselines:",Q)}},y=async()=>{try{i([])}catch(Q){console.error("Error loading versions:",Q)}},w=async()=>{if(!u.name.trim()||!u.releaseVersion.trim()){alert("Please provide a name and release version");return}if(!e){alert("Please select a project first");return}try{const Q={id:`baseline-${Date.now()}`,name:u.name,description:u.description,releaseVersion:u.releaseVersion,projectId:e.id,createdAt:new Date,isActive:!0};r([...t,Q]),d(!1),g({name:"",description:"",releaseVersion:""}),alert(`Baseline "${Q.name}" created successfully`)}catch(Q){console.error("Error creating baseline:",Q),alert("Error creating baseline. Please try again.")}},b=async()=>{if(!m.version.trim()||!m.repositoryId.trim()){alert("Please provide a version and repository ID");return}try{const Q={id:`version-${Date.now()}`,repositoryId:m.repositoryId,version:m.version,description:m.description,metadata:{},createdAt:new Date};i([...n,Q]),f(!1),x({version:"",description:"",repositoryId:""}),alert(`Version "${Q.version}" created successfully`)}catch(Q){console.error("Error creating version:",Q),alert("Error creating version. Please try again.")}},I=(Q,k)=>{a(Q),c(k)};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center space-x-2",children:[l.jsx(Xd,{size:24,className:"text-purple-600"}),l.jsx("span",{children:"Architecture Baselines"})]}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Create and manage architecture release baselines"})]}),l.jsxs("button",{onClick:()=>d(!0),className:"flex items-center space-x-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-2 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors font-semibold",children:[l.jsx(Sn,{size:18}),l.jsx("span",{children:"Create Baseline"})]})]}),t.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Xd,{size:48,className:"mx-auto text-gray-300 mb-4"}),l.jsx("p",{className:"text-gray-600 mb-2",children:"No baselines created yet"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Create a baseline to capture the current state of your architecture"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(Q=>{var k;return l.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-lg transition-shadow",children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-800",children:Q.name}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Release ",Q.releaseVersion]})]}),Q.isActive&&l.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"Active"})]}),Q.description&&l.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:Q.description}),l.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[l.jsxs("span",{children:[((k=Q.items)==null?void 0:k.length)||0," items"]}),l.jsx("span",{children:new Date(Q.createdAt).toLocaleDateString()})]}),l.jsxs("div",{className:"mt-3 flex space-x-2",children:[l.jsx("button",{onClick:()=>a(Q),className:"flex-1 text-sm px-3 py-1.5 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors",children:"View"}),t.length>1&&l.jsxs("button",{onClick:()=>{const $=t.find(q=>q.id!==Q.id);$&&I(Q,$)},className:"flex-1 text-sm px-3 py-1.5 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center justify-center space-x-1",children:[l.jsx($0,{size:14}),l.jsx("span",{children:"Compare"})]})]})]},Q.id)})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center space-x-2",children:[l.jsx(io,{size:24,className:"text-blue-600"}),l.jsx("span",{children:"Version History"})]}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Track versions of models, views, and diagrams"})]}),l.jsxs("button",{onClick:()=>f(!0),className:"flex items-center space-x-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-4 py-2 rounded-lg hover:from-blue-700 hover:to-purple-700 transition-colors font-semibold",children:[l.jsx(Sn,{size:18}),l.jsx("span",{children:"Create Version"})]})]}),n.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(io,{size:48,className:"mx-auto text-gray-300 mb-4"}),l.jsx("p",{className:"text-gray-600 mb-2",children:"No versions created yet"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Create versions to track changes to your architecture objects"})]}):l.jsx("div",{className:"space-y-3",children:n.map(Q=>l.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.jsxs("span",{className:"font-semibold text-gray-800",children:["v",Q.version]}),l.jsxs("span",{className:"text-xs text-gray-500",children:["Repository: ",Q.repositoryId.substring(0,8),"..."]})]}),Q.description&&l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:Q.description}),l.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[l.jsxs("span",{children:["Created: ",new Date(Q.createdAt).toLocaleString()]}),Q.createdBy&&l.jsxs("span",{children:["By: ",Q.createdBy]})]})]}),Q.baselineId&&l.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full",children:"In Baseline"})]})},Q.id))})]}),A&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 w-full max-w-md",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Create Architecture Baseline"}),l.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(qr,{size:24})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Baseline Name *"}),l.jsx("input",{type:"text",value:u.name,onChange:Q=>g({...u,name:Q.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"e.g., Architecture Release 1.0"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Release Version *"}),l.jsx("input",{type:"text",value:u.releaseVersion,onChange:Q=>g({...u,releaseVersion:Q.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"e.g., 1.0"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{value:u.description,onChange:Q=>g({...u,description:Q.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",rows:3,placeholder:"Describe what this baseline represents..."})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 font-semibold",children:"Cancel"}),l.jsx("button",{onClick:w,disabled:!u.name.trim()||!u.releaseVersion.trim(),className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed font-semibold",children:"Create Baseline"})]})]})]})}),h&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 w-full max-w-md",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Create Version"}),l.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(qr,{size:24})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Repository ID *"}),l.jsx("input",{type:"text",value:m.repositoryId,onChange:Q=>x({...m,repositoryId:Q.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Enter repository ID"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Version *"}),l.jsx("input",{type:"text",value:m.version,onChange:Q=>x({...m,version:Q.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"e.g., 1.0, 1.1, 2.0"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{value:m.description,onChange:Q=>x({...m,description:Q.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500",rows:3,placeholder:"Describe the changes in this version..."})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 font-semibold",children:"Cancel"}),l.jsx("button",{onClick:b,disabled:!m.version.trim()||!m.repositoryId.trim(),className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed font-semibold",children:"Create Version"})]})]})]})}),s&&o&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Baseline Comparison"}),l.jsx("button",{onClick:()=>{a(null),c(null)},className:"text-gray-400 hover:text-gray-600",children:l.jsx(qr,{size:24})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:s.name}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:[l.jsx("strong",{children:"Release:"})," ",s.releaseVersion]}),l.jsxs("p",{className:"text-sm text-gray-600",children:[l.jsx("strong",{children:"Items:"})," ",((F=s.items)==null?void 0:F.length)||0]}),l.jsxs("p",{className:"text-sm text-gray-600",children:[l.jsx("strong",{children:"Created:"})," ",new Date(s.createdAt).toLocaleDateString()]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:o.name}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"text-sm text-gray-600",children:[l.jsx("strong",{children:"Release:"})," ",o.releaseVersion]}),l.jsxs("p",{className:"text-sm text-gray-600",children:[l.jsx("strong",{children:"Items:"})," ",((R=o.items)==null?void 0:R.length)||0]}),l.jsxs("p",{className:"text-sm text-gray-600",children:[l.jsx("strong",{children:"Created:"})," ",new Date(o.createdAt).toLocaleDateString()]})]})]})]}),l.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx("strong",{children:"Note:"})," Detailed comparison of items and changes will be displayed here in a full implementation."]})})]})})]})},Vne=({selectedProject:e})=>{const[t,r]=Se.useState("repository"),n=[{id:"repository",label:"Central Architecture Repository",icon:l.jsx(no,{size:18}),description:"Metadata-driven repository with SQL + Graph DB hybrid storage"},{id:"versioning",label:"Versioning & Baselines",icon:l.jsx(Xd,{size:18}),description:"Version control, baselines, and comparisons"},{id:"standards",label:"Standards & Compliance",icon:l.jsx(W0,{size:18}),description:"Principles, reference models, patterns, and compliance checks"}];return l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 p-6",children:l.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[l.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-blue-500 p-2 rounded-lg",children:l.jsx(no,{size:24,className:"text-white"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Repository & Governance"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Central architecture repository, versioning, and compliance management"})]})]})}),l.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200",children:[l.jsx("div",{className:"flex border-b border-gray-200",children:n.map(i=>l.jsxs("button",{onClick:()=>r(i.id),className:`flex-1 flex flex-col items-center justify-center space-y-1 px-4 py-4 font-semibold transition-colors ${t===i.id?"bg-gradient-to-r from-purple-50 to-blue-50 text-purple-700 border-b-2 border-purple-700":"text-gray-600 hover:bg-gray-50"}`,children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[i.icon,l.jsx("span",{children:i.label})]}),l.jsx("p",{className:"text-xs text-gray-500 font-normal",children:i.description})]},i.id))}),l.jsxs("div",{className:"p-6",children:[t==="repository"&&l.jsx(Gne,{selectedProject:e}),t==="versioning"&&l.jsx($ne,{selectedProject:e}),t==="standards"&&l.jsx(Wne,{selectedProject:e})]})]})]})},Xne=({project:e,onProjectUpdate:t,onClose:r})=>{const n=new so,[i,s]=Se.useState(e.selectedSectionIds||Va.map(ee=>ee.id)),[a,o]=Se.useState(e.customSections||[]),[c,A]=Se.useState(e.customSectionSubsections||{}),[d,h]=Se.useState({}),[f,u]=Se.useState(null),[g,m]=Se.useState(!1),[x,p]=Se.useState(null),[y,w]=Se.useState(null),[b,I]=Se.useState({title:"",description:""}),[F,R]=Se.useState(""),[Q,k]=Se.useState([{number:"1",title:"",description:""}]),$=ee=>{h(Z=>({...Z,[ee]:!Z[ee]}))},q=ee=>{s(Z=>Z.includes(ee)?Z.filter(me=>me!==ee):[...Z,ee])},T=async()=>{try{const ee=await n.updateProject(e.id,{selectedSectionIds:i,customSections:a.map((Z,me)=>({...Z,order:me})),customSectionSubsections:c});t(ee),alert("Section configuration saved successfully!"),r()}catch(ee){console.error("Error saving section configuration:",ee),alert("Error saving section configuration. Please try again.")}},K=ee=>{const Z=Va.find(te=>te.id===ee),me=(Z==null?void 0:Z.subsections)||[],B=c[ee]||[];return[...me,...B]},v=ee=>{if(!b.title.trim()||!b.description.trim()){alert("Please fill in both title and description");return}const Z=c[ee]||[],me=Va.find(S=>S.id===ee),B=(me==null?void 0:me.subsections.length)||0,te=Z.length,H=`${B+te+1}`;A(S=>({...S,[ee]:[...Z,{number:H,title:b.title.trim(),description:b.description.trim()}]})),I({title:"",description:""}),w(null)},re=(ee,Z)=>{const B=(c[ee]||[])[Z];B&&(I({title:B.title,description:B.description}),p({sectionId:ee,index:Z}),w(null))},ge=()=>{if(!x)return;if(!b.title.trim()||!b.description.trim()){alert("Please fill in both title and description");return}const{sectionId:ee,index:Z}=x,B=[...c[ee]||[]];B[Z]={...B[Z],title:b.title.trim(),description:b.description.trim()},A(te=>({...te,[ee]:B})),I({title:"",description:""}),p(null)},Y=(ee,Z)=>{if(!confirm("Are you sure you want to delete this custom subsection?"))return;const B=(c[ee]||[]).filter((te,H)=>H!==Z);if(B.length===0){const{[ee]:te,...H}=c;A(H)}else A(te=>({...te,[ee]:B}))},fe=()=>{I({title:"",description:""}),w(null),p(null)},le=()=>{k(ee=>[...ee,{number:`${ee.length+1}`,title:"",description:""}])},ne=ee=>{k(Z=>Z.filter((me,B)=>B!==ee))},ae=(ee,Z,me)=>{k(B=>B.map((te,H)=>H===ee?{...te,[Z]:me}:te))},_=()=>{if(!F.trim()){alert("Please enter a section title");return}if(Q.some(me=>!me.title.trim()||!me.description.trim())){alert("Please fill in all subsection fields");return}const Z={id:crypto.randomUUID(),title:F.trim(),subsections:Q.map((me,B)=>({number:`${B+1}`,title:me.title.trim(),description:me.description.trim()})),order:a.length};o(me=>[...me,Z]),R(""),k([{number:"1",title:"",description:""}]),m(!1)},O=ee=>{confirm("Are you sure you want to delete this custom section?")&&o(Z=>Z.filter(me=>me.id!==ee))},G=ee=>{u(ee.id),R(ee.title),k(ee.subsections),m(!0)},oe=()=>{if(!f)return;if(!F.trim()){alert("Please enter a section title");return}const ee={id:f,title:F.trim(),subsections:Q.map((Z,me)=>({number:`${me+1}`,title:Z.title.trim(),description:Z.description.trim()})),order:a.findIndex(Z=>Z.id===f)};o(Z=>Z.map(me=>me.id===f?ee:me)),u(null),R(""),k([{number:"1",title:"",description:""}]),m(!1)},Ae=()=>{u(null),m(!1),R(""),k([{number:"1",title:"",description:""}])},U=ee=>{const Z=i.indexOf(ee);if(Z>0){const me=[...i];[me[Z-1],me[Z]]=[me[Z],me[Z-1]],s(me)}},M=ee=>{const Z=i.indexOf(ee);if(Z>=0&&Z<i.length-1){const me=[...i];[me[Z],me[Z+1]]=[me[Z+1],me[Z]],s(me)}},J=ee=>{const Z=a.findIndex(me=>me.id===ee);if(Z>0){const me=[...a];[me[Z-1],me[Z]]=[me[Z],me[Z-1]],o(me)}},ce=ee=>{const Z=a.findIndex(me=>me.id===ee);if(Z>=0&&Z<a.length-1){const me=[...a];[me[Z],me[Z+1]]=[me[Z+1],me[Z]],o(me)}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col",children:[l.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white p-6 rounded-t-lg",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Manage Sections"}),l.jsx("button",{onClick:r,className:"text-white hover:text-purple-200 transition-colors",children:l.jsx(qr,{size:24})})]}),l.jsxs("p",{className:"text-purple-100 mt-1",children:["Select sections and add custom sections for ",e.name]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Standard Sections"}),l.jsxs("p",{className:"text-sm text-gray-500",children:[i.length," selected"]})]}),i.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Selected Sections (in order)"}),l.jsx("div",{className:"space-y-2",children:i.map((ee,Z)=>{const me=Va.find(B=>B.id===ee);return me?l.jsxs("div",{className:"bg-green-50 rounded-lg border border-green-200 overflow-hidden",children:[l.jsxs("div",{className:"flex items-center p-3 hover:bg-green-100 transition-colors",children:[l.jsx(YE,{size:20,className:"text-gray-400 mr-2 cursor-move"}),l.jsxs("button",{onClick:()=>$(me.id),className:"flex items-center space-x-2 flex-1 text-left",children:[d[me.id]?l.jsx(G0,{size:20,className:"text-gray-600"}):l.jsx(il,{size:20,className:"text-gray-600"}),l.jsxs("span",{className:"font-medium text-gray-800",children:[Z+1,". ",me.title]})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("button",{onClick:()=>U(me.id),disabled:Z===0,className:`p-1.5 rounded transition-colors ${Z===0?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:bg-green-200"}`,title:"Move up",children:l.jsx(VE,{size:16})}),l.jsx("button",{onClick:()=>M(me.id),disabled:Z===i.length-1,className:`p-1.5 rounded transition-colors ${Z===i.length-1?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:bg-green-200"}`,title:"Move down",children:l.jsx($E,{size:16})}),l.jsx("button",{onClick:()=>q(me.id),className:"ml-2 p-2 rounded transition-colors bg-green-100 text-green-700 hover:bg-green-200",title:"Deselect",children:l.jsx(qr,{size:16})})]})]}),d[me.id]&&l.jsxs("div",{className:"border-t border-green-200 bg-white p-4",children:[l.jsx("div",{className:"space-y-2",children:K(me.id).map((B,te)=>{K(me.id);const H=me.subsections.length,S=te>=H;return l.jsx("div",{className:`p-3 rounded border ${S?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"}`,children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("p",{className:"text-sm font-semibold text-gray-800",children:[B.number||`${te+1}`," ",B.title,S&&l.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded",children:"Custom"})]}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:B.description})]}),S&&l.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[l.jsx("button",{onClick:()=>re(me.id,te-H),className:"p-1 text-blue-700 hover:bg-blue-100 rounded transition-colors",title:"Edit subsection",children:l.jsx(n0,{size:14})}),l.jsx("button",{onClick:()=>Y(me.id,te-H),className:"p-1 text-red-700 hover:bg-red-100 rounded transition-colors",title:"Delete subsection",children:l.jsx(Il,{size:14})})]})]})},`${B.number}-${te}`)})}),l.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:y===me.id||(x==null?void 0:x.sectionId)===me.id?l.jsx("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{type:"text",value:b.title,onChange:B=>I(te=>({...te,title:B.target.value})),placeholder:"Subsection title",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),l.jsx("textarea",{value:b.description,onChange:B=>I(te=>({...te,description:B.target.value})),placeholder:"Subsection description",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("button",{onClick:x?ge:()=>v(me.id),className:"flex items-center space-x-2 bg-green-600 text-white px-3 py-1.5 rounded-lg hover:bg-green-700 transition-colors text-sm font-semibold",children:[l.jsx(io,{size:14}),l.jsxs("span",{children:[x?"Update":"Add"," Subsection"]})]}),l.jsxs("button",{onClick:fe,className:"flex items-center space-x-2 px-3 py-1.5 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors text-sm font-semibold",children:[l.jsx(qr,{size:14}),l.jsx("span",{children:"Cancel"})]})]})]})}):l.jsxs("button",{onClick:()=>{w(me.id),p(null),I({title:"",description:""})},className:"flex items-center space-x-2 text-sm text-purple-700 hover:text-purple-800 font-semibold",children:[l.jsx(Sn,{size:16}),l.jsx("span",{children:"Add Custom Subsection"})]})})]})]},me.id):null})})]}),Va.filter(ee=>!i.includes(ee.id)).length>0&&l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Available Sections"}),l.jsx("div",{className:"space-y-2",children:Va.filter(ee=>!i.includes(ee.id)).map(ee=>l.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 overflow-hidden",children:[l.jsxs("div",{className:"flex items-center p-3 hover:bg-gray-100 transition-colors",children:[l.jsxs("button",{onClick:()=>$(ee.id),className:"flex items-center space-x-2 flex-1 text-left",children:[d[ee.id]?l.jsx(G0,{size:20,className:"text-gray-600"}):l.jsx(il,{size:20,className:"text-gray-600"}),l.jsx("span",{className:"font-medium text-gray-800",children:ee.title})]}),l.jsx("button",{onClick:()=>q(ee.id),className:"ml-2 p-2 rounded transition-colors bg-gray-200 text-gray-600 hover:bg-gray-300",title:"Select",children:l.jsx(Sn,{size:18})})]}),d[ee.id]&&l.jsxs("div",{className:"border-t border-gray-200 bg-white p-4",children:[l.jsx("div",{className:"space-y-2",children:K(ee.id).map((Z,me)=>{K(ee.id);const B=ee.subsections.length,te=me>=B;return l.jsx("div",{className:`p-3 rounded border ${te?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"}`,children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("p",{className:"text-sm font-semibold text-gray-800",children:[Z.number||`${me+1}`," ",Z.title,te&&l.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded",children:"Custom"})]}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:Z.description})]}),te&&l.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[l.jsx("button",{onClick:()=>re(ee.id,me-B),className:"p-1 text-blue-700 hover:bg-blue-100 rounded transition-colors",title:"Edit subsection",children:l.jsx(n0,{size:14})}),l.jsx("button",{onClick:()=>Y(ee.id,me-B),className:"p-1 text-red-700 hover:bg-red-100 rounded transition-colors",title:"Delete subsection",children:l.jsx(Il,{size:14})})]})]})},`${Z.number}-${me}`)})}),l.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:y===ee.id||(x==null?void 0:x.sectionId)===ee.id?l.jsx("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{type:"text",value:b.title,onChange:Z=>I(me=>({...me,title:Z.target.value})),placeholder:"Subsection title",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),l.jsx("textarea",{value:b.description,onChange:Z=>I(me=>({...me,description:Z.target.value})),placeholder:"Subsection description",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("button",{onClick:x?ge:()=>v(ee.id),className:"flex items-center space-x-2 bg-green-600 text-white px-3 py-1.5 rounded-lg hover:bg-green-700 transition-colors text-sm font-semibold",children:[l.jsx(io,{size:14}),l.jsxs("span",{children:[x?"Update":"Add"," Subsection"]})]}),l.jsxs("button",{onClick:fe,className:"flex items-center space-x-2 px-3 py-1.5 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors text-sm font-semibold",children:[l.jsx(qr,{size:14}),l.jsx("span",{children:"Cancel"})]})]})]})}):l.jsxs("button",{onClick:()=>{w(ee.id),p(null),I({title:"",description:""})},className:"flex items-center space-x-2 text-sm text-purple-700 hover:text-purple-800 font-semibold",children:[l.jsx(Sn,{size:16}),l.jsx("span",{children:"Add Custom Subsection"})]})})]})]},ee.id))})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Custom Sections"}),l.jsxs("button",{onClick:()=>m(!0),className:"flex items-center space-x-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-2 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors font-semibold",children:[l.jsx(Sn,{size:18}),l.jsx("span",{children:"Add Custom Section"})]})]}),a.length>0?l.jsx("div",{className:"space-y-2",children:a.map((ee,Z)=>l.jsxs("div",{className:"bg-blue-50 rounded-lg border border-blue-200 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[l.jsx(YE,{size:20,className:"text-gray-400 cursor-move"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("h4",{className:"font-semibold text-gray-800",children:[Z+1,". ",ee.title]}),l.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[ee.subsections.length," subsection",ee.subsections.length!==1?"s":""]})]})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("button",{onClick:()=>J(ee.id),disabled:Z===0,className:`p-1.5 rounded transition-colors ${Z===0?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:bg-blue-200"}`,title:"Move up",children:l.jsx(VE,{size:16})}),l.jsx("button",{onClick:()=>ce(ee.id),disabled:Z===a.length-1,className:`p-1.5 rounded transition-colors ${Z===a.length-1?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:bg-blue-200"}`,title:"Move down",children:l.jsx($E,{size:16})}),l.jsx("button",{onClick:()=>G(ee),className:"p-2 text-blue-700 hover:bg-blue-100 rounded transition-colors ml-1",title:"Edit section",children:l.jsx(n0,{size:18})}),l.jsx("button",{onClick:()=>O(ee.id),className:"p-2 text-purple-700 hover:bg-purple-100 rounded transition-colors",title:"Delete section",children:l.jsx(Il,{size:18})})]})]}),d[`custom-${ee.id}`]&&l.jsx("div",{className:"mt-3 space-y-2",children:ee.subsections.map(me=>l.jsxs("div",{className:"bg-white p-3 rounded border border-gray-200",children:[l.jsxs("p",{className:"text-sm font-semibold text-gray-800",children:[me.number," ",me.title]}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:me.description})]},me.number))})]},ee.id))}):l.jsx("p",{className:"text-gray-500 text-sm",children:"No custom sections added yet."})]}),g&&l.jsxs("div",{className:"bg-yellow-50 rounded-lg border border-yellow-200 p-6 mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:f?"Edit Custom Section":"Add Custom Section"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section Title"}),l.jsx("input",{type:"text",value:F,onChange:ee=>R(ee.target.value),placeholder:"e.g., Implementation Plan",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subsections"}),l.jsx("button",{onClick:le,className:"text-sm text-purple-700 hover:text-purple-800 font-semibold",children:"+ Add Subsection"})]}),l.jsx("div",{className:"space-y-3",children:Q.map((ee,Z)=>l.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Subsection ",Z+1]}),Q.length>1&&l.jsx("button",{onClick:()=>ne(Z),className:"text-purple-700 hover:text-purple-800",children:l.jsx(Il,{size:16})})]}),l.jsx("input",{type:"text",value:ee.title,onChange:me=>ae(Z,"title",me.target.value),placeholder:"Subsection title",className:"w-full px-3 py-2 border border-gray-300 rounded-lg mb-2 focus:ring-2 focus:ring-red-500 focus:border-red-500"}),l.jsx("textarea",{value:ee.description,onChange:me=>ae(Z,"description",me.target.value),placeholder:"Subsection description",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]},Z))})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs("button",{onClick:f?oe:_,className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors font-semibold",children:[l.jsx(io,{size:18}),l.jsxs("span",{children:[f?"Update":"Save"," Section"]})]}),l.jsxs("button",{onClick:Ae,className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-semibold",children:[l.jsx(qr,{size:18}),l.jsx("span",{children:"Cancel"})]})]})]})]})]}),l.jsxs("div",{className:"border-t border-gray-200 bg-gray-50 p-4 flex justify-end space-x-3",children:[l.jsx("button",{onClick:r,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-semibold",children:"Cancel"}),l.jsx("button",{onClick:T,className:"px-6 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors font-semibold",children:"Save Configuration"})]})]})})},Yne=({selectedProject:e,onProjectSelect:t,onViewChange:r,currentView:n,onProjectCreated:i,onArtifactSelect:s,artifacts:a=[]})=>{const[o,c]=Se.useState([]),[A,d]=Se.useState({}),[h,f]=Se.useState({}),[u,g]=Se.useState(!0),[m,x]=Se.useState(!1),[p,y]=Se.useState(""),[w,b]=Se.useState(""),I=new so;Se.useEffect(()=>{F()},[]),Se.useEffect(()=>{e&&f({})},[e]);const F=async()=>{const $=await I.getAllProjects();c($),e&&d(q=>({...q,[e.id]:!0}))},R=$=>{(e==null?void 0:e.id)===$.id?t(null):(t($),d(q=>({...q,[$.id]:!0})))},Q=($,q)=>{q.stopPropagation(),e&&r($)},k=async()=>{p.trim()&&(await I.createProject({name:p.trim(),description:w.trim()}),y(""),b(""),x(!1),await F(),i&&i())};return l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>g(!u),className:"fixed top-4 left-4 z-50 lg:hidden glass p-2 rounded-lg shadow-lg border border-purple-500/30 hover:bg-white/10 transition-all",children:u?l.jsx(qr,{size:20,className:"text-purple-200"}):l.jsx(HO,{size:20,className:"text-purple-200"})}),l.jsxs("div",{className:`fixed left-0 top-0 h-full glass-dark border-r border-white/10 shadow-2xl z-40 transition-transform duration-300 backdrop-blur-xl ${u?"translate-x-0":"-translate-x-full"} lg:translate-x-0 w-72 overflow-y-auto`,style:{isolation:"isolate"},children:[l.jsx("div",{className:"p-4 border-b border-purple-500/30 bg-gradient-to-r from-purple-600/30 via-blue-600/30 to-purple-600/30 text-white sticky top-0 z-10 backdrop-blur-xl",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-blue-500 p-2 rounded-lg shadow-lg",children:l.jsx(mp,{size:18,className:"text-white"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-base font-bold leading-tight text-gradient bg-gradient-to-r from-white to-purple-200 bg-clip-text text-transparent",children:"Equity Bank"}),l.jsx("p",{className:"text-xs text-purple-200/80 leading-tight",children:"Architect Studio"})]})]})}),l.jsx("div",{className:"p-3 border-b border-white/10",children:l.jsxs("div",{className:"space-y-1",children:[l.jsxs("button",{onClick:$=>{$.stopPropagation(),r("modeling-studio")},className:`w-full flex items-center space-x-2 px-3 py-2 rounded-lg text-sm transition-all ${n==="modeling-studio"?"bg-gradient-to-r from-purple-600/30 to-blue-600/30 text-white border border-purple-400/50 font-medium shadow-lg":"hover:bg-white/5 text-purple-200/80 hover:text-purple-200 border border-transparent"}`,children:[l.jsx(Ja,{size:16}),l.jsx("span",{children:"Architecture Modeling Studio"})]}),l.jsxs("button",{onClick:$=>{$.stopPropagation(),r("architecture"),t(null)},className:`w-full flex items-center space-x-2 px-3 py-2 rounded-lg text-sm transition-all ${n==="architecture"?"bg-gradient-to-r from-purple-600/30 to-blue-600/30 text-white border border-purple-400/50 font-medium shadow-lg":"hover:bg-white/5 text-purple-200/80 hover:text-purple-200 border border-transparent"}`,children:[l.jsx(GA,{size:16}),l.jsx("span",{children:"Enterprise Architecture"})]}),l.jsxs("button",{onClick:$=>{$.stopPropagation(),r("templates"),t(null)},className:`w-full flex items-center space-x-2 px-3 py-2 rounded-lg text-sm transition-all ${n==="templates"?"bg-gradient-to-r from-purple-600/30 to-blue-600/30 text-white border border-purple-400/50 font-medium shadow-lg":"hover:bg-white/5 text-purple-200/80 hover:text-purple-200 border border-transparent"}`,children:[l.jsx(as,{size:16}),l.jsx("span",{children:"Templates"})]}),l.jsxs("button",{onClick:$=>{$.stopPropagation(),r("database"),t(null)},className:`w-full flex items-center space-x-2 px-3 py-2 rounded-lg text-sm transition-all ${n==="database"?"bg-gradient-to-r from-purple-600/30 to-blue-600/30 text-white border border-purple-400/50 font-medium shadow-lg":"hover:bg-white/5 text-purple-200/80 hover:text-purple-200 border border-transparent"}`,children:[l.jsx(no,{size:16}),l.jsx("span",{children:"Database"})]}),l.jsxs("button",{onClick:$=>{$.stopPropagation(),r("ai-capabilities")},className:`w-full flex items-center space-x-2 px-3 py-2 rounded-lg text-sm transition-all ${n==="ai-capabilities"?"bg-gradient-to-r from-purple-600/30 to-blue-600/30 text-white border border-purple-400/50 font-medium shadow-lg":"hover:bg-white/5 text-purple-200/80 hover:text-purple-200 border border-transparent"}`,children:[l.jsx(Vu,{size:16}),l.jsx("span",{children:"AI-Driven Capabilities"})]}),l.jsxs("button",{onClick:$=>{$.stopPropagation(),r("repository-governance")},className:`w-full flex items-center space-x-2 px-3 py-2 rounded-lg text-sm transition-all ${n==="repository-governance"?"bg-gradient-to-r from-purple-600/30 to-blue-600/30 text-white border border-purple-400/50 font-medium shadow-lg":"hover:bg-white/5 text-purple-200/80 hover:text-purple-200 border border-transparent"}`,children:[l.jsx(W0,{size:16}),l.jsx("span",{children:"Repository & Governance"})]}),l.jsxs("button",{onClick:$=>{$.stopPropagation(),r("knowledge-base"),t(null)},className:`w-full flex items-center space-x-2 px-3 py-2 rounded-lg text-sm transition-all ${n==="knowledge-base"?"bg-gradient-to-r from-purple-600/30 to-blue-600/30 text-white border border-purple-400/50 font-medium shadow-lg":"hover:bg-white/5 text-purple-200/80 hover:text-purple-200 border border-transparent"}`,children:[l.jsx(pp,{size:16}),l.jsx("span",{children:"Architecture Knowledge Base"})]})]})}),l.jsxs("div",{className:"p-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(mp,{size:16,className:"text-purple-400"}),l.jsx("h2",{className:"text-sm font-semibold text-purple-200 uppercase tracking-wide",children:"Projects"})]}),l.jsx("button",{onClick:()=>x(!0),className:"p-1.5 text-purple-300 hover:bg-purple-500/20 rounded-lg transition-all border border-purple-500/30 hover:border-purple-400/50",title:"Create New Project",children:l.jsx(Sn,{size:16})})]}),o.length===0?l.jsx("p",{className:"text-xs text-purple-300/60 italic px-2",children:"No projects yet"}):l.jsx("div",{className:"space-y-0.5",children:o.map($=>l.jsxs("div",{children:[l.jsx("button",{onClick:()=>R($),className:`w-full flex items-center justify-between px-3 py-2 rounded-lg transition-all ${(e==null?void 0:e.id)===$.id?"bg-gradient-to-r from-purple-600/30 to-blue-600/30 text-white font-semibold border border-purple-400/50 shadow-lg":"hover:bg-white/5 text-purple-200/80 hover:text-purple-200 border border-transparent hover:border-purple-500/30"}`,children:l.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[l.jsx(il,{size:14,className:`transition-transform flex-shrink-0 ${A[$.id]?"rotate-90":""}`}),l.jsx("span",{className:"truncate text-sm",children:$.name})]})}),(e==null?void 0:e.id)===$.id&&A[$.id]&&l.jsxs("div",{className:"ml-4 mt-2 space-y-1 border-l-2 border-purple-500/30 pl-3",children:[l.jsxs("button",{onClick:q=>Q("sdd",q),className:`w-full flex items-center space-x-2 px-3 py-2 rounded-lg text-sm transition-all ${n==="sdd"?"bg-gradient-to-r from-purple-600/30 to-blue-600/30 text-white border border-purple-400/50 font-medium":"hover:bg-white/5 text-purple-200/70 hover:text-purple-200 border border-transparent"}`,children:[l.jsx(pn,{size:14}),l.jsx("span",{children:"SDD Document"})]}),l.jsxs("div",{children:[l.jsxs("button",{onClick:q=>{q.stopPropagation(),f(T=>({...T,[$.id]:!T[$.id]})),h[$.id]||Q("artifacts",q)},className:`w-full flex items-center justify-between px-3 py-2 rounded-lg text-sm transition-all ${n==="artifacts"?"bg-gradient-to-r from-purple-600/30 to-blue-600/30 text-white border border-purple-400/50 font-medium":"hover:bg-white/5 text-purple-200/70 hover:text-purple-200 border border-transparent"}`,children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Lf,{size:14}),l.jsx("span",{children:"Business Artifacts"}),a.length>0&&l.jsx("span",{className:"text-xs glass text-purple-200 px-1.5 py-0.5 rounded-full border border-purple-500/30",children:a.length})]}),l.jsx(il,{size:12,className:`transition-transform flex-shrink-0 ${h[$.id]?"rotate-90":""}`})]}),h[$.id]&&a.length>0&&l.jsx("div",{className:"ml-3 mt-1 space-y-1 border-l-2 border-purple-500/20 pl-3",children:a.map(q=>l.jsxs("button",{onClick:T=>{T.stopPropagation(),s&&s(q),Q("artifacts",T)},className:"w-full flex items-center space-x-2 px-2 py-1.5 rounded-lg text-xs hover:bg-white/5 text-purple-200/70 hover:text-purple-200 transition-all text-left border border-transparent hover:border-purple-500/20",title:q.fileName,children:[l.jsx(pn,{size:11,className:"text-purple-400/60 flex-shrink-0"}),l.jsx("span",{className:"truncate flex-1",children:q.fileName})]},q.id))})]}),l.jsxs("button",{onClick:q=>Q("drawio",q),className:`w-full flex items-center space-x-2 px-3 py-2 rounded-lg text-sm transition-all ${n==="drawio"?"bg-gradient-to-r from-purple-600/30 to-blue-600/30 text-white border border-purple-400/50 font-medium":"hover:bg-white/5 text-purple-200/70 hover:text-purple-200 border border-transparent"}`,children:[l.jsx(gd,{size:14}),l.jsx("span",{children:"Technology Artifacts"})]}),l.jsxs("button",{onClick:q=>Q("uml",q),className:`w-full flex items-center space-x-2 px-3 py-2 rounded-lg text-sm transition-all ${n==="uml"?"bg-gradient-to-r from-purple-600/30 to-blue-600/30 text-white border border-purple-400/50 font-medium":"hover:bg-white/5 text-purple-200/70 hover:text-purple-200 border border-transparent"}`,children:[l.jsx(Ja,{size:14}),l.jsx("span",{children:"UML Diagrams"})]}),l.jsxs("button",{onClick:q=>Q("adr",q),className:`w-full flex items-center space-x-2 px-3 py-2 rounded-lg text-sm transition-all ${n==="adr"?"bg-gradient-to-r from-purple-600/30 to-blue-600/30 text-white border border-purple-400/50 font-medium":"hover:bg-white/5 text-purple-200/70 hover:text-purple-200 border border-transparent"}`,children:[l.jsx(pn,{size:14}),l.jsx("span",{children:"ADRs"})]}),l.jsxs("button",{onClick:q=>Q("approvers",q),className:`w-full flex items-center space-x-2 px-3 py-2 rounded-lg text-sm transition-all ${n==="approvers"?"bg-gradient-to-r from-purple-600/30 to-blue-600/30 text-white border border-purple-400/50 font-medium":"hover:bg-white/5 text-purple-200/70 hover:text-purple-200 border border-transparent"}`,children:[l.jsx(Id,{size:14}),l.jsx("span",{children:"Approvers"})]}),l.jsxs("button",{onClick:q=>Q("analysis",q),className:`w-full flex items-center space-x-2 px-3 py-2 rounded-lg text-sm transition-all ${n==="analysis"?"bg-gradient-to-r from-purple-600/30 to-blue-600/30 text-white border border-purple-400/50 font-medium":"hover:bg-white/5 text-purple-200/70 hover:text-purple-200 border border-transparent"}`,children:[l.jsx(fp,{size:14}),l.jsx("span",{children:"Analysis & Reporting"})]})]})]},$.id))})]})]}),u&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 lg:hidden",onClick:()=>g(!1)}),m&&h6.createPortal(l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[9999] p-4",onClick:$=>{$.target===$.currentTarget&&(x(!1),y(""),b(""))},children:l.jsxs("div",{className:"glass-dark rounded-2xl border border-white/10 shadow-2xl p-6 w-full max-w-md backdrop-blur-xl animate-in fade-in zoom-in duration-200",onClick:$=>$.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-blue-500 p-2 rounded-lg",children:l.jsx(Sn,{size:20,className:"text-white"})}),l.jsx("h3",{className:"text-xl font-bold text-gradient",children:"Create New Project"})]}),l.jsx("button",{onClick:()=>{x(!1),y(""),b("")},className:"glass hover:bg-white/10 p-2 rounded-lg transition-all border border-white/20 hover:border-red-500/50","aria-label":"Close modal",children:l.jsx(qr,{size:18,className:"text-purple-200 hover:text-red-300"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-purple-200 mb-2",children:"Project Name *"}),l.jsx("input",{type:"text",value:p,onChange:$=>y($.target.value),className:"w-full px-4 py-3 glass border border-white/20 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500/50 text-white placeholder-purple-300/50 transition-all outline-none",placeholder:"e.g., Mobile Loan Refer",autoFocus:!0,onKeyPress:$=>{$.key==="Enter"&&p.trim()&&k()}})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-purple-200 mb-2",children:"Description"}),l.jsx("textarea",{value:w,onChange:$=>b($.target.value),className:"w-full px-4 py-3 glass border border-white/20 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500/50 text-white placeholder-purple-300/50 transition-all resize-none outline-none",placeholder:"Brief description of the project",rows:3})]}),l.jsxs("div",{className:"flex gap-3 justify-end pt-2",children:[l.jsx("button",{onClick:()=>{x(!1),y(""),b("")},className:"px-4 py-2 glass border border-white/20 rounded-lg hover:bg-white/10 text-purple-200 transition-all font-medium",children:"Cancel"}),l.jsx("button",{onClick:k,disabled:!p.trim(),className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg hover:shadow-purple-500/50 font-medium",children:"Create Project"})]})]})]})}),document.body)]})},Jne=[{id:"sdd-template",name:"Solution Design Document (SDD)",description:"Comprehensive solution architecture design document for enterprise solutions",type:"SDD",sections:[{id:"cover-page",title:"Cover Page",subsections:[{number:"",title:"Document Title",description:"The main title of the Solution Design Document"},{number:"",title:"Project Information",description:"Project name, description, and basic details"},{number:"",title:"Version and Date",description:"Document version number and publication date"},{number:"",title:"Organization Details",description:"Organization name, logo, and branding information"}]},{id:"document-control",title:"Document Control",subsections:[{number:"",title:"Document Information",description:"Document metadata including title, ID, version, classification, owner, and status"},{number:"",title:"Version History",description:"Complete version history with dates, authors, changes made, and status for each version"},{number:"",title:"Distribution List",description:"List of individuals who receive the document, including their name, role, department, and email"},{number:"",title:"Review & Approval",description:"Review and approval workflow with role, name, date, and signature/approval for each reviewer"}]},{id:"table-of-contents",title:"Table of Contents",subsections:[]},{id:"introduction",title:"Introduction",subsections:[{number:"",title:"Problem Statement",description:"Describe the specific business problem or challenge that this solution addresses"},{number:"",title:"Solution Overview",description:"High-level summary of the proposed solution and its approach"},{number:"",title:"Scope",description:"Define the boundaries and extent of the solution, including what is included and excluded"},{number:"",title:"Master Data Domains In Scope",description:"Identify which master data domains (e.g., Customer, Product, Account) are included in this solution"},{number:"",title:"Applications In Scope",description:"List all applications and systems that are part of the solution scope"},{number:"",title:"Countries In Scope",description:"Specify the geographical scope including countries and regions covered by this solution"}]},{id:"constraints-assumptions",title:"Design Constraints, Assumptions, Dependencies and Risks",subsections:[{number:"",title:"Design Constraints",description:"Technical, business, regulatory, or organizational limitations that constrain the solution design"},{number:"",title:"Assumptions",description:"Key assumptions made during the design phase that the solution depends upon"},{number:"",title:"Dependencies",description:"External dependencies, prerequisites, and systems that must be in place for the solution to succeed"},{number:"",title:"Risks",description:"Potential risks that could impact the project, their likelihood, and mitigation strategies"},{number:"",title:"Loading",description:"Expected data volumes, transaction loads, and system capacity requirements"}]},{id:"business-capabilities",title:"Business Capabilities",subsections:[{number:"",title:"Party Management",description:"Capabilities for managing parties (customers, vendors, partners) including creation, updates, and lifecycle management"},{number:"",title:"Identity Management",description:"Identity verification, authentication, and authorization capabilities"},{number:"",title:"Product Management",description:"Product definition, configuration, and management capabilities"},{number:"",title:"Data Quality Management",description:"Data validation, cleansing, enrichment, and quality monitoring capabilities"},{number:"",title:"Data Synchronization",description:"Capabilities for synchronizing data across systems, domains, and applications"}]},{id:"requirements",title:"Requirements",subsections:[{number:"",title:"Functional Requirements",description:"Specific capabilities the system must provide"},{number:"",title:"Non-Functional Requirements",description:"Performance, security, scalability, and availability requirements"},{number:"",title:"Constraints",description:"Technical, regulatory, budgetary, or organizational limitations"}]},{id:"architecture",title:"Solution Architecture",subsections:[{number:"",title:"Architecture Overview",description:"High-level architecture diagram and conceptual design"},{number:"",title:"Component Design",description:"Detailed breakdown of system components and their responsibilities"},{number:"",title:"Integration Points",description:"How components interact internally and with external systems (include sequence diagrams)"},{number:"",title:"Data Architecture",description:"Data models, storage strategy, and data flow patterns"},{number:"",title:"Application Architecture",description:"Application layers, tiers, and structural organization"}]},{id:"data-architecture",title:"Data Architecture",subsections:[{number:"",title:"Overview",description:"High-level data architecture strategy and guiding principles"},{number:"",title:"Logical Data Domains",description:"Logical grouping of data organized by business domain"},{number:"",title:"Core Data Relationships",description:"Entity relationship diagrams and key data relationships"},{number:"",title:"Data Flow Summary",description:"Use case specific data flows with detailed sequence diagrams"},{number:"",title:"Data Storage Architecture",description:"Database design, storage solutions, and persistence strategy"},{number:"",title:"Data Security & Compliance",description:"Data encryption, masking, access controls, and regulatory compliance"},{number:"",title:"Data Retention Plan",description:"Data lifecycle management, archival policies, and deletion procedures"}]},{id:"master-data",title:"Master Data Management",subsections:[{number:"",title:"Master Data Entities",description:"Key master data entities, their definitions, and attributes"},{number:"",title:"Data Governance",description:"Data ownership, stewardship roles, and governance framework"},{number:"",title:"Data Quality Standards",description:"Validation rules, quality metrics, and monitoring procedures"},{number:"",title:"Data Lifecycle Management",description:"Processes for data creation, updates, archival, and deletion"}]},{id:"security",title:"Security Architecture",subsections:[{number:"",title:"Security Layers and Compliance Mapping",description:"Multi-layered security approach mapped to regulatory requirements"},{number:"",title:"Security Controls Mapping to Use Cases",description:"Specific security controls applied to each business use case"},{number:"",title:"Compliance and Governance",description:"Regulatory compliance requirements including PCI-DSS, GDPR, and CBK guidelines"}]},{id:"infrastructure",title:"Infrastructure Architecture",subsections:[{number:"",title:"Infrastructure Components",description:"Compute resources, storage enhancements, monitoring tools, and security tooling"},{number:"",title:"Compute and Storage Enhancements",description:"Server specifications, compute resources, and storage solutions"},{number:"",title:"Monitoring, Observability, and Security Tooling",description:"Monitoring platforms, logging systems, and observability tools"},{number:"",title:"Identity, Access, and Compliance Controls",description:"IAM solutions, access management, and authentication mechanisms"},{number:"",title:"Deployment Architecture",description:"Cloud and on-premise infrastructure with partner integrations"},{number:"",title:"Cloud Layer",description:"Cloud infrastructure, services, and deployment configurations"},{number:"",title:"On-Premise Layer",description:"On-premise infrastructure and hybrid connectivity approaches"},{number:"",title:"Partner and Third-Party Integrations",description:"External partner systems and integration architecture patterns"},{number:"",title:"Network Architecture",description:"Network connectivity, traffic flows, and security segmentation"},{number:"",title:"Connectivity",description:"Network connectivity approaches including VPN, direct connect, and bandwidth allocation"},{number:"",title:"Traffic Flow Summary",description:"Network traffic patterns and detailed flow diagrams"},{number:"",title:"Network Security and Segmentation",description:"Firewalls, DMZ configuration, network zones, and micro-segmentation strategy"}]},{id:"implementation",title:"Implementation Architecture",subsections:[{number:"",title:"Implementation Layers",description:"Presentation, business logic, and data access layers with interaction patterns"},{number:"",title:"Capability Mapping",description:"Business capabilities mapped to technical components and services"},{number:"",title:"Summary of Approach",description:"Overall implementation strategy, methodology, and development approach"},{number:"",title:"Key Considerations",description:"Critical implementation factors, risks, and decision points"}]},{id:"traceability",title:"Traceability Matrix",subsections:[{number:"",title:"Functional Requirements Traceability",description:"Complete mapping of requirements to design components, use cases, and test cases"}]},{id:"resources",title:"Resource Requirements",subsections:[{number:"",title:"Human Resources",description:"Team composition, roles, required skills, FTE allocation, and engagement duration"},{number:"",title:"System Resources",description:"Hardware, software, infrastructure, and tooling resource requirements"}]},{id:"deployment",title:"Deployment Strategy",subsections:[{number:"",title:"Deployment Approach",description:"Deployment strategy including phased rollout, big bang, or hybrid approach"},{number:"",title:"Environment Strategy",description:"Development, testing, staging, and production environment configuration"},{number:"",title:"Migration Plan",description:"Detailed data and system migration approach with rollback procedures"}]},{id:"risks",title:"Risks & Mitigations",subsections:[{number:"",title:"Risk Assessment",description:"Comprehensive risk analysis with impact, probability, and mitigation strategies"}]},{id:"timeline",title:"Timeline & Milestones",subsections:[{number:"",title:"Project Timeline",description:"Detailed project phases, milestones, target dates, dependencies, and current status"}]},{id:"technology",title:"Technology Stack",subsections:[{number:"",title:"Application Layer",description:"Frontend frameworks, backend platforms, programming languages, and development tools"},{number:"",title:"Database & Storage",description:"Database management systems, data warehouses, caching solutions, and file storage"},{number:"",title:"Infrastructure",description:"Cloud providers, server infrastructure, networking components, and containerization"},{number:"",title:"Third-Party Services & APIs",description:"External integrations, service dependencies, and API specifications"}]},{id:"operations",title:"Operations & Support",subsections:[{number:"",title:"Monitoring & Alerting",description:"System monitoring tools, alerting mechanisms, and operational dashboards"},{number:"",title:"Logging Strategy",description:"Application and system logging approach, log aggregation, and retention policies"},{number:"",title:"Backup & Recovery",description:"Backup procedures, recovery point objectives, recovery time objectives, and disaster recovery plan"},{number:"",title:"Support Model",description:"Support tiers, escalation procedures, service level agreements, and support processes"},{number:"",title:"Maintenance Windows",description:"Planned maintenance schedules, change management procedures, and communication protocols"}]},{id:"testing",title:"Testing Strategy",subsections:[{number:"",title:"Test Approach",description:"Overall testing methodology, philosophy, and quality assurance framework"},{number:"",title:"Test Types",description:"Unit testing, integration testing, system testing, UAT, performance testing, and security testing"},{number:"",title:"Test Environments",description:"Test environment configuration, setup procedures, and data management"},{number:"",title:"Test Data Strategy",description:"Test data creation, management, privacy considerations, and data masking approaches"}]},{id:"training",title:"Training & Change Management",subsections:[{number:"",title:"Training Strategy",description:"Training approach for different user groups, delivery methods, and schedule"},{number:"",title:"Training Materials",description:"Documentation, user guides, video tutorials, workshops, and reference materials"},{number:"",title:"Change Management",description:"Communication plan, stakeholder engagement strategy, and adoption roadmap"},{number:"",title:"Knowledge Transfer",description:"Transition plan for operations teams, support teams, and knowledge retention"}]},{id:"costs",title:"Cost & Budget",subsections:[{number:"",title:"Implementation Costs",description:"Development costs, infrastructure investment, licensing fees, and consulting expenses"},{number:"",title:"Operational Costs",description:"Ongoing hosting costs, maintenance fees, support costs, and subscription expenses"},{number:"",title:"ROI Analysis",description:"Expected return on investment, payback period, and financial benefits"},{number:"",title:"Cost Optimization",description:"Strategies for managing and reducing costs throughout the project lifecycle"}]},{id:"assumptions",title:"Assumptions & Dependencies",subsections:[{number:"",title:"Assumptions",description:"Key assumptions made during solution design and their potential impact"},{number:"",title:"Dependencies",description:"External dependencies, prerequisites for success, and dependency management"},{number:"",title:"Constraints",description:"Technical, budgetary, regulatory, and organizational constraints"}]},{id:"alternatives",title:"Alternative Solutions Considered",subsections:[{number:"",title:"Alternative Approaches",description:"Other solution approaches that were evaluated during the design phase"},{number:"",title:"Comparison Analysis",description:"Detailed comparison of alternatives including pros, cons, and trade-offs"},{number:"",title:"Decision Rationale",description:"Justification for the recommended solution based on evaluation criteria"}]},{id:"appendix",title:"Appendix",subsections:[{number:"",title:"Glossary",description:"Definitions of technical terms and business terminology"},{number:"",title:"References",description:"Related documents, standards, and external resources"},{number:"",title:"Acronyms",description:"List of acronyms and abbreviations used throughout the document"},{number:"",title:"Supporting Documentation",description:"Links to technical specifications, wireframes, user stories, and sequence diagrams"}]}]},{id:"isd-template",name:"Information System Design (ISD)",description:"Detailed information system design document covering system architecture, data flows, and technical specifications",type:"ISD",sections:[{id:"cover-page",title:"Cover Page",subsections:[{number:"",title:"Document Title",description:"The main title of the Information System Design Document"},{number:"",title:"System Information",description:"System name, description, and basic details"},{number:"",title:"Version and Date",description:"Document version number and publication date"}]},{id:"document-control",title:"Document Control",subsections:[{number:"",title:"Document Information",description:"Document metadata including title, ID, version, classification, owner, and status"},{number:"",title:"Version History",description:"Complete version history with dates, authors, changes made, and status for each version"},{number:"",title:"Distribution List",description:"List of individuals who receive the document"},{number:"",title:"Review & Approval",description:"Review and approval workflow"}]},{id:"table-of-contents",title:"Table of Contents",subsections:[]},{id:"executive-summary",title:"Executive Summary",subsections:[{number:"",title:"Overview",description:"High-level summary of the information system design"},{number:"",title:"Key Objectives",description:"Primary objectives and goals of the system"},{number:"",title:"Business Value",description:"Business value and benefits expected from the system"}]},{id:"system-overview",title:"System Overview",subsections:[{number:"",title:"System Purpose",description:"Purpose and objectives of the information system"},{number:"",title:"System Scope",description:"Boundaries and extent of the system"},{number:"",title:"System Context",description:"System context and interaction with other systems"},{number:"",title:"Stakeholders",description:"Key stakeholders and their roles"}]},{id:"functional-requirements",title:"Functional Requirements",subsections:[{number:"",title:"Business Process Requirements",description:"Functional requirements related to business processes"},{number:"",title:"Data Management Requirements",description:"Requirements for data creation, storage, retrieval, and management"},{number:"",title:"User Interface Requirements",description:"UI/UX requirements and user interaction patterns"},{number:"",title:"Integration Requirements",description:"Requirements for system integrations and data exchange"},{number:"",title:"Reporting Requirements",description:"Requirements for reporting and analytics capabilities"}]},{id:"non-functional-requirements",title:"Non-Functional Requirements",subsections:[{number:"",title:"Performance Requirements",description:"Performance criteria including response times, throughput, and scalability"},{number:"",title:"Security Requirements",description:"Security requirements including authentication, authorization, and data protection"},{number:"",title:"Reliability Requirements",description:"Availability, fault tolerance, and disaster recovery requirements"},{number:"",title:"Usability Requirements",description:"User experience and accessibility requirements"},{number:"",title:"Maintainability Requirements",description:"Requirements for system maintenance and supportability"}]},{id:"system-architecture",title:"System Architecture",subsections:[{number:"",title:"Architectural Overview",description:"High-level system architecture and design patterns"},{number:"",title:"System Components",description:"Major system components and their responsibilities"},{number:"",title:"Component Interactions",description:"How components interact and communicate"},{number:"",title:"Deployment Architecture",description:"Deployment topology and infrastructure layout"}]},{id:"data-design",title:"Data Design",subsections:[{number:"",title:"Data Model",description:"Logical and physical data models"},{number:"",title:"Database Design",description:"Database schema, tables, relationships, and constraints"},{number:"",title:"Data Flow",description:"Data flow diagrams and data transformation processes"},{number:"",title:"Data Migration",description:"Data migration strategy and approach"}]},{id:"interface-design",title:"Interface Design",subsections:[{number:"",title:"User Interface Design",description:"UI mockups, wireframes, and user interaction flows"},{number:"",title:"API Design",description:"API specifications, endpoints, and data contracts"},{number:"",title:"Integration Interfaces",description:"Interfaces for external system integrations"}]},{id:"security-design",title:"Security Design",subsections:[{number:"",title:"Security Architecture",description:"Security architecture and controls"},{number:"",title:"Authentication & Authorization",description:"Authentication and authorization mechanisms"},{number:"",title:"Data Protection",description:"Data encryption, masking, and protection strategies"},{number:"",title:"Audit & Compliance",description:"Audit logging and compliance requirements"}]},{id:"testing-strategy",title:"Testing Strategy",subsections:[{number:"",title:"Test Approach",description:"Overall testing methodology and approach"},{number:"",title:"Test Planning",description:"Test plans, test cases, and test scenarios"},{number:"",title:"Test Environments",description:"Test environment setup and configuration"}]},{id:"implementation-plan",title:"Implementation Plan",subsections:[{number:"",title:"Implementation Phases",description:"Phased implementation approach and milestones"},{number:"",title:"Resource Requirements",description:"Human and technical resources needed"},{number:"",title:"Timeline",description:"Project timeline and key milestones"},{number:"",title:"Risk Management",description:"Risk assessment and mitigation strategies"}]}]},{id:"brd-template",name:"Business Requirements Document (BRD)",description:"Business requirements document outlining business needs, objectives, and functional requirements",type:"BRD",sections:[{id:"cover-page",title:"Cover Page",subsections:[{number:"",title:"Document Title",description:"The main title of the Business Requirements Document"},{number:"",title:"Project Information",description:"Project name, description, and basic details"},{number:"",title:"Version and Date",description:"Document version number and publication date"}]},{id:"document-control",title:"Document Control",subsections:[{number:"",title:"Document Information",description:"Document metadata"},{number:"",title:"Version History",description:"Version history tracking"},{number:"",title:"Distribution List",description:"Document distribution list"},{number:"",title:"Review & Approval",description:"Review and approval workflow"}]},{id:"table-of-contents",title:"Table of Contents",subsections:[]},{id:"executive-summary",title:"Executive Summary",subsections:[{number:"",title:"Business Need",description:"High-level business need driving this initiative"},{number:"",title:"Proposed Solution",description:"Overview of the proposed solution"},{number:"",title:"Expected Benefits",description:"Expected business benefits and value"},{number:"",title:"Key Recommendations",description:"Key recommendations and next steps"}]},{id:"business-background",title:"Business Background",subsections:[{number:"",title:"Business Context",description:"Business context and background information"},{number:"",title:"Current State",description:"Current state analysis and pain points"},{number:"",title:"Business Drivers",description:"Business drivers and motivations for change"},{number:"",title:"Strategic Alignment",description:"Alignment with business strategy and objectives"}]},{id:"business-objectives",title:"Business Objectives",subsections:[{number:"",title:"Primary Objectives",description:"Primary business objectives and goals"},{number:"",title:"Success Criteria",description:"Success criteria and key performance indicators"},{number:"",title:"Business Value",description:"Expected business value and return on investment"}]},{id:"stakeholders",title:"Stakeholders",subsections:[{number:"",title:"Stakeholder Identification",description:"Key stakeholders and their roles"},{number:"",title:"Stakeholder Requirements",description:"Requirements from different stakeholder groups"},{number:"",title:"Stakeholder Communication Plan",description:"Communication strategy for stakeholders"}]},{id:"business-processes",title:"Business Processes",subsections:[{number:"",title:"Current Process Analysis",description:"Analysis of current business processes"},{number:"",title:"Process Improvements",description:"Proposed process improvements and optimizations"},{number:"",title:"Future State Processes",description:"Desired future state business processes"},{number:"",title:"Process Flow Diagrams",description:"Business process flow diagrams and workflows"}]},{id:"functional-requirements",title:"Functional Requirements",subsections:[{number:"",title:"Core Functional Requirements",description:"Core functional capabilities required"},{number:"",title:"Data Requirements",description:"Data requirements and data management needs"},{number:"",title:"Reporting Requirements",description:"Reporting and analytics requirements"},{number:"",title:"Integration Requirements",description:"Integration requirements with other systems"}]},{id:"non-functional-requirements",title:"Non-Functional Requirements",subsections:[{number:"",title:"Performance Requirements",description:"Performance and scalability requirements"},{number:"",title:"Security Requirements",description:"Security and compliance requirements"},{number:"",title:"Usability Requirements",description:"User experience and usability requirements"},{number:"",title:"Availability Requirements",description:"Availability and reliability requirements"}]},{id:"constraints",title:"Constraints and Assumptions",subsections:[{number:"",title:"Business Constraints",description:"Business constraints and limitations"},{number:"",title:"Technical Constraints",description:"Technical constraints and limitations"},{number:"",title:"Regulatory Constraints",description:"Regulatory and compliance constraints"},{number:"",title:"Assumptions",description:"Key assumptions made during requirements gathering"}]},{id:"risks",title:"Risks and Dependencies",subsections:[{number:"",title:"Business Risks",description:"Business risks and their potential impact"},{number:"",title:"Technical Risks",description:"Technical risks and mitigation strategies"},{number:"",title:"Dependencies",description:"External dependencies and prerequisites"}]},{id:"implementation-considerations",title:"Implementation Considerations",subsections:[{number:"",title:"Implementation Approach",description:"High-level implementation approach and methodology"},{number:"",title:"Resource Requirements",description:"Resource requirements and team structure"},{number:"",title:"Timeline Considerations",description:"Timeline and milestone considerations"}]},{id:"success-metrics",title:"Success Metrics",subsections:[{number:"",title:"Key Performance Indicators",description:"KPIs and success metrics"},{number:"",title:"Measurement Approach",description:"How success will be measured and tracked"}]}]},{id:"fsd-template",name:"Functional Specification Document (FSD)",description:"Detailed functional specification document describing system functionality, user interfaces, and technical specifications",type:"FSD",sections:[{id:"cover-page",title:"Cover Page",subsections:[{number:"",title:"Document Title",description:"The main title of the Functional Specification Document"},{number:"",title:"System Information",description:"System name, description, and basic details"},{number:"",title:"Version and Date",description:"Document version number and publication date"}]},{id:"document-control",title:"Document Control",subsections:[{number:"",title:"Document Information",description:"Document metadata"},{number:"",title:"Version History",description:"Version history tracking"},{number:"",title:"Distribution List",description:"Document distribution list"},{number:"",title:"Review & Approval",description:"Review and approval workflow"}]},{id:"table-of-contents",title:"Table of Contents",subsections:[]},{id:"introduction",title:"Introduction",subsections:[{number:"",title:"Purpose",description:"Purpose of this functional specification document"},{number:"",title:"Scope",description:"Scope of the system and functionality covered"},{number:"",title:"Document Overview",description:"Overview of document structure and contents"},{number:"",title:"Definitions and Acronyms",description:"Key definitions and acronyms used in the document"}]},{id:"system-overview",title:"System Overview",subsections:[{number:"",title:"System Description",description:"High-level system description and purpose"},{number:"",title:"System Context",description:"System context and interaction with other systems"},{number:"",title:"User Roles",description:"User roles and their responsibilities"}]},{id:"functional-specifications",title:"Functional Specifications",subsections:[{number:"",title:"Functional Overview",description:"Overview of functional capabilities"},{number:"",title:"Core Functions",description:"Core functional specifications and capabilities"},{number:"",title:"Data Management Functions",description:"Data management and processing functions"},{number:"",title:"Reporting Functions",description:"Reporting and analytics functions"},{number:"",title:"Integration Functions",description:"Integration and data exchange functions"}]},{id:"user-interface-specifications",title:"User Interface Specifications",subsections:[{number:"",title:"UI Overview",description:"Overview of user interface design and principles"},{number:"",title:"Screen Specifications",description:"Detailed screen specifications and layouts"},{number:"",title:"User Interaction Flows",description:"User interaction flows and navigation patterns"},{number:"",title:"UI Components",description:"UI components and their specifications"}]},{id:"data-specifications",title:"Data Specifications",subsections:[{number:"",title:"Data Model",description:"Logical data model and entity relationships"},{number:"",title:"Data Elements",description:"Detailed data elements and their attributes"},{number:"",title:"Data Validation Rules",description:"Data validation rules and business rules"},{number:"",title:"Data Flow",description:"Data flow and transformation specifications"}]},{id:"business-rules",title:"Business Rules",subsections:[{number:"",title:"Business Rule Catalog",description:"Catalog of business rules and their specifications"},{number:"",title:"Rule Implementation",description:"How business rules are implemented in the system"},{number:"",title:"Rule Exceptions",description:"Exception handling and special cases"}]},{id:"integration-specifications",title:"Integration Specifications",subsections:[{number:"",title:"Integration Overview",description:"Overview of system integrations"},{number:"",title:"API Specifications",description:"API specifications and endpoints"},{number:"",title:"Data Exchange Formats",description:"Data exchange formats and protocols"},{number:"",title:"Integration Patterns",description:"Integration patterns and approaches"}]},{id:"security-specifications",title:"Security Specifications",subsections:[{number:"",title:"Security Requirements",description:"Security requirements and controls"},{number:"",title:"Access Control",description:"Access control mechanisms and authorization rules"},{number:"",title:"Data Protection",description:"Data protection and encryption requirements"}]},{id:"performance-specifications",title:"Performance Specifications",subsections:[{number:"",title:"Performance Requirements",description:"Performance criteria and requirements"},{number:"",title:"Scalability Requirements",description:"Scalability and capacity requirements"},{number:"",title:"Response Time Requirements",description:"Response time and throughput requirements"}]},{id:"error-handling",title:"Error Handling",subsections:[{number:"",title:"Error Handling Strategy",description:"Overall error handling strategy and approach"},{number:"",title:"Error Messages",description:"Error message specifications and user feedback"},{number:"",title:"Exception Handling",description:"Exception handling and recovery procedures"}]},{id:"testing-requirements",title:"Testing Requirements",subsections:[{number:"",title:"Test Scenarios",description:"Test scenarios and use cases for validation"},{number:"",title:"Acceptance Criteria",description:"Acceptance criteria for functional requirements"}]},{id:"appendix",title:"Appendix",subsections:[{number:"",title:"Glossary",description:"Definitions of terms and acronyms"},{number:"",title:"References",description:"Related documents and resources"}]}]}],Zne=({onCreateProjectFromTemplate:e})=>{const[t,r]=Se.useState(null),[n,i]=Se.useState({}),[s,a]=Se.useState(!1),[o,c]=Se.useState(null),A=new so,d=u=>{i(g=>({...g,[u]:!g[u]}))},h=async u=>{if(!s){a(!0);try{const g=`${u.name} - ${new Date().toLocaleDateString()}`,m=u.description,x=await A.createProject({name:g,description:m,selectedSectionIds:u.sections.map(p=>p.id),customSections:[]});c(x.id),e&&e(x),setTimeout(()=>{c(null),a(!1)},3e3)}catch(g){console.error("Error creating project from template:",g),alert("Failed to create project from template. Please try again."),a(!1)}}},f=u=>{r(u)};return l.jsxs("div",{className:"flex flex-col h-[calc(100vh-200px)] min-h-[500px] max-h-[calc(100vh-200px)]",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 flex flex-col h-full overflow-hidden",children:[l.jsx("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 flex-shrink-0",children:l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Document Templates"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Create new projects from pre-configured document templates"})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:Jne.map(u=>l.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow flex flex-col",children:[l.jsx("div",{className:"flex items-start justify-between mb-3 flex-shrink-0",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[l.jsx(pn,{className:"text-red-700",size:20}),l.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:u.name}),l.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded",children:u.type})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-3",children:u.description}),l.jsxs("p",{className:"text-xs text-gray-500",children:[u.sections.length," sections configured"]})]})}),l.jsxs("div",{className:"flex space-x-2 mt-auto pt-4",children:[l.jsx("button",{onClick:()=>h(u),disabled:s,className:"flex-1 flex items-center justify-center space-x-2 bg-red-700 text-white px-4 py-2 rounded-lg hover:bg-red-800 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:s&&o===u.id?l.jsxs(l.Fragment,{children:[l.jsx(q0,{size:16}),l.jsx("span",{children:"Created!"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Sn,{size:16}),l.jsx("span",{children:"Create Project"})]})}),l.jsxs("button",{onClick:()=>f(u),className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-semibold",children:[l.jsx(dB,{size:16}),l.jsx("span",{children:"View Details"})]})]})]},u.id))})})]}),t&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:t.name}),l.jsx("p",{className:"text-gray-600 mt-1",children:t.description})]}),l.jsx("button",{onClick:()=>r(null),className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx("span",{className:"text-2xl",children:"Ã—"})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[l.jsx("div",{className:"mb-4",children:l.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["This template includes ",t.sections.length," sections with pre-configured subsections. Creating a project from this template will automatically set up all sections."]})}),l.jsx("div",{className:"space-y-3",children:t.sections.map(u=>l.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[l.jsxs("button",{onClick:()=>d(u.id),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors text-left",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-semibold text-gray-800",children:u.title}),u.subsections.length>0&&l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[u.subsections.length," subsection",u.subsections.length!==1?"s":""]})]}),l.jsx("div",{className:"flex items-center space-x-2",children:n[u.id]?l.jsx("span",{className:"text-gray-400",children:"â–¼"}):l.jsx("span",{className:"text-gray-400",children:"â–¶"})})]}),n[u.id]&&u.subsections.length>0&&l.jsx("div",{className:"border-t border-gray-200 bg-gray-50 p-4",children:l.jsx("div",{className:"space-y-2",children:u.subsections.map((g,m)=>l.jsxs("div",{className:"bg-white p-3 rounded border border-gray-200",children:[l.jsx("p",{className:"text-sm font-medium text-gray-800",children:g.title}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:g.description})]},m))})})]},u.id))})]}),l.jsx("div",{className:"border-t border-gray-200 p-6 bg-gray-50",children:l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{onClick:()=>h(t),disabled:s,className:"flex-1 flex items-center justify-center space-x-2 bg-red-700 text-white px-6 py-3 rounded-lg hover:bg-red-800 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:s&&o===t.id?l.jsxs(l.Fragment,{children:[l.jsx(q0,{size:18}),l.jsx("span",{children:"Project Created!"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Sn,{size:18}),l.jsx("span",{children:"Create Project from Template"})]})}),l.jsx("button",{onClick:()=>r(null),className:"px-6 py-3 border border-gray-300 rounded-lg hover:bg-white transition-colors font-semibold",children:"Close"})]})})]})})]})};class eie{constructor(){Br(this,"anthropic");const t="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";this.anthropic=new fh({apiKey:t,dangerouslyAllowBrowser:!0})}getModel(){return"claude-3-5-haiku-20241022"||"claude-3-5-sonnet-20241022"}async uploadFileToClaude(t){try{const r=t.type||"text/plain";try{const n=await this.anthropic.beta.files.upload({file:t});return await new Promise(i=>setTimeout(i,1e3)),n.id}catch{const i=await t.arrayBuffer(),s=new Blob([i],{type:r}),a=await this.anthropic.beta.files.upload({file:s});return await new Promise(o=>setTimeout(o,1e3)),a.id}}catch(r){throw new Error(`Failed to upload file ${t.name}: ${r.message}`)}}getToolSyntaxGuide(t,r){const n={PLANTUML_CLASS:`PlantUML Class Diagram Syntax:
@startuml
class ClassName {
  +publicField: Type
  -privateField: Type
  +publicMethod(): ReturnType
  -privateMethod(): ReturnType
}
ClassName1 --> ClassName2 : association
@enduml`,PLANTUML_SEQUENCE:`PlantUML Sequence Diagram Syntax:
@startuml
actor User
participant "System A" as A
participant "System B" as B
User -> A: request
A -> B: call
B --> A: response
A --> User: result
@enduml`,MERMAID_CLASS:`Mermaid Class Diagram Syntax:
classDiagram
    class ClassName {
        +Type publicField
        -Type privateField
        +ReturnType publicMethod()
        -ReturnType privateMethod()
    }
    ClassName1 --> ClassName2 : association`,MERMAID_SEQUENCE:`Mermaid Sequence Diagram Syntax:
sequenceDiagram
    actor User
    participant SystemA
    participant SystemB
    User->>SystemA: request
    SystemA->>SystemB: call
    SystemB-->>SystemA: response
    SystemA-->>User: result`,DIAGRAMS_PYTHON_CLASS:`Diagrams Python Class Diagram Syntax:
from diagrams import Diagram, Cluster, Edge
from diagrams.onprem.client import Users, Client
from diagrams.onprem.compute import Server
from diagrams.onprem.database import PostgreSQL

with Diagram("System Architecture", show=False):
    users = Users("Users")
    app = Server("Application")
    db = PostgreSQL("Database")
    users >> app >> db`,GRAPHVIZ_DOT_CLASS:`Graphviz DOT Syntax:
digraph G {
    node [shape=box];
    ClassA [label="ClassA"];
    ClassB [label="ClassB"];
    ClassA -> ClassB [label="association"];
}`,STRUCTURIZR_DSL_ARCHITECTURE:`Structurizr DSL Syntax:
workspace {
    model {
        user = person "User"
        softwareSystem = softwareSystem "System" {
            webapp = container "Web Application"
            database = container "Database"
        }
        user -> webapp "Uses"
        webapp -> database "Stores data in"
    }
}`,C4_PLANTUML_ARCHITECTURE:`C4 Model with PlantUML Syntax:
@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml

Person(user, "User", "A user of the system")
System_Boundary(system, "System") {
    Container(webapp, "Web Application", "Java", "Handles requests")
    ContainerDb(database, "Database", "PostgreSQL", "Stores data")
}
Rel(user, webapp, "Uses")
Rel(webapp, database, "Stores data in")
@enduml`},i=`${t}_${r}`;return n[i]||n[`${t}_CLASS`]||`Generate ${r} diagram using ${t} syntax.`}getDiagramTypeDescription(t){return{CLASS:"Class diagrams show the structure of systems by displaying classes, their attributes, methods, and relationships.",SEQUENCE:"Sequence diagrams show how objects interact in a particular scenario, with messages flowing between objects over time.",ACTIVITY:"Activity diagrams show the flow of control from activity to activity, representing business or technical processes.",COMPONENT:"Component diagrams show the physical components of a system and their relationships.",USECASE:"Use case diagrams show the interactions between actors and the system, representing functional requirements.",STATE:"State diagrams show the state transitions of an object during its lifetime.",ER:"Entity-Relationship diagrams show the structure of a database, including entities, attributes, and relationships.",FLOWCHART:"Flowcharts show the flow of a process or algorithm using different shapes and connectors.",ARCHITECTURE:"Architecture diagrams show the high-level structure of a system, including components and their relationships.",DEPLOYMENT:"Deployment diagrams show the physical deployment of artifacts on nodes.",PACKAGE:"Package diagrams show the organization of packages and their dependencies.",OBJECT:"Object diagrams show instances of classes and their relationships at a specific point in time.",COMMUNICATION:"Communication diagrams show interactions between objects focusing on object structure.",TIMING:"Timing diagrams show the state of objects over time and interactions between them.",INTERACTION_OVERVIEW:"Interaction overview diagrams combine sequence and activity diagrams to show control flow.",COMPOSITE_STRUCTURE:"Composite structure diagrams show the internal structure of a classifier and its collaborations."}[t]||"UML diagram"}async generateDiagram(t){const{diagramTool:r,diagramType:n,description:i,context:s}=t,a=[];if(s.selectedArtifacts&&s.selectedArtifacts.length>0){console.log(`ðŸ“š Processing ${s.selectedArtifacts.length} artifact(s) as knowledge base...`);for(const u of s.selectedArtifacts)try{if(u.fileContent)if(u.fileType==="text/plain"||u.fileName.endsWith(".txt")||u.fileName.endsWith(".md")||u.fileName.endsWith(".json"))a.push({type:"text",text:`=== Knowledge Base: ${u.fileName} ===
${u.fileContent}
=== End of ${u.fileName} ===
`});else try{const m=u.fileContent.match(/^data:([^;]+);base64,(.+)$/);if(m){const x=m[1],p=m[2],y=atob(p),w=new Uint8Array(y.length);for(let F=0;F<y.length;F++)w[F]=y.charCodeAt(F);const b=new Blob([w],{type:x}),I=new File([b],u.fileName,{type:x});if(x.includes("pdf")||x.includes("word")||x.includes("document")){const F=await this.uploadFileToClaude(I);a.push({type:"file",source:{type:"file",file_id:F}})}else a.push({type:"text",text:`=== Knowledge Base: ${u.fileName} ===
${u.fileContent.substring(0,5e4)}
=== End of ${u.fileName} ===
`})}else a.push({type:"text",text:`=== Knowledge Base: ${u.fileName} ===
${u.fileContent.substring(0,5e4)}
=== End of ${u.fileName} ===
`})}catch{a.push({type:"text",text:`=== Knowledge Base: ${u.fileName} ===
${u.fileContent.substring(0,5e4)}
=== End of ${u.fileName} ===
`})}}catch(g){console.error(`Error processing artifact ${u.fileName}:`,g)}}const o=this.getToolLabel(r),c=this.getDiagramTypeDescription(n),A=this.getToolSyntaxGuide(r,n);let d=`You are an expert software architect creating ${c} using ${o}.

PROJECT CONTEXT:
- Project Name: ${s.projectName}
${s.projectDescription?`- Description: ${s.projectDescription}`:""}

${s.selectedArtifacts&&s.selectedArtifacts.length>0?`
=== KNOWLEDGE BASE ===
The following ${s.selectedArtifacts.length} artifact(s) have been provided as context. Analyze them thoroughly to extract relevant information for the diagram:
${s.selectedArtifacts.map(u=>`- ${u.fileName} (${u.artifactType})`).join(`
`)}
=== END KNOWLEDGE BASE ===
`:`
[No knowledge base artifacts provided - generate diagram based on best practices]
`}

${i?`
USER REQUIREMENTS:
${i}
`:""}

DIAGRAM SPECIFICATIONS:
- Tool: ${o}
- Diagram Type: ${n} Diagram
- Syntax Guide:
${A}

CRITICAL INSTRUCTIONS:
1. Generate ONLY the diagram code - no explanations, no markdown formatting, no code blocks
2. Start directly with the diagram syntax (e.g., @startuml for PlantUML, graph TD for Mermaid)
3. Use information from the knowledge base artifacts to create accurate, detailed diagrams
4. Include all relevant classes, components, relationships, and interactions
5. Follow the exact syntax for ${o}
6. Make the diagram comprehensive and professional
7. If information is missing from the knowledge base, make reasonable architectural assumptions and note them in comments
8. Ensure the code is valid and can be rendered by the target tool

Generate the ${n} diagram code now:`;s.selectedArtifacts&&s.selectedArtifacts.length>0&&(d+=`

=== KNOWLEDGE BASE CONTENT ===
`);const h=[];for(const u of a)u.type==="file"&&u.source?h.push({type:"file",source:u.source}):u.type==="text"&&u.text&&h.push({type:"text",text:u.text});h.push({type:"text",text:d});const f=[{role:"user",content:h}];try{console.log(`ðŸ¤– Generating ${n} diagram using ${o}...`);const u=await this.anthropic.messages.create({model:this.getModel(),max_tokens:4096,messages:f});let g="";if(u.content&&u.content.length>0&&(g=u.content.filter(x=>x.type==="text").map(x=>x.text).join(`
`).trim(),g=g.replace(/^```[\w]*\n?/gm,"").replace(/```$/gm,"").trim()),!g)throw new Error("No diagram code generated");return console.log(`âœ… Diagram generated successfully (${g.length} characters)`),g}catch(u){throw console.error("Error generating UML diagram:",u),new Error(`Failed to generate diagram: ${u.message}`)}}getToolLabel(t){return{PLANTUML:"PlantUML",MERMAID:"Mermaid",DIAGRAMS_PYTHON:"Diagrams Python",GRAPHVIZ_DOT:"Graphviz DOT",STRUCTURIZR_DSL:"Structurizr DSL",C4_PLANTUML:"C4 Model (PlantUML)",C4_MERMAID:"C4 Model (Mermaid)",ARCHIMATE:"ArchiMate",D2:"D2",KROKI:"Kroki"}[t]||t}}const tie=({content:e,name:t})=>{const[r,n]=Se.useState(""),[i,s]=Se.useState(!0),[a,o]=Se.useState(null),c=async A=>{try{if(typeof CompressionStream>"u")throw new Error("CompressionStream API not available. Please use a modern browser (Chrome 80+, Firefox 113+, Safari 16.4+).");const h=new TextEncoder().encode(A),f=new CompressionStream("deflate"),u=f.writable.getWriter();u.write(h),u.close();const g=await new Response(f.readable).arrayBuffer();return`~1${btoa(String.fromCharCode(...new Uint8Array(g)))}`}catch(d){throw console.error("Error encoding PlantUML:",d),o(d.message||"Error encoding diagram"),d}};return Se.useEffect(()=>{c(e).then(A=>{n(A),s(!1)}).catch(A=>{o(A.message||"Error encoding PlantUML diagram"),s(!1)})},[e]),i?l.jsx("div",{className:"w-full bg-white border border-gray-200 rounded-lg p-4 overflow-auto",children:l.jsx("div",{className:"text-gray-500 text-center py-4",children:"Rendering PlantUML diagram..."})}):a?l.jsx("div",{className:"w-full bg-white border border-gray-200 rounded-lg p-4 overflow-auto",children:l.jsxs("div",{className:"text-purple-600 p-4 bg-purple-50 rounded-lg",children:["Error encoding PlantUML diagram: ",a]})}):l.jsx("div",{className:"w-full bg-white border border-gray-200 rounded-lg p-4 overflow-auto",children:l.jsx("img",{src:`https://www.plantuml.com/plantuml/svg/${r}`,alt:t,className:"max-w-full h-auto",onError:A=>{const d=A.target;d.style.display="none";const h=d.parentElement;if(h&&!h.querySelector(".error-message")){const f=document.createElement("div");f.className="error-message text-purple-600 p-4 bg-purple-50 rounded-lg",f.textContent="Error rendering PlantUML diagram. Please check the syntax.",h.appendChild(f)}}})})},rie=({content:e,id:t})=>{const r=Se.useRef(null),[n,i]=Se.useState(null);return Se.useEffect(()=>{if(!r.current)return;(async()=>{if(window.mermaid)try{r.current&&(r.current.textContent=e,r.current.className="mermaid",await window.mermaid.run({nodes:[r.current]}),i(null))}catch(a){console.error("Mermaid rendering error:",a),i(a.message||"Error rendering Mermaid diagram")}else{const a=setInterval(()=>{window.mermaid&&r.current&&(clearInterval(a),r.current.textContent=e,r.current.className="mermaid",window.mermaid.run({nodes:[r.current]}).catch(o=>{console.error("Mermaid error:",o),i(o.message||"Error rendering Mermaid diagram")}))},100);return setTimeout(()=>{clearInterval(a),window.mermaid||i("Mermaid library not loaded. Please refresh the page.")},5e3),()=>clearInterval(a)}})()},[e,t]),n?l.jsxs("div",{className:"text-red-600 p-4 bg-red-50 rounded-lg",children:["Error rendering Mermaid diagram: ",n]}):l.jsx("div",{className:"w-full bg-white border border-gray-200 rounded-lg p-4",children:l.jsx("div",{ref:r,className:"mermaid",children:e})})},nie=({project:e})=>{const[t,r]=Se.useState([]),[n,i]=Se.useState(null),[s,a]=Se.useState(!1),[o,c]=Se.useState(!1),[A,d]=Se.useState(!0),[h,f]=Se.useState("paste"),[u,g]=Se.useState({}),m=Se.useRef(null),x=Se.useMemo(()=>new so,[]),[p,y]=Se.useState([]),[w,b]=Se.useState([]),[I,F]=Se.useState("PLANTUML"),[R,Q]=Se.useState("CLASS"),[k,$]=Se.useState(""),[q,T]=Se.useState(!1),K=Se.useMemo(()=>{try{return new eie}catch(J){return console.error("Failed to initialize UML generator:",J),null}},[]),[v,re]=Se.useState({name:"",description:"",diagramType:"PLANTUML",format:"class",content:""}),ge=Se.useCallback(async()=>{if(!e){r([]);return}const J=await x.getUMLDiagramsByProject(e.id);r(J)},[e,x]),Y=Se.useCallback(async()=>{if(!e){y([]);return}const J=await x.getArtifactsByProject(e.id);y(J)},[e,x]);Se.useEffect(()=>{ge(),Y()},[ge,Y]);const fe=()=>{re({name:"",description:"",diagramType:"PLANTUML",format:"class",content:""}),i(null),c(!1),a(!0),f("paste"),b([]),$(""),F("PLANTUML"),Q("CLASS")},le=async()=>{if(!e||!K){alert("AI generation is not available. Please check your API key configuration.");return}if(!v.name.trim()){alert("Please provide a diagram name");return}T(!0);try{const J=p.filter(me=>w.includes(me.id)),ce=await K.generateDiagram({diagramTool:I,diagramType:R,description:k||`Generate a ${R} diagram for ${v.name}`,context:{projectName:e.name,projectDescription:e.description,selectedArtifacts:J}}),ee={PLANTUML:"PLANTUML",MERMAID:"MERMAID",DIAGRAMS_PYTHON:"DIAGRAMS_PYTHON",GRAPHVIZ_DOT:"GRAPHVIZ_DOT",STRUCTURIZR_DSL:"STRUCTURIZR_DSL",C4_PLANTUML:"C4_PLANTUML",C4_MERMAID:"C4_MERMAID",ARCHIMATE:"ARCHIMATE",D2:"D2",KROKI:"KROKI"},Z={CLASS:"class",SEQUENCE:"sequence",ACTIVITY:"activity",COMPONENT:"component",USECASE:"usecase",STATE:"state",ER:"er",FLOWCHART:"flowchart",ARCHITECTURE:"architecture",DEPLOYMENT:"deployment",PACKAGE:"package",OBJECT:"object",COMMUNICATION:"communication",TIMING:"timing",INTERACTION_OVERVIEW:"interaction_overview",COMPOSITE_STRUCTURE:"composite_structure"};re({...v,diagramType:ee[I]||"PLANTUML",format:Z[R]||"class",content:ce,description:v.description||`AI-generated ${R} diagram`}),f("paste"),alert("Diagram generated successfully! Review and save when ready.")}catch(J){console.error("Error generating diagram:",J),alert(`Error generating diagram: ${J.message||"Unknown error"}`)}finally{T(!1)}},ne=J=>{re({name:J.name,description:J.description,diagramType:J.diagramType,format:J.format,content:J.content}),i(J),c(!0),a(!0),f("paste")},ae=async()=>{if(!e||!v.name.trim()||!v.content.trim()){alert("Please provide a name and diagram content");return}try{const J={projectId:e.id,name:v.name.trim(),description:v.description.trim(),diagramType:v.diagramType,content:v.content.trim(),format:v.format};o&&n?await x.updateUMLDiagram(n.id,J):await x.createUMLDiagram(J),await ge(),a(!1),i(null),c(!1)}catch(J){console.error("Error saving UML diagram:",J),alert("Error saving diagram. Please try again.")}},_=async J=>{if(confirm("Are you sure you want to delete this diagram?"))try{await x.deleteUMLDiagram(J),await ge(),(n==null?void 0:n.id)===J&&i(null)}catch(ce){console.error("Error deleting diagram:",ce),alert("Error deleting diagram. Please try again.")}},O=async J=>{var ee;const ce=(ee=J.target.files)==null?void 0:ee[0];if(!(!ce||!e)){try{const Z=await ce.text(),me=ce.name.toLowerCase();let B="OTHER",te="generic";me.endsWith(".puml")||me.endsWith(".plantuml")||Z.trim().startsWith("@startuml")?(B="PLANTUML",Z.includes("class")?te="class":Z.includes("sequence")?te="sequence":Z.includes("activity")?te="activity":Z.includes("component")?te="component":Z.includes("usecase")&&(te="usecase")):me.endsWith(".mmd")||me.endsWith(".mermaid")||Z.trim().startsWith("graph")||Z.trim().startsWith("sequenceDiagram")?(B="MERMAID",Z.includes("sequenceDiagram")?te="sequence":Z.includes("classDiagram")?te="class":Z.includes("stateDiagram")?te="state":Z.includes("erDiagram")?te="er":te="flowchart"):me.endsWith(".json")?(B="JSON",te="json"):me.endsWith(".xml")&&(B="XML",te="xml"),re({name:ce.name.replace(/\.[^/.]+$/,""),description:`Uploaded from ${ce.name}`,diagramType:B,format:te,content:Z}),a(!0),c(!1),f("file")}catch(Z){console.error("Error reading file:",Z),alert("Error reading file. Please try again.")}m.current&&(m.current.value="")}},G=J=>({PLANTUML:"PlantUML",MERMAID:"Mermaid",JSON:"JSON",XML:"XML",DIAGRAMS_PYTHON:"Diagrams Python",GRAPHVIZ_DOT:"Graphviz DOT",STRUCTURIZR_DSL:"Structurizr DSL",C4_PLANTUML:"C4 Model (PlantUML)",C4_MERMAID:"C4 Model (Mermaid)",ARCHIMATE:"ArchiMate",D2:"D2",KROKI:"Kroki",OTHER:"Other"})[J]||J,oe=J=>J.charAt(0).toUpperCase()+J.slice(1),Ae={};t.forEach(J=>{const ce=J.diagramType;Ae[ce]||(Ae[ce]=[]),Ae[ce].push(J)});const U=J=>{g(ce=>({...ce,[J]:!ce[J]}))},M=J=>J.diagramType==="PLANTUML"?l.jsx(tie,{content:J.content,name:J.name}):J.diagramType==="MERMAID"?l.jsx(rie,{content:J.content,id:J.id}):l.jsx("div",{className:"w-full bg-gray-900 text-green-400 p-4 rounded-lg overflow-auto font-mono text-sm",children:l.jsx("pre",{className:"whitespace-pre-wrap",children:J.content})});return e?l.jsxs("div",{className:"flex h-[calc(100vh-180px)] gap-0",children:[l.jsxs("div",{className:"w-80 bg-white rounded-lg shadow-md flex flex-col border-r border-gray-200",children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h2",{className:"text-lg font-bold text-gray-800 flex items-center space-x-2",children:[l.jsx(Ja,{size:20}),l.jsx("span",{children:"UML Diagrams"})]}),l.jsx("button",{onClick:fe,className:"p-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors",title:"New Diagram",children:l.jsx(Sn,{size:18})})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto",children:t.length===0?l.jsxs("div",{className:"p-8 text-center",children:[l.jsx(Ja,{size:32,className:"mx-auto text-gray-300 mb-2"}),l.jsx("p",{className:"text-sm text-gray-500",children:"No diagrams yet"}),l.jsxs("button",{onClick:fe,className:"mt-4 inline-flex items-center space-x-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white px-4 py-2 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors text-sm font-semibold",children:[l.jsx(Sn,{size:16}),l.jsx("span",{children:"Create First Diagram"})]})]}):l.jsx("div",{className:"p-2",children:Object.entries(Ae).map(([J,ce])=>l.jsxs("div",{className:"mb-2",children:[l.jsx("button",{onClick:()=>U(J),className:"w-full flex items-center justify-between p-2 hover:bg-gray-50 rounded-lg transition-colors",children:l.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[l.jsx(il,{size:16,className:`transition-transform text-gray-500 flex-shrink-0 ${u[J]?"rotate-90":""}`}),l.jsx("span",{className:"text-sm font-medium text-gray-700 truncate",children:G(J)}),l.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-1.5 py-0.5 rounded-full flex-shrink-0",children:ce.length})]})}),u[J]&&l.jsx("div",{className:"ml-4 mt-1 space-y-1",children:ce.map(ee=>l.jsxs("button",{onClick:()=>i(ee),className:`w-full flex items-center space-x-2 p-2 rounded-lg text-sm transition-colors text-left ${(n==null?void 0:n.id)===ee.id?"bg-purple-100 text-purple-700 font-medium":"hover:bg-gray-50 text-gray-600"}`,title:ee.name,children:[l.jsx(pn,{size:14,className:"flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"truncate",children:ee.name}),l.jsx("p",{className:"text-xs text-gray-500 truncate",children:oe(ee.format)})]})]},ee.id))})]},J))})})]}),l.jsx("div",{className:"flex-1 bg-white rounded-lg shadow-md overflow-hidden flex flex-col border-l border-gray-200",children:n?l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsx("div",{className:"p-4 border-b border-gray-200 bg-gradient-to-r from-purple-600 to-blue-600 text-white",children:l.jsxs("div",{className:"flex items-start justify-between gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"flex items-center justify-between mb-3",children:l.jsx("h3",{className:"text-xl font-bold",children:n.name})}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("span",{className:"inline-flex items-center text-xs bg-white text-purple-700 px-2.5 py-1 rounded-md font-medium",children:G(n.diagramType)}),l.jsx("span",{className:"inline-flex items-center text-xs bg-white text-purple-700 px-2.5 py-1 rounded-md font-medium",children:oe(n.format)}),l.jsxs("span",{className:"inline-flex items-center text-xs text-white bg-purple-600 bg-opacity-40 px-2.5 py-1 rounded-md",children:["Updated: ",new Date(n.updatedAt).toLocaleDateString()]})]}),n.description&&l.jsx("p",{className:"text-sm text-purple-100 mt-2",children:n.description})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[l.jsx("button",{onClick:()=>d(!A),className:"p-2 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg transition-colors text-white",title:A?"Hide Preview":"Show Preview",children:A?l.jsx(RO,{size:18,className:"text-white"}):l.jsx(dB,{size:18,className:"text-white"})}),l.jsxs("button",{onClick:()=>ne(n),className:"flex items-center gap-2 bg-white text-purple-700 px-4 py-2 rounded-lg hover:bg-purple-50 transition-colors font-semibold whitespace-nowrap",children:[l.jsx(V0,{size:16,className:"text-purple-700"}),l.jsx("span",{children:"Edit"})]}),l.jsx("button",{onClick:()=>_(n.id),className:"p-2 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg transition-colors text-white",title:"Delete",children:l.jsx(Il,{size:18,className:"text-white"})}),l.jsx("button",{onClick:()=>i(null),className:"p-2 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg transition-colors text-white",title:"Close",children:l.jsx(qr,{size:18,className:"text-white"})})]})]})}),l.jsx("div",{className:"flex-1 overflow-auto p-6",children:A?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Preview"}),M(n)]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Source Code"}),l.jsx("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-auto font-mono text-xs whitespace-pre-wrap",children:n.content})]})]}):l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 h-full",children:[l.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Source Code"}),l.jsx("pre",{className:"bg-gray-900 text-green-400 p-4 rounded-lg overflow-auto font-mono text-xs whitespace-pre-wrap h-full",children:n.content})]})})]}):l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Ja,{size:48,className:"mx-auto text-gray-300 mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Select a diagram to view"}),l.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Choose a diagram from the list on the left"})]})})}),s&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-6xl max-h-[90vh] flex flex-col",children:[l.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white p-4 flex items-center justify-between rounded-t-lg",children:[l.jsx("h3",{className:"text-xl font-bold",children:o?`Edit Diagram: ${v.name}`:"New UML Diagram"}),l.jsx("button",{onClick:()=>{a(!1),i(null),c(!1)},className:"text-white hover:text-purple-200 transition-colors",children:l.jsx(qr,{size:24})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-4 border-b border-gray-200 pb-4",children:[l.jsxs("button",{onClick:()=>f("paste"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${h==="paste"?"bg-gradient-to-r from-purple-600 to-blue-600 text-white":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`,children:[l.jsx(DO,{size:18}),l.jsx("span",{children:"Paste Code"})]}),l.jsxs("button",{onClick:()=>{var J;f("file"),(J=m.current)==null||J.click()},className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${h==="file"?"bg-gradient-to-r from-purple-600 to-blue-600 text-white":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`,children:[l.jsx(OO,{size:18}),l.jsx("span",{children:"Upload File"})]}),l.jsxs("button",{onClick:()=>f("ai"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${h==="ai"?"bg-gradient-to-r from-purple-600 to-blue-600 text-white":K?"bg-gray-100 text-gray-900 hover:bg-gray-200":"bg-gray-100 text-gray-500 hover:bg-gray-200 cursor-not-allowed"}`,disabled:!K,title:K?"Generate with AI":"AI generation requires API key configuration",children:[l.jsx(as,{size:18}),l.jsx("span",{children:"Generate with AI"})]}),l.jsx("input",{ref:m,type:"file",accept:".puml,.plantuml,.mmd,.mermaid,.json,.xml,.txt",onChange:O,className:"hidden"})]}),h==="ai"&&l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-2 text-blue-800 font-semibold",children:[l.jsx(as,{size:18}),l.jsx("span",{children:"AI Diagram Generation"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[l.jsx(pp,{size:16,className:"inline mr-1"}),"Knowledge Base (Select business artifacts to use as context)"]}),p.length===0?l.jsx("p",{className:"text-sm text-gray-500 italic",children:"No business artifacts available. Upload some business artifacts first to use as knowledge base."}):l.jsx("div",{className:"max-h-40 overflow-y-auto border border-gray-300 rounded-lg p-2 space-y-2",children:p.map(J=>l.jsxs("label",{className:"flex items-center space-x-2 p-2 hover:bg-blue-100 rounded cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:w.includes(J.id),onChange:ce=>{ce.target.checked?b([...w,J.id]):b(w.filter(ee=>ee!==J.id))},className:"rounded"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 truncate",children:J.fileName}),l.jsx("p",{className:"text-xs text-gray-500",children:J.artifactType})]})]},J.id))})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Diagram Tool/Language *"}),l.jsxs("select",{value:I,onChange:J=>F(J.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-900 bg-white",children:[l.jsx("option",{value:"PLANTUML",children:"PlantUML"}),l.jsx("option",{value:"MERMAID",children:"Mermaid"}),l.jsx("option",{value:"DIAGRAMS_PYTHON",children:"Diagrams Python"}),l.jsx("option",{value:"GRAPHVIZ_DOT",children:"Graphviz DOT"}),l.jsx("option",{value:"STRUCTURIZR_DSL",children:"Structurizr DSL"}),l.jsx("option",{value:"C4_PLANTUML",children:"C4 Model (PlantUML)"}),l.jsx("option",{value:"C4_MERMAID",children:"C4 Model (Mermaid)"}),l.jsx("option",{value:"ARCHIMATE",children:"ArchiMate"}),l.jsx("option",{value:"D2",children:"D2"}),l.jsx("option",{value:"KROKI",children:"Kroki"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"UML Diagram Type *"}),l.jsxs("select",{value:R,onChange:J=>Q(J.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-gray-900 bg-white",children:[l.jsx("option",{value:"CLASS",children:"Class Diagram"}),l.jsx("option",{value:"SEQUENCE",children:"Sequence Diagram"}),l.jsx("option",{value:"ACTIVITY",children:"Activity Diagram"}),l.jsx("option",{value:"COMPONENT",children:"Component Diagram"}),l.jsx("option",{value:"USECASE",children:"Use Case Diagram"}),l.jsx("option",{value:"STATE",children:"State Diagram"}),l.jsx("option",{value:"ER",children:"Entity-Relationship Diagram"}),l.jsx("option",{value:"FLOWCHART",children:"Flowchart"}),l.jsx("option",{value:"ARCHITECTURE",children:"Architecture Diagram"}),l.jsx("option",{value:"DEPLOYMENT",children:"Deployment Diagram"}),l.jsx("option",{value:"PACKAGE",children:"Package Diagram"}),l.jsx("option",{value:"OBJECT",children:"Object Diagram"}),l.jsx("option",{value:"COMMUNICATION",children:"Communication Diagram"}),l.jsx("option",{value:"TIMING",children:"Timing Diagram"}),l.jsx("option",{value:"INTERACTION_OVERVIEW",children:"Interaction Overview"}),l.jsx("option",{value:"COMPOSITE_STRUCTURE",children:"Composite Structure"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description (Optional - describe what you want in the diagram)"}),l.jsx("textarea",{value:k,onChange:J=>$(J.target.value),placeholder:"e.g., Show the payment processing flow with integration to external systems",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-gray-900 bg-white",rows:3})]}),l.jsx("button",{onClick:le,disabled:q||!v.name.trim(),className:"w-full flex items-center justify-center space-x-2 bg-blue-700 text-white px-6 py-3 rounded-lg hover:bg-blue-800 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:q?l.jsxs(l.Fragment,{children:[l.jsx(Ea,{size:18,className:"animate-spin"}),l.jsx("span",{children:"Generating Diagram..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(as,{size:18}),l.jsx("span",{children:"Generate Diagram with AI"})]})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Diagram Name *"}),l.jsx("input",{type:"text",value:v.name,onChange:J=>re({...v,name:J.target.value}),placeholder:"e.g., Payment System Class Diagram",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-gray-900 bg-white"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Diagram Type *"}),l.jsxs("select",{value:v.diagramType,onChange:J=>re({...v,diagramType:J.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-gray-900 bg-white disabled:bg-gray-100 disabled:text-gray-500",disabled:h==="ai",children:[l.jsx("option",{value:"PLANTUML",children:"PlantUML"}),l.jsx("option",{value:"MERMAID",children:"Mermaid"}),l.jsx("option",{value:"DIAGRAMS_PYTHON",children:"Diagrams Python"}),l.jsx("option",{value:"GRAPHVIZ_DOT",children:"Graphviz DOT"}),l.jsx("option",{value:"STRUCTURIZR_DSL",children:"Structurizr DSL"}),l.jsx("option",{value:"C4_PLANTUML",children:"C4 Model (PlantUML)"}),l.jsx("option",{value:"C4_MERMAID",children:"C4 Model (Mermaid)"}),l.jsx("option",{value:"ARCHIMATE",children:"ArchiMate"}),l.jsx("option",{value:"D2",children:"D2"}),l.jsx("option",{value:"KROKI",children:"Kroki"}),l.jsx("option",{value:"JSON",children:"JSON"}),l.jsx("option",{value:"XML",children:"XML"}),l.jsx("option",{value:"OTHER",children:"Other"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Format"}),l.jsxs("select",{value:v.format,onChange:J=>re({...v,format:J.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-gray-900 bg-white",children:[l.jsx("option",{value:"class",children:"Class"}),l.jsx("option",{value:"sequence",children:"Sequence"}),l.jsx("option",{value:"activity",children:"Activity"}),l.jsx("option",{value:"component",children:"Component"}),l.jsx("option",{value:"usecase",children:"Use Case"}),l.jsx("option",{value:"state",children:"State"}),l.jsx("option",{value:"er",children:"ER Diagram"}),l.jsx("option",{value:"flowchart",children:"Flowchart"}),l.jsx("option",{value:"generic",children:"Generic"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),l.jsx("input",{type:"text",value:v.description,onChange:J=>re({...v,description:J.target.value}),placeholder:"Brief description of the diagram",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-gray-900 bg-white"})]})]}),h!=="ai"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Diagram Code/Content *"}),l.jsx("textarea",{value:v.content,onChange:J=>re({...v,content:J.target.value}),placeholder:v.diagramType==="PLANTUML"?`@startuml
class PaymentService {
  +processPayment()
}
@enduml`:v.diagramType==="MERMAID"?`graph TD
    A[Start] --> B[Process]
    B --> C[End]`:"Paste or type your diagram code here...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent font-mono text-sm text-gray-900 bg-white",rows:20}),l.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[v.diagramType==="PLANTUML"&&"PlantUML syntax is supported. Use @startuml and @enduml tags.",v.diagramType==="MERMAID"&&"Mermaid syntax is supported. Use graph, sequenceDiagram, classDiagram, etc.",v.diagramType==="DIAGRAMS_PYTHON"&&"Diagrams Python syntax. Use the diagrams library to create architecture diagrams.",v.diagramType==="GRAPHVIZ_DOT"&&"Graphviz DOT syntax. Use digraph or graph declarations.",v.diagramType==="STRUCTURIZR_DSL"&&"Structurizr DSL syntax. Use workspace, model, and relationship definitions.",v.diagramType==="C4_PLANTUML"&&"C4 Model with PlantUML. Include C4_Container or C4_Component diagrams.",v.diagramType==="C4_MERMAID"&&"C4 Model with Mermaid. Use C4 notation for architecture diagrams."]})]}),h==="ai"&&v.content&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Generated Diagram Code (Review and edit if needed)"}),l.jsx("textarea",{value:v.content,onChange:J=>re({...v,content:J.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent font-mono text-sm text-gray-900 bg-white",rows:20}),l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Review the generated code. You can edit it before saving."})]})]}),l.jsxs("div",{className:"border-t border-gray-200 p-4 flex justify-end space-x-2",children:[l.jsx("button",{onClick:()=>{a(!1),i(null),c(!1)},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-semibold text-gray-900 bg-white",children:"Cancel"}),l.jsxs("button",{onClick:ae,disabled:!v.name.trim()||!v.content.trim()&&h!=="ai",className:"flex items-center space-x-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-2 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(io,{size:16}),l.jsx("span",{children:"Save Diagram"})]})]})]})})]}):l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[l.jsx(Ja,{size:48,className:"mx-auto text-gray-300 mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Please select a project to manage UML diagrams"})]})},iie=()=>{const{user:e,logout:t}=Rp(),[r,n]=Se.useState(null),[i,s]=Se.useState([]),[a,o]=Se.useState({}),[c,A]=Se.useState({}),[d,h]=Se.useState(null),[f,u]=Se.useState(null),[g,m]=Se.useState(""),[x,p]=Se.useState("sdd"),[y,w]=Se.useState(null),[b,I]=Se.useState([]),[F,R]=Se.useState({}),[Q,k]=Se.useState("edit"),[$,q]=Se.useState(null),[T,K]=Se.useState({}),[v,re]=Se.useState(!1),[ge,Y]=Se.useState({}),[fe,le]=Se.useState(""),ne=Se.useMemo(()=>new aJ,[]),ae=Se.useMemo(()=>new oW,[]),[_,O]=Se.useState(null);Se.useEffect(()=>{let $e=!0;return(async()=>{try{console.log("ðŸ“¦ Initializing SQLite database (default storage)..."),await Dp(),cJ()||(console.log("ðŸ”„ Running one-time migration from IndexedDB to SQLite..."),await gL()),$e&&(O(new so),console.log("âœ… SQLite database initialized and ready"))}catch(ct){console.error("âŒ Error initializing SQLite database:",ct),$e&&O(new so)}})(),()=>{$e=!1}},[]);const G=Se.useMemo(()=>_||new so,[_]),oe=Se.useRef(null);Se.useEffect(()=>{oe.current=(r==null?void 0:r.id)||null},[r==null?void 0:r.id]);const Ae=Se.useCallback(async()=>{const $e=oe.current;if(!$e){s([]);return}const st=(await G.getArtifactsByProject($e)).filter(et=>et.projectId===$e);s(st)},[G]),U=Se.useCallback(async()=>{const $e=oe.current;if(!$e)return;const ct=await G.getGeneratedSectionsByProject($e);I(ct);const st={},et={};for(const qt of ct){st[qt.sectionId]=qt.content;const Qt=await G.getSubSections(qt.id);Qt.length>0&&(et[qt.id]=Qt,Qt.forEach(Gt=>{st[`${qt.sectionId}-${Gt.id}`]=Gt.content}))}R(et),A(st)},[G]),M=Se.useCallback(async $e=>{const ct=oe.current;if(!ct)return;const st=$e.filter(et=>et.projectId===ct);s(st),q(null)},[]),J=Se.useCallback($e=>{n($e)},[]),ce=Se.useCallback($e=>{p($e)},[]),ee=Se.useCallback($e=>{q($e)},[]),Z=Se.useCallback(async()=>{const $e=oe.current;if($e){const ct=await G.getArtifactsByProject($e);s(ct.filter(st=>st.projectId===$e))}},[G]);Se.useEffect(()=>{oe.current?(U(),Ae()):(A({}),s([]))},[r==null?void 0:r.id]);const me=$e=>{o(ct=>({...ct,[$e]:!ct[$e]}))},B=$e=>(console.log(`ðŸ”„ Converting ${$e.length} artifact(s) to uploaded files...`),$e.map(ct=>{const st=ct.fileContent.match(/\[PDF_BASE64_START\]([\s\S]+?)\[PDF_BASE64_END\]/);let et,qt="extracted",Qt=ct.fileContent;if(st&&st[1])try{console.log(`ðŸ“„ Reconstructing PDF file from base64: ${ct.fileName}`);const Gt=st[1].trim();if(console.log(`Base64 length: ${Gt.length} characters`),Gt.length===0)throw new Error("Base64 data is empty");const Tr=atob(Gt),Lt=new Uint8Array(Tr.length);for(let zr=0;zr<Tr.length;zr++)Lt[zr]=Tr.charCodeAt(zr);const Dr=new Blob([Lt],{type:ct.fileType||"application/pdf"});et=new File([Dr],ct.fileName,{type:ct.fileType||"application/pdf"}),qt="pdf",console.log(`âœ… Successfully reconstructed PDF: ${ct.fileName} (${et.size} bytes, original: ${ct.fileSize} bytes)`),Qt=ct.fileContent.replace(/\[PDF_BASE64_START\][\s\S]+?\[PDF_BASE64_END\]/,"").trim()}catch(Gt){console.error("âŒ Could not recreate PDF file from base64:",Gt),console.error("Error details:",Gt instanceof Error?Gt.message:String(Gt)),qt=ct.fileContent.includes("[PDF")?"pdf":"error"}else ct.fileContent.includes("[PDF")||ct.fileType==="application/pdf"?(console.warn(`âš ï¸ PDF file ${ct.fileName} found but no base64 data stored.`),console.warn("âš ï¸ This PDF was uploaded before the base64 storage feature was added."),console.warn("âš ï¸ Please delete this artifact and re-upload the PDF file to enable Claude analysis."),console.warn(`âš ï¸ File content preview: ${ct.fileContent.substring(0,200)}...`),qt="pdf"):ct.fileContent.includes("[Word")&&(qt="limited");return{name:ct.fileName,size:ct.fileSize,type:ct.fileType,content:Qt,status:qt,file:et}})),te=async($e,ct,st)=>{if(!r){alert("Please select a project first");return}u($e);try{const et=new yp,qt=B(i),Qt=await et.generateSection($e,ct,st,{name:r.name,description:r.description},qt);if(!Qt||Qt.trim().length===0)throw new Error("Generated content is empty. Please try again.");await G.saveGeneratedSection(r.id,$e,ct,Qt),A(Gt=>({...Gt,[$e]:Qt})),o(Gt=>({...Gt,[$e]:!0}))}catch(et){console.error("Error generating content:",et);const qt=et instanceof Error?et.message:"Unknown error";alert(`Error: ${qt}

Please check:
- Your Claude API key is configured in .env file
- Restart the dev server after updating .env
- You have an active internet connection

See API_SETUP.md for detailed instructions.`),A(Qt=>({...Qt,[$e]:`<div style="padding: 20px; background: #fee; border: 1px solid #fcc; border-radius: 8px;">
          <h3 style="color: #c00; margin-top: 0;">Error Generating Content</h3>
          <p><strong>Error:</strong> ${qt}</p>
          <p><strong>Please check:</strong></p>
          <ul>
            <li>Your Claude API key is configured in <code>.env</code> file as <code>VITE_ANTHROPIC_API_KEY</code></li>
            <li>You restarted the dev server after updating .env</li>
            <li>You have an active internet connection</li>
            <li>Check browser console (F12) for detailed error messages</li>
          </ul>
          <p>See <code>API_SETUP.md</code> in the project root for detailed setup instructions.</p>
        </div>`}))}finally{u(null)}},H=Se.useMemo(()=>{if(!r)return{standardSections:[],customSections:[],allSections:[]};const $e=r.selectedSectionIds||Va.map(et=>et.id),ct=r.customSections||[],st=r.customSectionSubsections||{};return i0($e,ct,st)},[r]),S=async()=>{if(!r){alert("Please select a project first");return}for(const $e of H.standardSections)if(!c[$e.id]){const ct=zA($e);await te($e.id,Rs($e),ct),await new Promise(st=>setTimeout(st,2e3))}for(const $e of H.customSections)if(!c[$e.id]){const ct=zA($e);await te($e.id,Rs($e),ct),await new Promise(st=>setTimeout(st,2e3))}},E=async()=>{if(!r){alert("Please select a project first");return}if(f!==null){alert("Please wait for the current generation to complete");return}u("sdd-markdown");try{const $e=new yp,ct=[];for(const Dr of H.allSections){const zr=c[Dr.id];zr&&ct.push({title:Rs(Dr),content:zr})}const st=B(i);let et="";st.length>0&&(et=`

=== PROJECT ARTIFACTS ===
`,st.forEach(Dr=>{const zr=Dr.content.length>5e3?Dr.content.substring(0,5e3)+"... [truncated]":Dr.content;et+=`
File: ${Dr.name}
Content:
${zr}
---
`}),et+=`
=== END OF ARTIFACTS ===
`);let qt="";ct.length>0&&(qt=`

=== EXISTING SDD SECTIONS ===
`,ct.forEach(Dr=>{const zr=document.createElement("div");zr.innerHTML=Dr.content;const Lr=zr.textContent||zr.innerText||"";qt+=`
## ${Dr.title}

${Lr.substring(0,3e3)}
---
`}),qt+=`
=== END OF EXISTING SECTIONS ===
`);const Qt=`Generate a complete Solution Design Document (SDD) in Markdown format for the project "${r.name}".

Project Description: ${r.description||"No description provided"}
${et}
${qt}

The SDD should be comprehensive and include all standard sections:
1. Cover Page / Title Page
2. Document Control (Version History, Distribution List, Review & Approval)
3. Table of Contents
4. Introduction (Problem Statement, Solution Overview, Scope)
5. Business Requirements
6. Solution Architecture
7. Technical Design
8. Integration Architecture
9. Data Architecture
10. Security Architecture
11. Non-Functional Requirements
12. Implementation Plan
13. Risk Assessment
14. Appendices

Format Requirements:
- Use proper Markdown syntax
- Include headings (##, ###, ####)
- Use lists, tables, and code blocks where appropriate
- Be detailed and professional
- Reference specific details from the artifacts and existing sections provided
- Use actual system names, requirements, and technical details
- If existing sections are provided, incorporate and expand on that content
- Ensure the document is complete and ready for use

Output the complete SDD as a single Markdown document. Start with the document title and proceed through all sections systematically.`,Gt=await $e.chat(Qt,[],{name:r.name,description:`${r.description||""}${et}`}),Tr=`${r.name.replace(/[^a-z0-9]/gi,"_")}_SDD_${new Date().toISOString().split("T")[0]}.md`,Lt=new Blob([Gt]).size;await G.addArtifact({projectId:r.id,fileName:Tr,fileType:"text/markdown",fileSize:Lt,fileContent:Gt,artifactType:"TECHNICAL_SPEC"}),await Ae(),alert(`âœ… SDD Generated Successfully!

File: ${Tr}
Size: ${(Lt/1024).toFixed(2)} KB

The SDD has been saved to Technology Artifacts and can be used in AI queries.`)}catch($e){console.error("Error generating SDD:",$e);const ct=$e instanceof Error?$e.message:"Unknown error";alert(`Error generating SDD: ${ct}

Please check:
- Your Claude API key is configured
- You have an active internet connection`)}finally{u(null)}},P=Se.useCallback(async $e=>{const ct=await G.getProjectById($e.id);ct&&(n(ct),await U())},[G,U]),de=Se.useCallback(async($e,ct)=>{if(r)try{const st=await G.updateProject(r.id,{coverPageSettings:$e});ct!==void 0&&(await G.saveGeneratedSection(r.id,"cover-page","1. Cover Page",ct),await U()),n(st)}catch(st){throw console.error("Error saving cover page:",st),st}},[r,G,U]),ye=$e=>{const ct=c[$e]||"";m(ct),h($e)},ue=async $e=>{var Qt;if(!r||$e.includes("-")&&!["cover-page","table-of-contents","document-control"].includes($e))return;let st=g;const et=b.find(Gt=>Gt.sectionId===$e),qt=(et==null?void 0:et.sectionTitle)||((Qt=Va.find(Gt=>Gt.id===$e))==null?void 0:Qt.title)||$e;await G.saveGeneratedSection(r.id,$e,qt,st,void 0,et==null?void 0:et.order),A(Gt=>({...Gt,[$e]:st})),h(null),m(""),await U()},ke=()=>{h(null),m("")},Oe=async($e,ct)=>{if(!r||!fe.trim()){alert("Please enter a sub-section title");return}try{const et=(F[$e]||[]).length;await G.saveGeneratedSection(r.id,`sub-${ct.sectionId}-${Date.now()}`,fe.trim(),"<p>New sub-section content. Click Edit to add content.</p>",$e,et),await U(),le(""),Y(qt=>({...qt,[$e]:!1}))}catch(st){console.error("Error adding sub-section:",st),alert("Error adding sub-section. Please try again.")}},Ue=async $e=>{if(confirm("Are you sure you want to delete this sub-section?"))try{await G.deleteGeneratedSection($e),await U()}catch(ct){console.error("Error deleting sub-section:",ct),alert("Error deleting sub-section. Please try again.")}},_e=($e,ct)=>{var et;const st=(et=F[ct])==null?void 0:et.find(qt=>qt.id===$e);if(st){const qt=`${st.sectionId}-${$e}`,Qt=c[qt]||st.content;m(Qt),h(qt)}},Me=async($e,ct)=>{var et;if(!r)return;const st=(et=F[ct])==null?void 0:et.find(qt=>qt.id===$e);if(st)try{await G.saveGeneratedSection(r.id,st.sectionId,st.sectionTitle,g,ct,st.order),await U(),h(null),m("")}catch(qt){console.error("Error saving sub-section:",qt),alert("Error saving sub-section. Please try again.")}},Ze=$e=>new Promise((ct,st)=>{const et=new FileReader;et.onload=()=>{ct(et.result)},et.onerror=st,et.readAsDataURL($e)}),ut=async()=>{if(!r){alert("Please select a project first");return}const $e=await G.getProjectById(r.id);if(!$e){alert("Error: Could not load project data");return}const ct=Va.map(Lt=>Lt.id),st=$e.customSections||[],et=$e.customSectionSubsections||{},qt=i0(ct,st,et),Qt=qt.allSections.map(Lt=>{const Dr=zA(Lt);return{...Lt,title:Rs(Lt),subsections:Dr}}),Gt=Qt.map(Lt=>{const Dr=Lt.title.match(/^(\d+)\./);return Dr?parseInt(Dr[1]):null}),Tr=Qt.filter(Lt=>{const Dr=Lt.title.match(/^(\d+)\./);return Dr&&parseInt(Dr[1])>=18});console.log("ðŸ“¤ Exporting ALL sections:",{totalSections:Qt.length,sectionIds:Qt.map(Lt=>Lt.id),sectionTitles:Qt.map(Lt=>Lt.title),sectionNumbers:Gt,maxSectionNumber:Math.max(...Gt.filter(Lt=>Lt!==null)),sectionsFrom18Count:Tr.length,sectionsFrom18Titles:Tr.map(Lt=>Lt.title),standardSectionsCount:qt.standardSections.length,customSectionsCount:st.length,allStandardSectionsAvailable:Va.length,note:"Exporting ALL sections regardless of UI selection"});try{await ne.exportToWord({sections:Qt,generatedContent:c,projectContext:$e.name,coverPageSettings:$e.coverPageSettings},$e.name)}catch(Lt){console.error("Error exporting to Word:",Lt);const Dr=Lt instanceof Error?Lt.message:String(Lt);alert(`Failed to export document: ${Dr}

Please check the browser console for more details.`)}},kt=async()=>{if(!r){alert("Please select a project first");return}try{const $e=await G.getProjectById(r.id);if(!$e){alert("Error: Could not load project data");return}const ct=Va.map(Gt=>Gt.id),st=$e.customSections||[],et=$e.customSectionSubsections||{},Qt=i0(ct,st,et).allSections.map(Gt=>{const Tr=zA(Gt);return{...Gt,title:Rs(Gt),subsections:Tr}});console.log("ðŸ“¤ Exporting ALL sections to PDF:",{totalSections:Qt.length,sectionIds:Qt.map(Gt=>Gt.id),sectionTitles:Qt.map(Gt=>Gt.title)}),await ae.exportToPdf({sections:Qt,generatedContent:c,projectContext:$e.name,coverPageSettings:$e.coverPageSettings},$e.name)}catch($e){console.error("Error exporting to PDF:",$e),alert(`Error exporting to PDF: ${$e instanceof Error?$e.message:"Unknown error"}`)}},It=()=>{if(x==="database"||x==="templates"||x==="architecture"||x==="modeling-studio"||x==="repository-governance"||x==="ai-capabilities"||x==="analysis"||x==="knowledge-base")switch(x){case"database":return l.jsx(Pne,{});case"templates":return l.jsx(Zne,{onCreateProjectFromTemplate:Z});case"architecture":return l.jsx(Hne,{selectedProject:r});case"modeling-studio":return l.jsx(Rne,{project:r});case"repository-governance":return l.jsx(Vne,{selectedProject:r});case"analysis":return l.jsx(xne,{project:r});case"ai-capabilities":return l.jsx(bne,{selectedProject:r});case"knowledge-base":return l.jsx(Une,{selectedProject:r});default:return null}if(!r)return l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center",children:[l.jsx(pn,{size:64,className:"mx-auto text-gray-300 mb-4"}),l.jsx("h2",{className:"text-2xl font-semibold text-gray-600 mb-2",children:"No Project Selected"}),l.jsx("p",{className:"text-gray-500",children:"Select a project from the sidebar to get started"})]})});switch(x){case"sdd":return Ft();case"artifacts":return yt();case"drawio":return Yt();case"uml":return mt();case"adr":return $t();case"approvers":return tr();default:return Ft()}},ur=()=>{if(!r)return l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center",children:[l.jsx(pn,{size:64,className:"mx-auto text-gray-300 mb-4"}),l.jsx("h2",{className:"text-2xl font-semibold text-gray-600 mb-2",children:"No Project Selected"}),l.jsx("p",{className:"text-gray-500",children:"Select a project from the sidebar to preview the SDD"})]})});const $e=H.allSections.filter(ct=>c[ct.id]);return l.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 min-h-[600px]",children:[l.jsx("div",{className:"mb-8",children:l.jsx(Zk,{projectName:r.name,projectDescription:r.description,coverPageSettings:r.coverPageSettings,coverPageContent:c["cover-page"],onSave:de,isEditable:Q==="edit",onImageUpload:Ze})}),l.jsx("div",{className:"p-6 bg-white",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[H.allSections.map(ct=>{if(ct.id==="cover-page")return null;let st=c[ct.id];if(ct.id==="table-of-contents"&&(st=WA(H.allSections,c),(!st||st.trim()==="")&&(st="<p><em>Table of Contents will be generated once sections are created.</em></p>")),!st&&ct.id!=="table-of-contents")return null;const et=Rs(ct),qt=et.match(/(\d+\.\s*)?(.+)/),Qt=qt?qt[2].trim():et.trim(),Gt=st.replace(new RegExp(`<h[123][^>]*>\\s*(\\d+\\.\\s*)?${Qt.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\s*</h[123]>`,"gi"),"").trim();return l.jsxs("div",{id:`section-${ct.id}`,className:"mb-12 pb-10 border-b border-gray-200 last:border-b-0 scroll-mt-4",children:[l.jsx("h2",{className:"text-2xl font-bold text-purple-700 mb-4",children:et}),l.jsx("div",{className:"ck-content sdd-preview-content",dangerouslySetInnerHTML:{__html:Gt},style:{backgroundColor:"white",color:"#1f2937"}})]},ct.id)}),$e.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(pn,{size:48,className:"mx-auto text-gray-300 mb-4"}),l.jsx("p",{className:"text-gray-600 mb-2",children:"No sections generated yet"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Generate sections in Edit mode to see the preview"})]})]})})]})},Ft=()=>r?l.jsx("div",{className:"space-y-3",children:l.jsxs("div",{className:"glass rounded-xl border border-white/10 overflow-hidden",children:[l.jsxs("div",{className:"flex border-b border-white/10",children:[l.jsxs("button",{onClick:()=>k("edit"),className:`flex-1 flex items-center justify-center space-x-2 px-4 py-3 font-semibold transition-all ${Q==="edit"?"bg-gradient-to-r from-purple-600/30 to-blue-600/30 text-white border-b-2 border-purple-400":"text-purple-200/70 hover:bg-white/5"}`,children:[l.jsx(V0,{size:18}),l.jsx("span",{children:"Edit"})]}),l.jsxs("button",{onClick:()=>k("preview"),className:`flex-1 flex items-center justify-center space-x-2 px-4 py-3 font-semibold transition-all ${Q==="preview"?"bg-gradient-to-r from-purple-600/30 to-blue-600/30 text-white border-b-2 border-purple-400":"text-purple-200/70 hover:bg-white/5"}`,children:[l.jsx(dB,{size:18}),l.jsx("span",{children:"Preview"})]})]}),l.jsx("div",{className:"p-3",children:Q==="preview"?ur():l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 p-4",children:l.jsx(Zk,{projectName:r.name||"Solution Design Document",projectDescription:r.description||"",coverPageSettings:r.coverPageSettings,coverPageContent:c["cover-page"],onSave:de,isEditable:Q==="edit",onImageUpload:Ze})}),H.standardSections.map($e=>{const ct=zA($e);return $e.id==="cover-page"?null:l.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[l.jsxs("button",{onClick:()=>me($e.id),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[l.jsxs("div",{className:"flex-1 text-left",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:Rs($e)}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ct.map(st=>`${st.number} ${st.title}`).join(", ")})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[c[$e.id]&&l.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-3 py-1 rounded-full font-medium",children:"Generated"}),a[$e.id]?l.jsx(G0,{className:"text-purple-700",size:24}):l.jsx(il,{className:"text-purple-700",size:24})]})]}),a[$e.id]&&l.jsx("div",{className:"border-t border-gray-200 bg-gray-50",children:$e.id==="table-of-contents"?l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:l.jsx("div",{className:"text-sm leading-relaxed ck-content",dangerouslySetInnerHTML:{__html:c[$e.id]||WA(H.allSections,c)},style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',fontSize:"14px",lineHeight:"1.6"}})}),l.jsxs("div",{className:"mt-4 flex space-x-2",children:[l.jsxs("button",{onClick:()=>{const st=WA(H.allSections,c);m(st),h($e.id)},className:"flex items-center space-x-2 text-white bg-blue-600 px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:[l.jsx(Jw,{size:16}),l.jsx("span",{children:"Edit Table of Contents"})]}),l.jsxs("button",{onClick:async()=>{const st=WA(H.allSections,c);await G.saveGeneratedSection(r.id,"table-of-contents",Rs($e),st),await U()},className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors font-semibold",children:[l.jsx(io,{size:16}),l.jsx("span",{children:"Regenerate & Save"})]})]})]}):d===$e.id?l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"mb-2 border border-gray-300 rounded-lg",children:l.jsx(hu,{value:g,onChange:m,height:400,placeholder:"Enter your content here. Use the source code button to edit HTML directly."})}),l.jsxs("div",{className:"mt-4 flex space-x-2",children:[l.jsxs("button",{onClick:()=>ue($e.id),className:"flex items-center space-x-2 bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors font-semibold",children:[l.jsx(io,{size:16}),l.jsx("span",{children:"Save Changes"})]}),l.jsxs("button",{onClick:ke,className:"flex items-center space-x-2 px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-semibold",children:[l.jsx(qr,{size:16}),l.jsx("span",{children:"Cancel"})]})]})]}):c[$e.id]?l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200 prose prose-sm max-w-none",children:l.jsx("div",{className:"text-sm leading-relaxed ck-content",dangerouslySetInnerHTML:{__html:c[$e.id]},style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',fontSize:"14px",lineHeight:"1.6"}})}),l.jsxs("div",{className:"mt-4 flex space-x-2",children:[l.jsxs("button",{onClick:()=>ye($e.id),className:"flex items-center space-x-2 text-white bg-blue-600 px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:[l.jsx(Jw,{size:16}),l.jsx("span",{children:"Edit Content"})]}),l.jsxs("button",{onClick:()=>te($e.id,Rs($e),ct),disabled:f===$e.id,className:"flex items-center space-x-2 text-purple-700 px-4 py-2 border border-purple-700 rounded-lg hover:bg-purple-50 transition-colors font-semibold disabled:opacity-50",children:[l.jsx(as,{size:16}),l.jsx("span",{children:"Regenerate"})]})]}),(()=>{const st=b.find(qt=>qt.sectionId===$e.id);if(!st)return null;const et=F[st.id]||[];return l.jsxs("div",{className:"mt-6 border-t border-gray-200 pt-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"text-md font-semibold text-gray-800",children:"Sub-sections"}),l.jsxs("button",{onClick:()=>{Y(qt=>({...qt,[st.id]:!qt[st.id]}))},className:"flex items-center space-x-1 text-sm text-purple-700 hover:text-purple-800 font-medium",children:[l.jsx(Sn,{size:16}),l.jsx("span",{children:"Add Sub-section"})]})]}),ge[st.id]&&l.jsxs("div",{className:"mb-4 p-3 bg-purple-50 rounded-lg border border-purple-200",children:[l.jsx("input",{type:"text",value:fe,onChange:qt=>le(qt.target.value),placeholder:"Enter sub-section title",className:"w-full px-3 py-2 border border-purple-300 rounded-lg mb-2 focus:ring-2 focus:ring-purple-500 focus:border-purple-500",onKeyPress:qt=>{qt.key==="Enter"&&Oe(st.id,st)}}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>Oe(st.id,st),className:"px-4 py-2 bg-purple-700 text-white rounded-lg hover:bg-purple-800 transition-colors font-semibold",children:"Add"}),l.jsx("button",{onClick:()=>{Y(qt=>({...qt,[st.id]:!1})),le("")},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-semibold",children:"Cancel"})]})]}),et.length>0?l.jsx("div",{className:"space-y-3",children:et.map(qt=>{const Qt=`${qt.sectionId}-${qt.id}`,Gt=d===Qt,Tr=c[Qt]||qt.content;return l.jsxs("div",{className:"bg-gray-50 rounded-lg border border-gray-200 p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h4",{className:"font-semibold text-gray-800",children:qt.sectionTitle}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>_e(qt.id,st.id),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Edit"}),l.jsx("button",{onClick:()=>Ue(qt.id),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Delete"})]})]}),Gt?l.jsxs("div",{children:[l.jsx(hu,{value:g,onChange:m,height:300,placeholder:"Enter sub-section content"}),l.jsxs("div",{className:"mt-2 flex space-x-2",children:[l.jsx("button",{onClick:()=>Me(qt.id,st.id),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-semibold",children:"Save"}),l.jsx("button",{onClick:ke,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-semibold",children:"Cancel"})]})]}):l.jsx("div",{className:"text-sm text-gray-700 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:Tr}})]},qt.id)})}):l.jsx("p",{className:"text-sm text-gray-500 italic",children:"No sub-sections added yet."})]})})()]}):l.jsxs("div",{className:"p-8 text-center",children:[$e.id==="table-of-contents"?l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600 mb-4",children:"Table of Contents will be automatically generated based on all sections in the document."}),l.jsxs("button",{onClick:async()=>{const st=WA(H.allSections,c);await G.saveGeneratedSection(r.id,"table-of-contents",Rs($e),st),await U()},className:"inline-flex items-center space-x-2 bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors font-semibold",children:[l.jsx(as,{size:20}),l.jsx("span",{children:"Generate Table of Contents"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("h3",{className:"text-md font-semibold text-gray-800 mb-2",children:"Section Subsections:"}),l.jsx("div",{className:"space-y-2 text-left max-w-3xl mx-auto",children:ct.map(st=>l.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200",children:[l.jsxs("p",{className:"text-sm font-semibold text-gray-800",children:[st.number," ",st.title]}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:st.description})]},st.number))})]}),l.jsx("button",{onClick:()=>te($e.id,Rs($e),ct),disabled:f===$e.id,className:"inline-flex items-center space-x-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-3 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:f===$e.id?l.jsxs(l.Fragment,{children:[l.jsx(Ea,{className:"animate-spin",size:20}),l.jsx("span",{children:"Generating Content..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(as,{size:20}),l.jsx("span",{children:"Generate Section with AI"})]})})]}),i.length>0?(()=>{const st=i.filter(et=>(et.fileType==="application/pdf"||et.fileName.endsWith(".pdf"))&&!et.fileContent.match(/\[PDF_BASE64_START\]/));return st.length>0?l.jsxs("div",{className:"mt-4 space-y-2",children:[l.jsxs("p",{className:"text-xs text-green-600 font-medium",children:["âœ“ Will analyze ",i.length," uploaded business artifact",i.length>1?"s":""," to generate accurate, project-specific content"]}),l.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3",children:[l.jsx("p",{className:"text-xs text-purple-700 font-semibold mb-1",children:"âš ï¸ PDF Files Need Re-upload"}),l.jsxs("p",{className:"text-xs text-purple-600",children:[st.length," PDF file",st.length>1?"s":""," (",st.map(et=>et.fileName).join(", "),") ",st.length>1?"were":"was"," uploaded before the file analysis feature was added. Please delete and re-upload ",st.length>1?"them":"it"," so Claude can read the full content."]})]})]}):l.jsxs("p",{className:"text-xs text-green-600 mt-4 font-medium",children:["âœ“ Will analyze ",i.length," uploaded artifact",i.length>1?"s":""," to generate accurate, project-specific content"]})})():l.jsx("p",{className:"text-xs text-amber-600 mt-4 font-medium",children:"âš  No business artifacts uploaded. Content will be based on general best practices. Upload business artifacts for more accurate results."})]})})]},$e.id)}),H.customSections.map($e=>{const ct=zA($e);return l.jsxs("div",{className:"bg-blue-50 rounded-lg shadow-md overflow-hidden border border-blue-200",children:[l.jsxs("button",{onClick:()=>me($e.id),className:"w-full flex items-center justify-between p-4 hover:bg-blue-100 transition-colors",children:[l.jsxs("div",{className:"flex-1 text-left",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:Rs($e)}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:ct.map(st=>st.title).join(", ")})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[c[$e.id]&&l.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-3 py-1 rounded-full font-medium",children:"Generated"}),a[$e.id]?l.jsx(G0,{className:"text-blue-700",size:24}):l.jsx(il,{className:"text-blue-700",size:24})]})]}),a[$e.id]&&l.jsx("div",{className:"border-t border-blue-200 bg-white",children:d===$e.id?l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"mb-2 border border-gray-300 rounded-lg",children:l.jsx(hu,{value:g,onChange:m,height:400,placeholder:"Enter your content here. Use the source code button to edit HTML directly."})}),l.jsxs("div",{className:"mt-4 flex space-x-2",children:[l.jsxs("button",{onClick:()=>ue($e.id),className:"flex items-center space-x-2 bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors font-semibold",children:[l.jsx(io,{size:16}),l.jsx("span",{children:"Save Changes"})]}),l.jsxs("button",{onClick:ke,className:"flex items-center space-x-2 px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-semibold",children:[l.jsx(qr,{size:16}),l.jsx("span",{children:"Cancel"})]})]})]}):c[$e.id]?l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"bg-white p-6 rounded-lg border border-gray-200 prose prose-sm max-w-none",children:l.jsx("div",{className:"text-sm leading-relaxed ck-content",dangerouslySetInnerHTML:{__html:c[$e.id]},style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',fontSize:"14px",lineHeight:"1.6"}})}),l.jsxs("div",{className:"mt-4 flex space-x-2",children:[l.jsxs("button",{onClick:()=>ye($e.id),className:"flex items-center space-x-2 text-white bg-blue-600 px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:[l.jsx(Jw,{size:16}),l.jsx("span",{children:"Edit Content"})]}),l.jsxs("button",{onClick:()=>te($e.id,Rs($e),ct),disabled:f===$e.id,className:"flex items-center space-x-2 text-purple-700 px-4 py-2 border border-purple-700 rounded-lg hover:bg-purple-50 transition-colors font-semibold disabled:opacity-50",children:[l.jsx(as,{size:16}),l.jsx("span",{children:"Regenerate"})]})]})]}):l.jsxs("div",{className:"p-8 text-center",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("h3",{className:"text-md font-semibold text-gray-800 mb-2",children:"Section Subsections:"}),l.jsx("div",{className:"space-y-2 text-left max-w-3xl mx-auto",children:ct.map(st=>l.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200",children:[l.jsxs("p",{className:"text-sm font-semibold text-gray-800",children:[st.number," ",st.title]}),l.jsx("p",{className:"text-xs text-gray-600 mt-1",children:st.description})]},st.number))})]}),l.jsx("button",{onClick:()=>te($e.id,Rs($e),ct),disabled:f===$e.id,className:"inline-flex items-center space-x-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-3 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:f===$e.id?l.jsxs(l.Fragment,{children:[l.jsx(Ea,{className:"animate-spin",size:20}),l.jsx("span",{children:"Generating Content..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(as,{size:20}),l.jsx("span",{children:"Generate Section with AI"})]})}),i.length>0?l.jsxs("p",{className:"text-xs text-green-600 mt-4 font-medium",children:["âœ“ Will analyze ",i.length," uploaded artifact",i.length>1?"s":""," to generate accurate, project-specific content"]}):l.jsx("p",{className:"text-xs text-amber-600 mt-4 font-medium",children:"âš  No business artifacts uploaded. Content will be based on general best practices. Upload business artifacts for more accurate results."})]})})]},$e.id)})]})})]})}):l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center",children:[l.jsx(pn,{size:64,className:"mx-auto text-gray-300 mb-4"}),l.jsx("h2",{className:"text-2xl font-semibold text-gray-600 mb-2",children:"No Project Selected"}),l.jsx("p",{className:"text-gray-500",children:"Select a project from the sidebar to get started"})]})}),yt=()=>{const $e=r?i.filter(Qt=>Qt.projectId===r.id):[],ct={};$e.forEach(Qt=>{const Gt=Qt.artifactType;ct[Gt]||(ct[Gt]=[]),ct[Gt].push(Qt)});const st=Qt=>({BRD:"Business Requirements Documents",FLOW:"Process Flows",SEQUENCE:"Sequence Diagrams",ARCHITECTURE:"Architecture Diagrams",TECHNICAL_SPEC:"Technical Specifications",OTHER:"Other Documents"})[Qt]||Qt,et=Qt=>Qt<1024?Qt+" B":Qt<1024*1024?(Qt/1024).toFixed(2)+" KB":(Qt/(1024*1024)).toFixed(2)+" MB",qt=Qt=>{K(Gt=>({...Gt,[Qt]:!Gt[Qt]}))};return r?l.jsxs("div",{className:"flex h-[calc(100vh-120px)] gap-4",children:[l.jsxs("div",{className:"w-80 bg-white rounded-lg shadow-md flex flex-col",children:[l.jsxs("div",{className:"p-4 border-b border-gray-200",children:[l.jsxs("h2",{className:"text-lg font-bold text-gray-800 mb-3 flex items-center space-x-2",children:[l.jsx(Lf,{size:20}),l.jsx("span",{children:"Business Artifacts"})]}),l.jsx(qne,{selectedProject:r,onProjectSelect:n,onArtifactsChange:M,hideProjectList:!0})]}),l.jsx("div",{className:"flex-1 overflow-y-auto",children:$e.length>0?l.jsx("div",{className:"p-2",children:Object.entries(ct).map(([Qt,Gt])=>l.jsxs("div",{className:"mb-2",children:[l.jsx("button",{onClick:()=>qt(Qt),className:"w-full flex items-center justify-between p-2 hover:bg-gray-50 rounded-lg transition-colors",children:l.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[l.jsx(il,{size:16,className:`transition-transform text-gray-500 flex-shrink-0 ${T[Qt]?"rotate-90":""}`}),l.jsx("span",{className:"text-sm font-medium text-gray-700 truncate",children:st(Qt)}),l.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-1.5 py-0.5 rounded-full flex-shrink-0",children:Gt.length})]})}),T[Qt]&&l.jsx("div",{className:"ml-4 mt-1 space-y-1",children:Gt.map(Tr=>l.jsxs("button",{onClick:()=>q(Tr),className:`w-full flex items-center space-x-2 p-2 rounded-lg text-sm transition-colors text-left ${($==null?void 0:$.id)===Tr.id?"bg-purple-100 text-purple-700 font-medium":"hover:bg-gray-50 text-gray-600"}`,title:Tr.fileName,children:[l.jsx(pn,{size:14,className:"flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"truncate",children:Tr.fileName}),l.jsx("p",{className:"text-xs text-gray-500 truncate",children:et(Tr.fileSize)})]})]},Tr.id))})]},Qt))}):l.jsxs("div",{className:"p-8 text-center",children:[l.jsx(Lf,{size:32,className:"mx-auto text-gray-300 mb-2"}),l.jsx("p",{className:"text-sm text-gray-500",children:"No business artifacts yet"})]})})]}),l.jsx("div",{className:"flex-1 bg-white rounded-lg shadow-md overflow-hidden flex flex-col",children:$?l.jsx(One,{artifact:$,onClose:()=>q(null),isSidePanel:!0}):l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center",children:[l.jsx(pn,{size:48,className:"mx-auto text-gray-300 mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Select a business artifact to preview"}),l.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Choose a business artifact from the list on the left"})]})})})]}):l.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[l.jsx(Lf,{size:48,className:"mx-auto text-gray-300 mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Please select a project to view business artifacts"})]})},Yt=()=>l.jsx(Qne,{project:r}),mt=()=>l.jsx(nie,{project:r}),$t=()=>l.jsx(jJ,{project:r,artifacts:i}),tr=()=>r?y?l.jsxs("div",{className:"space-y-4",children:[l.jsx("button",{onClick:()=>w(null),className:"flex items-center gap-2 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors mb-4",children:"â† Back to Approvers"}),l.jsx(fr,{project:r,approverEmail:y,repository:G,generatedSections:b,onBack:()=>w(null)})]}):l.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:l.jsx(Tne,{project:r,repository:G,onApproversChange:Ct})}):null,fr=({project:$e,approverEmail:ct,repository:st,generatedSections:et,onBack:qt})=>{const[Qt,Gt]=Se.useState(null),[Tr,Lt]=Se.useState(!0);return Se.useEffect(()=>{(async()=>{try{const zr=await st.getApproverByEmail($e.id,ct);Gt(zr)}catch(zr){console.error("Error loading approver:",zr)}finally{Lt(!1)}})()},[$e.id,ct]),Tr?l.jsx("div",{className:"text-center py-8",children:"Loading..."}):Qt?l.jsx(Ine,{project:$e,approver:Qt,repository:st,generatedSections:et,onApprovalChange:()=>{}}):l.jsxs("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-purple-600",children:"Approver not found"}),l.jsx("button",{onClick:qt,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg",children:"Back"})]})},Ct=async()=>{};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex relative",children:[l.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[l.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-purple-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),l.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-blue-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),l.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-pink-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),l.jsx("div",{className:"fixed inset-0 bg-[linear-gradient(to_right,#80808008_1px,transparent_1px),linear-gradient(to_bottom,#80808008_1px,transparent_1px)] bg-[size:24px_24px] pointer-events-none"}),l.jsx("div",{className:"relative z-10",children:l.jsx(Yne,{selectedProject:r,onProjectSelect:J,onViewChange:ce,currentView:x,artifacts:i,onArtifactSelect:ee,onProjectCreated:Z})}),l.jsxs("div",{className:"flex-1 lg:ml-72 relative z-10 flex flex-col h-screen",children:[l.jsx("div",{className:"glass-dark shadow-2xl border-b border-white/10 sticky top-0 z-30 backdrop-blur-xl flex-shrink-0",style:{position:"sticky"},children:l.jsx("div",{className:"bg-gradient-to-r from-purple-600/20 via-blue-600/20 to-purple-600/20 border-b border-purple-500/30",children:l.jsx("div",{className:"px-4 py-3 lg:px-6 lg:py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-blue-500 p-2 rounded-lg shadow-lg",children:l.jsx(as,{size:24,className:"text-white"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-lg lg:text-2xl font-bold text-gradient",children:"Architect Studio"}),l.jsx("p",{className:"text-purple-200/80 text-xs lg:text-sm",children:"AI-Powered Solution Design Platform"})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[r&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"hidden lg:block text-sm text-purple-200 glass px-3 py-1.5 rounded-lg border border-purple-500/30",children:l.jsx("span",{className:"font-medium",children:r.name})}),x==="sdd"&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>re(!0),className:"flex items-center space-x-2 glass hover:bg-white/10 text-purple-200 px-3 py-1.5 rounded-lg transition-all font-semibold text-sm border border-purple-500/30 hover:border-purple-400/50",children:[l.jsx(X0,{size:16}),l.jsx("span",{className:"hidden sm:inline",children:"Sections"})]}),l.jsxs("button",{onClick:S,disabled:f!==null,className:"flex items-center space-x-2 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white px-3 py-1.5 rounded-lg transition-all font-semibold disabled:opacity-50 disabled:cursor-not-allowed text-sm shadow-lg hover:shadow-purple-500/50",children:[l.jsx(as,{size:16}),l.jsx("span",{className:"hidden sm:inline",children:"Generate All"})]}),l.jsxs("button",{onClick:E,disabled:f!==null,className:"flex items-center space-x-2 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white px-3 py-1.5 rounded-lg transition-all font-semibold disabled:opacity-50 disabled:cursor-not-allowed text-sm shadow-lg hover:shadow-green-500/50",title:"Generate complete SDD as markdown and save to Technology Artifacts",children:[l.jsx(pn,{size:16}),l.jsx("span",{className:"hidden sm:inline",children:"Save as Markdown"})]}),l.jsxs("button",{onClick:ut,className:"flex items-center space-x-2 glass hover:bg-white/10 text-purple-200 px-3 py-1.5 rounded-lg transition-all font-semibold text-sm border border-purple-500/30 hover:border-purple-400/50",children:[l.jsx(Ya,{size:16}),l.jsx("span",{className:"hidden sm:inline",children:"Word"})]}),l.jsxs("button",{onClick:kt,className:"flex items-center space-x-2 glass hover:bg-white/10 text-purple-200 px-3 py-1.5 rounded-lg transition-all font-semibold text-sm border border-purple-500/30 hover:border-purple-400/50",children:[l.jsx(pn,{size:16}),l.jsx("span",{className:"hidden sm:inline",children:"PDF"})]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2 ml-2 pl-3 border-l border-white/20",children:[l.jsxs("div",{className:"hidden sm:flex items-center space-x-2 glass px-3 py-1.5 rounded-lg border border-purple-500/30",children:[l.jsx(Id,{size:16,className:"text-purple-300"}),l.jsx("span",{className:"text-sm text-purple-200",children:(e==null?void 0:e.name)||(e==null?void 0:e.email)})]}),l.jsxs("button",{onClick:t,className:"flex items-center space-x-2 glass hover:bg-purple-500/20 text-purple-300 hover:text-purple-200 px-3 py-1.5 rounded-lg transition-all text-sm border border-purple-500/30 hover:border-purple-400/50",title:"Logout",children:[l.jsx(MO,{size:16}),l.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})]})})})}),l.jsx("div",{className:"flex-1 overflow-y-auto",children:x==="modeling-studio"?l.jsx("div",{className:"h-full",children:It()}):l.jsx("div",{className:"p-3 lg:p-4",children:l.jsx("div",{className:"w-full",children:l.jsx("div",{className:"glass-dark rounded-xl border border-white/10 shadow-2xl p-4 lg:p-6",children:It()})})})})]}),v&&r&&l.jsx(Xne,{project:r,onProjectUpdate:P,onClose:()=>re(!1)})]})},sie=({onSwitchToLogin:e})=>{const[t,r]=Se.useState(""),[n,i]=Se.useState(""),[s,a]=Se.useState(""),[o,c]=Se.useState(""),[A,d]=Se.useState(""),[h,f]=Se.useState(""),[u,g]=Se.useState(!1),{signup:m}=Rp(),x=async p=>{if(p.preventDefault(),f(""),!t.trim()){f("Please enter your full name");return}if(!n.trim()||!n.includes("@")){f("Please enter a valid email address");return}if(s.length<6){f("Password must be at least 6 characters long");return}if(s!==o){f("Passwords do not match");return}g(!0);try{await m(n.trim(),t.trim(),s,A.trim()||void 0)}catch(y){f(y.message||"Signup failed. Please try again."),console.error("Signup error:",y)}finally{g(!1)}};return l.jsxs("div",{className:"min-h-screen flex relative overflow-hidden bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[l.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative items-center justify-center p-12 overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[l.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-purple-500 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),l.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-blue-500 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"}),l.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-pink-500 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-4000"})]}),l.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(to_right,#80808008_1px,transparent_1px),linear-gradient(to_bottom,#80808008_1px,transparent_1px)] bg-[size:32px_32px]"}),l.jsxs("div",{className:"relative z-10 w-full max-w-2xl",children:[l.jsxs("div",{className:"mb-12 flex items-center gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500 to-blue-500 rounded-2xl blur-xl opacity-50"}),l.jsx("div",{className:"relative inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-purple-600 via-blue-600 to-purple-700 rounded-2xl shadow-2xl border border-white/20",children:l.jsx(Yd,{className:"w-10 h-10 text-white"})})]}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white via-purple-200 to-blue-200 bg-clip-text text-transparent",children:"Equity Bank"}),l.jsx("p",{className:"text-purple-300/70 text-sm font-medium",children:"Enterprise Architecture Platform"})]})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-20",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500 to-blue-500 rounded-full blur-2xl opacity-40 animate-pulse"}),l.jsx("div",{className:"relative w-24 h-24 bg-gradient-to-br from-purple-600 to-blue-600 rounded-full flex items-center justify-center shadow-2xl border-2 border-white/30",children:l.jsx(kd,{className:"w-12 h-12 text-white"})})]})}),l.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-8 z-10",children:l.jsx("div",{className:"flex gap-4",children:[0,1,2].map(p=>l.jsxs("div",{className:"relative group",children:[l.jsx("div",{className:"absolute inset-0 bg-blue-500/20 rounded-xl blur-lg group-hover:blur-xl transition-all"}),l.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-blue-500/80 to-cyan-500/80 backdrop-blur-sm rounded-xl flex items-center justify-center border border-white/20 shadow-lg group-hover:scale-110 transition-transform",children:l.jsx(_6,{className:"w-8 h-8 text-white"})}),l.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0.5 h-12 bg-gradient-to-b from-blue-400/50 to-transparent"})]},p))})}),l.jsx("div",{className:"absolute right-0 top-1/2 transform translate-x-8 -translate-y-1/2 z-10",children:l.jsx("div",{className:"flex flex-col gap-4",children:[0,1,2].map(p=>l.jsxs("div",{className:"relative group",children:[l.jsx("div",{className:"absolute inset-0 bg-purple-500/20 rounded-xl blur-lg group-hover:blur-xl transition-all"}),l.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-purple-500/80 to-pink-500/80 backdrop-blur-sm rounded-xl flex items-center justify-center border border-white/20 shadow-lg group-hover:scale-110 transition-transform",children:l.jsx(Ja,{className:"w-8 h-8 text-white"})}),l.jsx("div",{className:"absolute top-1/2 right-full transform translate-x-0 -translate-y-1/2 w-12 h-0.5 bg-gradient-to-r from-purple-400/50 to-transparent"})]},p))})}),l.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-8 z-10",children:l.jsx("div",{className:"flex gap-4",children:[0,1,2].map(p=>l.jsxs("div",{className:"relative group",children:[l.jsx("div",{className:"absolute inset-0 bg-cyan-500/20 rounded-xl blur-lg group-hover:blur-xl transition-all"}),l.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-cyan-500/80 to-teal-500/80 backdrop-blur-sm rounded-xl flex items-center justify-center border border-white/20 shadow-lg group-hover:scale-110 transition-transform",children:l.jsx(no,{className:"w-8 h-8 text-white"})}),l.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 w-0.5 h-12 bg-gradient-to-t from-cyan-400/50 to-transparent"})]},p))})}),l.jsx("div",{className:"absolute left-0 top-1/2 transform -translate-x-8 -translate-y-1/2 z-10",children:l.jsx("div",{className:"flex flex-col gap-4",children:[0,1,2].map(p=>l.jsxs("div",{className:"relative group",children:[l.jsx("div",{className:"absolute inset-0 bg-indigo-500/20 rounded-xl blur-lg group-hover:blur-xl transition-all"}),l.jsx("div",{className:"relative w-16 h-16 bg-gradient-to-br from-indigo-500/80 to-purple-500/80 backdrop-blur-sm rounded-xl flex items-center justify-center border border-white/20 shadow-lg group-hover:scale-110 transition-transform",children:l.jsx(k6,{className:"w-8 h-8 text-white"})}),l.jsx("div",{className:"absolute top-1/2 left-full transform -translate-x-0 -translate-y-1/2 w-12 h-0.5 bg-gradient-to-l from-indigo-400/50 to-transparent"})]},p))})})]}),l.jsxs("div",{className:"mt-16 grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"backdrop-blur-sm bg-white/5 rounded-lg p-4 border border-white/10",children:[l.jsx("div",{className:"text-purple-300/80 text-xs font-medium mb-1",children:"Join the Team"}),l.jsx("div",{className:"text-white/60 text-xs",children:"Start creating amazing solutions"})]}),l.jsxs("div",{className:"backdrop-blur-sm bg-white/5 rounded-lg p-4 border border-white/10",children:[l.jsx("div",{className:"text-blue-300/80 text-xs font-medium mb-1",children:"Enterprise Ready"}),l.jsx("div",{className:"text-white/60 text-xs",children:"Built for professionals"})]})]})]}),l.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(30)].map((p,y)=>l.jsx("div",{className:"absolute w-1 h-1 bg-white/20 rounded-full animate-float",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${5+Math.random()*10}s`}},y))})]}),l.jsxs("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-6 lg:p-12 relative",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden lg:hidden",children:[l.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),l.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"})]}),l.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[l.jsxs("div",{className:"lg:hidden mb-8 flex items-center justify-center gap-3",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500 to-blue-500 rounded-xl blur-lg opacity-50"}),l.jsx("div",{className:"relative inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-purple-600 via-blue-600 to-purple-700 rounded-xl shadow-xl border border-white/20",children:l.jsx(Yd,{className:"w-8 h-8 text-white"})})]}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-white via-purple-200 to-blue-200 bg-clip-text text-transparent",children:"Equity Bank"}),l.jsx("p",{className:"text-purple-300/70 text-xs font-medium",children:"Enterprise Architecture"})]})]}),l.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-2xl shadow-2xl border border-white/20 p-8 space-y-8",children:[l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-500 rounded-2xl mb-4 shadow-lg",children:l.jsx(WO,{className:"w-8 h-8 text-white"})}),l.jsx("h2",{className:"text-3xl lg:text-4xl font-bold bg-gradient-to-r from-white via-purple-200 to-blue-200 bg-clip-text text-transparent",children:"Create Account"}),l.jsx("p",{className:"text-purple-200/80 text-sm",children:"Sign up to start using the platform"})]}),l.jsxs("form",{onSubmit:x,className:"space-y-5",children:[h&&l.jsx("div",{className:"bg-red-500/20 border border-red-500/50 text-red-200 px-4 py-3 rounded-lg text-sm backdrop-blur-sm",children:h}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-purple-200",children:"Full Name"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Id,{className:"h-5 w-5 text-purple-400/60"})}),l.jsx("input",{id:"name",type:"text",value:t,onChange:p=>r(p.target.value),required:!0,className:"block w-full pl-10 pr-3 py-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-purple-300/50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all backdrop-blur-sm",placeholder:"John Doe"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-purple-200",children:"Email Address"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(hB,{className:"h-5 w-5 text-purple-400/60"})}),l.jsx("input",{id:"email",type:"email",value:n,onChange:p=>i(p.target.value),required:!0,className:"block w-full pl-10 pr-3 py-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-purple-300/50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all backdrop-blur-sm",placeholder:"your.email@equitybank.co.ke"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{htmlFor:"department",className:"block text-sm font-medium text-purple-200",children:["Department ",l.jsx("span",{className:"text-purple-300/50 text-xs",children:"(Optional)"})]}),l.jsx("input",{id:"department",type:"text",value:A,onChange:p=>d(p.target.value),className:"block w-full px-3 py-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-purple-300/50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all backdrop-blur-sm",placeholder:"Engineering, IT, etc."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-purple-200",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Jx,{className:"h-5 w-5 text-purple-400/60"})}),l.jsx("input",{id:"password",type:"password",value:s,onChange:p=>a(p.target.value),required:!0,minLength:6,className:"block w-full pl-10 pr-3 py-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-purple-300/50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all backdrop-blur-sm",placeholder:"At least 6 characters"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-purple-200",children:"Confirm Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Jx,{className:"h-5 w-5 text-purple-400/60"})}),l.jsx("input",{id:"confirmPassword",type:"password",value:o,onChange:p=>c(p.target.value),required:!0,minLength:6,className:"block w-full pl-10 pr-3 py-3 bg-white/5 border border-white/20 rounded-lg text-white placeholder-purple-300/50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all backdrop-blur-sm",placeholder:"Confirm your password"})]})]}),l.jsx("button",{type:"submit",disabled:u,className:"w-full flex items-center justify-center gap-2 py-3 px-4 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-semibold rounded-lg transition-all duration-200 transform hover:scale-[1.02] hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:u?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),l.jsx("span",{children:"Creating account..."})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{children:"Create Account"}),l.jsx(md,{className:"w-5 h-5"})]})})]}),l.jsx("div",{className:"pt-4 border-t border-white/10 text-center",children:l.jsxs("p",{className:"text-purple-200/80 text-sm",children:["Already have an account?"," ",l.jsx("button",{onClick:()=>{e?e():(window.location.hash="#login",window.location.reload())},className:"text-purple-300 hover:text-white font-medium underline transition-colors",children:"Sign in"})]})})]}),l.jsx("p",{className:"text-center mt-6 text-purple-300/60 text-sm",children:"Â© 2024 Equity Bank Limited. All rights reserved."})]})]})]})};class aie extends Se.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Error caught by boundary:",t,r)}render(){var t,r;return this.state.hasError?(console.error("ErrorBoundary caught error:",this.state.error),l.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f9fafb",display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem",fontFamily:"sans-serif"},children:l.jsxs("div",{style:{maxWidth:"42rem",width:"100%",backgroundColor:"white",borderRadius:"0.5rem",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)",padding:"2rem"},children:[l.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#b91c1c",marginBottom:"1rem"},children:"âš ï¸ Application Error"}),l.jsxs("div",{style:{backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"0.5rem",padding:"1rem",marginBottom:"1rem"},children:[l.jsx("p",{style:{color:"#991b1b",fontWeight:"600",marginBottom:"0.5rem"},children:"Error Details:"}),l.jsxs("pre",{style:{fontSize:"0.75rem",color:"#7f1d1d",overflow:"auto",whiteSpace:"pre-wrap"},children:[((t=this.state.error)==null?void 0:t.message)||"Unknown error",((r=this.state.error)==null?void 0:r.stack)&&`

${this.state.error.stack}`]})]}),l.jsxs("div",{style:{backgroundColor:"#eff6ff",border:"1px solid #bfdbfe",borderRadius:"0.5rem",padding:"1rem",marginBottom:"1rem"},children:[l.jsx("p",{style:{color:"#1e40af",fontWeight:"600",marginBottom:"0.5rem"},children:"Common Solutions:"}),l.jsxs("ul",{style:{listStyle:"disc",paddingLeft:"1.5rem",fontSize:"0.875rem",color:"#1e3a8a"},children:[l.jsx("li",{children:"Check browser console (F12) for more details"}),l.jsx("li",{children:"Verify your API key is set in .env file"}),l.jsx("li",{children:"Ensure you have internet connection"}),l.jsx("li",{children:"Try hard refreshing the page (Cmd+Shift+R or Ctrl+Shift+R)"})]})]}),l.jsx("button",{onClick:()=>window.location.reload(),style:{width:"100%",backgroundColor:"#b91c1c",color:"white",padding:"0.5rem 1rem",borderRadius:"0.5rem",border:"none",cursor:"pointer",fontSize:"1rem",fontWeight:"600"},onMouseOver:n=>n.currentTarget.style.backgroundColor="#991b1b",onMouseOut:n=>n.currentTarget.style.backgroundColor="#b91c1c",children:"Reload Page"})]})})):this.props.children}}function oie(){const{isAuthenticated:e,loading:t}=Rp(),[r,n]=Se.useState("login");return Se.useEffect(()=>{const i=window.location.hash;i==="#signup"?n("signup"):i==="#login"&&n("login")},[]),Se.useEffect(()=>{e||(window.location.hash=r)},[r,e]),t?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-purple-200",children:"Loading..."})]})}):e?l.jsx(iie,{}):r==="signup"?l.jsx(sie,{onSwitchToLogin:()=>n("login")}):l.jsx($O,{onSwitchToSignup:()=>n("signup")})}function lie(){return console.log("ðŸ“± App component rendering..."),Se.useEffect(()=>{(async()=>{try{await Dp(),console.log("âœ… SQLite database ready (default storage)")}catch(e){console.error("âŒ Failed to initialize SQLite database:",e)}})()},[]),l.jsx(aie,{children:l.jsx(IO,{children:l.jsx(oie,{})})})}console.log("ðŸš€ Application starting...");console.log("Root element:",document.getElementById("root"));const m5=document.getElementById("root");if(!m5)throw console.error("âŒ Root element not found!"),new Error("Root element (#root) not found in DOM");try{const e=ix.createRoot(m5);console.log("âœ… React root created"),e.render(l.jsx(v5.StrictMode,{children:l.jsx(lie,{})})),console.log("âœ… App rendered successfully")}catch(e){console.error("âŒ Error rendering app:",e),m5.innerHTML=`
    <div style="padding: 20px; font-family: sans-serif;">
      <h1 style="color: red;">âš ï¸ Application Error</h1>
      <p><strong>Error:</strong> ${e instanceof Error?e.message:"Unknown error"}</p>
      <p>Please check the browser console for more details.</p>
    </div>
  `}export{En as _,la as c,ch as g};
